(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var wd={exports:{}},gl={};var T_;function mS(){if(T_)return gl;T_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return gl.Fragment=t,gl.jsx=i,gl.jsxs=i,gl}var S_;function pS(){return S_||(S_=1,wd.exports=mS()),wd.exports}var z=pS(),Rd={exports:{}},St={};var A_;function gS(){if(A_)return St;A_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,W={};function st(O,Q,it){this.props=O,this.context=Q,this.refs=W,this.updater=it||Z}st.prototype.isReactComponent={},st.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},st.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Et(){}Et.prototype=st.prototype;function gt(O,Q,it){this.props=O,this.context=Q,this.refs=W,this.updater=it||Z}var xt=gt.prototype=new Et;xt.constructor=gt,et(xt,st.prototype),xt.isPureReactComponent=!0;var qt=Array.isArray;function Dt(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(O,Q,it){var rt=it.ref;return{$$typeof:s,type:O,key:Q,ref:rt!==void 0?rt:null,props:it}}function M(O,Q){return C(O.type,Q,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return Q[it]})}var w=/\/+/g;function Wt(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Q.toString(36)}function de(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Dt,Dt):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function q(O,Q,it,rt,vt){var bt=typeof O;(bt==="undefined"||bt==="boolean")&&(O=null);var Vt=!1;if(O===null)Vt=!0;else switch(bt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(O.$$typeof){case s:case t:Vt=!0;break;case S:return Vt=O._init,q(Vt(O._payload),Q,it,rt,vt)}}if(Vt)return vt=vt(O),Vt=rt===""?"."+Wt(O,0):rt,qt(vt)?(it="",Vt!=null&&(it=Vt.replace(w,"$&/")+"/"),q(vt,Q,it,"",function(Pi){return Pi})):vt!=null&&(D(vt)&&(vt=M(vt,it+(vt.key==null||O&&O.key===vt.key?"":(""+vt.key).replace(w,"$&/")+"/")+Vt)),Q.push(vt)),1;Vt=0;var ye=rt===""?".":rt+":";if(qt(O))for(var re=0;re<O.length;re++)rt=O[re],bt=ye+Wt(rt,re),Vt+=q(rt,Q,it,bt,vt);else if(re=G(O),typeof re=="function")for(O=re.call(O),re=0;!(rt=O.next()).done;)rt=rt.value,bt=ye+Wt(rt,re++),Vt+=q(rt,Q,it,bt,vt);else if(bt==="object"){if(typeof O.then=="function")return q(de(O),Q,it,rt,vt);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function nt(O,Q,it){if(O==null)return O;var rt=[],vt=0;return q(O,rt,"","",function(bt){return Q.call(it,bt,vt++)}),rt}function ht(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Mt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},It={map:nt,forEach:function(O,Q,it){nt(O,function(){Q.apply(this,arguments)},it)},count:function(O){var Q=0;return nt(O,function(){Q++}),Q},toArray:function(O){return nt(O,function(Q){return Q})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return St.Activity=b,St.Children=It,St.Component=st,St.Fragment=i,St.Profiler=l,St.PureComponent=gt,St.StrictMode=a,St.Suspense=y,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,St.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},St.cache=function(O){return function(){return O.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(O,Q,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=et({},O.props),vt=O.key;if(Q!=null)for(bt in Q.key!==void 0&&(vt=""+Q.key),Q)!A.call(Q,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Q.ref===void 0||(rt[bt]=Q[bt]);var bt=arguments.length-2;if(bt===1)rt.children=it;else if(1<bt){for(var Vt=Array(bt),ye=0;ye<bt;ye++)Vt[ye]=arguments[ye+2];rt.children=Vt}return C(O.type,vt,rt)},St.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},St.createElement=function(O,Q,it){var rt,vt={},bt=null;if(Q!=null)for(rt in Q.key!==void 0&&(bt=""+Q.key),Q)A.call(Q,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(vt[rt]=Q[rt]);var Vt=arguments.length-2;if(Vt===1)vt.children=it;else if(1<Vt){for(var ye=Array(Vt),re=0;re<Vt;re++)ye[re]=arguments[re+2];vt.children=ye}if(O&&O.defaultProps)for(rt in Vt=O.defaultProps,Vt)vt[rt]===void 0&&(vt[rt]=Vt[rt]);return C(O,bt,vt)},St.createRef=function(){return{current:null}},St.forwardRef=function(O){return{$$typeof:p,render:O}},St.isValidElement=D,St.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ht}},St.memo=function(O,Q){return{$$typeof:_,type:O,compare:Q===void 0?null:Q}},St.startTransition=function(O){var Q=I.T,it={};I.T=it;try{var rt=O(),vt=I.S;vt!==null&&vt(it,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Dt,Mt)}catch(bt){Mt(bt)}finally{Q!==null&&it.types!==null&&(Q.types=it.types),I.T=Q}},St.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},St.use=function(O){return I.H.use(O)},St.useActionState=function(O,Q,it){return I.H.useActionState(O,Q,it)},St.useCallback=function(O,Q){return I.H.useCallback(O,Q)},St.useContext=function(O){return I.H.useContext(O)},St.useDebugValue=function(){},St.useDeferredValue=function(O,Q){return I.H.useDeferredValue(O,Q)},St.useEffect=function(O,Q){return I.H.useEffect(O,Q)},St.useEffectEvent=function(O){return I.H.useEffectEvent(O)},St.useId=function(){return I.H.useId()},St.useImperativeHandle=function(O,Q,it){return I.H.useImperativeHandle(O,Q,it)},St.useInsertionEffect=function(O,Q){return I.H.useInsertionEffect(O,Q)},St.useLayoutEffect=function(O,Q){return I.H.useLayoutEffect(O,Q)},St.useMemo=function(O,Q){return I.H.useMemo(O,Q)},St.useOptimistic=function(O,Q){return I.H.useOptimistic(O,Q)},St.useReducer=function(O,Q,it){return I.H.useReducer(O,Q,it)},St.useRef=function(O){return I.H.useRef(O)},St.useState=function(O){return I.H.useState(O)},St.useSyncExternalStore=function(O,Q,it){return I.H.useSyncExternalStore(O,Q,it)},St.useTransition=function(){return I.H.useTransition()},St.version="19.2.4",St}var b_;function pm(){return b_||(b_=1,Rd.exports=gS()),Rd.exports}var Yt=pm(),Cd={exports:{}},yl={},Id={exports:{}},Dd={};var w_;function yS(){return w_||(w_=1,(function(s){function t(q,nt){var ht=q.length;q.push(nt);t:for(;0<ht;){var Mt=ht-1>>>1,It=q[Mt];if(0<l(It,nt))q[Mt]=nt,q[ht]=It,ht=Mt;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var nt=q[0],ht=q.pop();if(ht!==nt){q[0]=ht;t:for(var Mt=0,It=q.length,O=It>>>1;Mt<O;){var Q=2*(Mt+1)-1,it=q[Q],rt=Q+1,vt=q[rt];if(0>l(it,ht))rt<It&&0>l(vt,it)?(q[Mt]=vt,q[rt]=ht,Mt=rt):(q[Mt]=it,q[Q]=ht,Mt=Q);else if(rt<It&&0>l(vt,ht))q[Mt]=vt,q[rt]=ht,Mt=rt;else break t}}return nt}function l(q,nt){var ht=q.sortIndex-nt.sortIndex;return ht!==0?ht:q.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],S=1,b=null,x=3,G=!1,Z=!1,et=!1,W=!1,st=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function xt(q){for(var nt=i(_);nt!==null;){if(nt.callback===null)a(_);else if(nt.startTime<=q)a(_),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=i(_)}}function qt(q){if(et=!1,xt(q),!Z)if(i(y)!==null)Z=!0,Dt||(Dt=!0,k());else{var nt=i(_);nt!==null&&de(qt,nt.startTime-q)}}var Dt=!1,I=-1,A=5,C=-1;function M(){return W?!0:!(s.unstable_now()-C<A)}function D(){if(W=!1,Dt){var q=s.unstable_now();C=q;var nt=!0;try{t:{Z=!1,et&&(et=!1,Et(I),I=-1),G=!0;var ht=x;try{e:{for(xt(q),b=i(y);b!==null&&!(b.expirationTime>q&&M());){var Mt=b.callback;if(typeof Mt=="function"){b.callback=null,x=b.priorityLevel;var It=Mt(b.expirationTime<=q);if(q=s.unstable_now(),typeof It=="function"){b.callback=It,xt(q),nt=!0;break e}b===i(y)&&a(y),xt(q)}else a(y);b=i(y)}if(b!==null)nt=!0;else{var O=i(_);O!==null&&de(qt,O.startTime-q),nt=!1}}break t}finally{b=null,x=ht,G=!1}nt=void 0}}finally{nt?k():Dt=!1}}}var k;if(typeof gt=="function")k=function(){gt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Wt=w.port2;w.port1.onmessage=D,k=function(){Wt.postMessage(null)}}else k=function(){st(D,0)};function de(q,nt){I=st(function(){q(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(q){switch(x){case 1:case 2:case 3:var nt=3;break;default:nt=x}var ht=x;x=nt;try{return q()}finally{x=ht}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(q,nt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ht=x;x=q;try{return nt()}finally{x=ht}},s.unstable_scheduleCallback=function(q,nt,ht){var Mt=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Mt+ht:Mt):ht=Mt,q){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=ht+It,q={id:S++,callback:nt,priorityLevel:q,startTime:ht,expirationTime:It,sortIndex:-1},ht>Mt?(q.sortIndex=ht,t(_,q),i(y)===null&&q===i(_)&&(et?(Et(I),I=-1):et=!0,de(qt,ht-Mt))):(q.sortIndex=It,t(y,q),Z||G||(Z=!0,Dt||(Dt=!0,k()))),q},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(q){var nt=x;return function(){var ht=x;x=nt;try{return q.apply(this,arguments)}finally{x=ht}}}})(Dd)),Dd}var R_;function _S(){return R_||(R_=1,Id.exports=yS()),Id.exports}var Nd={exports:{}},tn={};var C_;function vS(){if(C_)return tn;C_=1;var s=pm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,tn.createPortal=function(y,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,S)},tn.flushSync=function(y){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=S,a.d.f()}},tn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},tn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},tn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var S=_.as,b=p(S,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:G}):S==="script"&&a.d.X(y,{crossOrigin:b,integrity:x,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},tn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},tn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,b=p(S,_.crossOrigin);a.d.L(y,S,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},tn.preloadModule=function(y,_){if(typeof y=="string")if(_){var S=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},tn.requestFormReset=function(y){a.d.r(y)},tn.unstable_batchedUpdates=function(y,_){return y(_)},tn.useFormState=function(y,_,S){return d.H.useFormState(y,_,S)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.2.4",tn}var I_;function ES(){if(I_)return Nd.exports;I_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Nd.exports=vS(),Nd.exports}var D_;function TS(){if(D_)return yl;D_=1;var s=_S(),t=pm(),i=ES();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),st=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),qt=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case st:return"Profiler";case W:return"StrictMode";case qt:return"Suspense";case Dt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case gt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case xt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Wt(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return Wt(e(n))}catch{}}return null}var de=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Mt=[],It=-1;function O(e){return{current:e}}function Q(e){0>It||(e.current=Mt[It],Mt[It]=null,It--)}function it(e,n){It++,Mt[It]=e.current,e.current=n}var rt=O(null),vt=O(null),bt=O(null),Vt=O(null);function ye(e,n){switch(it(bt,n),it(vt,e),it(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Fy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Fy(n),e=Gy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(rt),it(rt,e)}function re(){Q(rt),Q(vt),Q(bt)}function Pi(e){e.memoizedState!==null&&it(Vt,e);var n=rt.current,r=Gy(n,e.type);n!==r&&(it(vt,e),it(rt,r))}function ds(e){vt.current===e&&(Q(rt),Q(vt)),Vt.current===e&&(Q(Vt),fl._currentValue=ht)}var ms,ps;function _n(e){if(ms===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ms=n&&n[1]||"",ps=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ms+e+ps}var gs=!1;function We(e,n){if(!e||gs)return"";gs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var j=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){j=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){j=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{gs=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?_n(r):""}function Gn(e,n){switch(e.tag){case 26:case 27:case 5:return _n(e.type);case 16:return _n("Lazy");case 13:return e.child!==n&&n!==null?_n("Suspense Fallback"):_n("Suspense");case 19:return _n("SuspenseList");case 0:case 15:return We(e.type,!1);case 11:return We(e.type.render,!1);case 1:return We(e.type,!0);case 31:return _n("Activity");default:return""}}function $(e){try{var n="",r=null;do n+=Gn(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ot=Object.prototype.hasOwnProperty,ft=s.unstable_scheduleCallback,Ht=s.unstable_cancelCallback,Ve=s.unstable_shouldYield,Dn=s.unstable_requestPaint,_e=s.unstable_now,an=s.unstable_getCurrentPriorityLevel,ke=s.unstable_ImmediatePriority,pr=s.unstable_UserBlockingPriority,ys=s.unstable_NormalPriority,Ch=s.unstable_LowPriority,Zl=s.unstable_IdlePriority,Wl=s.log,tu=s.unstable_setDisableYieldValue,Kn=null,Fe=null;function Nn(e){if(typeof Wl=="function"&&tu(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Kn,e)}catch{}}var ve=Math.clz32?Math.clz32:nu,eu=Math.log,ia=Math.LN2;function nu(e){return e>>>=0,e===0?32:31-(eu(e)/ia|0)|0}var li=256,gr=262144,be=4194304;function ui(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ui(o):(g&=E,g!==0?h=ui(g):r||(r=E&~e,r!==0&&(h=ui(r))))):(E=o&~f,E!==0?h=ui(E):g!==0?h=ui(g):r||(r=o&~e,r!==0&&(h=ui(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ih(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function hi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function yr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(r=g&~r;0<r;){var F=31-ve(r),Y=1<<F;E[F]=0,R[F]=-1;var j=P[F];if(j!==null)for(P[F]=null,F=0;F<j.length;F++){var H=j[F];H!==null&&(H.lane&=-536870913)}r&=~Y}o!==0&&_r(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function _r(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ve(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function yo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ve(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function _o(e,n){var r=n&-n;return r=(r&42)!==0?1:vr(r),(r&(e.suspendedLanes|n))!==0?0:r}function vr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function su(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:m_(e.type))}function Yn(e,n){var r=nt.p;try{return nt.p=e,n()}finally{nt.p=r}}var Xn=Math.random().toString(36).slice(2),we="__reactFiber$"+Xn,je="__reactProps$"+Xn,fi="__reactContainer$"+Xn,sa="__reactEvents$"+Xn,Nh="__reactListeners$"+Xn,ru="__reactHandles$"+Xn,au="__reactResources$"+Xn,di="__reactMarker$"+Xn;function ra(e){delete e[we],delete e[je],delete e[sa],delete e[Nh],delete e[ru]}function mi(e){var n=e[we];if(n)return n;for(var r=e.parentNode;r;){if(n=r[fi]||r[we]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Zy(e);e!==null;){if(r=e[we])return r;e=Zy(e)}return n}e=r,r=e.parentNode}return null}function On(e){if(e=e[we]||e[fi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function vn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function pi(e){var n=e[au];return n||(n=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Re(e){e[di]=!0}var vo=new Set,Eo={};function gi(e,n){yi(e,n),yi(e+"Capture",n)}function yi(e,n){for(Eo[e]=n,e=0;e<n.length;e++)vo.add(n[e])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},Ao={};function ou(e){return ot.call(Ao,e)?!0:ot.call(So,e)?!1:To.test(e)?Ao[e]=!0:(So[e]=!0,!1)}function aa(e,n,r){if(ou(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function En(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ce(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _s(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $t(e){if(!e._valueTracker){var n=_s(e)?"checked":"value";e._valueTracker=bo(e,n,""+e[n])}}function Er(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=_s(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Tr=/[\n"\\]/g;function cn(e){return e.replace(Tr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function oa(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Be(n)):e.value!==""+Be(n)&&(e.value=""+Be(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?wo(e,g,Be(n)):r!=null?wo(e,g,Be(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Be(E):e.removeAttribute("name")}function lu(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$t(e);return}r=r!=null?""+Be(r):"",n=n!=null?""+Be(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),$t(e)}function wo(e,n,r){n==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function vs(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Be(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function uu(e,n,r){if(n!=null&&(n=""+Be(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Be(r):""}function Es(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(de(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Be(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),$t(e)}function hn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||cu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Co(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Ro(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ro(e,f,n[f])}function la(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(e){return Ts.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var Io=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ss=null,vi=null;function Sr(e){var n=On(e);if(n&&(e=n.stateNode)){var r=e[je]||null;t:switch(e=n.stateNode,n.type){case"input":if(oa(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+cn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[je]||null;if(!h)throw Error(a(90));oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Er(o)}break t;case"textarea":uu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&vs(e,!!r.multiple,n,!1)}}}var ca=!1;function As(e,n,r){if(ca)return e(n,r);ca=!0;try{var o=e(n);return o}finally{if(ca=!1,(Ss!==null||vi!==null)&&(sc(),Ss&&(n=Ss,e=vi,vi=Ss=null,Sr(n),e)))for(n=0;n<e.length;n++)Sr(e[n])}}function Jn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[je]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ar=!1;if(Mn)try{var te={};Object.defineProperty(te,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{Ar=!1}var Ei=null,Do=null,br=null;function No(){if(br)return br;var e,n=Do,r=n.length,o,h="value"in Ei?Ei.value:Ei.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return br=h.slice(e,1<o?1-o:void 0)}function wr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function Zn(){return!1}function Ge(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ji:Zn,this.isPropagationStopped=Zn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Ge(Bi),bs=b({},Bi,{view:0,detail:0}),Oo=Ge(bs),ws,ha,Si,fa=b({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?(ws=e.screenX-Si.screenX,ha=e.screenY-Si.screenY):ha=ws=0,Si=e),ws)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),xo=Ge(fa),Rr=b({},fa,{dataTransfer:0}),fu=Ge(Rr),du=b({},bs,{relatedTarget:0}),Cr=Ge(du),Mo=b({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=Ge(Mo),da=b({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=Ge(da),gu=b({},Bi,{data:0}),Ai=Ge(gu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vu[e])?!!n[e]:!1}function Rs(){return Eu}var on=b({},bs,{key:function(e){if(e.key){var n=yu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=wr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(e){return e.type==="keypress"?wr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tu=Ge(on),Su=b({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Ge(Su),u=b({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),m=Ge(u),v=b({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ge(v),L=b({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ge(L),tt=b({},Bi,{newState:0,oldState:0}),wt=Ge(tt),Ee=[9,13,27,32],Kt=Mn&&"CompositionEvent"in window,ce=null;Mn&&"documentMode"in document&&(ce=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!ce,bi=Mn&&(!Kt||ce&&8<ce&&11>=ce),Wn=" ",ti=!1;function Ir(e,n){switch(e){case"keyup":return Ee.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function PT(e,n){switch(e){case"compositionend":return ma(n);case"keypress":return n.which!==32?null:(ti=!0,Wn);case"textInput":return e=n.data,e===Wn&&ti?null:e;default:return null}}function zT(e,n){if(pa)return e==="compositionend"||!Kt&&Ir(e,n)?(e=No(),br=Do=Ei=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bi&&n.locale!=="ko"?null:n.data;default:return null}}var jT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ep(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!jT[e.type]:n==="textarea"}function np(e,n,r,o){Ss?vi?vi.push(o):vi=[o]:Ss=o,n=hc(n,"onChange"),0<n.length&&(r=new Ti("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Vo=null,ko=null;function BT(e){Py(e,0)}function Au(e){var n=vn(e);if(Er(n))return e}function ip(e,n){if(e==="change")return n}var sp=!1;if(Mn){var Oh;if(Mn){var xh="oninput"in document;if(!xh){var rp=document.createElement("div");rp.setAttribute("oninput","return;"),xh=typeof rp.oninput=="function"}Oh=xh}else Oh=!1;sp=Oh&&(!document.documentMode||9<document.documentMode)}function ap(){Vo&&(Vo.detachEvent("onpropertychange",op),ko=Vo=null)}function op(e){if(e.propertyName==="value"&&Au(ko)){var n=[];np(n,ko,e,xn(e)),As(BT,n)}}function HT(e,n,r){e==="focusin"?(ap(),Vo=n,ko=r,Vo.attachEvent("onpropertychange",op)):e==="focusout"&&ap()}function qT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(ko)}function FT(e,n){if(e==="click")return Au(n)}function GT(e,n){if(e==="input"||e==="change")return Au(n)}function KT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tn=typeof Object.is=="function"?Object.is:KT;function Lo(e,n){if(Tn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!ot.call(n,h)||!Tn(e[h],n[h]))return!1}return!0}function lp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function up(e,n){var r=lp(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=lp(r)}}function cp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?cp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function hp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_i(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=_i(e.document)}return n}function Mh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var QT=Mn&&"documentMode"in document&&11>=document.documentMode,ga=null,Vh=null,Uo=null,kh=!1;function fp(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kh||ga==null||ga!==_i(o)||(o=ga,"selectionStart"in o&&Mh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Uo&&Lo(Uo,o)||(Uo=o,o=hc(Vh,"onSelect"),0<o.length&&(n=new Ti("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ga)))}function Dr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ya={animationend:Dr("Animation","AnimationEnd"),animationiteration:Dr("Animation","AnimationIteration"),animationstart:Dr("Animation","AnimationStart"),transitionrun:Dr("Transition","TransitionRun"),transitionstart:Dr("Transition","TransitionStart"),transitioncancel:Dr("Transition","TransitionCancel"),transitionend:Dr("Transition","TransitionEnd")},Lh={},dp={};Mn&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Nr(e){if(Lh[e])return Lh[e];if(!ya[e])return e;var n=ya[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in dp)return Lh[e]=n[r];return e}var mp=Nr("animationend"),pp=Nr("animationiteration"),gp=Nr("animationstart"),YT=Nr("transitionrun"),XT=Nr("transitionstart"),$T=Nr("transitioncancel"),yp=Nr("transitionend"),_p=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function ei(e,n){_p.set(e,n),gi(n,[e])}var bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kn=[],_a=0,Ph=0;function wu(){for(var e=_a,n=Ph=_a=0;n<e;){var r=kn[n];kn[n++]=null;var o=kn[n];kn[n++]=null;var h=kn[n];kn[n++]=null;var f=kn[n];if(kn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&vp(r,h,f)}}function Ru(e,n,r,o){kn[_a++]=e,kn[_a++]=n,kn[_a++]=r,kn[_a++]=o,Ph|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function zh(e,n,r,o){return Ru(e,n,r,o),Cu(e)}function Or(e,n){return Ru(e,null,null,n),Cu(e)}function vp(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ve(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Cu(e){if(50<rl)throw rl=0,Xf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var va={};function JT(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,r,o){return new JT(e,n,r,o)}function jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,n){var r=e.alternate;return r===null?(r=Sn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Ep(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")jh(e)&&(g=1);else if(typeof e=="string")g=nS(e,r,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Sn(31,r,n,h),e.elementType=C,e.lanes=f,e;case et:return xr(r.children,h,f,n);case W:g=8,h|=24;break;case st:return e=Sn(12,r,n,h|2),e.elementType=st,e.lanes=f,e;case qt:return e=Sn(13,r,n,h),e.elementType=qt,e.lanes=f,e;case Dt:return e=Sn(19,r,n,h),e.elementType=Dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:g=10;break t;case Et:g=9;break t;case xt:g=11;break t;case I:g=14;break t;case A:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Sn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function xr(e,n,r,o){return e=Sn(7,e,o,n),e.lanes=r,e}function Bh(e,n,r){return e=Sn(6,e,null,n),e.lanes=r,e}function Tp(e){var n=Sn(18,null,null,0);return n.stateNode=e,n}function Hh(e,n,r){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Sp=new WeakMap;function Ln(e,n){if(typeof e=="object"&&e!==null){var r=Sp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:$(n)},Sp.set(e,n),n)}return{value:e,source:n,stack:$(n)}}var Ea=[],Ta=0,Du=null,Po=0,Un=[],Pn=0,Cs=null,wi=1,Ri="";function Fi(e,n){Ea[Ta++]=Po,Ea[Ta++]=Du,Du=e,Po=n}function Ap(e,n,r){Un[Pn++]=wi,Un[Pn++]=Ri,Un[Pn++]=Cs,Cs=e;var o=wi;e=Ri;var h=32-ve(o)-1;o&=~(1<<h),r+=1;var f=32-ve(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,wi=1<<32-ve(n)+h|r<<h|o,Ri=f+e}else wi=1<<f|r<<h|o,Ri=e}function qh(e){e.return!==null&&(Fi(e,1),Ap(e,1,0))}function Fh(e){for(;e===Du;)Du=Ea[--Ta],Ea[Ta]=null,Po=Ea[--Ta],Ea[Ta]=null;for(;e===Cs;)Cs=Un[--Pn],Un[Pn]=null,Ri=Un[--Pn],Un[Pn]=null,wi=Un[--Pn],Un[Pn]=null}function bp(e,n){Un[Pn++]=wi,Un[Pn++]=Ri,Un[Pn++]=Cs,wi=n.id,Ri=n.overflow,Cs=e}var Ke=null,ae=null,jt=!1,Is=null,zn=!1,Gh=Error(a(519));function Ds(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(Ln(n,e)),Gh}function wp(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[we]=e,n[je]=o,r){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(r=0;r<ol.length;r++)Ot(ol[r],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),lu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),Es(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Hy(n.textContent,r)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=$n),n=!0):n=!1,n||Ds(e,!0)}function Rp(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ke=Ke.return}}function Sa(e){if(e!==Ke)return!1;if(!jt)return Rp(e),jt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||cd(e.type,e.memoizedProps)),r=!r),r&&ae&&Ds(e),Rp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ae=Jy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ae=Jy(e)}else n===27?(n=ae,qs(e.type)?(e=pd,pd=null,ae=e):ae=n):ae=Ke?Bn(e.stateNode.nextSibling):null;return!0}function Mr(){ae=Ke=null,jt=!1}function Kh(){var e=Is;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Is=null),e}function zo(e){Is===null?Is=[e]:Is.push(e)}var Qh=O(null),Vr=null,Gi=null;function Ns(e,n,r){it(Qh,n._currentValue),n._currentValue=r}function Ki(e){e._currentValue=Qh.current,Q(Qh)}function Yh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Xh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Yh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Yh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Aa(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Tn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}h=h.return}e!==null&&Xh(n,e,r,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!Tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function kr(e){Vr=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return Cp(Vr,e)}function Ou(e,n){return Vr===null&&kr(e),Cp(e,n)}function Cp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Gi===null){if(e===null)throw Error(a(308));Gi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Gi=Gi.next=n;return r}var ZT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},WT=s.unstable_scheduleCallback,t1=s.unstable_NormalPriority,Ie={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new ZT,data:new Map,refCount:0}}function jo(e){e.refCount--,e.refCount===0&&WT(t1,function(){e.controller.abort()})}var Bo=null,Jh=0,ba=0,wa=null;function e1(e,n){if(Bo===null){var r=Bo=[];Jh=0,ba=ed(),wa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Jh++,n.then(Ip,Ip),n}function Ip(){if(--Jh===0&&Bo!==null){wa!==null&&(wa.status="fulfilled");var e=Bo;Bo=null,ba=0,wa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function n1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Dp=q.S;q.S=function(e,n){fy=_e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&e1(e,n),Dp!==null&&Dp(e,n)};var Lr=O(null);function Zh(){var e=Lr.current;return e!==null?e:se.pooledCache}function xu(e,n){n===null?it(Lr,Lr.current):it(Lr,n.pool)}function Np(){var e=Zh();return e===null?null:{parent:Ie._currentValue,pool:e}}var Ra=Error(a(460)),Wh=Error(a(474)),Mu=Error(a(542)),Vu={then:function(){}};function Op(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then($n,$n),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Vp(e),e;default:if(typeof n.status=="string")n.then($n,$n);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Vp(e),e}throw Pr=n,Ra}}function Ur(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Pr=r,Ra):r}}var Pr=null;function Mp(){if(Pr===null)throw Error(a(459));var e=Pr;return Pr=null,e}function Vp(e){if(e===Ra||e===Mu)throw Error(a(483))}var Ca=null,Ho=0;function ku(e){var n=Ho;return Ho+=1,Ca===null&&(Ca=[]),xp(Ca,e,n)}function qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lu(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function kp(e){function n(V,N){if(e){var U=V.deletions;U===null?(V.deletions=[N],V.flags|=16):U.push(N)}}function r(V,N){if(!e)return null;for(;N!==null;)n(V,N),N=N.sibling;return null}function o(V){for(var N=new Map;V!==null;)V.key!==null?N.set(V.key,V):N.set(V.index,V),V=V.sibling;return N}function h(V,N){return V=qi(V,N),V.index=0,V.sibling=null,V}function f(V,N,U){return V.index=U,e?(U=V.alternate,U!==null?(U=U.index,U<N?(V.flags|=67108866,N):U):(V.flags|=67108866,N)):(V.flags|=1048576,N)}function g(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,N,U,K){return N===null||N.tag!==6?(N=Bh(U,V.mode,K),N.return=V,N):(N=h(N,U),N.return=V,N)}function R(V,N,U,K){var dt=U.type;return dt===et?F(V,N,U.props.children,K,U.key):N!==null&&(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Ur(dt)===N.type)?(N=h(N,U.props),qo(N,U),N.return=V,N):(N=Iu(U.type,U.key,U.props,null,V.mode,K),qo(N,U),N.return=V,N)}function P(V,N,U,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=Hh(U,V.mode,K),N.return=V,N):(N=h(N,U.children||[]),N.return=V,N)}function F(V,N,U,K,dt){return N===null||N.tag!==7?(N=xr(U,V.mode,K,dt),N.return=V,N):(N=h(N,U),N.return=V,N)}function Y(V,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Bh(""+N,V.mode,U),N.return=V,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case G:return U=Iu(N.type,N.key,N.props,null,V.mode,U),qo(U,N),U.return=V,U;case Z:return N=Hh(N,V.mode,U),N.return=V,N;case A:return N=Ur(N),Y(V,N,U)}if(de(N)||k(N))return N=xr(N,V.mode,U,null),N.return=V,N;if(typeof N.then=="function")return Y(V,ku(N),U);if(N.$$typeof===gt)return Y(V,Ou(V,N),U);Lu(V,N)}return null}function j(V,N,U,K){var dt=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return dt!==null?null:E(V,N,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case G:return U.key===dt?R(V,N,U,K):null;case Z:return U.key===dt?P(V,N,U,K):null;case A:return U=Ur(U),j(V,N,U,K)}if(de(U)||k(U))return dt!==null?null:F(V,N,U,K,null);if(typeof U.then=="function")return j(V,N,ku(U),K);if(U.$$typeof===gt)return j(V,N,Ou(V,U),K);Lu(V,U)}return null}function H(V,N,U,K,dt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return V=V.get(U)||null,E(N,V,""+K,dt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case G:return V=V.get(K.key===null?U:K.key)||null,R(N,V,K,dt);case Z:return V=V.get(K.key===null?U:K.key)||null,P(N,V,K,dt);case A:return K=Ur(K),H(V,N,U,K,dt)}if(de(K)||k(K))return V=V.get(U)||null,F(N,V,K,dt,null);if(typeof K.then=="function")return H(V,N,U,ku(K),dt);if(K.$$typeof===gt)return H(V,N,U,Ou(N,K),dt);Lu(N,K)}return null}function lt(V,N,U,K){for(var dt=null,Ft=null,ut=N,Ct=N=0,Lt=null;ut!==null&&Ct<U.length;Ct++){ut.index>Ct?(Lt=ut,ut=null):Lt=ut.sibling;var Gt=j(V,ut,U[Ct],K);if(Gt===null){ut===null&&(ut=Lt);break}e&&ut&&Gt.alternate===null&&n(V,ut),N=f(Gt,N,Ct),Ft===null?dt=Gt:Ft.sibling=Gt,Ft=Gt,ut=Lt}if(Ct===U.length)return r(V,ut),jt&&Fi(V,Ct),dt;if(ut===null){for(;Ct<U.length;Ct++)ut=Y(V,U[Ct],K),ut!==null&&(N=f(ut,N,Ct),Ft===null?dt=ut:Ft.sibling=ut,Ft=ut);return jt&&Fi(V,Ct),dt}for(ut=o(ut);Ct<U.length;Ct++)Lt=H(ut,V,Ct,U[Ct],K),Lt!==null&&(e&&Lt.alternate!==null&&ut.delete(Lt.key===null?Ct:Lt.key),N=f(Lt,N,Ct),Ft===null?dt=Lt:Ft.sibling=Lt,Ft=Lt);return e&&ut.forEach(function(Ys){return n(V,Ys)}),jt&&Fi(V,Ct),dt}function pt(V,N,U,K){if(U==null)throw Error(a(151));for(var dt=null,Ft=null,ut=N,Ct=N=0,Lt=null,Gt=U.next();ut!==null&&!Gt.done;Ct++,Gt=U.next()){ut.index>Ct?(Lt=ut,ut=null):Lt=ut.sibling;var Ys=j(V,ut,Gt.value,K);if(Ys===null){ut===null&&(ut=Lt);break}e&&ut&&Ys.alternate===null&&n(V,ut),N=f(Ys,N,Ct),Ft===null?dt=Ys:Ft.sibling=Ys,Ft=Ys,ut=Lt}if(Gt.done)return r(V,ut),jt&&Fi(V,Ct),dt;if(ut===null){for(;!Gt.done;Ct++,Gt=U.next())Gt=Y(V,Gt.value,K),Gt!==null&&(N=f(Gt,N,Ct),Ft===null?dt=Gt:Ft.sibling=Gt,Ft=Gt);return jt&&Fi(V,Ct),dt}for(ut=o(ut);!Gt.done;Ct++,Gt=U.next())Gt=H(ut,V,Ct,Gt.value,K),Gt!==null&&(e&&Gt.alternate!==null&&ut.delete(Gt.key===null?Ct:Gt.key),N=f(Gt,N,Ct),Ft===null?dt=Gt:Ft.sibling=Gt,Ft=Gt);return e&&ut.forEach(function(dS){return n(V,dS)}),jt&&Fi(V,Ct),dt}function ie(V,N,U,K){if(typeof U=="object"&&U!==null&&U.type===et&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case G:t:{for(var dt=U.key;N!==null;){if(N.key===dt){if(dt=U.type,dt===et){if(N.tag===7){r(V,N.sibling),K=h(N,U.props.children),K.return=V,V=K;break t}}else if(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Ur(dt)===N.type){r(V,N.sibling),K=h(N,U.props),qo(K,U),K.return=V,V=K;break t}r(V,N);break}else n(V,N);N=N.sibling}U.type===et?(K=xr(U.props.children,V.mode,K,U.key),K.return=V,V=K):(K=Iu(U.type,U.key,U.props,null,V.mode,K),qo(K,U),K.return=V,V=K)}return g(V);case Z:t:{for(dt=U.key;N!==null;){if(N.key===dt)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){r(V,N.sibling),K=h(N,U.children||[]),K.return=V,V=K;break t}else{r(V,N);break}else n(V,N);N=N.sibling}K=Hh(U,V.mode,K),K.return=V,V=K}return g(V);case A:return U=Ur(U),ie(V,N,U,K)}if(de(U))return lt(V,N,U,K);if(k(U)){if(dt=k(U),typeof dt!="function")throw Error(a(150));return U=dt.call(U),pt(V,N,U,K)}if(typeof U.then=="function")return ie(V,N,ku(U),K);if(U.$$typeof===gt)return ie(V,N,Ou(V,U),K);Lu(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(r(V,N.sibling),K=h(N,U),K.return=V,V=K):(r(V,N),K=Bh(U,V.mode,K),K.return=V,V=K),g(V)):r(V,N)}return function(V,N,U,K){try{Ho=0;var dt=ie(V,N,U,K);return Ca=null,dt}catch(ut){if(ut===Ra||ut===Mu)throw ut;var Ft=Sn(29,ut,null,V.mode);return Ft.lanes=K,Ft.return=V,Ft}}}var zr=kp(!0),Lp=kp(!1),Os=!1;function tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ms(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Cu(e),vp(e,null,r),n}return Ru(e,o,n,r),Cu(e)}function Fo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,yo(e,r)}}function nf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var sf=!1;function Go(){if(sf){var e=wa;if(e!==null)throw e}}function Ko(e,n,r,o){sf=!1;var h=e.updateQueue;Os=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,F=P=R=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(kt&j)===j:(o&j)===j){j!==0&&j===ba&&(sf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,pt=E;j=n;var ie=r;switch(pt.tag){case 1:if(lt=pt.payload,typeof lt=="function"){Y=lt.call(ie,Y,j);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=pt.payload,j=typeof lt=="function"?lt.call(ie,Y,j):lt,j==null)break t;Y=b({},Y,j);break t;case 2:Os=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=H,R=Y):F=F.next=H,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Ps|=g,e.lanes=g,e.memoizedState=Y}}function Up(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Pp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Up(r[e],n)}var Ia=O(null),Uu=O(0);function zp(e,n){e=es,it(Uu,e),it(Ia,n),es=e|n.baseLanes}function rf(){it(Uu,es),it(Ia,Ia.current)}function af(){es=Uu.current,Q(Ia),Q(Uu)}var An=O(null),jn=null;function Vs(e){var n=e.alternate;it(Te,Te.current&1),it(An,e),jn===null&&(n===null||Ia.current!==null||n.memoizedState!==null)&&(jn=e)}function of(e){it(Te,Te.current),it(An,e),jn===null&&(jn=e)}function jp(e){e.tag===22?(it(Te,Te.current),it(An,e),jn===null&&(jn=e)):ks()}function ks(){it(Te,Te.current),it(An,An.current)}function bn(e){Q(An),jn===e&&(jn=null),Q(Te)}var Te=O(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||dd(r)||md(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qi=0,Rt=null,ee=null,De=null,zu=!1,Da=!1,jr=!1,ju=0,Qo=0,Na=null,i1=0;function me(){throw Error(a(321))}function lf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Tn(e[r],n[r]))return!1;return!0}function uf(e,n,r,o,h,f){return Qi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?Ag:bf,jr=!1,f=r(o,h),jr=!1,Da&&(f=Hp(n,r,o,h)),Bp(e),f}function Bp(e){q.H=$o;var n=ee!==null&&ee.next!==null;if(Qi=0,De=ee=Rt=null,zu=!1,Qo=0,Na=null,n)throw Error(a(300));e===null||Ne||(e=e.dependencies,e!==null&&Nu(e)&&(Ne=!0))}function Hp(e,n,r,o){Rt=e;var h=0;do{if(Da&&(Na=null),Qo=0,Da=!1,25<=h)throw Error(a(301));if(h+=1,De=ee=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=bg,f=n(r,o)}while(Da);return f}function s1(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?Yo(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Rt.flags|=1024),n}function cf(){var e=ju!==0;return ju=0,e}function hf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function ff(e){if(zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zu=!1}Qi=0,De=ee=Rt=null,Da=!1,Qo=ju=0,Na=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Rt.memoizedState=De=e:De=De.next=e,De}function Se(){if(ee===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=De===null?Rt.memoizedState:De.next;if(n!==null)De=n,ee=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},De===null?Rt.memoizedState=De=e:De=De.next=e}return De}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(e){var n=Qo;return Qo+=1,Na===null&&(Na=[]),e=xp(Na,e,n),n=Rt,(De===null?n.memoizedState:De.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Ag:bf),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yo(e);if(e.$$typeof===gt)return Qe(e)}throw Error(a(438,String(e)))}function df(e){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Bu(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=M;return n.index++,r}function Yi(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=Se();return mf(n,ee,e)}function mf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,P=n,F=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(kt&Y)===Y:(Qi&Y)===Y){var j=P.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===ba&&(F=!0);else if((Qi&j)===j){P=P.next,j===ba&&(F=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=Y,g=f):R=R.next=Y,Rt.lanes|=j,Ps|=j;Y=P.action,jr&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else j={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=j,g=f):R=R.next=j,Rt.lanes|=Y,Ps|=Y;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=E,!Tn(f,e.memoizedState)&&(Ne=!0,F&&(r=wa,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function pf(e){var n=Se(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Tn(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function qp(e,n,r){var o=Rt,h=Se(),f=jt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Tn((ee||h).memoizedState,r);if(g&&(h.memoizedState=r,Ne=!0),h=h.queue,_f(Kp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||De!==null&&De.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},Gp.bind(null,o,h,r,n),null),se===null)throw Error(a(349));f||(Qi&127)!==0||Fp(o,n,r)}return r}function Fp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=Bu(),Rt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Gp(e,n,r,o){n.value=r,n.getSnapshot=o,Qp(n)&&Yp(e)}function Kp(e,n,r){return r(function(){Qp(n)&&Yp(e)})}function Qp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Tn(e,r)}catch{return!0}}function Yp(e){var n=Or(e,2);n!==null&&gn(n,e,2)}function gf(e){var n=ln();if(typeof e=="function"){var r=e;if(e=r(),jr){Nn(!0);try{r()}finally{Nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},n}function Xp(e,n,r,o){return e.baseState=r,mf(e,ee,typeof o=="function"?o:Yi)}function r1(e,n,r,o,h){if(Ku(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,$p(n,f)):(f.next=r.next,n.pending=r.next=f)}}function $p(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var E=r(h,o),R=q.S;R!==null&&R(g,E),Jp(e,n,E)}catch(P){yf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=r(h,o),Jp(e,n,f)}catch(P){yf(e,n,P)}}function Jp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Zp(e,n,o)},function(o){return yf(e,n,o)}):Zp(e,n,r)}function Zp(e,n,r){n.status="fulfilled",n.value=r,Wp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,$p(e,r)))}function yf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Wp(n),n=n.next;while(n!==o)}e.action=null}function Wp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function tg(e,n){return n}function eg(e,n){if(jt){var r=se.formState;if(r!==null){t:{var o=Rt;if(jt){if(ae){e:{for(var h=ae,f=zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ae=Bn(h.nextSibling),o=h.data==="F!";break t}}Ds(o)}o=!1}o&&(n=r[0])}}return r=ln(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tg,lastRenderedState:n},r.queue=o,r=Eg.bind(null,Rt,o),o.dispatch=r,o=gf(!1),f=Af.bind(null,Rt,!1,o.queue),o=ln(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=r1.bind(null,Rt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function ng(e){var n=Se();return ig(n,ee,e)}function ig(e,n,r){if(n=mf(e,n,tg)[0],e=qu(Yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Yo(n)}catch(g){throw g===Ra?Mu:g}else o=n;n=Se();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Rt.flags|=2048,Oa(9,{destroy:void 0},a1.bind(null,h,r),null)),[o,f,e]}function a1(e,n){e.action=n}function sg(e){var n=Se(),r=ee;if(r!==null)return ig(n,r,e);Se(),n=n.memoizedState,r=Se();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Oa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Bu(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function rg(){return Se().memoizedState}function Fu(e,n,r,o){var h=ln();Rt.flags|=e,h.memoizedState=Oa(1|n,{destroy:void 0},r,o===void 0?null:o)}function Gu(e,n,r,o){var h=Se();o=o===void 0?null:o;var f=h.memoizedState.inst;ee!==null&&o!==null&&lf(o,ee.memoizedState.deps)?h.memoizedState=Oa(n,f,r,o):(Rt.flags|=e,h.memoizedState=Oa(1|n,f,r,o))}function ag(e,n){Fu(8390656,8,e,n)}function _f(e,n){Gu(2048,8,e,n)}function o1(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Bu(),Rt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function og(e){var n=Se().memoizedState;return o1({ref:n,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function lg(e,n){return Gu(4,2,e,n)}function ug(e,n){return Gu(4,4,e,n)}function cg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function hg(e,n,r){r=r!=null?r.concat([e]):null,Gu(4,4,cg.bind(null,n,e),r)}function vf(){}function fg(e,n){var r=Se();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&lf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function dg(e,n){var r=Se();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&lf(n,o[1]))return o[0];if(o=e(),jr){Nn(!0);try{e()}finally{Nn(!1)}}return r.memoizedState=[o,n],o}function Ef(e,n,r){return r===void 0||(Qi&1073741824)!==0&&(kt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=my(),Rt.lanes|=e,Ps|=e,r)}function mg(e,n,r,o){return Tn(r,n)?r:Ia.current!==null?(e=Ef(e,r,o),Tn(e,n)||(Ne=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(kt&261930)===0?(Ne=!0,e.memoizedState=r):(e=my(),Rt.lanes|=e,Ps|=e,n)}function pg(e,n,r,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=q.T,E={};q.T=E,Af(e,!1,n,r);try{var R=h(),P=q.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=n1(R,o);Xo(e,n,F,Cn(e))}else Xo(e,n,o,Cn(e))}catch(Y){Xo(e,n,{then:function(){},status:"rejected",reason:Y},Cn())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),q.T=g}}function l1(){}function Tf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=gg(e).queue;pg(e,h,n,ht,r===null?l1:function(){return yg(e),r(o)})}function gg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ht},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function yg(e){var n=gg(e);n.next===null&&(n=e.alternate.memoizedState),Xo(e,n.next.queue,{},Cn())}function Sf(){return Qe(fl)}function _g(){return Se().memoizedState}function vg(){return Se().memoizedState}function u1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Cn();e=xs(r);var o=Ms(n,e,r);o!==null&&(gn(o,n,r),Fo(o,n,r)),n={cache:$h()},e.payload=n;return}n=n.return}}function c1(e,n,r){var o=Cn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Tg(n,r):(r=zh(e,n,r,o),r!==null&&(gn(r,e,o),Sg(r,n,o)))}function Eg(e,n,r){var o=Cn();Xo(e,n,r,o)}function Xo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Tg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,Tn(E,g))return Ru(e,n,h,0),se===null&&wu(),!1}catch{}if(r=zh(e,n,h,o),r!==null)return gn(r,e,o),Sg(r,n,o),!0}return!1}function Af(e,n,r,o){if(o={lane:2,revertLane:ed(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(a(479))}else n=zh(e,r,o,2),n!==null&&gn(n,e,2)}function Ku(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Tg(e,n){Da=zu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Sg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,yo(e,r)}}var $o={readContext:Qe,use:Hu,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};$o.useEffectEvent=me;var Ag={readContext:Qe,use:Hu,useCallback:function(e,n){return ln().memoizedState=[e,n===void 0?null:n],e},useContext:Qe,useEffect:ag,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Fu(4194308,4,cg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var r=ln();n=n===void 0?null:n;var o=e();if(jr){Nn(!0);try{e()}finally{Nn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=ln();if(r!==void 0){var h=r(n);if(jr){Nn(!0);try{r(n)}finally{Nn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=c1.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=ln();return e={current:e},n.memoizedState=e},useState:function(e){e=gf(e);var n=e.queue,r=Eg.bind(null,Rt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:vf,useDeferredValue:function(e,n){var r=ln();return Ef(r,e,n)},useTransition:function(){var e=gf(!1);return e=pg.bind(null,Rt,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Rt,h=ln();if(jt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),se===null)throw Error(a(349));(kt&127)!==0||Fp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,ag(Kp.bind(null,o,f,e),[e]),o.flags|=2048,Oa(9,{destroy:void 0},Gp.bind(null,o,f,r,n),null),r},useId:function(){var e=ln(),n=se.identifierPrefix;if(jt){var r=Ri,o=wi;r=(o&~(1<<32-ve(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=ju++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=i1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Sf,useFormState:eg,useActionState:eg,useOptimistic:function(e){var n=ln();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Af.bind(null,Rt,!0,r),r.dispatch=n,[e,n]},useMemoCache:df,useCacheRefresh:function(){return ln().memoizedState=u1.bind(null,Rt)},useEffectEvent:function(e){var n=ln(),r={impl:e};return n.memoizedState=r,function(){if((Qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},bf={readContext:Qe,use:Hu,useCallback:fg,useContext:Qe,useEffect:_f,useImperativeHandle:hg,useInsertionEffect:lg,useLayoutEffect:ug,useMemo:dg,useReducer:qu,useRef:rg,useState:function(){return qu(Yi)},useDebugValue:vf,useDeferredValue:function(e,n){var r=Se();return mg(r,ee.memoizedState,e,n)},useTransition:function(){var e=qu(Yi)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:qp,useId:_g,useHostTransitionStatus:Sf,useFormState:ng,useActionState:ng,useOptimistic:function(e,n){var r=Se();return Xp(r,ee,e,n)},useMemoCache:df,useCacheRefresh:vg};bf.useEffectEvent=og;var bg={readContext:Qe,use:Hu,useCallback:fg,useContext:Qe,useEffect:_f,useImperativeHandle:hg,useInsertionEffect:lg,useLayoutEffect:ug,useMemo:dg,useReducer:pf,useRef:rg,useState:function(){return pf(Yi)},useDebugValue:vf,useDeferredValue:function(e,n){var r=Se();return ee===null?Ef(r,e,n):mg(r,ee.memoizedState,e,n)},useTransition:function(){var e=pf(Yi)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:qp,useId:_g,useHostTransitionStatus:Sf,useFormState:sg,useActionState:sg,useOptimistic:function(e,n){var r=Se();return ee!==null?Xp(r,ee,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:df,useCacheRefresh:vg};bg.useEffectEvent=og;function wf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Rf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Cn(),h=xs(o);h.payload=n,r!=null&&(h.callback=r),n=Ms(e,h,o),n!==null&&(gn(n,e,o),Fo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Cn(),h=xs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ms(e,h,o),n!==null&&(gn(n,e,o),Fo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Cn(),o=xs(r);o.tag=2,n!=null&&(o.callback=n),n=Ms(e,o,r),n!==null&&(gn(n,e,r),Fo(n,e,r))}};function wg(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Lo(r,o)||!Lo(h,f):!0}function Rg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Rf.enqueueReplaceState(n,n.state,null)}function Br(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Cg(e){bu(e)}function Ig(e){console.error(e)}function Dg(e){bu(e)}function Qu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Ng(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(e,n,r){return r=xs(r),r.tag=3,r.payload={element:null},r.callback=function(){Qu(e,n)},r}function Og(e){return e=xs(e),e.tag=3,e}function xg(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Ng(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Ng(n,r,o),typeof h!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function h1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Aa(n,r,h,!0),r=An.current,r!==null){switch(r.tag){case 31:case 13:return jn===null?rc():r.alternate===null&&pe===0&&(pe=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Vu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Zf(e,o,h)),!1;case 22:return r.flags|=65536,o===Vu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Zf(e,o,h)),!1}throw Error(a(435,r.tag))}return Zf(e,o,h),rc(),!1}if(jt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Gh&&(e=Error(a(422),{cause:o}),zo(Ln(e,r)))):(o!==Gh&&(n=Error(a(423),{cause:o}),zo(Ln(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Ln(o,r),h=Cf(e.stateNode,o,h),nf(e,h),pe!==4&&(pe=2)),!1;var f=Error(a(520),{cause:o});if(f=Ln(f,r),sl===null?sl=[f]:sl.push(f),pe!==4&&(pe=2),n===null)return!0;o=Ln(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Cf(r.stateNode,o,e),nf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zs===null||!zs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Og(h),xg(h,e,r,o),nf(r,h),!1}r=r.return}while(r!==null);return!1}var If=Error(a(461)),Ne=!1;function Ye(e,n,r,o){n.child=e===null?Lp(n,null,r,o):zr(n,e.child,r,o)}function Mg(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return kr(n),o=uf(e,n,r,g,f,h),E=cf(),e!==null&&!Ne?(hf(e,n,h),Xi(e,n,h)):(jt&&E&&qh(n),n.flags|=1,Ye(e,n,o,h),n.child)}function Vg(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!jh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,kg(e,n,f,o,h)):(e=Iu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Lf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Lo,r(g,o)&&e.ref===n.ref)return Xi(e,n,h)}return n.flags|=1,e=qi(f,o),e.ref=n.ref,e.return=n,n.child=e}function kg(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Lo(f,o)&&e.ref===n.ref)if(Ne=!1,n.pendingProps=o=f,Lf(e,h))(e.flags&131072)!==0&&(Ne=!0);else return n.lanes=e.lanes,Xi(e,n,h)}return Df(e,n,r,o,h)}function Lg(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Ug(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&xu(n,f!==null?f.cachePool:null),f!==null?zp(n,f):rf(),jp(n);else return o=n.lanes=536870912,Ug(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(xu(n,f.cachePool),zp(n,f),ks(),n.memoizedState=null):(e!==null&&xu(n,null),rf(),ks());return Ye(e,n,h,r),n.child}function Jo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ug(e,n,r,o,h){var f=Zh();return f=f===null?null:{parent:Ie._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&xu(n,null),rf(),jp(n),e!==null&&Aa(e,n,o,!0),n.childLanes=h,null}function Yu(e,n){return n=$u({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Pg(e,n,r){return zr(n,e.child,null,r),e=Yu(n,n.pendingProps),e.flags|=2,bn(n),n.memoizedState=null,e}function f1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(jt){if(o.mode==="hidden")return e=Yu(n,o),n.lanes=536870912,Jo(null,e);if(of(n),(e=ae)?(e=$y(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Cs!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},r=Tp(e),r.return=n,n.child=r,Ke=n,ae=null)):e=null,e===null)throw Ds(n);return n.lanes=536870912,null}return Yu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(of(n),h)if(n.flags&256)n.flags&=-257,n=Pg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ne||Aa(e,n,r,!1),h=(r&e.childLanes)!==0,Ne||h){if(o=se,o!==null&&(g=_o(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Or(e,g),gn(o,e,g),If;rc(),n=Pg(e,n,r)}else e=f.treeContext,ae=Bn(g.nextSibling),Ke=n,jt=!0,Is=null,zn=!1,e!==null&&bp(n,e),n=Yu(n,o),n.flags|=4096;return n}return e=qi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Df(e,n,r,o,h){return kr(n),r=uf(e,n,r,o,void 0,h),o=cf(),e!==null&&!Ne?(hf(e,n,h),Xi(e,n,h)):(jt&&o&&qh(n),n.flags|=1,Ye(e,n,r,h),n.child)}function zg(e,n,r,o,h,f){return kr(n),n.updateQueue=null,r=Hp(n,o,r,h),Bp(e),o=cf(),e!==null&&!Ne?(hf(e,n,f),Xi(e,n,f)):(jt&&o&&qh(n),n.flags|=1,Ye(e,n,r,f),n.child)}function jg(e,n,r,o,h){if(kr(n),n.stateNode===null){var f=va,g=r.contextType;typeof g=="object"&&g!==null&&(f=Qe(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},tf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Qe(g):va,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(wf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Rf.enqueueReplaceState(f,f.state,null),Ko(n,o,f,h),Go(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Br(r,E);f.props=R;var P=f.context,F=r.contextType;g=va,typeof F=="object"&&F!==null&&(g=Qe(F));var Y=r.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Rg(n,f,o,g),Os=!1;var j=n.memoizedState;f.state=j,Ko(n,o,f,h),Go(),P=n.memoizedState,E||j!==P||Os?(typeof Y=="function"&&(wf(n,r,Y,o),P=n.memoizedState),(R=Os||wg(n,r,R,o,j,P,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ef(e,n),g=n.memoizedProps,F=Br(r,g),f.props=F,Y=n.pendingProps,j=f.context,P=r.contextType,R=va,typeof P=="object"&&P!==null&&(R=Qe(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==R)&&Rg(n,f,o,R),Os=!1,j=n.memoizedState,f.state=j,Ko(n,o,f,h),Go();var H=n.memoizedState;g!==Y||j!==H||Os||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof E=="function"&&(wf(n,r,E,o),H=n.memoizedState),(F=Os||wg(n,r,F,o,j,H,R)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Xu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=zr(n,e.child,null,h),n.child=zr(n,null,r,h)):Ye(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Xi(e,n,h),e}function Bg(e,n,r,o){return Mr(),n.flags|=256,Ye(e,n,r,o),n.child}var Nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(e){return{baseLanes:e,cachePool:Np()}}function xf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Rn),e}function Hg(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?Vs(n):ks(),(e=ae)?(e=$y(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Cs!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},r=Tp(e),r.return=n,n.child=r,Ke=n,ae=null)):e=null,e===null)throw Ds(n);return md(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(ks(),h=n.mode,E=$u({mode:"hidden",children:E},h),o=xr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Of(r),o.childLanes=xf(e,g,r),n.memoizedState=Nf,Jo(null,o)):(Vs(n),Mf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Vs(n),n.flags&=-257,n=Vf(e,n,r)):n.memoizedState!==null?(ks(),n.child=e.child,n.flags|=128,n=null):(ks(),E=o.fallback,h=n.mode,o=$u({mode:"visible",children:o.children},h),E=xr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,zr(n,e.child,null,r),o=n.child,o.memoizedState=Of(r),o.childLanes=xf(e,g,r),n.memoizedState=Nf,n=Jo(null,o));else if(Vs(n),md(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,zo({value:o,source:null,stack:null}),n=Vf(e,n,r)}else if(Ne||Aa(e,n,r,!1),g=(r&e.childLanes)!==0,Ne||g){if(g=se,g!==null&&(o=_o(g,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,Or(e,o),gn(g,e,o),If;dd(E)||rc(),n=Vf(e,n,r)}else dd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ae=Bn(E.nextSibling),Ke=n,jt=!0,Is=null,zn=!1,e!==null&&bp(n,e),n=Mf(n,o.children),n.flags|=4096);return n}return h?(ks(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=qi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=qi(P,E):(E=xr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Jo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Of(r):(h=E.cachePool,h!==null?(R=Ie._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Np(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=xf(e,g,r),n.memoizedState=Nf,Jo(e.child,o)):(Vs(n),r=e.child,e=r.sibling,r=qi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Mf(e,n){return n=$u({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $u(e,n){return e=Sn(22,e,null,n),e.lanes=0,e}function Vf(e,n,r){return zr(n,e.child,null,r),e=Mf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function qg(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Yh(e.return,n,r)}function kf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Fg(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Te.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,it(Te,g),Ye(e,n,o,r),o=jt?Po:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qg(e,r,n);else if(e.tag===19)qg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Pu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),kf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}kf(n,!0,r,null,f,o);break;case"together":kf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Xi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Ps|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Aa(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=qi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=qi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Lf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function d1(e,n,r){switch(n.tag){case 3:ye(n,n.stateNode.containerInfo),Ns(n,Ie,e.memoizedState.cache),Mr();break;case 27:case 5:Pi(n);break;case 4:ye(n,n.stateNode.containerInfo);break;case 10:Ns(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,of(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Vs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Hg(e,n,r):(Vs(n),e=Xi(e,n,r),e!==null?e.sibling:null);Vs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Aa(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Fg(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Te,Te.current),o)break;return null;case 22:return n.lanes=0,Lg(e,n,r,n.pendingProps);case 24:Ns(n,Ie,e.memoizedState.cache)}return Xi(e,n,r)}function Gg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Lf(e,r)&&(n.flags&128)===0)return Ne=!1,d1(e,n,r);Ne=(e.flags&131072)!==0}else Ne=!1,jt&&(n.flags&1048576)!==0&&Ap(n,Po,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ur(n.elementType),n.type=e,typeof e=="function")jh(e)?(o=Br(e,o),n.tag=1,n=jg(null,n,e,o,r)):(n.tag=0,n=Df(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===xt){n.tag=11,n=Mg(null,n,e,o,r);break t}else if(h===I){n.tag=14,n=Vg(null,n,e,o,r);break t}}throw n=Wt(e)||e,Error(a(306,n,""))}}return n;case 0:return Df(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Br(o,n.pendingProps),jg(e,n,o,h,r);case 3:t:{if(ye(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,ef(e,n),Ko(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Ns(n,Ie,o),o!==f.cache&&Xh(n,[Ie],r,!0),Go(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Bg(e,n,o,r);break t}else if(o!==h){h=Ln(Error(a(424)),n),zo(h),n=Bg(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ae=Bn(e.firstChild),Ke=n,jt=!0,Is=null,zn=!0,r=Lp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Mr(),o===h){n=Xi(e,n,r);break t}Ye(e,n,o,r)}n=n.child}return n;case 26:return Xu(e,n),e===null?(r=n_(n.type,null,n.pendingProps,null))?n.memoizedState=r:jt||(r=n.type,e=n.pendingProps,o=fc(bt.current).createElement(r),o[we]=n,o[je]=e,Xe(o,r,e),Re(o),n.stateNode=o):n.memoizedState=n_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Pi(n),e===null&&jt&&(o=n.stateNode=Wy(n.type,n.pendingProps,bt.current),Ke=n,zn=!0,h=ae,qs(n.type)?(pd=h,ae=Bn(o.firstChild)):ae=h),Ye(e,n,n.pendingProps.children,r),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=o=ae)&&(o=q1(o,n.type,n.pendingProps,zn),o!==null?(n.stateNode=o,Ke=n,ae=Bn(o.firstChild),zn=!1,h=!0):h=!1),h||Ds(n)),Pi(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,cd(h,f)?o=null:g!==null&&cd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=uf(e,n,s1,null,null,r),fl._currentValue=h),Xu(e,n),Ye(e,n,o,r),n.child;case 6:return e===null&&jt&&((e=r=ae)&&(r=F1(r,n.pendingProps,zn),r!==null?(n.stateNode=r,Ke=n,ae=null,e=!0):e=!1),e||Ds(n)),null;case 13:return Hg(e,n,r);case 4:return ye(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=zr(n,null,o,r):Ye(e,n,o,r),n.child;case 11:return Mg(e,n,n.type,n.pendingProps,r);case 7:return Ye(e,n,n.pendingProps,r),n.child;case 8:return Ye(e,n,n.pendingProps.children,r),n.child;case 12:return Ye(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ns(n,n.type,o.value),Ye(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,kr(n),h=Qe(h),o=o(h),n.flags|=1,Ye(e,n,o,r),n.child;case 14:return Vg(e,n,n.type,n.pendingProps,r);case 15:return kg(e,n,n.type,n.pendingProps,r);case 19:return Fg(e,n,r);case 31:return f1(e,n,r);case 22:return Lg(e,n,r,n.pendingProps);case 24:return kr(n),o=Qe(Ie),e===null?(h=Zh(),h===null&&(h=se,f=$h(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},tf(n),Ns(n,Ie,h)):((e.lanes&r)!==0&&(ef(e,n),Ko(n,null,null,r),Go()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ns(n,Ie,o)):(o=f.cache,Ns(n,Ie,o),o!==h.cache&&Xh(n,[Ie],r,!0))),Ye(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function $i(e){e.flags|=4}function Uf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(_y())e.flags|=8192;else throw Pr=Vu,Wh}else e.flags&=-16777217}function Kg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!o_(n))if(_y())e.flags|=8192;else throw Pr=Vu,Wh}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?iu():536870912,e.lanes|=n,ka|=n)}function Zo(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function oe(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function m1(e,n,r){var o=n.pendingProps;switch(Fh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(n),null;case 1:return oe(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ki(Ie),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Sa(n)?$i(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kh())),oe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?($i(n),f!==null?(oe(n),Kg(n,f)):(oe(n),Uf(n,h,null,o,r))):f?f!==e.memoizedState?($i(n),oe(n),Kg(n,f)):(oe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&$i(n),oe(n),Uf(n,h,e,o,r)),null;case 27:if(ds(n),r=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return oe(n),null}e=rt.current,Sa(n)?wp(n):(e=Wy(h,o,r),n.stateNode=e,$i(n))}return oe(n),null;case 5:if(ds(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return oe(n),null}if(f=rt.current,Sa(n))wp(n);else{var g=fc(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[we]=n,f[je]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Xe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&$i(n)}}return oe(n),Uf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=bt.current,Sa(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Ke,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[we]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Hy(e.nodeValue,r)),e||Ds(n,!0)}else e=fc(e).createTextNode(o),e[we]=n,n.stateNode=e}return oe(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Sa(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[we]=n}else Mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),e=!1}else r=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return oe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Sa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[we]=n}else Mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),h=!1}else h=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Ju(n,n.updateQueue),oe(n),null);case 4:return re(),e===null&&rd(n.stateNode.containerInfo),oe(n),null;case 10:return Ki(n.type),oe(n),null;case 19:if(Q(Te),o=n.memoizedState,o===null)return oe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Zo(o,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Pu(e),f!==null){for(n.flags|=128,Zo(o,!1),e=f.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Ep(r,e),r=r.sibling;return it(Te,Te.current&1|2),jt&&Fi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&_e()>nc&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Pu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!jt)return oe(n),null}else 2*_e()-o.renderingStartTime>nc&&r!==536870912&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=_e(),e.sibling=null,r=Te.current,it(Te,h?r&1|2:r&1),jt&&Fi(n,o.treeForkCount),e):(oe(n),null);case 22:case 23:return bn(n),af(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(oe(n),n.subtreeFlags&6&&(n.flags|=8192)):oe(n),r=n.updateQueue,r!==null&&Ju(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Q(Lr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ki(Ie),oe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function p1(e,n){switch(Fh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ki(Ie),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ds(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(a(340));Mr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(bn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Mr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(Te),null;case 4:return re(),null;case 10:return Ki(n.type),null;case 22:case 23:return bn(n),af(),e!==null&&Q(Lr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ki(Ie),null;case 25:return null;default:return null}}function Qg(e,n){switch(Fh(n),n.tag){case 3:Ki(Ie),re();break;case 26:case 27:case 5:ds(n);break;case 4:re();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:Q(Te);break;case 10:Ki(n.type);break;case 22:case 23:bn(n),af(),e!==null&&Q(Lr);break;case 24:Ki(Ie)}}function Wo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Zt(n,n.return,E)}}function Ls(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=r,P=E;try{P()}catch(F){Zt(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){Zt(n,n.return,F)}}function Yg(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Pp(n,r)}catch(o){Zt(e,e.return,o)}}}function Xg(e,n,r){r.props=Br(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Zt(e,n,o)}}function tl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Zt(e,n,h)}}function Ci(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Zt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Zt(e,n,h)}else r.current=null}function $g(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Zt(e,e.return,h)}}function Pf(e,n,r){try{var o=e.stateNode;U1(o,e.type,r,n),o[je]=n}catch(h){Zt(e,e.return,h)}}function Jg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qs(e.type)||e.tag===4}function zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Jg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=$n));else if(o!==4&&(o===27&&qs(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(jf(e,n,r),e=e.sibling;e!==null;)jf(e,n,r),e=e.sibling}function Zu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&qs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Zu(e,n,r),e=e.sibling;e!==null;)Zu(e,n,r),e=e.sibling}function Zg(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Xe(n,o,r),n[we]=e,n[je]=r}catch(f){Zt(e,e.return,f)}}var Ji=!1,Oe=!1,Bf=!1,Wg=typeof WeakSet=="function"?WeakSet:Set,He=null;function g1(e,n){if(e=e.containerInfo,ld=vc,e=hp(e),Mh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,R=-1,P=0,F=0,Y=e,j=null;e:for(;;){for(var H;Y!==r||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(R=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(H=Y.firstChild)!==null;)j=Y,Y=H;for(;;){if(Y===e)break e;if(j===r&&++P===h&&(E=g),j===f&&++F===o&&(R=g),(H=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=H}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(ud={focusedElem:e,selectionRange:r},vc=!1,He=n;He!==null;)if(n=He,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,He=e;else for(;He!==null;){switch(n=He,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var lt=Br(r.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Zt(r,r.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)fd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,He=e;break}He=n.return}}function ty(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Wi(e,r),o&4&&Wo(5,r);break;case 1:if(Wi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Zt(r,r.return,g)}else{var h=Br(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Zt(r,r.return,g)}}o&64&&Yg(r),o&512&&tl(r,r.return);break;case 3:if(Wi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Pp(e,n)}catch(g){Zt(r,r.return,g)}}break;case 27:n===null&&o&4&&Zg(r);case 26:case 5:Wi(e,r),n===null&&o&4&&$g(r),o&512&&tl(r,r.return);break;case 12:Wi(e,r);break;case 31:Wi(e,r),o&4&&iy(e,r);break;case 13:Wi(e,r),o&4&&sy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=w1.bind(null,r),G1(e,r))));break;case 22:if(o=r.memoizedState!==null||Ji,!o){n=n!==null&&n.memoizedState!==null||Oe,h=Ji;var f=Oe;Ji=o,(Oe=n)&&!f?ts(e,r,(r.subtreeFlags&8772)!==0):Wi(e,r),Ji=h,Oe=f}break;case 30:break;default:Wi(e,r)}}function ey(e){var n=e.alternate;n!==null&&(e.alternate=null,ey(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ra(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,fn=!1;function Zi(e,n,r){for(r=r.child;r!==null;)ny(e,n,r),r=r.sibling}function ny(e,n,r){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Kn,r)}catch{}switch(r.tag){case 26:Oe||Ci(r,n),Zi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Oe||Ci(r,n);var o=he,h=fn;qs(r.type)&&(he=r.stateNode,fn=!1),Zi(e,n,r),ul(r.stateNode),he=o,fn=h;break;case 5:Oe||Ci(r,n);case 6:if(o=he,h=fn,he=null,Zi(e,n,r),he=o,fn=h,he!==null)if(fn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(r.stateNode)}catch(f){Zt(r,n,f)}else try{he.removeChild(r.stateNode)}catch(f){Zt(r,n,f)}break;case 18:he!==null&&(fn?(e=he,Yy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),qa(e)):Yy(he,r.stateNode));break;case 4:o=he,h=fn,he=r.stateNode.containerInfo,fn=!0,Zi(e,n,r),he=o,fn=h;break;case 0:case 11:case 14:case 15:Ls(2,r,n),Oe||Ls(4,r,n),Zi(e,n,r);break;case 1:Oe||(Ci(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Xg(r,n,o)),Zi(e,n,r);break;case 21:Zi(e,n,r);break;case 22:Oe=(o=Oe)||r.memoizedState!==null,Zi(e,n,r),Oe=o;break;default:Zi(e,n,r)}}function iy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qa(e)}catch(r){Zt(n,n.return,r)}}}function sy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qa(e)}catch(r){Zt(n,n.return,r)}}function y1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Wg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Wg),n;default:throw Error(a(435,e.tag))}}function Wu(e,n){var r=y1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=R1.bind(null,e,o);o.then(h,h)}})}function dn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(qs(E.type)){he=E.stateNode,fn=!1;break t}break;case 5:he=E.stateNode,fn=!1;break t;case 3:case 4:he=E.stateNode.containerInfo,fn=!0;break t}E=E.return}if(he===null)throw Error(a(160));ny(f,g,h),he=null,fn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ry(n,e),n=n.sibling}var ni=null;function ry(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(n,e),mn(e),o&4&&(Ls(3,e,e.return),Wo(3,e),Ls(5,e,e.return));break;case 1:dn(n,e),mn(e),o&512&&(Oe||r===null||Ci(r,r.return)),o&64&&Ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ni;if(dn(n,e),mn(e),o&512&&(Oe||r===null||Ci(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[di]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Xe(f,o,r),f[we]=e,Re(f),o=f;break t;case"link":var g=r_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Xe(f,o,r),h.head.appendChild(f);break;case"meta":if(g=r_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Xe(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[we]=e,Re(f),o=f}e.stateNode=o}else a_(h,e.type,e.stateNode);else e.stateNode=s_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?a_(h,e.type,e.stateNode):s_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Pf(e,e.memoizedProps,r.memoizedProps)}break;case 27:dn(n,e),mn(e),o&512&&(Oe||r===null||Ci(r,r.return)),r!==null&&o&4&&Pf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(dn(n,e),mn(e),o&512&&(Oe||r===null||Ci(r,r.return)),e.flags&32){h=e.stateNode;try{hn(h,"")}catch(lt){Zt(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Pf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Bf=!0);break;case 6:if(dn(n,e),mn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(lt){Zt(e,e.return,lt)}}break;case 3:if(pc=null,h=ni,ni=dc(n.containerInfo),dn(n,e),ni=h,mn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(lt){Zt(e,e.return,lt)}Bf&&(Bf=!1,ay(e));break;case 4:o=ni,ni=dc(e.stateNode.containerInfo),dn(n,e),mn(e),ni=o;break;case 12:dn(n,e),mn(e);break;case 31:dn(n,e),mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 13:dn(n,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ec=_e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=Ji,F=Oe;if(Ji=P||h,Oe=F||R,dn(n,e),Oe=F,Ji=P,mn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||Ji||Oe||Hr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){Zt(R,R.return,lt)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(lt){Zt(R,R.return,lt)}}}else if(n.tag===18){if(r===null){R=n;try{var H=R.stateNode;h?Xy(H,!0):Xy(R.stateNode,!1)}catch(lt){Zt(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Wu(e,r))));break;case 19:dn(n,e),mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 30:break;case 21:break;default:dn(n,e),mn(e)}}function mn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Jg(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=zf(e);Zu(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(hn(g,""),r.flags&=-33);var E=zf(e);Zu(e,E,g);break;case 3:case 4:var R=r.stateNode.containerInfo,P=zf(e);jf(e,P,R);break;default:throw Error(a(161))}}catch(F){Zt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ay(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Wi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ty(e,n.alternate,n),n=n.sibling}function Hr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ls(4,n,n.return),Hr(n);break;case 1:Ci(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Xg(n,n.return,r),Hr(n);break;case 27:ul(n.stateNode);case 26:case 5:Ci(n,n.return),Hr(n);break;case 22:n.memoizedState===null&&Hr(n);break;case 30:Hr(n);break;default:Hr(n)}e=e.sibling}}function ts(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ts(h,f,r),Wo(4,f);break;case 1:if(ts(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Zt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Up(R[h],E)}catch(P){Zt(o,o.return,P)}}r&&g&64&&Yg(f),tl(f,f.return);break;case 27:Zg(f);case 26:case 5:ts(h,f,r),r&&o===null&&g&4&&$g(f),tl(f,f.return);break;case 12:ts(h,f,r);break;case 31:ts(h,f,r),r&&g&4&&iy(h,f);break;case 13:ts(h,f,r),r&&g&4&&sy(h,f);break;case 22:f.memoizedState===null&&ts(h,f,r),tl(f,f.return);break;case 30:break;default:ts(h,f,r)}n=n.sibling}}function Hf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&jo(r))}function qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jo(e))}function ii(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)oy(e,n,r,o),n=n.sibling}function oy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ii(e,n,r,o),h&2048&&Wo(9,n);break;case 1:ii(e,n,r,o);break;case 3:ii(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jo(e)));break;case 12:if(h&2048){ii(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Zt(n,n.return,R)}}else ii(e,n,r,o);break;case 31:ii(e,n,r,o);break;case 13:ii(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ii(e,n,r,o):el(e,n):f._visibility&2?ii(e,n,r,o):(f._visibility|=2,xa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Hf(g,n);break;case 24:ii(e,n,r,o),h&2048&&qf(n.alternate,n);break;default:ii(e,n,r,o)}}function xa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,R=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:xa(f,g,E,R,h),Wo(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?xa(f,g,E,R,h):el(f,g):(F._visibility|=2,xa(f,g,E,R,h)),h&&P&2048&&Hf(g.alternate,g);break;case 24:xa(f,g,E,R,h),h&&P&2048&&qf(g.alternate,g);break;default:xa(f,g,E,R,h)}n=n.sibling}}function el(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:el(r,o),h&2048&&Hf(o.alternate,o);break;case 24:el(r,o),h&2048&&qf(o.alternate,o);break;default:el(r,o)}n=n.sibling}}var nl=8192;function Ma(e,n,r){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)ly(e,n,r),e=e.sibling}function ly(e,n,r){switch(e.tag){case 26:Ma(e,n,r),e.flags&nl&&e.memoizedState!==null&&iS(r,ni,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,n,r);break;case 3:case 4:var o=ni;ni=dc(e.stateNode.containerInfo),Ma(e,n,r),ni=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=nl,nl=16777216,Ma(e,n,r),nl=o):Ma(e,n,r));break;default:Ma(e,n,r)}}function uy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function il(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];He=o,hy(o,e)}uy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cy(e),e=e.sibling}function cy(e){switch(e.tag){case 0:case 11:case 15:il(e),e.flags&2048&&Ls(9,e,e.return);break;case 3:il(e);break;case 12:il(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):il(e);break;default:il(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];He=o,hy(o,e)}uy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ls(8,n,n.return),tc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function hy(e,n){for(;He!==null;){var r=He;switch(r.tag){case 0:case 11:case 15:Ls(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:jo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,He=o;else t:for(r=e;He!==null;){o=He;var h=o.sibling,f=o.return;if(ey(o),o===r){He=null;break t}if(h!==null){h.return=f,He=h;break t}He=f}}}var _1={getCacheForType:function(e){var n=Qe(Ie),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Qe(Ie).controller.signal}},v1=typeof WeakMap=="function"?WeakMap:Map,Qt=0,se=null,Nt=null,kt=0,Jt=0,wn=null,Us=!1,Va=!1,Ff=!1,es=0,pe=0,Ps=0,qr=0,Gf=0,Rn=0,ka=0,sl=null,pn=null,Kf=!1,ec=0,fy=0,nc=1/0,ic=null,zs=null,Le=0,js=null,La=null,ns=0,Qf=0,Yf=null,dy=null,rl=0,Xf=null;function Cn(){return(Qt&2)!==0&&kt!==0?kt&-kt:q.T!==null?ed():su()}function my(){if(Rn===0)if((kt&536870912)===0||jt){var e=gr;gr<<=1,(gr&3932160)===0&&(gr=262144),Rn=e}else Rn=536870912;return e=An.current,e!==null&&(e.flags|=32),Rn}function gn(e,n,r){(e===se&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),Bs(e,kt,Rn,!1)),yr(e,r),((Qt&2)===0||e!==se)&&(e===se&&((Qt&2)===0&&(qr|=r),pe===4&&Bs(e,kt,Rn,!1)),Ii(e))}function py(e,n,r){if((Qt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Qn(e,n),h=o?S1(e,n):Jf(e,n,!0),f=o;do{if(h===0){Va&&!o&&Bs(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!E1(r)){h=Jf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=sl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ua(E,g).flags|=256),g=Jf(E,g,!1),g!==2){if(Ff&&!R){E.errorRecoveryDisabledLanes|=f,qr|=f,h=4;break t}f=pn,pn=h,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ua(e,0),Bs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Bs(o,n,Rn,!Us);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ec+300-_e(),10<h)){if(Bs(o,n,Rn,!Us),ci(o,0,!0)!==0)break t;ns=n,o.timeoutHandle=Ky(gy.bind(null,o,r,pn,ic,Kf,n,Rn,qr,ka,Us,f,"Throttled",-0,0),h);break t}gy(o,r,pn,ic,Kf,n,Rn,qr,ka,Us,f,null,-0,0)}}break}while(!0);Ii(e)}function gy(e,n,r,o,h,f,g,E,R,P,F,Y,j,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},ly(n,f,Y);var lt=(f&62914560)===f?ec-_e():(f&4194048)===f?fy-_e():0;if(lt=sS(Y,lt),lt!==null){ns=f,e.cancelPendingCommit=lt(by.bind(null,e,n,f,r,o,h,g,E,R,F,Y,null,j,H)),Bs(e,f,g,!P);return}}by(e,n,f,r,o,h,g,E,R)}function E1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Tn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bs(e,n,r,o){n&=~Gf,n&=~qr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ve(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&_r(e,r,n)}function sc(){return(Qt&6)===0?(al(0),!1):!0}function $f(){if(Nt!==null){if(Jt===0)var e=Nt.return;else e=Nt,Gi=Vr=null,ff(e),Ca=null,Ho=0,e=Nt;for(;e!==null;)Qg(e.alternate,e),e=e.return;Nt=null}}function Ua(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,j1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ns=0,$f(),se=e,Nt=r=qi(e.current,null),kt=n,Jt=0,wn=null,Us=!1,Va=Qn(e,n),Ff=!1,ka=Rn=Gf=qr=Ps=pe=0,pn=sl=null,Kf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ve(o),f=1<<h;n|=e[h],o&=~f}return es=n,wu(),r}function yy(e,n){Rt=null,q.H=$o,n===Ra||n===Mu?(n=Mp(),Jt=3):n===Wh?(n=Mp(),Jt=4):Jt=n===If?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wn=n,Nt===null&&(pe=1,Qu(e,Ln(n,e.current)))}function _y(){var e=An.current;return e===null?!0:(kt&4194048)===kt?jn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===jn:!1}function vy(){var e=q.H;return q.H=$o,e===null?$o:e}function Ey(){var e=q.A;return q.A=_1,e}function rc(){pe=4,Us||(kt&4194048)!==kt&&An.current!==null||(Va=!0),(Ps&134217727)===0&&(qr&134217727)===0||se===null||Bs(se,kt,Rn,!1)}function Jf(e,n,r){var o=Qt;Qt|=2;var h=vy(),f=Ey();(se!==e||kt!==n)&&(ic=null,Ua(e,n)),n=!1;var g=pe;t:do try{if(Jt!==0&&Nt!==null){var E=Nt,R=wn;switch(Jt){case 8:$f(),g=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var P=Jt;if(Jt=0,wn=null,Pa(e,E,R,P),r&&Va){g=0;break t}break;default:P=Jt,Jt=0,wn=null,Pa(e,E,R,P)}}T1(),g=pe;break}catch(F){yy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Gi=Vr=null,Qt=o,q.H=h,q.A=f,Nt===null&&(se=null,kt=0,wu()),g}function T1(){for(;Nt!==null;)Ty(Nt)}function S1(e,n){var r=Qt;Qt|=2;var o=vy(),h=Ey();se!==e||kt!==n?(ic=null,nc=_e()+500,Ua(e,n)):Va=Qn(e,n);t:do try{if(Jt!==0&&Nt!==null){n=Nt;var f=wn;e:switch(Jt){case 1:Jt=0,wn=null,Pa(e,n,f,1);break;case 2:case 9:if(Op(f)){Jt=0,wn=null,Sy(n);break}n=function(){Jt!==2&&Jt!==9||se!==e||(Jt=7),Ii(e)},f.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:Op(f)?(Jt=0,wn=null,Sy(n)):(Jt=0,wn=null,Pa(e,n,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var E=Nt;if(g?o_(g):E.stateNode.complete){Jt=0,wn=null;var R=E.sibling;if(R!==null)Nt=R;else{var P=E.return;P!==null?(Nt=P,ac(P)):Nt=null}break e}}Jt=0,wn=null,Pa(e,n,f,5);break;case 6:Jt=0,wn=null,Pa(e,n,f,6);break;case 8:$f(),pe=6;break t;default:throw Error(a(462))}}A1();break}catch(F){yy(e,F)}while(!0);return Gi=Vr=null,q.H=o,q.A=h,Qt=r,Nt!==null?0:(se=null,kt=0,wu(),pe)}function A1(){for(;Nt!==null&&!Ve();)Ty(Nt)}function Ty(e){var n=Gg(e.alternate,e,es);e.memoizedProps=e.pendingProps,n===null?ac(e):Nt=n}function Sy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=zg(r,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=zg(r,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:ff(n);default:Qg(r,n),n=Nt=Ep(n,es),n=Gg(r,n,es)}e.memoizedProps=e.pendingProps,n===null?ac(e):Nt=n}function Pa(e,n,r,o){Gi=Vr=null,ff(n),Ca=null,Ho=0;var h=n.return;try{if(h1(e,h,n,r,kt)){pe=1,Qu(e,Ln(r,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;pe=1,Qu(e,Ln(r,e.current)),Nt=null;return}n.flags&32768?(jt||o===1?e=!0:Va||(kt&536870912)!==0?e=!1:(Us=e=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ay(n,e)):ac(n)}function ac(e){var n=e;do{if((n.flags&32768)!==0){Ay(n,Us);return}e=n.return;var r=m1(n.alternate,n,es);if(r!==null){Nt=r;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);pe===0&&(pe=5)}function Ay(e,n){do{var r=p1(e.alternate,e);if(r!==null){r.flags&=32767,Nt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=r}while(e!==null);pe=6,Nt=null}function by(e,n,r,o,h,f,g,E,R){e.cancelPendingCommit=null;do oc();while(Le!==0);if((Qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Ph,Dh(e,r,f,g,E,R),e===se&&(Nt=se=null,kt=0),La=n,js=e,ns=r,Qf=f,Yf=h,dy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,C1(ys,function(){return Dy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=nt.p,nt.p=2,g=Qt,Qt|=4;try{g1(e,n,r)}finally{Qt=g,nt.p=h,q.T=o}}Le=1,wy(),Ry(),Cy()}}function wy(){if(Le===1){Le=0;var e=js,n=La,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var o=nt.p;nt.p=2;var h=Qt;Qt|=4;try{ry(n,e);var f=ud,g=hp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&cp(E.ownerDocument.documentElement,E)){if(R!==null&&Mh(E)){var P=R.start,F=R.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var H=j.getSelection(),lt=E.textContent.length,pt=Math.min(R.start,lt),ie=R.end===void 0?pt:Math.min(R.end,lt);!H.extend&&pt>ie&&(g=ie,ie=pt,pt=g);var V=up(E,pt),N=up(E,ie);if(V&&N&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var U=Y.createRange();U.setStart(V.node,V.offset),H.removeAllRanges(),pt>ie?(H.addRange(U),H.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),H.addRange(U))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}vc=!!ld,ud=ld=null}finally{Qt=h,nt.p=o,q.T=r}}e.current=n,Le=2}}function Ry(){if(Le===2){Le=0;var e=js,n=La,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var o=nt.p;nt.p=2;var h=Qt;Qt|=4;try{ty(e,n.alternate,n)}finally{Qt=h,nt.p=o,q.T=r}}Le=3}}function Cy(){if(Le===4||Le===3){Le=0,Dn();var e=js,n=La,r=ns,o=dy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,La=js=null,Iy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(zs=null),zi(r),n=n.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Kn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=nt.p,nt.p=2,q.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{q.T=n,nt.p=h}}(ns&3)!==0&&oc(),Ii(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Xf?rl++:(rl=0,Xf=e):rl=0,al(0)}}function Iy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,jo(n)))}function oc(){return wy(),Ry(),Cy(),Dy()}function Dy(){if(Le!==5)return!1;var e=js,n=Qf;Qf=0;var r=zi(ns),o=q.T,h=nt.p;try{nt.p=32>r?32:r,q.T=null,r=Yf,Yf=null;var f=js,g=ns;if(Le=0,La=js=null,ns=0,(Qt&6)!==0)throw Error(a(331));var E=Qt;if(Qt|=4,cy(f.current),oy(f,f.current,g,r),Qt=E,al(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Kn,f)}catch{}return!0}finally{nt.p=h,q.T=o,Iy(e,n)}}function Ny(e,n,r){n=Ln(r,n),n=Cf(e.stateNode,n,2),e=Ms(e,n,2),e!==null&&(yr(e,2),Ii(e))}function Zt(e,n,r){if(e.tag===3)Ny(e,e,r);else for(;n!==null;){if(n.tag===3){Ny(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(zs===null||!zs.has(o))){e=Ln(r,e),r=Og(2),o=Ms(n,r,2),o!==null&&(xg(r,o,n,e),yr(o,2),Ii(o));break}}n=n.return}}function Zf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new v1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Ff=!0,h.add(r),e=b1.bind(null,e,n,r),n.then(e,e))}function b1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,se===e&&(kt&r)===r&&(pe===4||pe===3&&(kt&62914560)===kt&&300>_e()-ec?(Qt&2)===0&&Ua(e,0):Gf|=r,ka===kt&&(ka=0)),Ii(e)}function Oy(e,n){n===0&&(n=iu()),e=Or(e,n),e!==null&&(yr(e,n),Ii(e))}function w1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Oy(e,r)}function R1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Oy(e,r)}function C1(e,n){return ft(e,n)}var lc=null,za=null,Wf=!1,uc=!1,td=!1,Hs=0;function Ii(e){e!==za&&e.next===null&&(za===null?lc=za=e:za=za.next=e),uc=!0,Wf||(Wf=!0,D1())}function al(e,n){if(!td&&uc){td=!0;do for(var r=!1,o=lc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ve(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,ky(o,f))}else f=kt,f=ci(o,o===se?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Qn(o,f)||(r=!0,ky(o,f));o=o.next}while(r);td=!1}}function I1(){xy()}function xy(){uc=Wf=!1;var e=0;Hs!==0&&z1()&&(e=Hs);for(var n=_e(),r=null,o=lc;o!==null;){var h=o.next,f=My(o,n);f===0?(o.next=null,r===null?lc=h:r.next=h,h===null&&(za=r)):(r=o,(e!==0||(f&3)!==0)&&(uc=!0)),o=h}Le!==0&&Le!==5||al(e),Hs!==0&&(Hs=0)}function My(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ve(f),E=1<<g,R=h[g];R===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Ih(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=se,r=kt,r=ci(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ht(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Qn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Ht(o),zi(r)){case 2:case 8:r=pr;break;case 32:r=ys;break;case 268435456:r=Zl;break;default:r=ys}return o=Vy.bind(null,e),r=ft(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Ht(o),e.callbackPriority=2,e.callbackNode=null,2}function Vy(e,n){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(oc()&&e.callbackNode!==r)return null;var o=kt;return o=ci(e,e===se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(py(e,o,n),My(e,_e()),e.callbackNode!=null&&e.callbackNode===r?Vy.bind(null,e):null)}function ky(e,n){if(oc())return null;py(e,n,!0)}function D1(){B1(function(){(Qt&6)!==0?ft(ke,I1):xy()})}function ed(){if(Hs===0){var e=ba;e===0&&(e=li,li<<=1,(li&261888)===0&&(li=256)),Hs=e}return Hs}function Ly(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ua(""+e)}function Uy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function N1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Ly((h[je]||null).action),g=o.submitter;g&&(n=(n=g[je]||null)?Ly(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ti("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hs!==0){var R=g?Uy(h,g):new FormData(h);Tf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Uy(h,g):new FormData(h),Tf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var nd=0;nd<Uh.length;nd++){var id=Uh[nd],O1=id.toLowerCase(),x1=id[0].toUpperCase()+id.slice(1);ei(O1,"on"+x1)}ei(mp,"onAnimationEnd"),ei(pp,"onAnimationIteration"),ei(gp,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(YT,"onTransitionRun"),ei(XT,"onTransitionStart"),ei($T,"onTransitionCancel"),ei(yp,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function Py(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(F){bu(F)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(F){bu(F)}h.currentTarget=null,f=R}}}}function Ot(e,n){var r=n[sa];r===void 0&&(r=n[sa]=new Set);var o=e+"__bubble";r.has(o)||(zy(n,e,2,!1),r.add(o))}function sd(e,n,r){var o=0;n&&(o|=4),zy(r,e,o,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[cc]){e[cc]=!0,vo.forEach(function(r){r!=="selectionchange"&&(M1.has(r)||sd(r,!1,e),sd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,sd("selectionchange",!1,n))}}function zy(e,n,r,o){switch(m_(n)){case 2:var h=oS;break;case 8:h=lS;break;default:h=Ed}r=h.bind(null,n,r,e),h=void 0,!Ar||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function ad(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=mi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}As(function(){var P=f,F=xn(r),Y=[];t:{var j=_p.get(e);if(j!==void 0){var H=Ti,lt=e;switch(e){case"keypress":if(wr(r)===0)break t;case"keydown":case"keyup":H=Tu;break;case"focusin":lt="focus",H=Cr;break;case"focusout":lt="blur",H=Cr;break;case"beforeblur":case"afterblur":H=Cr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case mp:case pp:case gp:H=mu;break;case yp:H=T;break;case"scroll":case"scrollend":H=Oo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Hi;break;case"toggle":case"beforetoggle":H=wt}var pt=(n&4)!==0,ie=!pt&&(e==="scroll"||e==="scrollend"),V=pt?j!==null?j+"Capture":null:j;pt=[];for(var N=P,U;N!==null;){var K=N;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||V===null||(K=Jn(N,V),K!=null&&pt.push(ll(N,K,U))),ie)break;N=N.return}0<pt.length&&(j=new H(j,lt,null,r,F),Y.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&r!==Io&&(lt=r.relatedTarget||r.fromElement)&&(mi(lt)||lt[fi]))break t;if((H||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,H?(lt=r.relatedTarget||r.toElement,H=P,lt=lt?mi(lt):null,lt!==null&&(ie=c(lt),pt=lt.tag,lt!==ie||pt!==5&&pt!==27&&pt!==6)&&(lt=null)):(H=null,lt=P),H!==lt)){if(pt=xo,K="onMouseLeave",V="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Hi,K="onPointerLeave",V="onPointerEnter",N="pointer"),ie=H==null?j:vn(H),U=lt==null?j:vn(lt),j=new pt(K,N+"leave",H,r,F),j.target=ie,j.relatedTarget=U,K=null,mi(F)===P&&(pt=new pt(V,N+"enter",lt,r,F),pt.target=U,pt.relatedTarget=ie,K=pt),ie=K,H&&lt)e:{for(pt=V1,V=H,N=lt,U=0,K=V;K;K=pt(K))U++;K=0;for(var dt=N;dt;dt=pt(dt))K++;for(;0<U-K;)V=pt(V),U--;for(;0<K-U;)N=pt(N),K--;for(;U--;){if(V===N||N!==null&&V===N.alternate){pt=V;break e}V=pt(V),N=pt(N)}pt=null}else pt=null;H!==null&&jy(Y,j,H,pt,!1),lt!==null&&ie!==null&&jy(Y,ie,lt,pt,!0)}}t:{if(j=P?vn(P):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Ft=ip;else if(ep(j))if(sp)Ft=GT;else{Ft=qT;var ut=HT}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&la(P.elementType)&&(Ft=ip):Ft=FT;if(Ft&&(Ft=Ft(e,P))){np(Y,Ft,r,F);break t}ut&&ut(e,j,P),e==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&wo(j,"number",j.value)}switch(ut=P?vn(P):window,e){case"focusin":(ep(ut)||ut.contentEditable==="true")&&(ga=ut,Vh=P,Uo=null);break;case"focusout":Uo=Vh=ga=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,fp(Y,r,F);break;case"selectionchange":if(QT)break;case"keydown":case"keyup":fp(Y,r,F)}var Ct;if(Kt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else pa?Ir(e,r)&&(Lt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Lt="onCompositionStart");Lt&&(bi&&r.locale!=="ko"&&(pa||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&pa&&(Ct=No()):(Ei=F,Do="value"in Ei?Ei.value:Ei.textContent,pa=!0)),ut=hc(P,Lt),0<ut.length&&(Lt=new Ai(Lt,e,null,r,F),Y.push({event:Lt,listeners:ut}),Ct?Lt.data=Ct:(Ct=ma(r),Ct!==null&&(Lt.data=Ct)))),(Ct=Vn?PT(e,r):zT(e,r))&&(Lt=hc(P,"onBeforeInput"),0<Lt.length&&(ut=new Ai("onBeforeInput","beforeinput",null,r,F),Y.push({event:ut,listeners:Lt}),ut.data=Ct)),N1(Y,e,P,r,F)}Py(Y,n)})}function ll(e,n,r){return{instance:e,listener:n,currentTarget:r}}function hc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Jn(e,r),h!=null&&o.unshift(ll(e,h,f)),h=Jn(e,n),h!=null&&o.push(ll(e,h,f))),e.tag===3)return o;e=e.return}return[]}function V1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jy(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=Jn(r,f),P!=null&&g.unshift(ll(r,P,R))):h||(P=Jn(r,f),P!=null&&g.push(ll(r,P,R)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var k1=/\r\n?/g,L1=/\u0000|\uFFFD/g;function By(e){return(typeof e=="string"?e:""+e).replace(k1,`
`).replace(L1,"")}function Hy(e,n){return n=By(n),By(e)===n}function ne(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||hn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&hn(e,""+o);break;case"className":En(e,"class",o);break;case"tabIndex":En(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":En(e,r,o);break;case"style":Co(e,o,f);break;case"data":if(n!=="object"){En(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ua(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ne(e,n,"name",h.name,h,null),ne(e,n,"formEncType",h.formEncType,h,null),ne(e,n,"formMethod",h.formMethod,h,null),ne(e,n,"formTarget",h.formTarget,h,null)):(ne(e,n,"encType",h.encType,h,null),ne(e,n,"method",h.method,h,null),ne(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ua(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=$n);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ua(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),aa(e,"popover",o);break;case"xlinkActuate":Ce(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ce(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ce(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ce(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ce(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ce(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":aa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=hu.get(r)||r,aa(e,r,o))}}function od(e,n,r,o,h,f){switch(r){case"style":Co(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?hn(e,o):(typeof o=="number"||typeof o=="bigint")&&hn(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[je]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):aa(e,r,o)}}}function Xe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,f,g,r,null)}}h&&ne(e,n,"srcSet",r.srcSet,r,null),o&&ne(e,n,"src",r.src,r,null);return;case"input":Ot("invalid",e);var E=f=g=h=null,R=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":R=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:ne(e,n,o,F,r,null)}}lu(e,f,E,R,P,g,h,!1);return;case"select":Ot("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ne(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?vs(e,!!o,n,!1):r!=null&&vs(e,!!o,r,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ne(e,n,g,E,r,null)}Es(e,o,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ne(e,n,R,o,r,null));return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<ol.length;o++)Ot(ol[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,P,o,r,null)}return;default:if(la(n)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&od(e,n,F,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&ne(e,n,E,o,r,null))}function U1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,P=null,F=null;for(H in r){var Y=r[H];if(r.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(H)||ne(e,n,H,null,o,Y)}}for(var j in o){var H=o[j];if(Y=r[j],o.hasOwnProperty(j)&&(H!=null||Y!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&ne(e,n,j,H,o,Y)}}oa(e,g,E,R,P,F,f,h);return;case"select":H=g=E=j=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:o.hasOwnProperty(f)||ne(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&ne(e,n,h,f,o,R)}n=E,r=g,o=H,j!=null?vs(e,!!r,j,!1):!!o!=!!r&&(n!=null?vs(e,!!r,n,!0):vs(e,!!r,r?[]:"",!1));return;case"textarea":H=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ne(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ne(e,n,g,h,o,f)}uu(e,j,H);return;case"option":for(var lt in r)j=r[lt],r.hasOwnProperty(lt)&&j!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:ne(e,n,lt,null,o,j));for(R in o)j=o[R],H=r[R],o.hasOwnProperty(R)&&j!==H&&(j!=null||H!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":ne(e,n,R,j,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)j=r[pt],r.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&ne(e,n,pt,null,o,j);for(P in o)if(j=o[P],H=r[P],o.hasOwnProperty(P)&&j!==H&&(j!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:ne(e,n,P,j,o,H)}return;default:if(la(n)){for(var ie in r)j=r[ie],r.hasOwnProperty(ie)&&j!==void 0&&!o.hasOwnProperty(ie)&&od(e,n,ie,void 0,o,j);for(F in o)j=o[F],H=r[F],!o.hasOwnProperty(F)||j===H||j===void 0&&H===void 0||od(e,n,F,j,o,H);return}}for(var V in r)j=r[V],r.hasOwnProperty(V)&&j!=null&&!o.hasOwnProperty(V)&&ne(e,n,V,null,o,j);for(Y in o)j=o[Y],H=r[Y],!o.hasOwnProperty(Y)||j===H||j==null&&H==null||ne(e,n,Y,j,o,H)}function qy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function P1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&qy(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],P=R.startTime;if(P>E)break;var F=R.transferSize,Y=R.initiatorType;F&&qy(Y)&&(R=R.responseEnd,g+=F*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ld=null,ud=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function Fy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function cd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hd=null;function z1(){var e=window.event;return e&&e.type==="popstate"?e===hd?!1:(hd=e,!0):(hd=null,!1)}var Ky=typeof setTimeout=="function"?setTimeout:void 0,j1=typeof clearTimeout=="function"?clearTimeout:void 0,Qy=typeof Promise=="function"?Promise:void 0,B1=typeof queueMicrotask=="function"?queueMicrotask:typeof Qy<"u"?function(e){return Qy.resolve(null).then(e).catch(H1)}:Ky;function H1(e){setTimeout(function(){throw e})}function qs(e){return e==="head"}function Yy(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),qa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")ul(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ul(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[di]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&ul(e.ownerDocument.body);r=h}while(r);qa(n)}function Xy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function fd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":fd(r),ra(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function q1(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[di])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function F1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Bn(e.nextSibling),e===null))return null;return e}function $y(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bn(e.nextSibling),e===null))return null;return e}function dd(e){return e.data==="$?"||e.data==="$~"}function md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function G1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Bn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var pd=null;function Jy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Bn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Zy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Wy(e,n,r){switch(n=fc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ul(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ra(e)}var Hn=new Map,t_=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var is=nt.d;nt.d={f:K1,r:Q1,D:Y1,C:X1,L:$1,m:J1,X:W1,S:Z1,M:tS};function K1(){var e=is.f(),n=sc();return e||n}function Q1(e){var n=On(e);n!==null&&n.tag===5&&n.type==="form"?yg(n):is.r(e)}var ja=typeof document>"u"?null:document;function e_(e,n,r){var o=ja;if(o&&typeof n=="string"&&n){var h=cn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),t_.has(h)||(t_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Xe(n,"link",e),Re(n),o.head.appendChild(n)))}}function Y1(e){is.D(e),e_("dns-prefetch",e,null)}function X1(e,n){is.C(e,n),e_("preconnect",e,n)}function $1(e,n,r){is.L(e,n,r);var o=ja;if(o&&e&&n){var h='link[rel="preload"][as="'+cn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+cn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+cn(r.imageSizes)+'"]')):h+='[href="'+cn(e)+'"]';var f=h;switch(n){case"style":f=Ba(e);break;case"script":f=Ha(e)}Hn.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Hn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(cl(f))||n==="script"&&o.querySelector(hl(f))||(n=o.createElement("link"),Xe(n,"link",e),Re(n),o.head.appendChild(n)))}}function J1(e,n){is.m(e,n);var r=ja;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+cn(o)+'"][href="'+cn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ha(e)}if(!Hn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Hn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(hl(f)))return}o=r.createElement("link"),Xe(o,"link",e),Re(o),r.head.appendChild(o)}}}function Z1(e,n,r){is.S(e,n,r);var o=ja;if(o&&e){var h=pi(o).hoistableStyles,f=Ba(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(cl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Hn.get(f))&&gd(e,r);var R=g=o.createElement("link");Re(R),Xe(R,"link",e),R._p=new Promise(function(P,F){R.onload=P,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function W1(e,n){is.X(e,n);var r=ja;if(r&&e){var o=pi(r).hoistableScripts,h=Ha(e),f=o.get(h);f||(f=r.querySelector(hl(h)),f||(e=b({src:e,async:!0},n),(n=Hn.get(h))&&yd(e,n),f=r.createElement("script"),Re(f),Xe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function tS(e,n){is.M(e,n);var r=ja;if(r&&e){var o=pi(r).hoistableScripts,h=Ha(e),f=o.get(h);f||(f=r.querySelector(hl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Hn.get(h))&&yd(e,n),f=r.createElement("script"),Re(f),Xe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function n_(e,n,r,o){var h=(h=bt.current)?dc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ba(r.href),r=pi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ba(r.href);var f=pi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(cl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Hn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Hn.set(e,r),f||eS(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ha(r),r=pi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ba(e){return'href="'+cn(e)+'"'}function cl(e){return'link[rel="stylesheet"]['+e+"]"}function i_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function eS(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Xe(n,"link",r),Re(n),e.head.appendChild(n))}function Ha(e){return'[src="'+cn(e)+'"]'}function hl(e){return"script[async]"+e}function s_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+cn(r.href)+'"]');if(o)return n.instance=o,Re(o),o;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Re(o),Xe(o,"style",h),mc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ba(r.href);var f=e.querySelector(cl(h));if(f)return n.state.loading|=4,n.instance=f,Re(f),f;o=i_(r),(h=Hn.get(h))&&gd(o,h),f=(e.ownerDocument||e).createElement("link"),Re(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Xe(f,"link",o),n.state.loading|=4,mc(f,r.precedence,e),n.instance=f;case"script":return f=Ha(r.src),(h=e.querySelector(hl(f)))?(n.instance=h,Re(h),h):(o=r,(h=Hn.get(f))&&(o=b({},r),yd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Re(h),Xe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,mc(o,r.precedence,e));return n.instance}function mc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function r_(e,n,r){if(pc===null){var o=new Map,h=pc=new Map;h.set(r,o)}else h=pc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[di]||f[we]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function a_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function nS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function o_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function iS(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ba(o.href),f=n.querySelector(cl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Re(f);return}f=n.ownerDocument||n,o=i_(o),(h=Hn.get(h))&&gd(o,h),f=f.createElement("link"),Re(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Xe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=gc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var _d=0;function sS(e,n){return e.stylesheets&&e.count===0&&_c(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&_d===0&&(_d=62500*P1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>_d?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function _c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(rS,e),yc=null,gc.call(e))}function rS(e,n){if(!(n.state.loading&4)){var r=yc.get(e);if(r)var o=r.get(null);else{r=new Map,yc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var fl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function aS(e,n,r,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function l_(e,n,r,o,h,f,g,E,R,P,F,Y){return e=new aS(e,n,r,g,R,P,F,Y,E),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),e.current=f,f.stateNode=e,n=$h(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},tf(f),e}function u_(e){return e?(e=va,e):va}function c_(e,n,r,o,h,f){h=u_(h),o.context===null?o.context=h:o.pendingContext=h,o=xs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Ms(e,o,n),r!==null&&(gn(r,e,n),Fo(r,e,n))}function h_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function vd(e,n){h_(e,n),(e=e.alternate)&&h_(e,n)}function f_(e){if(e.tag===13||e.tag===31){var n=Or(e,67108864);n!==null&&gn(n,e,67108864),vd(e,67108864)}}function d_(e){if(e.tag===13||e.tag===31){var n=Cn();n=vr(n);var r=Or(e,n);r!==null&&gn(r,e,n),vd(e,n)}}var vc=!0;function oS(e,n,r,o){var h=q.T;q.T=null;var f=nt.p;try{nt.p=2,Ed(e,n,r,o)}finally{nt.p=f,q.T=h}}function lS(e,n,r,o){var h=q.T;q.T=null;var f=nt.p;try{nt.p=8,Ed(e,n,r,o)}finally{nt.p=f,q.T=h}}function Ed(e,n,r,o){if(vc){var h=Td(o);if(h===null)ad(e,n,o,Ec,r),p_(e,o);else if(cS(h,e,n,r,o))o.stopPropagation();else if(p_(e,o),n&4&&-1<uS.indexOf(e)){for(;h!==null;){var f=On(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ui(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-ve(g);E.entanglements[1]|=R,g&=~R}Ii(f),(Qt&6)===0&&(nc=_e()+500,al(0))}}break;case 31:case 13:E=Or(f,2),E!==null&&gn(E,f,2),sc(),vd(f,2)}if(f=Td(o),f===null&&ad(e,n,o,Ec,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else ad(e,n,o,null,r)}}function Td(e){return e=xn(e),Sd(e)}var Ec=null;function Sd(e){if(Ec=null,e=mi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function m_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(an()){case ke:return 2;case pr:return 8;case ys:case Ch:return 32;case Zl:return 268435456;default:return 32}default:return 32}}var Ad=!1,Fs=null,Gs=null,Ks=null,dl=new Map,ml=new Map,Qs=[],uS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p_(e,n){switch(e){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(n.pointerId)}}function pl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=On(n),n!==null&&f_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function cS(e,n,r,o,h){switch(n){case"focusin":return Fs=pl(Fs,e,n,r,o,h),!0;case"dragenter":return Gs=pl(Gs,e,n,r,o,h),!0;case"mouseover":return Ks=pl(Ks,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return dl.set(f,pl(dl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ml.set(f,pl(ml.get(f)||null,e,n,r,o,h)),!0}return!1}function g_(e){var n=mi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Yn(e.priority,function(){d_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Yn(e.priority,function(){d_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Td(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Io=o,r.target.dispatchEvent(o),Io=null}else return n=On(r),n!==null&&f_(n),e.blockedOn=r,!1;n.shift()}return!0}function y_(e,n,r){Tc(e)&&r.delete(n)}function hS(){Ad=!1,Fs!==null&&Tc(Fs)&&(Fs=null),Gs!==null&&Tc(Gs)&&(Gs=null),Ks!==null&&Tc(Ks)&&(Ks=null),dl.forEach(y_),ml.forEach(y_)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ad||(Ad=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,hS)))}var Ac=null;function __(e){Ac!==e&&(Ac=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Sd(o||r)===null)continue;break}var f=On(r);f!==null&&(e.splice(n,3),n-=3,Tf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function qa(e){function n(R){return Sc(R,e)}Fs!==null&&Sc(Fs,e),Gs!==null&&Sc(Gs,e),Ks!==null&&Sc(Ks,e),dl.forEach(n),ml.forEach(n);for(var r=0;r<Qs.length;r++){var o=Qs[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Qs.length&&(r=Qs[0],r.blockedOn===null);)g_(r),r.blockedOn===null&&Qs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[je]||null;if(typeof f=="function")g||__(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[je]||null)E=g.formAction;else if(Sd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),__(r)}}}function v_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function bd(e){this._internalRoot=e}bc.prototype.render=bd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Cn();c_(r,o,e,n,null,null)},bc.prototype.unmount=bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;c_(e.current,2,null,e,null,null),sc(),n[fi]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var n=su();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Qs.length&&n!==0&&n<Qs[r].priority;r++);Qs.splice(r,0,e),r===0&&g_(e)}};var E_=t.version;if(E_!=="19.2.4")throw Error(a(527,E_,"19.2.4"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var fS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Kn=wc.inject(fS),Fe=wc}catch{}}return yl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Cg,f=Ig,g=Dg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=l_(e,1,!1,null,null,r,o,null,h,f,g,v_),e[fi]=n.current,rd(e),new bd(n)},yl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Cg,g=Ig,E=Dg,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=l_(e,1,!0,n,r??null,o,h,R,f,g,E,v_),n.context=u_(null),r=n.current,o=Cn(),o=vr(o),h=xs(o),h.callback=null,Ms(r,h,o),r=o,n.current.lanes=r,yr(n,r),Ii(n),e[fi]=n.current,rd(e),new bc(n)},yl.version="19.2.4",yl}var N_;function SS(){if(N_)return Cd.exports;N_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Cd.exports=TS(),Cd.exports}var AS=SS();const f0=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const bS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const wS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const O_=s=>{const t=wS(s);return t.charAt(0).toUpperCase()+t.slice(1)};var RS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const CS=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const IS=Yt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>Yt.createElement("svg",{ref:y,...RS,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:f0("lucide",l),...!c&&!CS(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,S])=>Yt.createElement(_,S)),...Array.isArray(c)?c:[c]]));const ge=(s,t)=>{const i=Yt.forwardRef(({className:a,...l},c)=>Yt.createElement(IS,{ref:c,iconNode:t,className:f0(`lucide-${bS(O_(s))}`,`lucide-${s}`,a),...l}));return i.displayName=O_(s),i};const DS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],NS=ge("award",DS);const OS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xS=ge("calendar",OS);const MS=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],VS=ge("chart-pie",MS);const kS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],LS=ge("check",kS);const US=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],PS=ge("chevron-left",US);const zS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jS=ge("chevron-right",zS);const BS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],HS=ge("circle-check",BS);const qS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],FS=ge("circle-user",qS);const GS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],KS=ge("circle",GS);const QS=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],YS=ge("layout-dashboard",QS);const XS=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],$S=ge("list-todo",XS);const JS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ZS=ge("log-out",JS);const WS=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],tA=ge("moon",WS);const eA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],nA=ge("pen",eA);const iA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sA=ge("plus",iA);const rA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],aA=ge("refresh-cw",rA);const oA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lA=ge("shield-check",oA);const uA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],cA=ge("sun",uA);const hA=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],fA=ge("text-align-start",hA);const dA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Od=ge("trash-2",dA);const mA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],x_=ge("trending-up",mA);const pA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gA=ge("x",pA),yA=()=>{};var M_={};const d0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},_A=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},m0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,S=c>>2,b=(c&3)<<4|p>>4;let x=(p&15)<<2|_>>6,G=_&63;y||(G=64,d||(x=64)),a.push(i[S],i[b],i[x],i[G])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(d0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):_A(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||b==null)throw new vA;const x=c<<2|p>>4;if(a.push(x),_!==64){const G=p<<4&240|_>>2;if(a.push(G),b!==64){const Z=_<<6&192|b;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class vA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EA=function(s){const t=d0(s);return m0.encodeByteArray(t,!0)},Hc=function(s){return EA(s).replace(/\./g,"")},p0=function(s){try{return m0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function TA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const SA=()=>TA().__FIREBASE_DEFAULTS__,AA=()=>{if(typeof process>"u"||typeof M_>"u")return;const s=M_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},bA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&p0(s[1]);return t&&JSON.parse(t)},uh=()=>{try{return yA()||SA()||AA()||bA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},g0=s=>uh()?.emulatorHosts?.[s],wA=s=>{const t=g0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},y0=()=>uh()?.config,_0=s=>uh()?.[`_${s}`];class RA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function uo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function v0(s){return(await fetch(s,{credentials:"include"})).ok}function CA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const Rl={};function IA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Rl))Rl[t]?s.emulator.push(t):s.prod.push(t);return s}function DA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let V_=!1;function E0(s,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Rl[s]===t||Rl[s]||V_)return;Rl[s]=t;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",c=IA().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,G){x.setAttribute("width","24"),x.setAttribute("id",G),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{V_=!0,d()},x}function S(x,G){x.setAttribute("id",G),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=DA(a),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),et=i("learnmore"),W=document.getElementById(et)||document.createElement("a"),st=i("preprendIcon"),Et=document.getElementById(st)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const gt=x.element;p(gt),S(W,et);const xt=_();y(Et,st),gt.append(Et,Z,W,xt),document.body.appendChild(gt)}c?(Z.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function OA(){const s=uh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function VA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kA(){const s=rn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function LA(){return!OA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UA(){try{return typeof indexedDB=="object"}catch{return!1}}function PA(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const zA="FirebaseError";class fs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=zA,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?jA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new fs(l,p,a)}}function jA(s,t){return s.replace(BA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const BA=/\{\$([^}]+)}/g;function HA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Yr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(k_(c)&&k_(d)){if(!Yr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function k_(s){return s!==null&&typeof s=="object"}function Hl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function El(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Tl(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function qA(s,t){const i=new FA(s,t);return i.subscribe.bind(i)}class FA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");GA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=xd),l.error===void 0&&(l.error=xd),l.complete===void 0&&(l.complete=xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GA(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function xd(){}function un(s){return s&&s._delegate?s._delegate:s}class Xr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Fr="[DEFAULT]";class KA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new RA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(YA(t))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Fr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fr){return this.instances.has(t)}getOptions(t=Fr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:QA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Fr){return this.component?this.component.multipleInstances?t:Fr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QA(s){return s===Fr?void 0:s}function YA(s){return s.instantiationMode==="EAGER"}class XA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new KA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const $A={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},JA=Ut.INFO,ZA={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},WA=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=ZA[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gm{constructor(t){this.name=t,this._logLevel=JA,this._logHandler=WA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$A[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const tb=(s,t)=>t.some(i=>s instanceof i);let L_,U_;function eb(){return L_||(L_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nb(){return U_||(U_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T0=new WeakMap,Fd=new WeakMap,S0=new WeakMap,Md=new WeakMap,ym=new WeakMap;function ib(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(er(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&T0.set(i,s)}).catch(()=>{}),ym.set(t,s),t}function sb(s){if(Fd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Fd.set(s,t)}let Gd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Fd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||S0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return er(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function rb(s){Gd=s(Gd)}function ab(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Vd(this),t,...i);return S0.set(a,t.sort?t.sort():[t]),er(a)}:nb().includes(s)?function(...t){return s.apply(Vd(this),t),er(T0.get(this))}:function(...t){return er(s.apply(Vd(this),t))}}function ob(s){return typeof s=="function"?ab(s):(s instanceof IDBTransaction&&sb(s),tb(s,eb())?new Proxy(s,Gd):s)}function er(s){if(s instanceof IDBRequest)return ib(s);if(Md.has(s))return Md.get(s);const t=ob(s);return t!==s&&(Md.set(s,t),ym.set(t,s)),t}const Vd=s=>ym.get(s);function lb(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=er(d);return a&&d.addEventListener("upgradeneeded",y=>{a(er(d.result),y.oldVersion,y.newVersion,er(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const ub=["get","getKey","getAll","getAllKeys","count"],cb=["put","add","delete","clear"],kd=new Map;function P_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(kd.get(t))return kd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=cb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||ub.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return kd.set(t,c),c}rb(s=>({...s,get:(t,i,a)=>P_(t,i)||s.get(t,i,a),has:(t,i)=>!!P_(t,i)||s.has(t,i)}));class hb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(fb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function fb(s){return s.getComponent()?.type==="VERSION"}const Kd="@firebase/app",z_="0.14.7";const os=new gm("@firebase/app"),db="@firebase/app-compat",mb="@firebase/analytics-compat",pb="@firebase/analytics",gb="@firebase/app-check-compat",yb="@firebase/app-check",_b="@firebase/auth",vb="@firebase/auth-compat",Eb="@firebase/database",Tb="@firebase/data-connect",Sb="@firebase/database-compat",Ab="@firebase/functions",bb="@firebase/functions-compat",wb="@firebase/installations",Rb="@firebase/installations-compat",Cb="@firebase/messaging",Ib="@firebase/messaging-compat",Db="@firebase/performance",Nb="@firebase/performance-compat",Ob="@firebase/remote-config",xb="@firebase/remote-config-compat",Mb="@firebase/storage",Vb="@firebase/storage-compat",kb="@firebase/firestore",Lb="@firebase/ai",Ub="@firebase/firestore-compat",Pb="firebase",zb="12.8.0";const Qd="[DEFAULT]",jb={[Kd]:"fire-core",[db]:"fire-core-compat",[pb]:"fire-analytics",[mb]:"fire-analytics-compat",[yb]:"fire-app-check",[gb]:"fire-app-check-compat",[_b]:"fire-auth",[vb]:"fire-auth-compat",[Eb]:"fire-rtdb",[Tb]:"fire-data-connect",[Sb]:"fire-rtdb-compat",[Ab]:"fire-fn",[bb]:"fire-fn-compat",[wb]:"fire-iid",[Rb]:"fire-iid-compat",[Cb]:"fire-fcm",[Ib]:"fire-fcm-compat",[Db]:"fire-perf",[Nb]:"fire-perf-compat",[Ob]:"fire-rc",[xb]:"fire-rc-compat",[Mb]:"fire-gcs",[Vb]:"fire-gcs-compat",[kb]:"fire-fst",[Ub]:"fire-fst-compat",[Lb]:"fire-vertex","fire-js":"fire-js",[Pb]:"fire-js-all"};const qc=new Map,Bb=new Map,Yd=new Map;function j_(s,t){try{s.container.addComponent(t)}catch(i){os.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function no(s){const t=s.name;if(Yd.has(t))return os.debug(`There were multiple attempts to register component ${t}.`),!1;Yd.set(t,s);for(const i of qc.values())j_(i,s);for(const i of Bb.values())j_(i,s);return!0}function _m(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function In(s){return s==null?!1:s.settings!==void 0}const Hb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nr=new Bl("app","Firebase",Hb);class qb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const co=zb;function A0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Qd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw nr.create("bad-app-name",{appName:String(l)});if(i||(i=y0()),!i)throw nr.create("no-options");const c=qc.get(l);if(c){if(Yr(i,c.options)&&Yr(a,c.config))return c;throw nr.create("duplicate-app",{appName:l})}const d=new XA(l);for(const y of Yd.values())d.addComponent(y);const p=new qb(i,a,d);return qc.set(l,p),p}function b0(s=Qd){const t=qc.get(s);if(!t&&s===Qd&&y0())return A0();if(!t)throw nr.create("no-app",{appName:s});return t}function ir(s,t,i){let a=jb[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),os.warn(d.join(" "));return}no(new Xr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const Fb="firebase-heartbeat-database",Gb=1,xl="firebase-heartbeat-store";let Ld=null;function w0(){return Ld||(Ld=lb(Fb,Gb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(xl)}catch(i){console.warn(i)}}}}).catch(s=>{throw nr.create("idb-open",{originalErrorMessage:s.message})})),Ld}async function Kb(s){try{const i=(await w0()).transaction(xl),a=await i.objectStore(xl).get(R0(s));return await i.done,a}catch(t){if(t instanceof fs)os.warn(t.message);else{const i=nr.create("idb-get",{originalErrorMessage:t?.message});os.warn(i.message)}}}async function B_(s,t){try{const a=(await w0()).transaction(xl,"readwrite");await a.objectStore(xl).put(t,R0(s)),await a.done}catch(i){if(i instanceof fs)os.warn(i.message);else{const a=nr.create("idb-set",{originalErrorMessage:i?.message});os.warn(a.message)}}}function R0(s){return`${s.name}!${s.options.appId}`}const Qb=1024,Yb=30;class Xb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Jb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=H_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Yb){const l=Zb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){os.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=H_(),{heartbeatsToSend:i,unsentEntries:a}=$b(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return os.warn(t),""}}}function H_(){return new Date().toISOString().substring(0,10)}function $b(s,t=Qb){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),q_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),q_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Jb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UA()?PA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Kb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return B_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return B_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function q_(s){return Hc(JSON.stringify({version:2,heartbeats:s})).length}function Zb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function Wb(s){no(new Xr("platform-logger",t=>new hb(t),"PRIVATE")),no(new Xr("heartbeat",t=>new Xb(t),"PRIVATE")),ir(Kd,z_,s),ir(Kd,z_,"esm2020"),ir("fire-js","")}Wb("");var tw="firebase",ew="12.8.0";ir(tw,ew,"app");function C0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nw=C0,I0=new Bl("auth","Firebase",C0());const Fc=new gm("@firebase/auth");function iw(s,...t){Fc.logLevel<=Ut.WARN&&Fc.warn(`Auth (${co}): ${s}`,...t)}function xc(s,...t){Fc.logLevel<=Ut.ERROR&&Fc.error(`Auth (${co}): ${s}`,...t)}function oi(s,...t){throw vm(s,...t)}function Ni(s,...t){return vm(s,...t)}function D0(s,t,i){const a={...nw(),[t]:i};return new Bl("auth","Firebase",a).create(t,{appName:s.name})}function Oi(s){return D0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return I0.create(s,...t)}function yt(s,t,...i){if(!s)throw vm(t,...i)}function ss(s){const t="INTERNAL ASSERTION FAILED: "+s;throw xc(t),new Error(t)}function ls(s,t){s||ss(t)}function Xd(){return typeof self<"u"&&self.location?.href||""}function sw(){return F_()==="http:"||F_()==="https:"}function F_(){return typeof self<"u"&&self.location?.protocol||null}function rw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sw()||MA()||"connection"in navigator)?navigator.onLine:!0}function aw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,ls(i>t,"Short delay should be less than long delay!"),this.isMobile=NA()||VA()}get(){return rw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Em(s,t){ls(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class N0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ow={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const lw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uw=new ql(3e4,6e4);function fr(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function dr(s,t,i,a,l={}){return O0(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Hl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return xA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&uo(s.emulatorConfig.host)&&(_.credentials="include"),N0.fetch()(await x0(s,s.config.apiHost,i,p),_)})}async function O0(s,t,i){s._canInitEmulator=!1;const a={...ow,...t};try{const l=new hw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Rc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Rc(s,"user-disabled",d);const S=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw D0(s,S,_);oi(s,S)}}catch(l){if(l instanceof fs)throw l;oi(s,"network-request-failed",{message:String(l)})}}async function Fl(s,t,i,a,l={}){const c=await dr(s,t,i,a,l);return"mfaPendingCredential"in c&&oi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function x0(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Em(s.config,l):`${s.config.apiScheme}://${l}`;return lw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function cw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ni(this.auth,"network-request-failed")),uw.get())})}}function Rc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ni(s,t,a);return l.customData._tokenResponse=i,l}function G_(s){return s!==void 0&&s.enterprise!==void 0}class fw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return cw(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dw(s,t){return dr(s,"GET","/v2/recaptchaConfig",fr(s,t))}async function mw(s,t){return dr(s,"POST","/v1/accounts:delete",t)}async function Gc(s,t){return dr(s,"POST","/v1/accounts:lookup",t)}function Cl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function pw(s,t=!1){const i=un(s),a=await i.getIdToken(t),l=Tm(a);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Cl(Ud(l.auth_time)),issuedAtTime:Cl(Ud(l.iat)),expirationTime:Cl(Ud(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ud(s){return Number(s)*1e3}function Tm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{const l=p0(i);return l?JSON.parse(l):(xc("Failed to decode base64 JWT payload"),null)}catch(l){return xc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function K_(s){const t=Tm(s);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ml(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof fs&&gw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function gw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class yw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $d{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kc(s){const t=s.auth,i=await s.getIdToken(),a=await Ml(s,Gc(t,{idToken:i}));yt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?M0(l.providerUserInfo):[],d=vw(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new $d(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function _w(s){const t=un(s);await Kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vw(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function M0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Ew(s,t){const i=await O0(s,{},async()=>{const a=Hl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await x0(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return s.emulatorConfig&&uo(s.emulatorConfig.host)&&(y.credentials="include"),N0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Tw(s,t){return dr(s,"POST","/v2/accounts:revokeToken",fr(s,t))}class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):K_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=K_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Ew(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Xa;return a&&(yt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return ss("not implemented")}}function Xs(s,t){yt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class si{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new yw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new $d(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ml(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return pw(this,t)}reload(){return _w(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new si({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Kc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(Oi(this.auth));const t=await this.getIdToken();return await Ml(this,mw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:G,providerData:Z,stsTokenManager:et}=i;yt(b&&et,t,"internal-error");const W=Xa.fromJSON(this.name,et);yt(typeof b=="string",t,"internal-error"),Xs(a,t.name),Xs(l,t.name),yt(typeof x=="boolean",t,"internal-error"),yt(typeof G=="boolean",t,"internal-error"),Xs(c,t.name),Xs(d,t.name),Xs(p,t.name),Xs(y,t.name),Xs(_,t.name),Xs(S,t.name);const st=new si({uid:b,auth:t,email:l,emailVerified:x,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:_,lastLoginAt:S});return Z&&Array.isArray(Z)&&(st.providerData=Z.map(Et=>({...Et}))),y&&(st._redirectEventId=y),st}static async _fromIdTokenResponse(t,i,a=!1){const l=new Xa;l.updateFromServerResponse(i);const c=new si({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Kc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?M0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Xa;p.updateFromIdToken(a);const y=new si({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new $d(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const Q_=new Map;function rs(s){ls(s instanceof Function,"Expected a class definition");let t=Q_.get(s);return t?(ls(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Q_.set(s,t),t)}class V0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}V0.type="NONE";const Y_=V0;function Mc(s,t,i){return`firebase:${s}:${t}:${i}`}class $a{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Mc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Gc(this.auth,{idToken:t}).catch(()=>{});return i?si._fromGetAccountInfoResponse(this.auth,i,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new $a(rs(Y_),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||rs(Y_);const d=Mc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const S=await _._get(d);if(S){let b;if(typeof S=="string"){const x=await Gc(t,{idToken:S}).catch(()=>{});if(!x)break;b=await si._fromGetAccountInfoResponse(t,x,S)}else b=si._fromJSON(t,S);_!==c&&(p=b),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new $a(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new $a(c,t,a))}}function X_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(P0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(k0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(j0(t))return"Blackberry";if(B0(t))return"Webos";if(L0(t))return"Safari";if((t.includes("chrome/")||U0(t))&&!t.includes("edge/"))return"Chrome";if(z0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function k0(s=rn()){return/firefox\//i.test(s)}function L0(s=rn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function U0(s=rn()){return/crios\//i.test(s)}function P0(s=rn()){return/iemobile/i.test(s)}function z0(s=rn()){return/android/i.test(s)}function j0(s=rn()){return/blackberry/i.test(s)}function B0(s=rn()){return/webos/i.test(s)}function Sm(s=rn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Sw(s=rn()){return Sm(s)&&!!window.navigator?.standalone}function Aw(){return kA()&&document.documentMode===10}function H0(s=rn()){return Sm(s)||z0(s)||B0(s)||j0(s)||/windows phone/i.test(s)||P0(s)}function q0(s,t=[]){let i;switch(s){case"Browser":i=X_(rn());break;case"Worker":i=`${X_(rn())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${co}/${a}`}class bw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function ww(s,t={}){return dr(s,"GET","/v2/passwordPolicy",fr(s,t))}const Rw=6;class Cw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Rw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Iw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $_(this),this.idTokenSubscription=new $_(this),this.beforeStateQueue=new bw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=rs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $a.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Gc(this,{idToken:t}),a=await si._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(In(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Kc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=aw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(In(this.app))return Promise.reject(Oi(this));const i=t?un(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(Oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return In(this.app)?Promise.reject(Oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ww(this),i=new Cw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Tw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&rs(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[rs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=q0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&iw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function mr(s){return un(s)}class $_{constructor(t){this.auth=t,this.observer=null,this.addObserver=qA(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Dw(s){ch=s}function F0(s){return ch.loadJS(s)}function Nw(){return ch.recaptchaEnterpriseScript}function Ow(){return ch.gapiScript}function xw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Mw{constructor(){this.enterprise=new Vw}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class Vw{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const kw="recaptcha-enterprise",G0="NO_RECAPTCHA";class Lw{constructor(t){this.type=kw,this.auth=mr(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{dw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new fw(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;G_(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(G0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Mw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&G_(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Nw();y.length!==0&&(y+=p),F0(y).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function J_(s,t,i,a=!1,l=!1){const c=new Lw(s);let d;if(l)d=G0;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Jd(s,t,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await J_(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await J_(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function Uw(s,t){const i=_m(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Yr(c,t??{}))return l;oi(l,"already-initialized")}return i.initialize({options:t})}function Pw(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(rs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function zw(s,t,i){const a=mr(s);yt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=K0(t),{host:d,port:p}=jw(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){yt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),yt(Yr(_,a.config.emulator)&&Yr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,uo(d)?(v0(`${c}//${d}${y}`),E0("Auth",!0)):Bw()}function K0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function jw(s){const t=K0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:Z_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:Z_(d)}}}function Z_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Bw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Am{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ss("not implemented")}_getIdTokenResponse(t){return ss("not implemented")}_linkToIdToken(t,i){return ss("not implemented")}_getReauthenticationResolver(t){return ss("not implemented")}}async function Hw(s,t){return dr(s,"POST","/v1/accounts:signUp",t)}async function qw(s,t){return Fl(s,"POST","/v1/accounts:signInWithPassword",fr(s,t))}async function Fw(s,t){return Fl(s,"POST","/v1/accounts:signInWithEmailLink",fr(s,t))}async function Gw(s,t){return Fl(s,"POST","/v1/accounts:signInWithEmailLink",fr(s,t))}class Vl extends Am{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Vl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Vl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jd(t,i,"signInWithPassword",qw);case"emailLink":return Fw(t,{email:this._email,oobCode:this._password});default:oi(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jd(t,a,"signUpPassword",Hw);case"emailLink":return Gw(t,{idToken:i,email:this._email,oobCode:this._password});default:oi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ja(s,t){return Fl(s,"POST","/v1/accounts:signInWithIdp",fr(s,t))}const Kw="http://localhost";class $r extends Am{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new $r(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):oi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new $r(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ja(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ja(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ja(t,i)}buildRequest(){const t={requestUri:Kw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Hl(i)}return t}}function Qw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yw(s){const t=El(Tl(s)).link,i=t?El(Tl(t)).deep_link_id:null,a=El(Tl(s)).deep_link_id;return(a?El(Tl(a)).link:null)||a||i||t||s}class bm{constructor(t){const i=El(Tl(t)),a=i.apiKey??null,l=i.oobCode??null,c=Qw(i.mode??null);yt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=Yw(t);try{return new bm(i)}catch{return null}}}class ho{constructor(){this.providerId=ho.PROVIDER_ID}static credential(t,i){return Vl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=bm.parseLink(i);return yt(a,"argument-error"),Vl._fromEmailAndCode(t,a.code,a.tenantId)}}ho.PROVIDER_ID="password";ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Q0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Gl extends Q0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class $s extends Gl{constructor(){super("facebook.com")}static credential(t){return $r._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $s.credential(t.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";class Js extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return $r._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Js.credential(i,a)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";class Zs extends Gl{constructor(){super("github.com")}static credential(t){return $r._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";class Ws extends Gl{constructor(){super("twitter.com")}static credential(t,i){return $r._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Ws.credential(i,a)}catch{return null}}}Ws.TWITTER_SIGN_IN_METHOD="twitter.com";Ws.PROVIDER_ID="twitter.com";async function Y0(s,t){return Fl(s,"POST","/v1/accounts:signUp",fr(s,t))}class us{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await si._fromIdTokenResponse(t,a,l),d=W_(a);return new us({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=W_(a);return new us({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function W_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function Xw(s){if(In(s.app))return Promise.reject(Oi(s));const t=mr(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new us({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Y0(t,{returnSecureToken:!0}),a=await us._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Qc extends fs{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Qc(t,i,a,l)}}function X0(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Qc._fromErrorAndOperation(s,c,t,a):c})}async function $w(s,t,i=!1){const a=await Ml(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return us._forOperation(s,"link",a)}async function Jw(s,t,i=!1){const{auth:a}=s;if(In(a.app))return Promise.reject(Oi(a));const l="reauthenticate";try{const c=await Ml(s,X0(a,l,t,s),i);yt(c.idToken,a,"internal-error");const d=Tm(c.idToken);yt(d,a,"internal-error");const{sub:p}=d;return yt(s.uid===p,a,"user-mismatch"),us._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&oi(a,"user-mismatch"),c}}async function $0(s,t,i=!1){if(In(s.app))return Promise.reject(Oi(s));const a="signIn",l=await X0(s,a,t),c=await us._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function Zw(s,t){return $0(mr(s),t)}async function J0(s){const t=mr(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ww(s,t,i){if(In(s.app))return Promise.reject(Oi(s));const a=mr(s),d=await Jd(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Y0).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&J0(s),y}),p=await us._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function tR(s,t,i){return In(s.app)?Promise.reject(Oi(s)):Zw(un(s),ho.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&J0(s),a})}function eR(s,t,i,a){return un(s).onIdTokenChanged(t,i,a)}function nR(s,t,i){return un(s).beforeAuthStateChanged(t,i)}function iR(s,t,i,a){return un(s).onAuthStateChanged(t,i,a)}function sR(s){return un(s).signOut()}const Yc="__sak";class Z0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const rR=1e3,aR=10;class W0 extends Z0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Aw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,aR):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},rR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}W0.type="LOCAL";const oR=W0;class tE extends Z0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}tE.type="SESSION";const eE=tE;function lR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class hh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new hh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await lR(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];function wm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class uR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=wm("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const x=b;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(S),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function xi(){return window}function cR(s){xi().location.href=s}function nE(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function hR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fR(){return navigator?.serviceWorker?.controller||null}function dR(){return nE()?self:null}const iE="firebaseLocalStorageDb",mR=1,Xc="firebaseLocalStorage",sE="fbase_key";class Kl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function fh(s,t){return s.transaction([Xc],t?"readwrite":"readonly").objectStore(Xc)}function pR(){const s=indexedDB.deleteDatabase(iE);return new Kl(s).toPromise()}function Zd(){const s=indexedDB.open(iE,mR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Xc,{keyPath:sE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Xc)?t(a):(a.close(),await pR(),t(await Zd()))})})}async function tv(s,t,i){const a=fh(s,!0).put({[sE]:t,value:i});return new Kl(a).toPromise()}async function gR(s,t){const i=fh(s,!1).get(t),a=await new Kl(i).toPromise();return a===void 0?null:a.value}function ev(s,t){const i=fh(s,!0).delete(t);return new Kl(i).toPromise()}const yR=800,_R=3;class rE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>_R)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(dR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hR(),!this.activeServiceWorker)return;this.sender=new uR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||fR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Zd();return await tv(t,Yc,"1"),await ev(t,Yc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>tv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>gR(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ev(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=fh(l,!1).getAll();return new Kl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rE.type="LOCAL";const vR=rE;new ql(3e4,6e4);function ER(s,t){return t?rs(t):(yt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Rm extends Am{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function TR(s){return $0(s.auth,new Rm(s),s.bypassAuthState)}function SR(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),Jw(i,new Rm(s),s.bypassAuthState)}async function AR(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),$w(i,new Rm(s),s.bypassAuthState)}class aE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return TR;case"linkViaPopup":case"linkViaRedirect":return AR;case"reauthViaPopup":case"reauthViaRedirect":return SR;default:oi(this.auth,"internal-error")}}resolve(t){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bR=new ql(2e3,1e4);class Ya extends aE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const t=wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,bR.get())};t()}}Ya.currentPopupAction=null;const wR="pendingRedirect",Vc=new Map;class RR extends aE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const a=await CR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CR(s,t){const i=NR(t),a=DR(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function IR(s,t){Vc.set(s._key(),t)}function DR(s){return rs(s._redirectPersistence)}function NR(s){return Mc(wR,s.config.apiKey,s.name)}async function OR(s,t,i=!1){if(In(s.app))return Promise.reject(Oi(s));const a=mr(s),l=ER(a,t),d=await new RR(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const xR=600*1e3;class MR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!VR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!oE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ni(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xR&&this.cachedEventUids.clear(),this.cachedEventUids.has(nv(t))}saveEventToCache(t){this.cachedEventUids.add(nv(t)),this.lastProcessedEventTime=Date.now()}}function nv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function oE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function VR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oE(s);default:return!1}}async function kR(s,t={}){return dr(s,"GET","/v1/projects",t)}const LR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UR=/^https?/;async function PR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await kR(s);for(const i of t)try{if(zR(i))return}catch{}oi(s,"unauthorized-domain")}function zR(s){const t=Xd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!UR.test(i))return!1;if(LR.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const jR=new ql(3e4,6e4);function iv(){const s=xi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function BR(s){return new Promise((t,i)=>{function a(){iv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{iv(),i(Ni(s,"network-request-failed"))},timeout:jR.get()})}if(xi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(xi().gapi?.load)a();else{const l=xw("iframefcb");return xi()[l]=()=>{gapi.load?a():i(Ni(s,"network-request-failed"))},F0(`${Ow()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw kc=null,t})}let kc=null;function HR(s){return kc=kc||BR(s),kc}const qR=new ql(5e3,15e3),FR="__/auth/iframe",GR="emulator/auth/iframe",KR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YR(s){const t=s.config;yt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Em(t,GR):`https://${s.config.authDomain}/${FR}`,a={apiKey:t.apiKey,appName:s.name,v:co},l=QR.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Hl(a).slice(1)}`}async function XR(s){const t=await HR(s),i=xi().gapi;return yt(i,s,"internal-error"),t.open({where:document.body,url:YR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ni(s,"network-request-failed"),p=xi().setTimeout(()=>{c(d)},qR.get());function y(){xi().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const $R={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JR=500,ZR=600,WR="_blank",t2="http://localhost";class sv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e2(s,t,i,a=JR,l=ZR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...$R,width:a.toString(),height:l.toString(),top:c,left:d},_=rn().toLowerCase();i&&(p=U0(_)?WR:i),k0(_)&&(t=t||t2,y.scrollbars="yes");const S=Object.entries(y).reduce((x,[G,Z])=>`${x}${G}=${Z},`,"");if(Sw(_)&&p!=="_self")return n2(t||"",p),new sv(null);const b=window.open(t||"",p,S);yt(b,s,"popup-blocked");try{b.focus()}catch{}return new sv(b)}function n2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const i2="__/auth/handler",s2="emulator/auth/handler",r2=encodeURIComponent("fac");async function rv(s,t,i,a,l,c){yt(s.config.authDomain,s,"auth-domain-config-required"),yt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:co,eventId:l};if(t instanceof Q0){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",HA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,b]of Object.entries({}))d[S]=b}if(t instanceof Gl){const S=t.getScopes().filter(b=>b!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const y=await s._getAppCheckToken(),_=y?`#${r2}=${encodeURIComponent(y)}`:"";return`${a2(s)}?${Hl(p).slice(1)}${_}`}function a2({config:s}){return s.emulator?Em(s,s2):`https://${s.authDomain}/${i2}`}const Pd="webStorageSupport";class o2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eE,this._completeRedirectFn=OR,this._overrideRedirectResult=IR}async _openPopup(t,i,a,l){ls(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await rv(t,i,a,Xd(),l);return e2(t,c,wm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await rv(t,i,a,Xd(),l);return cR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ls(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await XR(t),a=new MR(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Pd,{type:Pd},l=>{const c=l?.[0]?.[Pd];c!==void 0&&i(!!c),oi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=PR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return H0()||L0()||Sm()}}const l2=o2;var av="@firebase/auth",ov="1.12.0";class u2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function c2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function h2(s){no(new Xr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q0(s)},_=new Iw(a,l,c,y);return Pw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),no(new Xr("auth-internal",t=>{const i=mr(t.getProvider("auth").getImmediate());return(a=>new u2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ir(av,ov,c2(s)),ir(av,ov,"esm2020")}const f2=300,d2=_0("authIdTokenMaxAge")||f2;let lv=null;const m2=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>d2)return;const l=i?.token;lv!==l&&(lv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function p2(s=b0()){const t=_m(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Uw(s,{popupRedirectResolver:l2,persistence:[vR,oR,eE]}),a=_0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=m2(c.toString());nR(i,d,()=>d(i.currentUser)),eR(i,p=>d(p))}}const l=g0("auth");return l&&zw(i,`http://${l}`),i}function g2(){return document.getElementsByTagName("head")?.[0]??document}Dw({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Ni("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",g2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});h2("Browser");var uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sr,lE;(function(){var s;function t(I,A){function C(){}C.prototype=A.prototype,I.F=A.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(M,D,k){for(var w=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)w[Wt-2]=arguments[Wt];return A.prototype[D].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,A,C){C||(C=0);const M=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)M[D]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(D=0;D<16;++D)M[D]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=I.g[0],C=I.g[1],D=I.g[2];let k=I.g[3],w;w=A+(k^C&(D^k))+M[0]+3614090360&4294967295,A=C+(w<<7&4294967295|w>>>25),w=k+(D^A&(C^D))+M[1]+3905402710&4294967295,k=A+(w<<12&4294967295|w>>>20),w=D+(C^k&(A^C))+M[2]+606105819&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(A^D&(k^A))+M[3]+3250441966&4294967295,C=D+(w<<22&4294967295|w>>>10),w=A+(k^C&(D^k))+M[4]+4118548399&4294967295,A=C+(w<<7&4294967295|w>>>25),w=k+(D^A&(C^D))+M[5]+1200080426&4294967295,k=A+(w<<12&4294967295|w>>>20),w=D+(C^k&(A^C))+M[6]+2821735955&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(A^D&(k^A))+M[7]+4249261313&4294967295,C=D+(w<<22&4294967295|w>>>10),w=A+(k^C&(D^k))+M[8]+1770035416&4294967295,A=C+(w<<7&4294967295|w>>>25),w=k+(D^A&(C^D))+M[9]+2336552879&4294967295,k=A+(w<<12&4294967295|w>>>20),w=D+(C^k&(A^C))+M[10]+4294925233&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(A^D&(k^A))+M[11]+2304563134&4294967295,C=D+(w<<22&4294967295|w>>>10),w=A+(k^C&(D^k))+M[12]+1804603682&4294967295,A=C+(w<<7&4294967295|w>>>25),w=k+(D^A&(C^D))+M[13]+4254626195&4294967295,k=A+(w<<12&4294967295|w>>>20),w=D+(C^k&(A^C))+M[14]+2792965006&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(A^D&(k^A))+M[15]+1236535329&4294967295,C=D+(w<<22&4294967295|w>>>10),w=A+(D^k&(C^D))+M[1]+4129170786&4294967295,A=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(A^C))+M[6]+3225465664&4294967295,k=A+(w<<9&4294967295|w>>>23),w=D+(A^C&(k^A))+M[11]+643717713&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^A&(D^k))+M[0]+3921069994&4294967295,C=D+(w<<20&4294967295|w>>>12),w=A+(D^k&(C^D))+M[5]+3593408605&4294967295,A=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(A^C))+M[10]+38016083&4294967295,k=A+(w<<9&4294967295|w>>>23),w=D+(A^C&(k^A))+M[15]+3634488961&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^A&(D^k))+M[4]+3889429448&4294967295,C=D+(w<<20&4294967295|w>>>12),w=A+(D^k&(C^D))+M[9]+568446438&4294967295,A=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(A^C))+M[14]+3275163606&4294967295,k=A+(w<<9&4294967295|w>>>23),w=D+(A^C&(k^A))+M[3]+4107603335&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^A&(D^k))+M[8]+1163531501&4294967295,C=D+(w<<20&4294967295|w>>>12),w=A+(D^k&(C^D))+M[13]+2850285829&4294967295,A=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(A^C))+M[2]+4243563512&4294967295,k=A+(w<<9&4294967295|w>>>23),w=D+(A^C&(k^A))+M[7]+1735328473&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^A&(D^k))+M[12]+2368359562&4294967295,C=D+(w<<20&4294967295|w>>>12),w=A+(C^D^k)+M[5]+4294588738&4294967295,A=C+(w<<4&4294967295|w>>>28),w=k+(A^C^D)+M[8]+2272392833&4294967295,k=A+(w<<11&4294967295|w>>>21),w=D+(k^A^C)+M[11]+1839030562&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^A)+M[14]+4259657740&4294967295,C=D+(w<<23&4294967295|w>>>9),w=A+(C^D^k)+M[1]+2763975236&4294967295,A=C+(w<<4&4294967295|w>>>28),w=k+(A^C^D)+M[4]+1272893353&4294967295,k=A+(w<<11&4294967295|w>>>21),w=D+(k^A^C)+M[7]+4139469664&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^A)+M[10]+3200236656&4294967295,C=D+(w<<23&4294967295|w>>>9),w=A+(C^D^k)+M[13]+681279174&4294967295,A=C+(w<<4&4294967295|w>>>28),w=k+(A^C^D)+M[0]+3936430074&4294967295,k=A+(w<<11&4294967295|w>>>21),w=D+(k^A^C)+M[3]+3572445317&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^A)+M[6]+76029189&4294967295,C=D+(w<<23&4294967295|w>>>9),w=A+(C^D^k)+M[9]+3654602809&4294967295,A=C+(w<<4&4294967295|w>>>28),w=k+(A^C^D)+M[12]+3873151461&4294967295,k=A+(w<<11&4294967295|w>>>21),w=D+(k^A^C)+M[15]+530742520&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^A)+M[2]+3299628645&4294967295,C=D+(w<<23&4294967295|w>>>9),w=A+(D^(C|~k))+M[0]+4096336452&4294967295,A=C+(w<<6&4294967295|w>>>26),w=k+(C^(A|~D))+M[7]+1126891415&4294967295,k=A+(w<<10&4294967295|w>>>22),w=D+(A^(k|~C))+M[14]+2878612391&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~A))+M[5]+4237533241&4294967295,C=D+(w<<21&4294967295|w>>>11),w=A+(D^(C|~k))+M[12]+1700485571&4294967295,A=C+(w<<6&4294967295|w>>>26),w=k+(C^(A|~D))+M[3]+2399980690&4294967295,k=A+(w<<10&4294967295|w>>>22),w=D+(A^(k|~C))+M[10]+4293915773&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~A))+M[1]+2240044497&4294967295,C=D+(w<<21&4294967295|w>>>11),w=A+(D^(C|~k))+M[8]+1873313359&4294967295,A=C+(w<<6&4294967295|w>>>26),w=k+(C^(A|~D))+M[15]+4264355552&4294967295,k=A+(w<<10&4294967295|w>>>22),w=D+(A^(k|~C))+M[6]+2734768916&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~A))+M[13]+1309151649&4294967295,C=D+(w<<21&4294967295|w>>>11),w=A+(D^(C|~k))+M[4]+4149444226&4294967295,A=C+(w<<6&4294967295|w>>>26),w=k+(C^(A|~D))+M[11]+3174756917&4294967295,k=A+(w<<10&4294967295|w>>>22),w=D+(A^(k|~C))+M[2]+718787259&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~A))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,A){A===void 0&&(A=I.length);const C=A-this.blockSize,M=this.C;let D=this.h,k=0;for(;k<A;){if(D==0)for(;k<=C;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<A;)if(M[D++]=I.charCodeAt(k++),D==this.blockSize){l(this,M),D=0;break}}else for(;k<A;)if(M[D++]=I[k++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=A},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)I[A++]=this.g[C]>>>M&255;return I};function c(I,A){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=A(I)}function d(I,A){this.h=A;const C=[];let M=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;M&&k==A||(C[D]=k,M=!1)}this.g=C}var p={};function y(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return W(_(-I));const A=[];let C=1;for(let M=0;I>=C;M++)A[M]=I/C|0,C*=4294967296;return new d(A,0)}function S(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return W(S(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(A,8));let M=b;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const w=parseInt(I.substring(k,k+D),A);D<8?(D=_(Math.pow(A,D)),M=M.j(D).add(_(w))):(M=M.j(C),M=M.add(_(w)))}return M}var b=y(0),x=y(1),G=y(16777216);s=d.prototype,s.m=function(){if(et(this))return-W(this).m();let I=0,A=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);I+=(M>=0?M:4294967296+M)*A,A*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(et(this))return"-"+W(this).toString(I);const A=_(Math.pow(I,6));var C=this;let M="";for(;;){const D=xt(C,A).g;C=st(C,D.j(A));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,Z(C))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function et(I){return I.h==-1}s.l=function(I){return I=st(this,I),et(I)?-1:Z(I)?0:1};function W(I){const A=I.g.length,C=[];for(let M=0;M<A;M++)C[M]=~I.g[M];return new d(C,~I.h).add(x)}s.abs=function(){return et(this)?W(this):this},s.add=function(I){const A=Math.max(this.g.length,I.g.length),C=[];let M=0;for(let D=0;D<=A;D++){let k=M+(this.i(D)&65535)+(I.i(D)&65535),w=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);M=w>>>16,k&=65535,w&=65535,C[D]=w<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function st(I,A){return I.add(W(A))}s.j=function(I){if(Z(this)||Z(I))return b;if(et(this))return et(I)?W(this).j(W(I)):W(W(this).j(I));if(et(I))return W(this.j(W(I)));if(this.l(G)<0&&I.l(G)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,C=[];for(var M=0;M<2*A;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<I.g.length;D++){const k=this.i(M)>>>16,w=this.i(M)&65535,Wt=I.i(D)>>>16,de=I.i(D)&65535;C[2*M+2*D]+=w*de,Et(C,2*M+2*D),C[2*M+2*D+1]+=k*de,Et(C,2*M+2*D+1),C[2*M+2*D+1]+=w*Wt,Et(C,2*M+2*D+1),C[2*M+2*D+2]+=k*Wt,Et(C,2*M+2*D+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new d(C,0)};function Et(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function gt(I,A){this.g=I,this.h=A}function xt(I,A){if(Z(A))throw Error("division by zero");if(Z(I))return new gt(b,b);if(et(I))return A=xt(W(I),A),new gt(W(A.g),W(A.h));if(et(A))return A=xt(I,W(A)),new gt(W(A.g),A.h);if(I.g.length>30){if(et(I)||et(A))throw Error("slowDivide_ only works with positive integers.");for(var C=x,M=A;M.l(I)<=0;)C=qt(C),M=qt(M);var D=Dt(C,1),k=Dt(M,1);for(M=Dt(M,2),C=Dt(C,2);!Z(M);){var w=k.add(M);w.l(I)<=0&&(D=D.add(C),k=w),M=Dt(M,1),C=Dt(C,1)}return A=st(I,D.j(A)),new gt(D,A)}for(D=b;I.l(A)>=0;){for(C=Math.max(1,Math.floor(I.m()/A.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=_(C),w=k.j(A);et(w)||w.l(I)>0;)C-=M,k=_(C),w=k.j(A);Z(k)&&(k=x),D=D.add(k),I=st(I,w)}return new gt(D,I)}s.B=function(I){return xt(this,I).h},s.and=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)&I.i(M);return new d(C,this.h&I.h)},s.or=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)|I.i(M);return new d(C,this.h|I.h)},s.xor=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)^I.i(M);return new d(C,this.h^I.h)};function qt(I){const A=I.g.length+1,C=[];for(let M=0;M<A;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(C,I.h)}function Dt(I,A){const C=A>>5;A%=32;const M=I.g.length-C,D=[];for(let k=0;k<M;k++)D[k]=A>0?I.i(k+C)>>>A|I.i(k+C+1)<<32-A:I.i(k+C);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,lE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,sr=d}).apply(typeof uv<"u"?uv:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var uE,Sl,cE,Lc,Wd,hE,fE,dE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var tt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)tt[wt-2]=arguments[wt];return m.prototype[L].apply(T,tt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function st(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const T=gt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new et(()=>new xt,u=>u.reset());class xt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let qt,Dt=!1,I=new Et,A=()=>{const u=Promise.resolve(void 0);qt=()=>{u.then(C)}};function C(){for(var u;u=st();){try{u.h.call(u.g)}catch(v){W(v)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Dt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Wt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(Wt,D),Wt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Wt.Z.h.call(this)},Wt.prototype.h=function(){Wt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),q=0;function nt(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++q,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Mt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function It(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<Q.length;B++)v=Q[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=bt(u,m,T,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function vt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bt(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),ye={};function re(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],v,T,L);return null}return v=$(v),u&&u[de]?u.J(m,v,p(T)?!!T.capture:!1,L):Pi(u,m,v,!1,T,L)}function Pi(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const tt=p(L)?!!L.capture:!!L;let wt=We(u);if(wt||(u[Vt]=wt=new rt(u)),v=wt.add(m,v,T,tt,B),v.proxy)return v;if(T=ds(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(_n(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ds(){function u(v){return m.call(u.src,u.listener,v)}const m=gs;return u}function ms(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)ms(u,m[B],v,T,L);else T=p(T)?!!T.capture:!!T,v=$(v),u&&u[de]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=bt(m,v,T,L),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=We(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,v,T,L)),(v=u>-1?m[u]:null)&&ps(v))}function ps(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[de])vt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(_n(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=We(m))?(vt(v,u),v.h==0&&(v.src=null,m[Vt]=null)):ht(u)}}}function _n(u){return u in ye?ye[u]:ye[u]="on"+u}function gs(u,m){if(u.da)u=!0;else{m=new Wt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ps(u),u=v.call(T,m)}return u}function We(u){return u=u[Vt],u instanceof rt?u:null}var Gn="__closure_events_fn_"+(Math.random()*1e9>>>0);function $(u){return typeof u=="function"?u:(u[Gn]||(u[Gn]=function(m){return u.handleEvent(m)}),u[Gn])}function ot(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}b(ot,M),ot.prototype[de]=!0,ot.prototype.removeEventListener=function(u,m,v,T){ms(this,u,m,v,T)};function ft(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),it(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=Ht(B,T,!0,m)&&L;if(B=m.g=u,L=Ht(B,T,!0,m)&&L,L=Ht(B,T,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=Ht(B,T,!1,m)&&L}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ht(v[T]);delete u.g[m],u.h--}}this.G=null},ot.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ot.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Ht(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const wt=tt.listener,Ee=tt.ha||tt.src;tt.fa&&vt(u.i,tt),L=wt.call(Ee,T)!==!1&&L}}return L&&!T.defaultPrevented}function Ve(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Dn(u){u.g=Ve(()=>{u.g=null,u.i&&(u.i=!1,Dn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class _e extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Dn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function an(u){M.call(this),this.h=u,this.g={}}b(an,M);var ke=[];function pr(u){Mt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ps(m)},u),u.g={}}an.prototype.N=function(){an.Z.N.call(this),pr(this)},an.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ys=d.JSON.stringify,Ch=d.JSON.parse,Zl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wl(){}function tu(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fe(){D.call(this,"d")}b(Fe,D);function Nn(){D.call(this,"c")}b(Nn,D);var ve={},eu=null;function ia(){return eu=eu||new ot}ve.Ia="serverreachability";function nu(u){D.call(this,ve.Ia,u)}b(nu,D);function li(u){const m=ia();ft(m,new nu(m))}ve.STAT_EVENT="statevent";function gr(u,m){D.call(this,ve.STAT_EVENT,u),this.stat=m}b(gr,D);function be(u){const m=ia();ft(m,new gr(m,u))}ve.Ja="timingevent";function ui(u,m){D.call(this,ve.Ja,u),this.size=m}b(ui,D);function ci(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function Ih(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var tt="",wt=B.split("&");for(let Kt=0;Kt<wt.length;Kt++){var Ee=wt[Kt].split("=");if(Ee.length>1){const ce=Ee[0];Ee=Ee[1];const Vn=ce.split("_");tt=Vn.length>=2&&Vn[1]=="type"?tt+(ce+"="+Ee+"&"):tt+(ce+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function iu(u,m,v,T,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function hi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(u,v)+(T?" "+T:"")})}function yr(u,m){u.info(function(){return"TIMEOUT: "+m})}Qn.prototype.info=function(){};function Dh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return ys(B)}catch{return m}}var _r={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_o;function vr(){}b(vr,Wl),vr.prototype.g=function(){return new XMLHttpRequest},_o=new vr;function zi(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Yn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new an(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var we={},je={};function fi(u,m,v){u.M=1,u.A=Er(Ce(m)),u.u=v,u.R=!0,sa(u,null)}function sa(u,m){u.F=Date.now(),di(u),u.B=Ce(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),la(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Xn,u.g=vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new _e(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ke[0]=L.toString()),L=ke);for(let B=0;B<L.length;B++){const tt=re(v,L[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),li(),Ih(u.i,u.v,u.B,u.l,u.S,u.u)}Yn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Zn(u)==3?m.j():this.Y(u)},Yn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Zn(this.g),Ee=this.g.ya(),Kt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||wt!=4||Ee==7||(Ee==8||Kt<=0?li(3):li(2)),mi(this);var m=this.g.ca();this.X=m;var v=Nh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)hi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,u);else{this.o=!1,this.m=3,be(12),vn(this),On(this);break t}}if(this.R){u=!0;let ce;for(;!this.K&&this.C<v.length;)if(ce=au(this,v),ce==je){wt==4&&(this.m=4,be(14),u=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==we){this.m=4,be(15),hi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else hi(this.i,this.l,ce,null),pi(this,ce);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,be(16),u=!1),this.o=this.o&&u,!u)hi(this.i,this.l,v,"[Invalid Chunked Response]"),vn(this),On(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Mo(tt),tt.P=!0,be(11))}}else hi(this.i,this.l,v,null),pi(this,v);wt==4&&vn(this),this.o&&!this.K&&(wt==4?pu(this.j,this):(this.o=!1,di(this)))}else Bi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),vn(this),On(this)}}}catch{}};function Nh(u){if(!ru(u))return u.g.la();const m=Ge(u.g);if(m==="")return"";let v="";const T=m.length,L=Zn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return vn(u),On(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?je:(v=Number(m.substring(v,T)),isNaN(v)?we:(T+=1,T+v>m.length?je:(m=m.slice(T,T+v),u.C=T+v,m)))}Yn.prototype.cancel=function(){this.K=!0,vn(this)};function di(u){u.T=Date.now()+u.H,ra(u,u.H)}function ra(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ci(_(u.aa,u),m)}function mi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Yn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(yr(this.i,this.B),this.M!=2&&(li(),be(17)),vn(this),this.m=2,On(this)):ra(this,this.T-u)};function On(u){u.j.I==0||u.K||pu(u.j,u)}function vn(u){mi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,pr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function pi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||yi(v.h,u))){if(!u.L&&yi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)da(v),ws(v);else break t;Cr(v),be(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(_(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((u.L||v.g==u)&&da(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Kt=L[m];const ce=Kt[0];if(!(ce<=v.K))if(v.K=ce,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const Vn=Kt[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const bi=Kt[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Wn=Kt[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(T=1.5*Wn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ti=u.g;if(ti){const Ir=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var B=T.h;B.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(To(B,B.h),B.h=null))}if(T.G){const ma=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(T.wa=ma,$t(T.J,T.G,ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=_u(T,T.L?T.ba:null,T.W),tt.L){So(T.h,tt);var wt=tt,Ee=T.O;Ee&&(wt.H=Ee),wt.D&&(mi(wt),di(wt)),T.g=tt}else du(T);v.i.length>0&&Si(v)}else Kt[0]!="stop"&&Kt[0]!="close"||Ai(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Ai(v,7):Oo(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}li(4)}catch{}}var Re=class{constructor(u,m){this.g=u,this.map=m}};function vo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Eo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gi(u){return u.h?1:u.g?u.g.size:0}function yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function To(u,m){u.g?u.g.add(m):u.h=m}function So(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vo.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function En(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof En?(this.l=u.l,Be(this,u.j),this.o=u.o,this.g=u.g,_s(this,u.u),this.h=u.h,bo(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,Be(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),_s(this,m[4]),this.h=_i(m[5]||"",!0),bo(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}En.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Tr(m,oa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Tr(m,oa,!0),"@"),u.push(zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Tr(v,v.charAt(0)=="/"?wo:lu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Tr(v,uu)),u.join("")},En.prototype.resolve=function(u){const m=Ce(this);let v=!!u.j;v?Be(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)_s(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const wt=L[tt++];wt=="."?T&&tt==L.length&&B.push(""):wt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==L.length&&B.push("")):(B.push(wt),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?bo(m,hu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ce(u){return new En(u)}function Be(u,m,v){u.j=v?_i(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function _s(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function bo(u,m,v){m instanceof Es?(u.i=m,ua(u.i,u.l)):(v||(m=Tr(m,vs)),u.i=new Es(m,u.l))}function $t(u,m,v){u.i.set(m,v)}function Er(u){return $t(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _i(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Tr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,cn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oa=/[#\/\?@]/g,lu=/[#\?:]/g,wo=/[#\?]/g,vs=/[#\?@]/g,uu=/#/g;function Es(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function hn(u){u.g||(u.g=new Map,u.h=0,u.i&&aa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Es.prototype,s.add=function(u,m){hn(this),this.i=null,u=Ts(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function cu(u,m){hn(u),m=Ts(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ro(u,m){return hn(u),m=Ts(u,m),u.g.has(m)}s.forEach=function(u,m){hn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Co(u,m){hn(u);let v=[];if(typeof m=="string")Ro(u,m)&&(v=v.concat(u.g.get(Ts(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return hn(this),this.i=null,u=Ts(this,u),Ro(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Co(this,u),u.length>0?String(u[0]):m):m};function la(u,m,v){cu(u,m),v.length>0&&(u.i=null,u.g.set(Ts(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=zi(v);v=Co(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+zi(v[B])),u.push(tt)}}return this.i=u.join("&")};function hu(u){const m=new Es;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ts(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ua(u,m){m&&!u.j&&(hn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(cu(this,T),la(this,L,v))},u)),u.j=m}function $n(u,m){const v=new Qn;if(d.Image){const T=new Image;T.onload=S(xn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(xn,v,"TestLoadImage: error",!1,m,T),T.onabort=S(xn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(xn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Io(u,m){const v=new Qn,T=new AbortController,L=setTimeout(()=>{T.abort(),xn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?xn(v,"TestPingServer: ok",!0,m):xn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),xn(v,"TestPingServer: error",!1,m)})}function xn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Ss(){this.g=new Zl}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(vi,Wl),vi.prototype.g=function(){return new Sr(this.i,this.h)};function Sr(u,m){ot.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Sr,ot),s=Sr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Jn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?As(this):Jn(this),this.readyState==3&&ca(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,As(this))},s.Na=function(u){this.g&&(this.response=u,As(this))},s.ga=function(){this.g&&As(this)};function As(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Jn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mn(u){let m="";return Mt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ar(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Mn(v),typeof u=="string"?v!=null&&zi(v):$t(u,m,v))}function te(u){ot.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(te,ot);var Ei=/^https?$/i,Do=["POST","PUT"];s=te.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_o.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){br(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Do,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){br(this,B)}};function br(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,No(u),ji(u)}function No(u){u.A||(u.A=!0,ft(u,"complete"),ft(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ft(this,"complete"),ft(this,"abort"),ji(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),te.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?wr(this):this.Xa())},s.Xa=function(){wr(this)};function wr(u){if(u.h&&typeof c<"u"){if(u.v&&Zn(u)==4)setTimeout(u.Ca.bind(u),0);else if(ft(u,"readystatechange"),Zn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(ou)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!Ei.test(tt?tt.toLowerCase():"")}v=T}if(v)ft(u,"complete"),ft(u,"success");else{u.o=6;try{var L=Zn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",No(u)}}finally{ji(u)}}}}function ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ft(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Zn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ch(m)}};function Ge(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(u){const m={};u=(u.g&&Zn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=su(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}It(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function bs(u){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,u),this.Za=Ti("retryDelaySeedMs",1e4,u),this.Ta=Ti("forwardChannelMaxRetries",2,u),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new vo(u&&u.concurrentRequestLimit),this.Ba=new Ss,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=bs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){be(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=_u(this,null,this.W),Si(this)};function Oo(u){if(ha(u),u.I==3){var m=u.V++,v=Ce(u.J);if($t(v,"SID",u.M),$t(v,"RID",m),$t(v,"TYPE","terminate"),Rr(u,v),m=new Yn(u,u.j,m),m.M=2,m.A=Er(Ce(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}yu(u)}function ws(u){u.g&&(Mo(u),u.g.cancel(),u.g=null)}function ha(u){ws(u),u.v&&(d.clearTimeout(u.v),u.v=null),da(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Si(u){if(!Eo(u.h)&&!u.m){u.m=!0;var m=u.Ea;qt||A(),Dt||(qt(),Dt=!0),I.add(m,u),u.D=0}}function fa(u,m){return gi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ci(_(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Yn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=fu(this,L,m),v=Ce(this.J),$t(v,"RID",u),$t(v,"CVER",22),this.G&&$t(v,"X-HTTP-Session-Id",this.G),Rr(this,v),B&&(this.R?m="headers="+zi(Mn(B))+"&"+m:this.u&&Ar(v,this.u,B)),To(this.h,L),this.Ra&&$t(v,"TYPE","init"),this.S?($t(v,"$req",m),$t(v,"SID","null"),L.U=!0,fi(L,v,null)):fi(L,v,m),this.I=2}}else this.I==3&&(u?xo(this,u):this.i.length==0||Eo(this.h)||xo(this))};function xo(u,m){var v;m?v=m.l:v=u.V++;const T=Ce(u.J);$t(T,"SID",u.M),$t(T,"RID",v),$t(T,"AID",u.K),Rr(u,T),u.u&&u.o&&Ar(T,u.u,u.o),v=new Yn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),To(u.h,v),fi(v,T,m)}function Rr(u,m){u.H&&Mt(u.H,function(v,T){$t(m,T,v)}),u.l&&Mt({},function(v,T){$t(m,T,v)})}function fu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let wt=-1;for(;;){const Ee=["count="+v];wt==-1?v>0?(wt=L[0].g,Ee.push("ofs="+wt)):wt=0:Ee.push("ofs="+wt);let Kt=!0;for(let ce=0;ce<v;ce++){var B=L[ce].g;const Vn=L[ce].map;if(B-=wt,B<0)wt=Math.max(0,L[ce].g-100),Kt=!1;else try{B="req"+B+"_"||"";try{var tt=Vn instanceof Map?Vn:Object.entries(Vn);for(const[bi,Wn]of tt){let ti=Wn;p(Wn)&&(ti=ys(Wn)),Ee.push(B+bi+"="+encodeURIComponent(ti))}}catch(bi){throw Ee.push(B+"type="+encodeURIComponent("_badmap")),bi}}catch{T&&T(Vn)}}if(Kt){tt=Ee.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;qt||A(),Dt||(qt(),Dt=!0),I.add(m,u),u.A=0}}function Cr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ci(_(u.Da,u),gu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ci(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),ws(this),mu(this))};function Mo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new Yn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ce(u.na);$t(m,"RID","rpc"),$t(m,"SID",u.M),$t(m,"AID",u.K),$t(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$t(m,"TO",u.ia),$t(m,"TYPE","xmlhttp"),Rr(u,m),u.u&&u.o&&Ar(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Er(Ce(m)),v.u=null,v.R=!0,sa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ws(this),Cr(this),be(19))};function da(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var v=null;if(u.g==m){da(u),Mo(u),u.g=null;var T=2}else if(yi(u.h,m))v=m.G,So(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ia(),ft(T,new ui(T,v)),Si(u)}else du(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&fa(u,m)||T==2&&Cr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new En(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Be(T,"https"),Er(T),L?$n(T.toString(),v):Io(T.toString(),v)}else be(2);u.I=0,u.l&&u.l.pa(m),yu(u),ha(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,v){var T=v instanceof En?Ce(v):new En(v);if(T.g!="")m&&(T.g=m+"."+T.g),_s(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new En(null);T&&Be(B,T),m&&(B.g=m),L&&_s(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&$t(T,v,m),$t(T,"VER",u.ka),Rr(u,T),T}function vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new te(new vi({ab:v})):new te(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Rs(){}Rs.prototype.g=function(u,m){return new on(u,m)};function on(u,m){ot.call(this),this.g=new bs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Hi(this)}b(on,ot),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Oo(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ys(u),u=v);m.i.push(new Re(m.Ya++,u)),m.I==3&&Si(m)},on.prototype.N=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,on.Z.N.call(this)};function Tu(u){Fe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Tu,Fe);function Su(){Nn.call(this),this.status=1}b(Su,Nn);function Hi(u){this.g=u}b(Hi,Eu),Hi.prototype.ra=function(){ft(this.g,"a")},Hi.prototype.qa=function(u){ft(this.g,new Tu(u))},Hi.prototype.pa=function(u){ft(this.g,new Su)},Hi.prototype.oa=function(){ft(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,dE=function(){return new Rs},fE=function(){return ia()},hE=ve,Wd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,Lc=_r,yo.COMPLETE="complete",cE=yo,tu.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",ot.prototype.listen=ot.prototype.J,Sl=tu,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,uE=te}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let fo="12.8.0";function y2(s){fo=s}const Jr=new gm("@firebase/firestore");function Fa(){return Jr.logLevel}function at(s,...t){if(Jr.logLevel<=Ut.DEBUG){const i=t.map(Cm);Jr.debug(`Firestore (${fo}): ${s}`,...i)}}function cs(s,...t){if(Jr.logLevel<=Ut.ERROR){const i=t.map(Cm);Jr.error(`Firestore (${fo}): ${s}`,...i)}}function io(s,...t){if(Jr.logLevel<=Ut.WARN){const i=t.map(Cm);Jr.warn(`Firestore (${fo}): ${s}`,...i)}}function Cm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _t(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,mE(s,a,i)}function mE(s,t,i){let a=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw cs(a),new Error(a)}function Xt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||mE(t,l,a)}function At(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends fs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class pE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(nn.UNAUTHENTICATED)))}shutdown(){}}class v2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class E2{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Kr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Kr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xt(typeof a.accessToken=="string",31837,{l:a}),new pE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class T2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class S2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new T2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Xt(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new cv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function b2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Im{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=b2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Pt(s,t){return s<t?-1:s>t?1:0}function tm(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return zd(l)===zd(c)?Pt(l,c):zd(l)?1:-1}return Pt(s.length,t.length)}const w2=55296,R2=57343;function zd(s){const t=s.charCodeAt(0);return t>=w2&&t<=R2}function so(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const hv="__name__";class Di{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&_t(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Di.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Pt(t.length,i.length)}static compareSegments(t,i){const a=Di.isNumericId(t),l=Di.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Di.extractNumericId(t).compare(Di.extractNumericId(i)):tm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return sr.fromString(t.substring(4,t.length-2))}}class le extends Di{construct(t,i,a){return new le(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const C2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Di{construct(t,i,a){return new Je(t,i,a)}static isValidIdentifier(t){return C2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hv}static keyField(){return new Je([hv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(i)}static emptyPath(){return new Je([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(le.fromString(t))}static fromName(t){return new mt(le.fromString(t).popFirst(5))}static empty(){return new mt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return le.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new le(t.slice()))}}function gE(s,t,i){if(!i)throw new ct(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function I2(s,t,i,a){if(t===!0&&a===!0)throw new ct(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function fv(s){if(!mt.isDocumentKey(s))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function dv(s){if(mt.isDocumentKey(s))throw new ct(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function yE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Dm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function Za(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dm(s);throw new ct(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Me(s,t){const i={typeString:s};return t&&(i.value=t),i}function Ql(s,t){if(!yE(s))throw new ct(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(J.INVALID_ARGUMENT,i);return!0}const mv=-62135596800,pv=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*pv);return new ue(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<mv)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pv}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ql(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-mv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Me("string",ue._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ue(0,0))}static max(){return new Tt(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const kl=-1;function D2(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new ue(i+1,0):new ue(i,a));return new ar(l,mt.empty(),t)}function N2(s){return new ar(s.readTime,s.key,kl)}class ar{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new ar(Tt.min(),mt.empty(),kl)}static max(){return new ar(Tt.max(),mt.empty(),kl)}}function O2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(s.documentKey,t.documentKey),i!==0?i:Pt(s.largestBatchId,t.largestBatchId))}const x2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function mo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==x2)throw s;at("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((S=>{d[_]=S,++p,p===c&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function V2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function po(s){return s.name==="IndexedDbTransactionError"}class dh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}dh.ce=-1;const Nm=-1;function mh(s){return s==null}function $c(s){return s===0&&1/s==-1/0}function k2(s){return typeof s=="number"&&Number.isInteger(s)&&!$c(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const _E="";function L2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=gv(t)),t=U2(s.get(i),t);return gv(t)}function U2(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case _E:i+="";break;default:i+=c}}return i}function gv(s){return s+_E+""}function yv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Wr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function vE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class fe{constructor(t,i){this.comparator=t,this.root=i||$e.EMPTY}insert(t,i){return new fe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??$e.RED,this.left=l??$e.EMPTY,this.right=c??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new $e(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return $e.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new $e(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new _v(this.data.getIterator())}getIteratorFrom(t){return new _v(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ze(this.comparator);return i.data=t,i}}class _v{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ri{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new ri([])}unionWith(t){let i=new ze(Je.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new ri(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return so(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class EE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new EE("Invalid base64 string: "+c):c}})(t);return new Ze(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ze(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const P2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(s){if(Xt(!!s,39018),typeof s=="string"){let t=0;const i=P2.exec(s);if(Xt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ae(s.seconds),nanos:Ae(s.nanos)}}function Ae(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function lr(s){return typeof s=="string"?Ze.fromBase64String(s):Ze.fromUint8Array(s)}const TE="server_timestamp",SE="__type__",AE="__previous_value__",bE="__local_write_time__";function Om(s){return(s?.mapValue?.fields||{})[SE]?.stringValue===TE}function ph(s){const t=s.mapValue.fields[AE];return Om(t)?ph(t):t}function Ll(s){const t=or(s.mapValue.fields[bE].timestampValue);return new ue(t.seconds,t.nanos)}class z2{constructor(t,i,a,l,c,d,p,y,_,S,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=b}}const Jc="(default)";class Ul{constructor(t,i){this.projectId=t,this.database=i||Jc}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof Ul&&t.projectId===this.projectId&&t.database===this.database}}function j2(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(s.options.projectId,t)}const wE="__type__",B2="__max__",Dc={mapValue:{}},RE="__vector__",Zc="value";function ur(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Om(s)?4:q2(s)?9007199254740991:H2(s)?10:11:_t(28295,{value:s})}function Li(s,t){if(s===t)return!0;const i=ur(s);if(i!==ur(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ll(s).isEqual(Ll(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=or(l.timestampValue),p=or(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return lr(l.bytesValue).isEqual(lr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ae(l.geoPointValue.latitude)===Ae(c.geoPointValue.latitude)&&Ae(l.geoPointValue.longitude)===Ae(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ae(l.integerValue)===Ae(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ae(l.doubleValue),p=Ae(c.doubleValue);return d===p?$c(d)===$c(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return so(s.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(yv(d)!==yv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Li(d[y],p[y])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function Pl(s,t){return(s.values||[]).find((i=>Li(i,t)))!==void 0}function ro(s,t){if(s===t)return 0;const i=ur(s),a=ur(t);if(i!==a)return Pt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ae(c.integerValue||c.doubleValue),y=Ae(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return vv(s.timestampValue,t.timestampValue);case 4:return vv(Ll(s),Ll(t));case 5:return tm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=lr(c),y=lr(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const S=Pt(p[_],y[_]);if(S!==0)return S}return Pt(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Pt(Ae(c.latitude),Ae(d.latitude));return p!==0?p:Pt(Ae(c.longitude),Ae(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Ev(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Zc]?.arrayValue,S=y[Zc]?.arrayValue,b=Pt(_?.values?.length||0,S?.values?.length||0);return b!==0?b:Ev(_,S)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let b=0;b<y.length&&b<S.length;++b){const x=tm(y[b],S[b]);if(x!==0)return x;const G=ro(p[y[b]],_[S[b]]);if(G!==0)return G}return Pt(y.length,S.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function vv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Pt(s,t);const i=or(s),a=or(t),l=Pt(i.seconds,a.seconds);return l!==0?l:Pt(i.nanos,a.nanos)}function Ev(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=ro(i[l],a[l]);if(c)return c}return Pt(i.length,a.length)}function ao(s){return em(s)}function em(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=or(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return lr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return mt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=em(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${em(i.fields[d])}`;return l+"}"})(s.mapValue):_t(61005,{value:s})}function Uc(s){switch(ur(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ph(s);return t?16+Uc(t):16;case 5:return 2*s.stringValue.length;case 6:return lr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Wr(a.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(s.mapValue);default:throw _t(13486,{value:s})}}function nm(s){return!!s&&"integerValue"in s}function xm(s){return!!s&&"arrayValue"in s}function Tv(s){return!!s&&"nullValue"in s}function Sv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Pc(s){return!!s&&"mapValue"in s}function H2(s){return(s?.mapValue?.fields||{})[wE]?.stringValue===RE}function Il(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Wr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Il(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Il(s.arrayValue.values[i]);return t}return{...s}}function q2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===B2}class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Pc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(i)}setAll(t){let i=Je.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Il(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Pc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Wr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new qn(Il(this.value))}}function CE(s){const t=[];return Wr(s.fields,((i,a)=>{const l=new Je([i]);if(Pc(a)){const c=CE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new ri(t)}class sn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new sn(t,0,Tt.min(),Tt.min(),Tt.min(),qn.empty(),0)}static newFoundDocument(t,i,a,l){return new sn(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new sn(t,2,i,Tt.min(),Tt.min(),qn.empty(),0)}static newUnknownDocument(t,i){return new sn(t,3,i,Tt.min(),Tt.min(),qn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(t,i){this.position=t,this.inclusive=i}}function Av(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=ro(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function bv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Li(s.position[i],t.position[i]))return!1;return!0}class th{constructor(t,i="asc"){this.field=t,this.dir=i}}function F2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class IE{}class Ue extends IE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new K2(t,i,a):i==="array-contains"?new X2(t,a):i==="in"?new $2(t,a):i==="not-in"?new J2(t,a):i==="array-contains-any"?new Z2(t,a):new Ue(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Q2(t,a):new Y2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ro(i,this.value)):i!==null&&ur(this.value)===ur(i)&&this.matchesComparison(ro(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends IE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ui(t,i)}matches(t){return DE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DE(s){return s.op==="and"}function NE(s){return G2(s)&&DE(s)}function G2(s){for(const t of s.filters)if(t instanceof Ui)return!1;return!0}function im(s){if(s instanceof Ue)return s.field.canonicalString()+s.op.toString()+ao(s.value);if(NE(s))return s.filters.map((t=>im(t))).join(",");{const t=s.filters.map((i=>im(i))).join(",");return`${s.op}(${t})`}}function OE(s,t){return s instanceof Ue?(function(a,l){return l instanceof Ue&&a.op===l.op&&a.field.isEqual(l.field)&&Li(a.value,l.value)})(s,t):s instanceof Ui?(function(a,l){return l instanceof Ui&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&OE(d,l.filters[p])),!0):!1})(s,t):void _t(19439)}function xE(s){return s instanceof Ue?(function(i){return`${i.field.canonicalString()} ${i.op} ${ao(i.value)}`})(s):s instanceof Ui?(function(i){return i.op.toString()+" {"+i.getFilters().map(xE).join(" ,")+"}"})(s):"Filter"}class K2 extends Ue{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Q2 extends Ue{constructor(t,i){super(t,"in",i),this.keys=ME("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Y2 extends Ue{constructor(t,i){super(t,"not-in",i),this.keys=ME("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function ME(s,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class X2 extends Ue{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return xm(i)&&Pl(i.arrayValue,this.value)}}class $2 extends Ue{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Pl(this.value.arrayValue,i)}}class J2 extends Ue{constructor(t,i){super(t,"not-in",i)}matches(t){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Pl(this.value.arrayValue,i)}}class Z2 extends Ue{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!xm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Pl(this.value.arrayValue,a)))}}class W2{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function wv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new W2(s,t,i,a,l,c,d)}function Mm(s){const t=At(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>im(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),mh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>ao(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>ao(a))).join(",")),t.Te=i}return t.Te}function Vm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!F2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!OE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!bv(s.startAt,t.startAt)&&bv(s.endAt,t.endAt)}function sm(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class gh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function tC(s,t,i,a,l,c,d,p){return new gh(s,t,i,a,l,c,d,p)}function km(s){return new gh(s)}function Rv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function eC(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function nC(s){return s.collectionGroup!==null}function Dl(s){const t=At(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new ze(Je.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new th(c,a))})),i.has(Je.keyField().canonicalString())||t.Ie.push(new th(Je.keyField(),a))}return t.Ie}function Mi(s){const t=At(s);return t.Ee||(t.Ee=iC(t,Dl(s))),t.Ee}function iC(s,t){if(s.limitType==="F")return wv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new th(l.field,c)}));const i=s.endAt?new Wc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Wc(s.startAt.position,s.startAt.inclusive):null;return wv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function rm(s,t,i){return new gh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function yh(s,t){return Vm(Mi(s),Mi(t))&&s.limitType===t.limitType}function VE(s){return`${Mm(Mi(s))}|lt:${s.limitType}`}function Ga(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>xE(l))).join(", ")}]`),mh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ao(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ao(l))).join(",")),`Target(${a})`})(Mi(s))}; limitType=${s.limitType})`}function _h(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):mt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Dl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=Av(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Dl(a),l)||a.endAt&&!(function(d,p,y){const _=Av(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Dl(a),l))})(s,t)}function sC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function kE(s){return(t,i)=>{let a=!1;for(const l of Dl(s)){const c=rC(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function rC(s,t,i){const a=s.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?ro(y,_):_t(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _t(19790,{direction:s.dir})}}class ta{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Wr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return vE(this.inner)}size(){return this.innerSize}}const aC=new fe(mt.comparator);function hs(){return aC}const LE=new fe(mt.comparator);function Al(...s){let t=LE;for(const i of s)t=t.insert(i.key,i);return t}function UE(s){let t=LE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Gr(){return Nl()}function PE(){return Nl()}function Nl(){return new ta((s=>s.toString()),((s,t)=>s.isEqual(t)))}const oC=new fe(mt.comparator),lC=new ze(mt.comparator);function zt(...s){let t=lC;for(const i of s)t=t.add(i);return t}const uC=new ze(Pt);function cC(){return uC}function Lm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function zE(s){return{integerValue:""+s}}function hC(s,t){return k2(t)?zE(t):Lm(s,t)}class vh{constructor(){this._=void 0}}function fC(s,t,i){return s instanceof eh?(function(l,c){const d={fields:{[SE]:{stringValue:TE},[bE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Om(c)&&(c=ph(c)),c&&(d.fields[AE]=c),{mapValue:d}})(i,t):s instanceof zl?BE(s,t):s instanceof jl?HE(s,t):(function(l,c){const d=jE(l,c),p=Cv(d)+Cv(l.Ae);return nm(d)&&nm(l.Ae)?zE(p):Lm(l.serializer,p)})(s,t)}function dC(s,t,i){return s instanceof zl?BE(s,t):s instanceof jl?HE(s,t):i}function jE(s,t){return s instanceof nh?(function(a){return nm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class eh extends vh{}class zl extends vh{constructor(t){super(),this.elements=t}}function BE(s,t){const i=qE(t);for(const a of s.elements)i.some((l=>Li(l,a)))||i.push(a);return{arrayValue:{values:i}}}class jl extends vh{constructor(t){super(),this.elements=t}}function HE(s,t){let i=qE(t);for(const a of s.elements)i=i.filter((l=>!Li(l,a)));return{arrayValue:{values:i}}}class nh extends vh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Cv(s){return Ae(s.integerValue||s.doubleValue)}function qE(s){return xm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function mC(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof zl&&l instanceof zl||a instanceof jl&&l instanceof jl?so(a.elements,l.elements,Li):a instanceof nh&&l instanceof nh?Li(a.Ae,l.Ae):a instanceof eh&&l instanceof eh})(s.transform,t.transform)}class pC{constructor(t,i){this.version=t,this.transformResults=i}}class as{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new as}static exists(t){return new as(void 0,t)}static updateTime(t){return new as(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Eh{}function FE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new KE(s.key,as.none()):new Yl(s.key,s.data,as.none());{const i=s.data,a=qn.empty();let l=new ze(Je.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ea(s.key,a,new ri(l.toArray()),as.none())}}function gC(s,t,i){s instanceof Yl?(function(l,c,d){const p=l.value.clone(),y=Dv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof ea?(function(l,c,d){if(!zc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Dv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(GE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ol(s,t,i,a){return s instanceof Yl?(function(c,d,p,y){if(!zc(c.precondition,d))return p;const _=c.value.clone(),S=Nv(c.fieldTransforms,y,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof ea?(function(c,d,p,y){if(!zc(c.precondition,d))return p;const _=Nv(c.fieldTransforms,y,d),S=d.data;return S.setAll(GE(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,a):(function(c,d,p){return zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function yC(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=jE(a.transform,l||null);c!=null&&(i===null&&(i=qn.empty()),i.set(a.field,c))}return i||null}function Iv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&so(a,l,((c,d)=>mC(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Yl extends Eh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ea extends Eh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function GE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Dv(s,t,i){const a=new Map;Xt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,dC(d,p,i[l]))}return a}function Nv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,fC(c,d,t))}return a}class KE extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _C extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vC{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&gC(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ol(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ol(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=PE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=FE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&so(this.mutations,t.mutations,((i,a)=>Iv(i,a)))&&so(this.baseMutations,t.baseMutations,((i,a)=>Iv(i,a)))}}class Um{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Xt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return oC})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Um(t,i,a,l)}}class EC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TC{constructor(t,i){this.count=t,this.unchangedNames=i}}var xe,Bt;function SC(s){switch(s){case J.OK:return _t(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function QE(s){if(s===void 0)return cs("GRPC error has no .code"),J.UNKNOWN;switch(s){case xe.OK:return J.OK;case xe.CANCELLED:return J.CANCELLED;case xe.UNKNOWN:return J.UNKNOWN;case xe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case xe.INTERNAL:return J.INTERNAL;case xe.UNAVAILABLE:return J.UNAVAILABLE;case xe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case xe.NOT_FOUND:return J.NOT_FOUND;case xe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case xe.ABORTED:return J.ABORTED;case xe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case xe.DATA_LOSS:return J.DATA_LOSS;default:return _t(39323,{code:s})}}(Bt=xe||(xe={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function AC(){return new TextEncoder}const bC=new sr([4294967295,4294967295],0);function Ov(s){const t=AC().encode(s),i=new lE;return i.update(t),new Uint8Array(i.digest())}function xv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new sr([i,a],0),new sr([l,c],0)]}class Pm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new bl(`Invalid padding: ${i}`);if(a<0)throw new bl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=sr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(sr.fromNumber(a)));return l.compare(bC)===1&&(l=new sr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Ov(t),[a,l]=xv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Pm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Ov(t),[a,l]=xv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Th{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Th(Tt.min(),l,new fe(Pt),hs(),zt())}}class Xl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Xl(a,i,zt(),zt(),zt())}}class jc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class YE{constructor(t,i){this.targetId=t,this.Ce=i}}class XE{constructor(t,i,a=Ze.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Mv{constructor(){this.ve=0,this.Fe=Vv(),this.Me=Ze.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:_t(38017,{changeType:c})}})),new Xl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Vv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class wC{constructor(t){this.Ge=t,this.ze=new Map,this.je=hs(),this.He=Nc(),this.Je=Nc(),this.Ze=new fe(Pt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(sm(c))if(a===0){const d=new mt(c.path);this.et(i,d,sn.newNoDocument(d,Tt.min()))}else Xt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=lr(a).toUint8Array()}catch(y){if(y instanceof EE)return io("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Pm(d,l,c)}catch(y){return io(y instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&sm(p.target)){const y=new mt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,sn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=zt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Th(t,i,this.Ze,this.je,a);return this.je=hs(),this.He=Nc(),this.Je=Nc(),this.Ze=new fe(Pt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Mv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new ze(Pt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new ze(Pt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Mv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new fe(mt.comparator)}function Vv(){return new fe(mt.comparator)}const RC={asc:"ASCENDING",desc:"DESCENDING"},CC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IC={and:"AND",or:"OR"};class DC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function am(s,t){return s.useProto3Json||mh(t)?t:{value:t}}function ih(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $E(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function NC(s,t){return ih(s,t.toTimestamp())}function Vi(s){return Xt(!!s,49232),Tt.fromTimestamp((function(i){const a=or(i);return new ue(a.seconds,a.nanos)})(s))}function zm(s,t){return om(s,t).canonicalString()}function om(s,t){const i=(function(l){return new le(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function JE(s){const t=le.fromString(s);return Xt(nT(t),10190,{key:t.toString()}),t}function lm(s,t){return zm(s.databaseId,t.path)}function jd(s,t){const i=JE(t);if(i.get(1)!==s.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new mt(WE(i))}function ZE(s,t){return zm(s.databaseId,t)}function OC(s){const t=JE(s);return t.length===4?le.emptyPath():WE(t)}function um(s){return new le(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function WE(s){return Xt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function kv(s,t,i){return{name:lm(s,t),fields:i.value.mapValue.fields}}function xC(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(Xt(S===void 0||typeof S=="string",58123),Ze.fromBase64String(S||"")):(Xt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ze.fromUint8Array(S||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const S=_.code===void 0?J.UNKNOWN:QE(_.code);return new ct(S,_.message||"")})(d);i=new XE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=jd(s,a.document.name),c=Vi(a.document.updateTime),d=a.document.createTime?Vi(a.document.createTime):Tt.min(),p=new qn({mapValue:{fields:a.document.fields}}),y=sn.newFoundDocument(l,c,d,p),_=a.targetIds||[],S=a.removedTargetIds||[];i=new jc(_,S,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=jd(s,a.document),c=a.readTime?Vi(a.readTime):Tt.min(),d=sn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new jc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=jd(s,a.document),c=a.removedTargetIds||[];i=new jc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new TC(l,c),p=a.targetId;i=new YE(p,d)}}return i}function MC(s,t){let i;if(t instanceof Yl)i={update:kv(s,t.key,t.value)};else if(t instanceof KE)i={delete:lm(s,t.key)};else if(t instanceof ea)i={update:kv(s,t.key,t.data),updateMask:HC(t.fieldMask)};else{if(!(t instanceof _C))return _t(16599,{dt:t.type});i={verify:lm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof jl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:NC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(s,t.precondition)),i}function VC(s,t){return s&&s.length>0?(Xt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Vi(l.updateTime):Vi(c);return d.isEqual(Tt.min())&&(d=Vi(c)),new pC(d,l.transformResults||[])})(i,t)))):[]}function kC(s,t){return{documents:[ZE(s,t.path)]}}function LC(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=ZE(s,l);const c=(function(_){if(_.length!==0)return eT(Ui.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(x){return{field:Ka(x.field),direction:zC(x.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=am(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function UC(s){let t=OC(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Xt(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(b){const x=tT(b);return x instanceof Ui&&NE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function(Z){return new th(Qa(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let x;return x=typeof b=="object"?b.value:b,mh(x)?null:x})(i.limit));let y=null;i.startAt&&(y=(function(b){const x=!!b.before,G=b.values||[];return new Wc(G,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const x=!b.before,G=b.values||[];return new Wc(G,x)})(i.endAt)),tC(t,l,d,c,p,"F",y,_)}function PC(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function tT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Qa(i.unaryFilter.field);return Ue.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Qa(i.unaryFilter.field);return Ue.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(i.unaryFilter.field);return Ue.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return Ue.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ue.create(Qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ui.create(i.compositeFilter.filters.map((a=>tT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function zC(s){return RC[s]}function jC(s){return CC[s]}function BC(s){return IC[s]}function Ka(s){return{fieldPath:s.canonicalString()}}function Qa(s){return Je.fromServerFormat(s.fieldPath)}function eT(s){return s instanceof Ue?(function(i){if(i.op==="=="){if(Sv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NAN"}};if(Tv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Sv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NAN"}};if(Tv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(i.field),op:jC(i.op),value:i.value}}})(s):s instanceof Ui?(function(i){const a=i.getFilters().map((l=>eT(l)));return a.length===1?a[0]:{compositeFilter:{op:BC(i.op),filters:a}}})(s):_t(54877,{filter:s})}function HC(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function nT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function iT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class tr{constructor(t,i,a,l,c=Tt.min(),d=Tt.min(),p=Ze.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new tr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class qC{constructor(t){this.yt=t}}function FC(s){const t=UC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?rm(t,t.limit,"L"):t}class GC{constructor(){this.Sn=new KC}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(ar.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(ar.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class KC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new ze(le.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new ze(le.comparator)).toArray()}}const Lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sT=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(sT,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class oo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new oo(0)}static ar(){return new oo(-1)}}const Uv="LruGarbageCollector",QC=1048576;function Pv([s,t],[i,a]){const l=Pt(s,i);return l===0?Pt(t,a):l}class YC{constructor(t){this.Pr=t,this.buffer=new ze(Pv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Pv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class XC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(Uv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){po(i)?at(Uv,"Ignoring IndexedDB error during garbage collection: ",i):await mo(i)}await this.Ar(3e5)}))}}class $C{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(dh.ce);const a=new YC(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Lv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,y,_;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(_=Date.now(),Fa()<=Ut.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${b} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function JC(s,t){return new $C(s,t)}class ZC{constructor(){this.changes=new ta((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class WC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class tI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ol(a.mutation,l,ri.empty(),ue.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const l=Gr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Al();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Gr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=hs();const d=Nl(),p=(function(){return Nl()})();return i.forEach(((y,_)=>{const S=a.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof ea)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Ol(S.mutation,_,S.mutation.getFieldMask(),ue.now())):d.set(_.key,ri.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>p.set(_,new WC(S,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Nl();let l=new fe(((d,p)=>d-p)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let S=a.get(y)||ri.empty();S=p.applyToLocalView(_,S),a.set(y,S);const b=(l.get(p.batchId)||zt()).add(y);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,S=y.value,b=PE();S.forEach((x=>{if(!c.has(x)){const G=FE(i.get(x),a.get(x));G!==null&&b.set(x,G),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return eC(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):nC(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Gr());let p=kl,y=c;return d.next((_=>X.forEach(_,((S,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(t,S).next((x=>{y=y.insert(S,x)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,zt()))).next((S=>({batchId:p,changes:UE(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let l=Al();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Al();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(y=>{const _=(function(b,x){return new gh(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((S=>{S.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,sn.newInvalidDocument(S)))}));let p=Al();return d.forEach(((y,_)=>{const S=c.get(y);S!==void 0&&Ol(S.mutation,_,ri.empty(),ue.now()),_h(i,_)&&(p=p.insert(y,_))})),p}))}}class eI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Vi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:FC(l.bundledQuery),readTime:Vi(l.readTime)}})(i)),X.resolve()}}class nI{constructor(){this.overlays=new fe(mt.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Gr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Gr(),c=i.length+1,d=new mt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new fe(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=Gr(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const p=Gr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,S)=>p.set(_,S))),!(p.size()>=l)););return X.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new EC(i,a));let c=this.Lr.get(i);c===void 0&&(c=zt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class iI{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class jm{constructor(){this.kr=new ze(qe.Kr),this.qr=new ze(qe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new qe(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new qe(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new mt(new le([])),a=new qe(i,t),l=new qe(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new mt(new le([])),a=new qe(i,t),l=new qe(i,t+1);let c=zt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new qe(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class qe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return mt.comparator(t.key,i.key)||Pt(t.Hr,i.Hr)}static Ur(t,i){return Pt(t.Hr,i.Hr)||mt.comparator(t.key,i.key)}}class sI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new ze(qe.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vC(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new qe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Nm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new qe(i,0),l=new qe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ze(Pt);return i.forEach((l=>{const c=new qe(l,0),d=new qe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;mt.isDocumentKey(c)||(c=c.child(""));const d=new qe(new mt(c),0);let p=new ze(Pt);return this.Jr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Hr)),!0)}),d),X.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Xt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new qe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new qe(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class rI{constructor(t){this.ti=t,this.docs=(function(){return new fe(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(i))}getEntries(t,i){let a=hs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():sn.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=hs();const d=i.path,p=new mt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||O2(N2(S),a)<=0||(l.has(S.key)||_h(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){_t(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new aI(this)}getSize(t){return X.resolve(this.size)}}class aI extends ZC{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class oI{constructor(t){this.persistence=t,this.ri=new ta((i=>Mm(i)),Vm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new jm,this.targetCount=0,this.oi=oo._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new oo(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class rT{constructor(t,i){this._i={},this.overlays={},this.ai=new dh(0),this.ui=!1,this.ui=!0,this.ci=new iI,this.referenceDelegate=t(this),this.li=new oI(this),this.indexManager=new GC,this.remoteDocumentCache=(function(l){return new rI(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new qC(i),this.Pi=new eI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new nI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new sI(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const l=new lI(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class lI extends M2{constructor(t){super(),this.currentSequenceNumber=t}}class Bm{constructor(t){this.persistence=t,this.Ri=new jm,this.Ai=null}static Vi(t){return new Bm(t)}get di(){if(this.Ai)return this.Ai;throw _t(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=mt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.fi=new ta((a=>L2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=JC(this,i)}static Vi(t,i){return new sh(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Uc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Hm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=zt(),l=zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Hm(t,i.fromCache,a,l)}}class uI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class cI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return LA()?8:V2(rn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new uI;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Fa()<=Ut.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ga(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Fa()<=Ut.DEBUG&&at("QueryEngine","Query:",Ga(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Fa()<=Ut.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ga(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(i))):X.resolve())}gs(t,i){if(Rv(i))return X.resolve(null);let a=Mi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=rm(i,null,"F"),a=Mi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=zt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.bs(i,p);return this.Ss(i,_,d,y.readTime)?this.gs(t,rm(i,null,"F")):this.Ds(t,_,i,y)}))))})))))}ps(t,i,a,l){return Rv(i)||l.isEqual(Tt.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(Fa()<=Ut.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ga(i)),this.Ds(t,d,i,D2(l,kl)).next((p=>p)))}))}bs(t,i){let a=new ze(kE(t));return i.forEach(((l,c)=>{_h(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Fa()<=Ut.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ga(i)),this.fs.getDocumentsMatchingQuery(t,i,ar.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const qm="LocalStore",hI=3e8;class fI{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new fe(Pt),this.Fs=new ta((c=>Mm(c)),Vm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function dI(s,t,i,a){return new fI(s,t,i,a)}async function aT(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=zt();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of c){p.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function mI(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,S){const b=_.batch,x=b.keys();let G=X.resolve();return x.forEach((Z=>{G=G.next((()=>S.getEntry(y,Z))).next((et=>{const W=_.docVersions.get(Z);Xt(W!==null,48541),et.version.compareTo(W)<0&&(b.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),S.addEntry(et)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(y,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=zt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function oT(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function pI(s,t){const i=At(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((S,b)=>{const x=l.get(b);if(!x)return;p.push(i.li.removeMatchingKeys(c,S.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,b))));let G=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?G=G.withResumeToken(Ze.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,a)),l=l.insert(b,G),(function(et,W,st){return et.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=hI?!0:st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0})(x,G,S)&&p.push(i.li.updateTargetData(c,G))}));let y=hs(),_=zt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(gI(c,d,t.documentUpdates).next((S=>{y=S.Bs,_=S.Ls}))),!a.isEqual(Tt.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(S)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.vs=l,c)))}function gI(s,t,i){let a=zt(),l=zt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=hs();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):at(qm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{Bs:d,Ls:l}}))}function yI(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Nm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function _I(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new tr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function cm(s,t,i){const a=At(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!po(d))throw d;at(qm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function zv(s,t,i){const a=At(s);let l=Tt.min(),c=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,S){const b=At(y),x=b.Fs.get(S);return x!==void 0?X.resolve(b.vs.get(x)):b.li.getTargetData(_,S)})(a,d,Mi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:zt()))).next((p=>(vI(a,sC(t),p),{documents:p,ks:c})))))}function vI(s,t,i){let a=s.Ms.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class jv{constructor(){this.activeTargetIds=cC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class EI{constructor(){this.vo=new jv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new jv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class TI{Mo(t){}shutdown(){}}const Bv="ConnectivityMonitor";class Hv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(Bv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(Bv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function hm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Bd="RestConnection",SI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class AI{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Jc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=hm(),p=this.Qo(t,i.toUriEncodedString());at(Bd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,l,c);const{host:_}=new URL(p),S=uo(_);return this.zo(t,p,y,a,S).then((b=>(at(Bd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw io(Bd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=SI[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class bI{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const en="WebChannelConnection",_l=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Wa extends AI{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Wa.c_){const t=fE();_l(t,hE.STAT_EVENT,(i=>{i.stat===Wd.PROXY?at(en,"STAT_EVENT: detected buffering proxy"):i.stat===Wd.NOPROXY&&at(en,"STAT_EVENT: detected no buffering proxy")})),Wa.c_=!0}}zo(t,i,a,l,c){const d=hm();return new Promise(((p,y)=>{const _=new uE;_.setWithCredentials(!0),_.listenOnce(cE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Lc.NO_ERROR:const b=_.getResponseJson();at(en,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Lc.TIMEOUT:at(en,`RPC '${t}' ${d} timed out`),y(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const x=_.getStatus();if(at(en,`RPC '${t}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G?.error;if(Z&&Z.status&&Z.message){const et=(function(st){const Et=st.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Et)>=0?Et:J.UNKNOWN})(Z.status);y(new ct(et,Z.message))}else y(new ct(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ct(J.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(en,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);at(en,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=hm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const _=c.join("");at(en,`Creating RPC '${t}' stream ${l}: ${_}`,p);const S=d.createWebChannel(_,p);this.I_(S);let b=!1,x=!1;const G=new bI({Ho:Z=>{x?at(en,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(b||(at(en,`Opening RPC '${t}' stream ${l} transport.`),S.open(),b=!0),at(en,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Jo:()=>S.close()});return _l(S,Sl.EventType.OPEN,(()=>{x||(at(en,`RPC '${t}' stream ${l} transport opened.`),G.i_())})),_l(S,Sl.EventType.CLOSE,(()=>{x||(x=!0,at(en,`RPC '${t}' stream ${l} transport closed`),G.o_(),this.E_(S))})),_l(S,Sl.EventType.ERROR,(Z=>{x||(x=!0,io(en,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),G.o_(new ct(J.UNAVAILABLE,"The operation could not be completed")))})),_l(S,Sl.EventType.MESSAGE,(Z=>{if(!x){const et=Z.data[0];Xt(!!et,16349);const W=et,st=W?.error||W[0]?.error;if(st){at(en,`RPC '${t}' stream ${l} received error:`,st);const Et=st.status;let gt=(function(Dt){const I=xe[Dt];if(I!==void 0)return QE(I)})(Et),xt=st.message;gt===void 0&&(gt=J.INTERNAL,xt="Unknown error status: "+Et+" with message "+st.message),x=!0,G.o_(new ct(gt,xt)),S.close()}else at(en,`RPC '${t}' stream ${l} received:`,et),G.__(et)}})),Wa.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return dE()}}function wI(s){return new Wa(s)}function Hd(){return typeof document<"u"?document:null}function Sh(s){return new DC(s,!0)}Wa.c_=!1;class lT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const qv="PersistentStream";class uT{constructor(t,i,a,l,c,d,p,y){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(cs(i.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ct(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(qv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(at(qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RI extends uT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=xC(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Vi(d.readTime):Tt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=um(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=sm(y)?{documents:kC(c,y)}:{query:LC(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=$E(c,d.resumeToken);const _=am(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=ih(c,d.snapshotVersion.toTimestamp());const _=am(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=PC(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=um(this.serializer),i.removeTarget=t,this.K_(i)}}class CI extends uT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=VC(t.writeResults,t.commitTime),a=Vi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=um(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>MC(this.serializer,a)))};this.K_(i)}}class II{}class DI extends II{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,om(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(J.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,om(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function NI(s,t,i,a){return new DI(s,t,i,a)}class OI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zr="RemoteStore";class xI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{na(this)&&(at(Zr,"Restarting streams for network reachability change."),await(async function(y){const _=At(y);_.Ea.add(4),await $l(_),_.Va.set("Unknown"),_.Ea.delete(4),await Ah(_)})(this))}))})),this.Va=new OI(a,l)}}async function Ah(s){if(na(s))for(const t of s.Ra)await t(!0)}async function $l(s){for(const t of s.Ra)await t(!1)}function cT(s,t){const i=At(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Qm(i)?Km(i):go(i).O_()&&Gm(i,t))}function Fm(s,t){const i=At(s),a=go(i);i.Ia.delete(t),a.O_()&&hT(i,t),i.Ia.size===0&&(a.O_()?a.L_():na(i)&&i.Va.set("Unknown"))}function Gm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}go(s).Z_(t)}function hT(s,t){s.da.$e(t),go(s).X_(t)}function Km(s){s.da=new wC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),go(s).start(),s.Va.ua()}function Qm(s){return na(s)&&!go(s).x_()&&s.Ia.size>0}function na(s){return At(s).Ea.size===0}function fT(s){s.da=void 0}async function MI(s){s.Va.set("Online")}async function VI(s){s.Ia.forEach(((t,i)=>{Gm(s,t)}))}async function kI(s,t){fT(s),Qm(s)?(s.Va.ha(t),Km(s)):s.Va.set("Unknown")}async function LI(s,t,i){if(s.Va.set("Online"),t instanceof XE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,t)}catch(a){at(Zr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await rh(s,a)}else if(t instanceof jc?s.da.Xe(t):t instanceof YE?s.da.st(t):s.da.tt(t),!i.isEqual(Tt.min()))try{const a=await oT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const S=c.Ia.get(y);if(!S)return;c.Ia.set(y,S.withResumeToken(Ze.EMPTY_BYTE_STRING,S.snapshotVersion)),hT(c,y);const b=new tr(S.target,y,_,S.sequenceNumber);Gm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){at(Zr,"Failed to raise snapshot:",a),await rh(s,a)}}async function rh(s,t,i){if(!po(t))throw t;s.Ea.add(1),await $l(s),s.Va.set("Offline"),i||(i=()=>oT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(Zr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ah(s)}))}function dT(s,t){return t().catch((i=>rh(s,i,t)))}async function bh(s){const t=At(s),i=cr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Nm;for(;UI(t);)try{const l=await yI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,PI(t,l)}catch(l){await rh(t,l)}mT(t)&&pT(t)}function UI(s){return na(s)&&s.Ta.length<10}function PI(s,t){s.Ta.push(t);const i=cr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function mT(s){return na(s)&&!cr(s).x_()&&s.Ta.length>0}function pT(s){cr(s).start()}async function zI(s){cr(s).ra()}async function jI(s){const t=cr(s);for(const i of s.Ta)t.ea(i.mutations)}async function BI(s,t,i){const a=s.Ta.shift(),l=Um.from(a,t,i);await dT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await bh(s)}async function HI(s,t){t&&cr(s).Y_&&await(async function(a,l){if((function(d){return SC(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();cr(a).B_(),await dT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await bh(a)}})(s,t),mT(s)&&pT(s)}async function Fv(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),at(Zr,"RemoteStore received new credentials");const a=na(i);i.Ea.add(3),await $l(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ah(i)}async function qI(s,t){const i=At(s);t?(i.Ea.delete(2),await Ah(i)):t||(i.Ea.add(2),await $l(i),i.Va.set("Unknown"))}function go(s){return s.ma||(s.ma=(function(i,a,l){const c=At(i);return c.sa(),new RI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:MI.bind(null,s),Yo:VI.bind(null,s),t_:kI.bind(null,s),J_:LI.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Qm(s)?Km(s):s.Va.set("Unknown")):(await s.ma.stop(),fT(s))}))),s.ma}function cr(s){return s.fa||(s.fa=(function(i,a,l){const c=At(i);return c.sa(),new CI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:zI.bind(null,s),t_:HI.bind(null,s),ta:jI.bind(null,s),na:BI.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await bh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(Zr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Ym{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Ym(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(s,t){if(cs("AsyncQueue",`${t}: ${s}`),po(s))return new ct(J.UNAVAILABLE,`${t}: ${s}`);throw s}class to{static emptySet(t){return new to(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=Al(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof to)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new to;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Gv{constructor(){this.ga=new fe(mt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class lo{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new lo(t,i,to.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class FI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class GI{constructor(){this.queries=Kv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=Kv(),c.forEach(((d,p)=>{for(const y of p.ba)y.onError(a)}))})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function Kv(){return new ta((s=>VE(s)),yh)}async function KI(s,t){const i=At(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new FI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Xm(d,`Initialization of query '${Ga(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&$m(i)}async function QI(s,t){const i=At(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function YI(s,t){const i=At(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&$m(i)}function XI(s,t,i){const a=At(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function $m(s){s.Ca.forEach((t=>{t.next()}))}var fm,Qv;(Qv=fm||(fm={})).Ma="default",Qv.Cache="cache";class $I{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new lo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==fm.Cache}}class gT{constructor(t){this.key=t}}class yT{constructor(t){this.key=t}}class JI{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=zt(),this.mutatedKeys=zt(),this.eu=kE(t),this.tu=new to(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Gv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,b)=>{const x=l.get(S),G=_h(this.query,b)?b:null,Z=!!x&&this.mutatedKeys.has(x.key),et=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;x&&G?x.data.isEqual(G.data)?Z!==et&&(a.track({type:3,doc:G}),W=!0):this.su(x,G)||(a.track({type:2,doc:G}),W=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(p=!0)):!x&&G?(a.track({type:0,doc:G}),W=!0):x&&!G&&(a.track({type:1,doc:x}),W=!0,(y||_)&&(p=!0)),W&&(G?(d=d.add(G),c=et?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,b)=>(function(G,Z){const et=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:W})}};return et(G)-et(Z)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Ya.size===0&&this.current&&!l?1:0,_=y!==this.Xa;return this.Xa=y,d.length!==0||_?{snapshot:new lo(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Gv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new yT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new gT(a))})),i}cu(t){this.Za=t.ks,this.Ya=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Jm="SyncEngine";class ZI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class WI{constructor(t){this.key=t,this.hu=!1}}class tD{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ta((p=>VE(p)),yh),this.Iu=new Map,this.Eu=new Set,this.Ru=new fe(mt.comparator),this.Au=new Map,this.Vu=new jm,this.du={},this.mu=new Map,this.fu=oo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eD(s,t,i=!0){const a=AT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await _T(a,t,i,!0),l}async function nD(s,t){const i=AT(s);await _T(i,t,!0,!1)}async function _T(s,t,i,a){const l=await _I(s.localStore,Mi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await iD(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&cT(s.remoteStore,l),p}async function iD(s,t,i,a,l){s.pu=(b,x,G)=>(async function(et,W,st,Et){let gt=W.view.ru(st);gt.Ss&&(gt=await zv(et.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,gt))));const xt=Et&&Et.targetChanges.get(W.targetId),qt=Et&&Et.targetMismatches.get(W.targetId)!=null,Dt=W.view.applyChanges(gt,et.isPrimaryClient,xt,qt);return Xv(et,W.targetId,Dt.au),Dt.snapshot})(s,b,x,G);const c=await zv(s.localStore,t,!0),d=new JI(t,c.ks),p=d.ru(c.documents),y=Xl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);Xv(s,i,_.au);const S=new ZI(t,i,d);return s.Tu.set(t,S),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function sD(s,t,i){const a=At(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!yh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await cm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Fm(a.remoteStore,l.targetId),dm(a,l.targetId)})).catch(mo)):(dm(a,l.targetId),await cm(a.localStore,l.targetId,!0))}async function rD(s,t){const i=At(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Fm(i.remoteStore,a.targetId))}async function aD(s,t,i){const a=dD(s);try{const l=await(function(d,p){const y=At(d),_=ue.now(),S=p.reduce(((G,Z)=>G.add(Z.key)),zt());let b,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let Z=hs(),et=zt();return y.xs.getEntries(G,S).next((W=>{Z=W,Z.forEach(((st,Et)=>{Et.isValidDocument()||(et=et.add(st))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,Z))).next((W=>{b=W;const st=[];for(const Et of p){const gt=yC(Et,b.get(Et.key).overlayedDocument);gt!=null&&st.push(new ea(Et.key,gt,CE(gt.value.mapValue),as.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,st,p)})).next((W=>{x=W;const st=W.applyToLocalDocumentSet(b,et);return y.documentOverlayCache.saveOverlays(G,W.batchId,st)}))})).then((()=>({batchId:x.batchId,changes:UE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.du[d.currentUser.toKey()];_||(_=new fe(Pt)),_=_.insert(p,y),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await Jl(a,l.changes),await bh(a.remoteStore)}catch(l){const c=Xm(l,"Failed to persist write");i.reject(c)}}async function vT(s,t){const i=At(s);try{const a=await pI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xt(d.hu,14607):l.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))})),await Jl(i,a,t)}catch(a){await mo(a)}}function Yv(s,t,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=At(d);y.onlineState=p;let _=!1;y.queries.forEach(((S,b)=>{for(const x of b.ba)x.va(p)&&(_=!0)})),_&&$m(y)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function oD(s,t,i){const a=At(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new fe(mt.comparator);d=d.insert(c,sn.newNoDocument(c,Tt.min()));const p=zt().add(c),y=new Th(Tt.min(),new Map,new fe(Pt),d,p);await vT(a,y),a.Ru=a.Ru.remove(c),a.Au.delete(t),Zm(a)}else await cm(a.localStore,t,!1).then((()=>dm(a,t,i))).catch(mo)}async function lD(s,t){const i=At(s),a=t.batch.batchId;try{const l=await mI(i.localStore,t);TT(i,a,null),ET(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jl(i,l)}catch(l){await mo(l)}}async function uD(s,t,i){const a=At(s);try{const l=await(function(d,p){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return y.mutationQueue.lookupMutationBatch(_,p).next((b=>(Xt(b!==null,37113),S=b.keys(),y.mutationQueue.removeMutationBatch(_,b)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>y.localDocuments.getDocuments(_,S)))}))})(a.localStore,t);TT(a,t,i),ET(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Jl(a,l)}catch(l){await mo(l)}}function ET(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function TT(s,t,i){const a=At(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function dm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||ST(s,a)}))}function ST(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Fm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),Zm(s))}function Xv(s,t,i){for(const a of i)a instanceof gT?(s.Vu.addReference(a.key,t),cD(s,a)):a instanceof yT?(at(Jm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||ST(s,a.key)):_t(19791,{wu:a})}function cD(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(at(Jm,"New document in limbo: "+i),s.Eu.add(a),Zm(s))}function Zm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new mt(le.fromString(t)),a=s.fu.next();s.Au.set(a,new WI(i)),s.Ru=s.Ru.insert(i,a),cT(s.remoteStore,new tr(Mi(km(i.path)),a,"TargetPurposeLimboResolution",dh.ce))}}async function Jl(s,t,i){const a=At(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(_){l.push(_);const S=Hm.Es(y.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(y,_){const S=At(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(_,(x=>X.forEach(x.Ts,(G=>S.persistence.referenceDelegate.addReference(b,x.targetId,G))).next((()=>X.forEach(x.Is,(G=>S.persistence.referenceDelegate.removeReference(b,x.targetId,G)))))))))}catch(b){if(!po(b))throw b;at(qm,"Failed to update sequence numbers: "+b)}for(const b of _){const x=b.targetId;if(!b.fromCache){const G=S.vs.get(x),Z=G.snapshotVersion,et=G.withLastLimboFreeSnapshotVersion(Z);S.vs=S.vs.insert(x,et)}}})(a.localStore,c))}async function hD(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){at(Jm,"User change. New user:",t.toKey());const a=await aT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ct(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Jl(i,a.Ns)}}function fD(s,t){const i=At(s),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let l=zt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function AT(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=vT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oD.bind(null,t),t.Pu.J_=YI.bind(null,t.eventManager),t.Pu.yu=XI.bind(null,t.eventManager),t}function dD(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uD.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return dI(this.persistence,new cI,t.initialUser,this.serializer)}Cu(t){return new rT(Bm.Vi,this.serializer)}Du(t){return new EI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class mD extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Xt(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new XC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new rT((a=>sh.Vi(a,i)),this.serializer)}}class mm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Yv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=hD.bind(null,this.syncEngine),await qI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new GI})()}createDatastore(t){const i=Sh(t.databaseInfo.databaseId),a=wI(t.databaseInfo);return NI(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new xI(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Yv(this.syncEngine,i,0)),(function(){return Hv.v()?new Hv:new TI})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,S){const b=new tD(l,c,d,p,y,_);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);at(Zr,"RemoteStore shutting down."),a.Ea.add(5),await $l(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mm.provider={build:()=>new mm};class pD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):cs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const hr="FirestoreClient";class gD{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=nn.UNAUTHENTICATED,this.clientId=Im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(hr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(hr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Xm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function qd(s,t){s.asyncQueue.verifyOperationInProgress(),at(hr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await aT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function $v(s,t){s.asyncQueue.verifyOperationInProgress();const i=await yD(s);at(hr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Fv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Fv(t.remoteStore,l))),s._onlineComponents=t}async function yD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(hr,"Using user provided OfflineComponentProvider");try{await qd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;io("Error using user provided cache. Falling back to memory cache: "+i),await qd(s,new ah)}}else at(hr,"Using default OfflineComponentProvider"),await qd(s,new mD(void 0));return s._offlineComponents}async function bT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(hr,"Using user provided OnlineComponentProvider"),await $v(s,s._uninitializedComponentsProvider._online)):(at(hr,"Using default OnlineComponentProvider"),await $v(s,new mm))),s._onlineComponents}function _D(s){return bT(s).then((t=>t.syncEngine))}async function Jv(s){const t=await bT(s),i=t.eventManager;return i.onListen=eD.bind(null,t.syncEngine),i.onUnlisten=sD.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=nD.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=rD.bind(null,t.syncEngine),i}function vD(s,t,i,a){const l=new pD(a),c=new $I(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>KI(await Jv(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>QI(await Jv(s),c)))}}function ED(s,t){const i=new Kr;return s.asyncQueue.enqueueAndForget((async()=>aD(await _D(s),t,i))),i.promise}function wT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const TD="ComponentProvider",Zv=new Map;function SD(s,t,i,a,l){return new z2(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,wT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const RT="firestore.googleapis.com",Wv=!0;class t0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RT,this.ssl=Wv}else this.host=t.host,this.ssl=t.ssl??Wv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=sT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<QC)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}I2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new _2;switch(a.type){case"firstParty":return new S2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Zv.get(i);a&&(at(TD,"Removing Datastore"),Zv.delete(i),a.terminate())})(this),Promise.resolve()}}function AD(s,t,i,a={}){s=Za(s,wh);const l=uo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(v0(`https://${p}`),E0("Firestore",!0)),c.host!==RT&&c.host!==p&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Yr(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=nn.MOCK_USER;else{_=CA(a.mockUserToken,s._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new nn(b)}s._authCredentials=new v2(new pE(_,S))}}class Rh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Rh(this.firestore,t,this._query)}}class Pe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pe(this.firestore,t,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Ql(i,Pe._jsonSchema))return new Pe(t,a||null,new mt(le.fromString(i.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:Me("string",Pe._jsonSchemaVersion),referencePath:Me("string")};class rr extends Rh{constructor(t,i,a){super(t,i,km(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pe(this.firestore,null,new mt(t))}withConverter(t){return new rr(this.firestore,t,this._path)}}function e0(s,t,...i){if(s=un(s),gE("collection","path",t),s instanceof wh){const a=le.fromString(t,...i);return dv(a),new rr(s,null,a)}{if(!(s instanceof Pe||s instanceof rr))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(le.fromString(t,...i));return dv(a),new rr(s.firestore,null,a)}}function n0(s,t,...i){if(s=un(s),arguments.length===1&&(t=Im.newId()),gE("doc","path",t),s instanceof wh){const a=le.fromString(t,...i);return fv(a),new Pe(s,null,new mt(a))}{if(!(s instanceof Pe||s instanceof rr))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(le.fromString(t,...i));return fv(a),new Pe(s.firestore,s instanceof rr?s.converter:null,new mt(a))}}const i0="AsyncQueue";class s0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lT(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&at(i0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Kr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!po(t))throw t;at(i0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",r0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Ym.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:r0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function r0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class oh extends wh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new s0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new s0(t),this._firestoreClient=void 0,await t}}}function bD(s,t){const i=typeof s=="object"?s:b0(),a=typeof s=="string"?s:Jc,l=_m(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=wA("firestore");c&&AD(l,...c)}return l}function CT(s){if(s._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||wD(s),s._firestoreClient}function wD(s){const t=s._freezeSettings(),i=SD(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new gD(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn(Ze.fromBase64String(t))}catch(i){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Fn(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ql(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Me("string",Fn._jsonSchemaVersion),bytes:Me("string")};class IT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class DT{constructor(t){this._methodName=t}}class ki{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(Ql(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Me("string",ki._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};class ai{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ql(t,ai._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ai(t.vectorValues);throw new ct(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:Me("string",ai._jsonSchemaVersion),vectorValues:Me("object")};const RD=/^__.*__$/;class CD{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ea(t,this.data,this.fieldMask,i,this.fieldTransforms):new Yl(t,this.data,i,this.fieldTransforms)}}function NT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{dataSource:s})}}class Wm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Wm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return lh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(NT(this.dataSource)&&RD.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class ID{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Sh(t)}createContext(t,i,a,l=!1){return new Wm({dataSource:t,methodName:i,targetDoc:a,path:Je.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DD(s){const t=s._freezeSettings(),i=Sh(s._databaseId);return new ID(s._databaseId,!!t.ignoreUndefinedProperties,i)}function ND(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);VT("Data must be an object, but it was:",d,a);const p=xT(a,d);let y,_;if(c.merge)y=new ri(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const b of c.mergeFields){const x=tp(t,b,i);if(!d.contains(x))throw new ct(J.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);MD(S,x)||S.push(x)}y=new ri(S),_=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,_=d.fieldTransforms;return new CD(new qn(p),y,_)}function OT(s,t){if(MT(s=un(s)))return VT("Unsupported field value:",t,s),xT(s,t);if(s instanceof DT)return(function(a,l){if(!NT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=OT(p,l.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=un(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return hC(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ue.fromDate(a);return{timestampValue:ih(l.serializer,c)}}if(a instanceof ue){const c=new ue(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(l.serializer,c)}}if(a instanceof ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Fn)return{bytesValue:$E(l.serializer,a._byteString)};if(a instanceof Pe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:zm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ai)return(function(d,p){const y=d instanceof ai?d.toArray():d;return{mapValue:{fields:{[wE]:{stringValue:RE},[Zc]:{arrayValue:{values:y.map((S=>{if(typeof S!="number")throw p.createError("VectorValues must only contain numeric values.");return Lm(p.serializer,S)}))}}}}}})(a,l);if(iT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Dm(a)}`)})(s,t)}function xT(s,t){const i={};return vE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wr(s,((a,l)=>{const c=OT(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function MT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ue||s instanceof ki||s instanceof Fn||s instanceof Pe||s instanceof DT||s instanceof ai||iT(s))}function VT(s,t,i){if(!MT(i)||!yE(i)){const a=Dm(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function tp(s,t,i){if((t=un(t))instanceof IT)return t._internalPath;if(typeof t=="string")return xD(s,t);throw lh("Field path arguments must be of type string or ",s,!1,void 0,i)}const OD=new RegExp("[~\\*/\\[\\]]");function xD(s,t,i){if(t.search(OD)>=0)throw lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new IT(...t.split("."))._internalPath}catch{throw lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function lh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ct(J.INVALID_ARGUMENT,p+s+y)}function MD(s,t){return s.some((i=>i.isEqual(t)))}class VD{convertValue(t,i="none"){switch(ur(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Wr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Zc].arrayValue?.values?.map((a=>Ae(a.doubleValue)));return new ai(i)}convertGeoPoint(t){return new ki(Ae(t.latitude),Ae(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ph(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ll(t));default:return null}}convertTimestamp(t){const i=or(t);return new ue(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=le.fromString(t);Xt(nT(a),9688,{name:t});const l=new Ul(a.get(1),a.get(3)),c=new mt(a.popFirst(5));return l.isEqual(i)||cs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class kT extends VD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Pe(this.firestore,null,i)}}const a0="@firebase/firestore",o0="4.10.0";function l0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class LT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new kD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(tp("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class kD extends LT{data(){return super.data()}}function LD(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function UD(s,t,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,a}class wl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qr extends LT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(tp("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qr._jsonSchema={type:Me("string",Qr._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class Bc extends Qr{data(t={}){return super.data(t)}}class eo{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new wl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new wl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new wl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new wl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:PD(p.type),doc:y,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=eo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Im.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function PD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:Me("string",eo._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};function u0(s,t,i){s=Za(s,Pe);const a=Za(s.firestore,oh),l=UD(s.converter,t,i),c=DD(a);return jD(a,[ND(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,as.none())])}function zD(s,...t){s=un(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||l0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(l0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof Pe)d=Za(s.firestore,oh),p=km(s._key.path),c={next:_=>{t[a]&&t[a](BD(d,s,_))},error:t[a+1],complete:t[a+2]};else{const _=Za(s,Rh);d=Za(_.firestore,oh),p=_._query;const S=new kT(d);c={next:b=>{t[a]&&t[a](new eo(d,S,_,b))},error:t[a+1],complete:t[a+2]},LD(s._query)}const y=CT(d);return vD(y,p,l,c)}function jD(s,t){const i=CT(s);return ED(i,t)}function BD(s,t,i){const a=i.docs.get(t._key),l=new kT(s);return new Qr(s,l,t._key,a,new wl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){y2(co),no(new Xr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new oh(new E2(a.getProvider("auth-internal")),new A2(d,a.getProvider("app-check-internal")),j2(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ir(a0,o0,t),ir(a0,o0,"esm2020")})();const HD={apiKey:"AIzaSyAGLJLk3wzCmZrfQLSri0cLkZlBJnCIi-0",authDomain:"focusflow-d5411.firebaseapp.com",projectId:"focusflow-d5411",storageBucket:"focusflow-d5411.firebasestorage.app",messagingSenderId:"870983180050",appId:"1:870983180050:web:38a6ecbbd089b9d6bcddcb",measurementId:"G-E3QGBE2B1H"},UT=A0(HD),vl=p2(UT),c0=bD(UT),h0=typeof __app_id<"u"?__app_id:"default-app-id",qD=({darkMode:s})=>{const[t,i]=Yt.useState(!1),[a,l]=Yt.useState("/background.png"),c=()=>{a==="/background.png"?l("/background.jpg"):i(!0)};return z.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden bg-gradient-to-br from-gray-900 to-black",children:[!t&&z.jsx("img",{src:a,alt:"Background",className:"w-full h-full object-cover transition-opacity duration-1000 opacity-90",onError:c}),z.jsx("div",{className:`absolute inset-0 transition-colors duration-500 ${s?"bg-black/50":"bg-white/40"}`}),z.jsx("div",{className:"absolute inset-0 backdrop-blur-[1px]"})]})},FD=({data:s})=>{const t=s.reduce((a,l)=>a+l.value,0);if(t===0)return z.jsx("div",{className:"flex items-center justify-center h-48 bg-white/10 rounded-full text-xs text-white/50 backdrop-blur-sm",children:"No Data "});let i=0;return z.jsx("svg",{viewBox:"0 0 100 100",className:"w-48 h-48 transform -rotate-90 drop-shadow-xl",children:s.map((a,l)=>{const c=a.value/t*360,d=50+50*Math.cos(Math.PI*i/180),p=50+50*Math.sin(Math.PI*i/180),y=50+50*Math.cos(Math.PI*(i+c)/180),_=50+50*Math.sin(Math.PI*(i+c)/180),S=a.value===t?"M 50 50 m -50, 0 a 50,50 0 1,0 100,0 a 50,50 0 1,0 -100,0":`M 50 50 L ${d} ${p} A 50 50 0 ${c>180?1:0} 1 ${y} ${_} Z`,b=z.jsx("path",{d:S,fill:a.color,className:"transition-all duration-500 hover:opacity-80 stroke-white/10 stroke-1"},l);return i+=c,b})})},GD=({dailyHistory:s,darkMode:t,glassClass:i})=>{const[a,l]=Yt.useState(new Date),c=(W,st)=>new Date(W,st+1,0).getDate(),d=(W,st)=>new Date(W,st,1).getDay(),p=a.getFullYear(),y=a.getMonth(),_=c(p,y),S=d(p,y),b=["January","February","March","April","May","June","July","August","September","October","November","December"],x=()=>l(new Date(p,y-1,1)),G=()=>l(new Date(p,y+1,1)),Z=Yt.useMemo(()=>{const W={};return s.forEach(st=>{W[st.date]=st.score}),W},[s]),et=()=>{const W=[];for(let st=0;st<S;st++)W.push(z.jsx("div",{className:"h-10 w-10"},`empty-${st}`));for(let st=1;st<=_;st++){const Et=new Date(p,y,st),gt=Et.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),xt=Z[gt];let qt="bg-white/5 hover:bg-white/10";xt!==void 0&&(xt>=80?qt="bg-emerald-500/80 shadow-lg shadow-emerald-500/30 text-white font-bold":xt>=50?qt="bg-amber-500/80 shadow-lg shadow-amber-500/30 text-white":qt="bg-red-500/50 text-white"),new Date().toDateString()===Et.toDateString()&&(qt+=" border-2 border-indigo-400"),W.push(z.jsx("div",{className:`h-10 w-10 flex items-center justify-center rounded-full text-sm cursor-pointer transition-all ${qt}`,title:xt!==void 0?`Score: ${xt}%`:"",children:st},st))}return W};return z.jsxs("div",{className:`p-6 rounded-3xl ${i}`,children:[z.jsxs("div",{className:"flex justify-between items-center mb-6",children:[z.jsx("button",{onClick:x,className:"p-2 rounded-full hover:bg-white/10 transition-colors",children:z.jsx(PS,{})}),z.jsxs("h2",{className:"text-xl font-bold tracking-wide",children:[b[y]," ",p]}),z.jsx("button",{onClick:G,className:"p-2 rounded-full hover:bg-white/10 transition-colors",children:z.jsx(jS,{})})]}),z.jsx("div",{className:"grid grid-cols-7 gap-2 text-center mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(W=>z.jsx("div",{className:"text-xs font-bold opacity-50 uppercase",children:W},W))}),z.jsx("div",{className:"grid grid-cols-7 gap-2 place-items-center",children:et()}),z.jsxs("div",{className:"mt-6 flex justify-center gap-4 text-xs opacity-70",children:[z.jsxs("div",{className:"flex items-center gap-1",children:[z.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})," Great"]}),z.jsxs("div",{className:"flex items-center gap-1",children:[z.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"})," Good"]}),z.jsxs("div",{className:"flex items-center gap-1",children:[z.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"})," Low"]})]})]})};function KD(){const[s,t]=Yt.useState(!0),[i,a]=Yt.useState(null),[l,c]=Yt.useState(!1),[d,p]=Yt.useState(new Date),[y,_]=Yt.useState("planner"),[S,b]=Yt.useState(!1),[x,G]=Yt.useState([]),[Z,et]=Yt.useState([]),[W,st]=Yt.useState([]),[Et,gt]=Yt.useState(null),[xt,qt]=Yt.useState(""),[Dt,I]=Yt.useState(""),[A,C]=Yt.useState(""),[M,D]=Yt.useState(""),[k,w]=Yt.useState(""),[Wt,de]=Yt.useState(""),[q,nt]=Yt.useState(!1),[ht,Mt]=Yt.useState("");Yt.useEffect(()=>{const $=iR(vl,ot=>{ot?(a(ot),c(!1)):Xw(vl).catch(ft=>{console.warn("Guest login unavailable:",ft.message),c(!0);const Ht=localStorage.getItem("focusFlowData");if(Ht){const Ve=JSON.parse(Ht);G(Ve.tasks||[]),et(Ve.habits||[]),st(Ve.dailyHistory||[])}})});return()=>$()},[]),Yt.useEffect(()=>{if(!i)return;const $=n0(e0(c0,"artifacts",h0,"users",i.uid,"plannerData"),"daily"),ot=zD($,ft=>{if(ft.exists()){const Ht=ft.data();G(Ht.tasks||[]),et(Ht.habits||[]),st(Ht.dailyHistory||[]),Ht.savedDate&&p(new Date(Ht.savedDate))}else{const Ht={tasks:[{id:1,text:"Welcome!  Add your first task.",completed:!1,category:"General"}],habits:[{id:1,text:"Check App ",streak:0,completedToday:!1,history:[]}],dailyHistory:[],savedDate:new Date().toISOString()};u0($,Ht)}});return()=>ot()},[i]);const It=async($,ot,ft,Ht)=>{const Ve=$!==void 0?$:x,Dn=ot!==void 0?ot:Z,_e=ft!==void 0?ft:W,an=Ht||d,ke={tasks:Ve,habits:Dn,dailyHistory:_e,savedDate:an};if(localStorage.setItem("focusFlowData",JSON.stringify(ke)),i){const pr=n0(e0(c0,"artifacts",h0,"users",i.uid,"plannerData"),"daily");await u0(pr,{tasks:Ve,habits:Dn,dailyHistory:_e,savedDate:an.toISOString()},{merge:!0})}},O=async $=>{$.preventDefault(),Mt("");try{q?await Ww(vl,k,Wt):await tR(vl,k,Wt),w(""),de("")}catch(ot){Mt(ot.message.replace("Firebase: ",""))}},Q=()=>sR(vl),it=$=>{if($.preventDefault(),!Dt.trim())return;const ot=[...x,{id:Date.now(),text:Dt,completed:!1,category:"General"}];G(ot),I(""),It(ot)},rt=$=>{if($.preventDefault(),!A.trim())return;const ft=A.split(`
`).filter(Ve=>Ve.trim()!=="").map((Ve,Dn)=>({id:Date.now()+Dn,text:Ve.trim(),completed:!1,category:"General"})),Ht=[...x,...ft];G(Ht),C(""),b(!1),It(Ht)},vt=$=>{const ot=x.map(ft=>ft.id===$?{...ft,completed:!ft.completed}:ft);G(ot),It(ot)},bt=$=>{const ot=x.filter(ft=>ft.id!==$);G(ot),It(ot)},Vt=()=>{if(confirm("Remove completed tasks?")){const $=x.filter(ot=>!ot.completed);G($),It($)}},ye=($,ot)=>{gt($),qt(ot)},re=($,ot)=>{if(xt.trim()){{const ft=x.map(Ht=>Ht.id===$?{...Ht,text:xt}:Ht);G(ft),It(ft)}gt(null),qt("")}},Pi=$=>{if($.preventDefault(),!M.trim())return;const ot=[...Z,{id:Date.now(),text:M,streak:0,completedToday:!1,history:[]}];et(ot),D(""),It(void 0,ot)},ds=$=>{const ot=Z.map(ft=>{if(ft.id===$){const Ht=!ft.completedToday,Ve=Ht?ft.streak+1:Math.max(0,ft.streak-1);return{...ft,completedToday:Ht,streak:Ve}}return ft});et(ot),It(void 0,ot)},ms=$=>{const ot=Z.filter(ft=>ft.id!==$);et(ot),It(void 0,ot)},ps=()=>{const $=x.length+Z.length,ot=x.filter(ke=>ke.completed).length+Z.filter(ke=>ke.completedToday).length,ft=$===0?0:Math.round(ot/$*100),Ht={date:d.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),score:ft},Ve=[...W,Ht],Dn=Z.map(ke=>({...ke,completedToday:!1,streak:ke.completedToday?ke.streak:0,history:[...ke.history,ke.completedToday?1:0]})),_e=x.filter(ke=>!ke.completed),an=new Date(d);an.setDate(an.getDate()+1),G(_e),et(Dn),st(Ve),p(an),It(_e,Dn,Ve,an)},_n=Yt.useMemo(()=>{const $=x.length+Z.length;if($===0)return 0;const ot=x.filter(ft=>ft.completed).length+Z.filter(ft=>ft.completedToday).length;return Math.round(ot/$*100)},[x,Z]),gs=[{name:"Tasks",value:x.filter($=>$.completed).length,color:"#10b981"},{name:"Habits",value:Z.filter($=>$.completedToday).length,color:"#6366f1"},{name:"Left",value:x.filter($=>!$.completed).length+Z.filter($=>!$.completedToday).length,color:"#94a3b8"}].filter($=>$.value>0),We=`backdrop-blur-md border shadow-lg transition-all duration-300 ${s?"bg-black/30 border-white/10 text-white":"bg-white/40 border-white/40 text-gray-900"}`,Gn=`w-full p-3 rounded-xl border bg-transparent outline-none transition-all placeholder:text-gray-400 ${s?"border-white/20 focus:border-indigo-400":"border-black/10 focus:border-indigo-500"}`;return z.jsxs("div",{className:`font-sans relative min-h-screen ${s?"text-white":"text-gray-900"}`,children:[z.jsx(qD,{darkMode:s}),z.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[z.jsx("header",{className:`sticky top-0 z-20 backdrop-blur-lg border-b ${s?"bg-black/20 border-white/5":"bg-white/30 border-white/20"}`,children:z.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-4 flex items-center justify-between",children:[z.jsxs("div",{className:"flex items-center gap-3",children:[z.jsx("div",{className:`p-2 rounded-xl backdrop-blur-md ${s?"bg-white/10 text-indigo-300":"bg-white/50 text-indigo-600"}`,children:z.jsx(YS,{size:24})}),z.jsxs("div",{children:[z.jsx("h1",{className:"font-bold text-xl leading-none drop-shadow-sm tracking-tight",children:"FocusFlow "}),z.jsx("p",{className:"text-xs mt-1 font-medium opacity-70",children:d.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]})]}),z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsxs("button",{onClick:ps,className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all backdrop-blur-md border ${s?"bg-emerald-500/20 text-emerald-300 border-emerald-500/30 hover:bg-emerald-500/30":"bg-emerald-500/10 text-emerald-800 border-emerald-500/20 hover:bg-emerald-500/20"}`,title:"Finish today",children:[z.jsx(aA,{size:14})," End Day"]}),z.jsx("button",{onClick:()=>t(!s),className:`p-2 rounded-lg transition-colors backdrop-blur-md border ${s?"bg-white/5 border-white/10 hover:bg-white/10":"bg-white/40 border-white/20 hover:bg-white/60"}`,children:s?z.jsx(cA,{size:20}):z.jsx(tA,{size:20})})]})]})}),z.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-8 space-y-8 flex-1 w-full",children:[z.jsx("div",{className:`flex p-1 rounded-2xl overflow-x-auto ${We}`,children:["planner","tracker","calendar","stats","profile"].map($=>z.jsxs("button",{onClick:()=>_($),className:`flex-1 flex items-center justify-center gap-2 py-2.5 px-4 text-sm font-bold rounded-xl transition-all capitalize whitespace-nowrap ${y===$?s?"bg-white/10 text-white shadow-inner":"bg-white/60 text-black shadow-sm":"opacity-60 hover:opacity-100 hover:bg-white/5"}`,children:[$==="planner"&&z.jsx($S,{size:16}),$==="tracker"&&z.jsx(x_,{size:16}),$==="calendar"&&z.jsx(xS,{size:16}),$==="stats"&&z.jsx(VS,{size:16}),$==="profile"&&z.jsx(FS,{size:16}),$]},$))}),y==="planner"&&z.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[z.jsxs("div",{className:`rounded-2xl p-5 ${We}`,children:[z.jsxs("div",{className:"flex justify-between items-center mb-4",children:[z.jsx("h3",{className:"font-bold text-sm opacity-70 uppercase tracking-wider",children:" To-Do List"}),z.jsxs("div",{className:"flex gap-2",children:[x.some($=>$.completed)&&z.jsxs("button",{onClick:Vt,className:"text-xs px-2 py-1 rounded bg-red-500/20 text-red-300 hover:bg-red-500/30 flex items-center gap-1 transition-colors",children:[z.jsx(Od,{size:12})," Clear Done"]}),z.jsxs("button",{onClick:()=>b(!S),className:"text-xs px-2 py-1 rounded bg-indigo-500/20 text-indigo-300 hover:bg-indigo-500/30 flex items-center gap-1",children:[z.jsx(fA,{size:12})," ",S?"Single Mode":"Bulk Mode"]})]})]}),S?z.jsxs("form",{onSubmit:rt,children:[z.jsx("textarea",{value:A,onChange:$=>C($.target.value),placeholder:"Enter tasks (one per line)...",className:`${Gn} h-32 mb-3`}),z.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/20 transition-all",children:"Add All Tasks "})]}):z.jsxs("form",{onSubmit:it,className:"relative group",children:[z.jsx("input",{type:"text",value:Dt,onChange:$=>I($.target.value),placeholder:"What's the plan today? ",className:`${Gn} pr-12`}),z.jsx("button",{type:"submit",className:"absolute right-2 top-2 p-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg transition-colors shadow-lg shadow-indigo-500/20",children:z.jsx(sA,{size:20})})]})]}),z.jsxs("div",{className:"space-y-3",children:[x.length===0&&z.jsxs("div",{className:`text-center py-16 border-2 border-dashed rounded-2xl ${s?"border-white/10 bg-white/5 text-white/40":"border-black/10 bg-white/20 text-black/40"}`,children:[z.jsx("p",{className:"text-lg",children:"No tasks yet! "}),z.jsx("p",{className:"text-sm mt-1",children:"Add something to get started."})]}),x.map($=>z.jsxs("div",{className:`group flex items-center justify-between p-4 rounded-xl transition-all duration-300 ${We} ${$.completed?"opacity-60 grayscale":"hover:-translate-y-1"}`,children:[z.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[z.jsx("button",{onClick:()=>vt($.id),className:`flex-shrink-0 transition-all duration-300 ${$.completed?"text-emerald-400 scale-110":"opacity-40 hover:opacity-100"}`,children:$.completed?z.jsx(HS,{size:24,className:"fill-emerald-500/20"}):z.jsx(KS,{size:24})}),Et===$.id?z.jsxs("div",{className:"flex-1 flex gap-2",children:[z.jsx("input",{autoFocus:!0,type:"text",value:xt,onChange:ot=>qt(ot.target.value),className:"flex-1 bg-transparent border-b border-indigo-500 outline-none"}),z.jsx("button",{onClick:()=>re($.id),className:"text-emerald-400",children:z.jsx(LS,{size:18})}),z.jsx("button",{onClick:()=>gt(null),className:"text-red-400",children:z.jsx(gA,{size:18})})]}):z.jsx("span",{className:`text-base flex-1 break-all ${$.completed?"line-through decoration-2 decoration-white/30":""}`,children:$.text})]}),z.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[z.jsx("button",{onClick:()=>ye($.id,$.text),className:"p-2 opacity-50 hover:opacity-100 hover:text-indigo-400 transition-all",children:z.jsx(nA,{size:16})}),z.jsx("button",{onClick:()=>bt($.id),className:"p-2 opacity-50 hover:opacity-100 hover:text-red-400 transition-all",children:z.jsx(Od,{size:18})})]})]},$.id))]})]}),y==="tracker"&&z.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[z.jsxs("form",{onSubmit:Pi,className:"flex gap-2",children:[z.jsx("input",{type:"text",value:M,onChange:$=>D($.target.value),placeholder:"New habit to build... ",className:`${Gn} flex-1`}),z.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/20 transition-all",children:"Add"})]}),z.jsx("div",{className:"space-y-4",children:Z.map($=>z.jsxs("div",{className:`p-5 rounded-2xl transition-all duration-300 ${We} ${$.completedToday?"border-indigo-500/50 shadow-indigo-500/10":""}`,children:[z.jsxs("div",{className:"flex items-center justify-between mb-4",children:[z.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[z.jsx("div",{className:`p-3 rounded-xl ${$.completedToday?"bg-indigo-500 text-white shadow-lg shadow-indigo-500/30":"bg-white/10"}`,children:z.jsx(x_,{size:20})}),z.jsxs("div",{className:"flex-1",children:[z.jsx("h3",{className:"font-bold text-lg",children:$.text}),z.jsxs("p",{className:"text-xs opacity-60 font-mono mt-0.5",children:[" ",$.streak," Day Streak"]})]})]}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx("button",{onClick:()=>ds($.id),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${$.completedToday?"bg-indigo-500 text-white shadow-lg shadow-indigo-500/20":"bg-white/10 hover:bg-white/20"}`,children:$.completedToday?"Completed! ":"Mark Done"}),z.jsx("button",{onClick:()=>ms($.id),className:"p-2 opacity-40 hover:opacity-100 hover:text-red-400 transition-all",children:z.jsx(Od,{size:16})})]})]}),z.jsx("div",{className:"flex gap-1.5 justify-end",children:[...$.history,$.completedToday?1:0].slice(-7).map((ot,ft)=>z.jsx("div",{className:`w-2 h-8 rounded-full transition-all duration-500 ${ot?"bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.6)]":"bg-white/10"}`,title:ot?"Done":"Missed"},ft))})]},$.id))})]}),y==="calendar"&&z.jsx("div",{className:"space-y-6 animate-fadeIn",children:z.jsx(GD,{dailyHistory:W,darkMode:s,glassClass:We})}),y==="stats"&&z.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[z.jsxs("div",{className:`p-8 rounded-3xl flex flex-col items-center ${We}`,children:[z.jsx("h2",{className:"text-xl font-bold mb-8 tracking-tight",children:" Today's Breakdown"}),z.jsx(FD,{data:gs}),z.jsx("div",{className:"mt-8 flex gap-6 flex-wrap justify-center",children:gs.map(($,ot)=>z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsx("div",{className:"w-3 h-3 rounded-full shadow-[0_0_8px_currentColor]",style:{color:$.color,backgroundColor:$.color}}),z.jsxs("span",{className:"text-sm font-medium opacity-80",children:[$.name," (",$.value,")"]})]},ot))})]}),z.jsxs("div",{className:`p-8 rounded-3xl ${We}`,children:[z.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[z.jsx(NS,{className:"text-amber-400"}),z.jsx("h2",{className:"text-xl font-bold",children:"Daily Score"})]}),z.jsxs("div",{className:"flex items-end gap-2 mb-6",children:[z.jsxs("span",{className:"text-5xl font-black bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 to-purple-400",children:[_n,"%"]}),z.jsx("span",{className:"text-sm opacity-60 mb-2 font-medium",children:"completed"})]}),z.jsx("div",{className:"w-full h-3 rounded-full bg-white/10 overflow-hidden",children:z.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all duration-1000 shadow-[0_0_15px_rgba(99,102,241,0.5)]",style:{width:`${_n}%`}})})]})]}),y==="profile"&&z.jsx("div",{className:`max-w-md mx-auto p-8 rounded-3xl ${We}`,children:i&&!i.isAnonymous?z.jsxs("div",{className:"text-center space-y-6",children:[z.jsxs("div",{className:"relative w-24 h-24 mx-auto",children:[z.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-4xl text-white font-black shadow-2xl shadow-indigo-500/40",children:(i.email||"U")[0].toUpperCase()}),z.jsx("div",{className:"absolute bottom-0 right-0 p-2 bg-emerald-500 rounded-full border-4 border-black/50 backdrop-blur-sm",children:z.jsx(lA,{size:16,className:"text-white"})})]}),z.jsxs("div",{children:[z.jsx("h2",{className:"text-2xl font-bold",children:i.email}),z.jsx("p",{className:"text-sm opacity-60 mt-1",children:"Verified Member "})]}),z.jsxs("button",{onClick:Q,className:"flex items-center justify-center gap-2 w-full py-4 rounded-xl border border-red-500/30 text-red-400 hover:bg-red-500/10 transition-colors font-bold",children:[z.jsx(ZS,{size:18})," Sign Out"]})]}):z.jsxs("div",{className:"space-y-6",children:[z.jsxs("div",{className:"text-center",children:[z.jsx("h2",{className:"text-2xl font-bold mb-2",children:q?"Create Account ":"Welcome Back "}),z.jsx("p",{className:"text-sm opacity-60",children:q?"Start your journey to consistency.":"Login to sync your data."}),l&&z.jsx("div",{className:"mt-4 p-3 bg-amber-500/20 text-amber-300 text-xs rounded-xl border border-amber-500/30",children:" Offline Mode: Data saved locally."})]}),ht&&z.jsx("div",{className:"p-3 bg-red-500/20 text-red-200 text-sm rounded-xl border border-red-500/30 text-center",children:ht}),z.jsxs("form",{onSubmit:O,className:"space-y-4",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs font-bold uppercase opacity-50 mb-1 ml-1",children:"Email"}),z.jsx("input",{type:"email",required:!0,value:k,onChange:$=>w($.target.value),className:Gn})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs font-bold uppercase opacity-50 mb-1 ml-1",children:"Password"}),z.jsx("input",{type:"password",required:!0,value:Wt,onChange:$=>de($.target.value),className:Gn})]}),z.jsx("button",{type:"submit",className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/30 transition-all transform hover:scale-[1.02]",children:q?"Sign Up":"Login"})]}),z.jsx("div",{className:"text-center",children:z.jsx("button",{onClick:()=>nt(!q),className:"text-sm text-indigo-400 hover:text-indigo-300 hover:underline",children:q?"Have an account? Login":"New here? Create Account"})})]})})]})]})]})}AS.createRoot(document.getElementById("root")).render(z.jsx(Yt.StrictMode,{children:z.jsx(KD,{})}));
