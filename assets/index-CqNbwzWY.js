(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Rd={exports:{}},bl={};var S_;function Eb(){if(S_)return bl;S_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return bl.Fragment=t,bl.jsx=i,bl.jsxs=i,bl}var A_;function Tb(){return A_||(A_=1,Rd.exports=Eb()),Rd.exports}var S=Tb(),Id={exports:{}},St={};var w_;function bb(){if(w_)return St;w_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function K(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,st={};function mt(O,Q,tt){this.props=O,this.context=Q,this.refs=st,this.updater=tt||Z}mt.prototype.isReactComponent={},mt.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},mt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ft(){}ft.prototype=mt.prototype;function vt(O,Q,tt){this.props=O,this.context=Q,this.refs=st,this.updater=tt||Z}var Mt=vt.prototype=new ft;Mt.constructor=vt,it(Mt,mt.prototype),Mt.isPureReactComponent=!0;var te=Array.isArray;function Gt(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(O,Q,tt){var nt=tt.ref;return{$$typeof:s,type:O,key:Q,ref:nt!==void 0?nt:null,props:tt}}function V(O,Q){return C(O.type,Q,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function L(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(tt){return Q[tt]})}var R=/\/+/g;function ee(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):Q.toString(36)}function ge(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Gt,Gt):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function q(O,Q,tt,nt,gt){var Et=typeof O;(Et==="undefined"||Et==="boolean")&&(O=null);var xt=!1;if(O===null)xt=!0;else switch(Et){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(O.$$typeof){case s:case t:xt=!0;break;case b:return xt=O._init,q(xt(O._payload),Q,tt,nt,gt)}}if(xt)return gt=gt(O),xt=nt===""?"."+ee(O,0):nt,te(gt)?(tt="",xt!=null&&(tt=xt.replace(R,"$&/")+"/"),q(gt,Q,tt,"",function(ui){return ui})):gt!=null&&(N(gt)&&(gt=V(gt,tt+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(R,"$&/")+"/")+xt)),Q.push(gt)),1;xt=0;var be=nt===""?".":nt+":";if(te(O))for(var Nt=0;Nt<O.length;Nt++)nt=O[Nt],Et=be+ee(nt,Nt),xt+=q(nt,Q,tt,Et,gt);else if(Nt=K(O),typeof Nt=="function")for(O=Nt.call(O),Nt=0;!(nt=O.next()).done;)nt=nt.value,Et=be+ee(nt,Nt++),xt+=q(nt,Q,tt,Et,gt);else if(Et==="object"){if(typeof O.then=="function")return q(ge(O),Q,tt,nt,gt);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return xt}function et(O,Q,tt){if(O==null)return O;var nt=[],gt=0;return q(O,nt,"","",function(Et){return Q.call(tt,Et,gt++)}),nt}function ct(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(tt){(O._status===0||O._status===-1)&&(O._status=1,O._result=tt)},function(tt){(O._status===0||O._status===-1)&&(O._status=2,O._result=tt)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Vt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:et,forEach:function(O,Q,tt){et(O,function(){Q.apply(this,arguments)},tt)},count:function(O){var Q=0;return et(O,function(){Q++}),Q},toArray:function(O){return et(O,function(Q){return Q})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return St.Activity=A,St.Children=Ht,St.Component=mt,St.Fragment=i,St.Profiler=l,St.PureComponent=vt,St.StrictMode=a,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,St.__COMPILER_RUNTIME={__proto__:null,c:function(O){return x.H.useMemoCache(O)}},St.cache=function(O){return function(){return O.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(O,Q,tt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var nt=it({},O.props),gt=O.key;if(Q!=null)for(Et in Q.key!==void 0&&(gt=""+Q.key),Q)!w.call(Q,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&Q.ref===void 0||(nt[Et]=Q[Et]);var Et=arguments.length-2;if(Et===1)nt.children=tt;else if(1<Et){for(var xt=Array(Et),be=0;be<Et;be++)xt[be]=arguments[be+2];nt.children=xt}return C(O.type,gt,nt)},St.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},St.createElement=function(O,Q,tt){var nt,gt={},Et=null;if(Q!=null)for(nt in Q.key!==void 0&&(Et=""+Q.key),Q)w.call(Q,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(gt[nt]=Q[nt]);var xt=arguments.length-2;if(xt===1)gt.children=tt;else if(1<xt){for(var be=Array(xt),Nt=0;Nt<xt;Nt++)be[Nt]=arguments[Nt+2];gt.children=be}if(O&&O.defaultProps)for(nt in xt=O.defaultProps,xt)gt[nt]===void 0&&(gt[nt]=xt[nt]);return C(O,Et,gt)},St.createRef=function(){return{current:null}},St.forwardRef=function(O){return{$$typeof:g,render:O}},St.isValidElement=N,St.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ct}},St.memo=function(O,Q){return{$$typeof:y,type:O,compare:Q===void 0?null:Q}},St.startTransition=function(O){var Q=x.T,tt={};x.T=tt;try{var nt=O(),gt=x.S;gt!==null&&gt(tt,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(Gt,Vt)}catch(Et){Vt(Et)}finally{Q!==null&&tt.types!==null&&(Q.types=tt.types),x.T=Q}},St.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},St.use=function(O){return x.H.use(O)},St.useActionState=function(O,Q,tt){return x.H.useActionState(O,Q,tt)},St.useCallback=function(O,Q){return x.H.useCallback(O,Q)},St.useContext=function(O){return x.H.useContext(O)},St.useDebugValue=function(){},St.useDeferredValue=function(O,Q){return x.H.useDeferredValue(O,Q)},St.useEffect=function(O,Q){return x.H.useEffect(O,Q)},St.useEffectEvent=function(O){return x.H.useEffectEvent(O)},St.useId=function(){return x.H.useId()},St.useImperativeHandle=function(O,Q,tt){return x.H.useImperativeHandle(O,Q,tt)},St.useInsertionEffect=function(O,Q){return x.H.useInsertionEffect(O,Q)},St.useLayoutEffect=function(O,Q){return x.H.useLayoutEffect(O,Q)},St.useMemo=function(O,Q){return x.H.useMemo(O,Q)},St.useOptimistic=function(O,Q){return x.H.useOptimistic(O,Q)},St.useReducer=function(O,Q,tt){return x.H.useReducer(O,Q,tt)},St.useRef=function(O){return x.H.useRef(O)},St.useState=function(O){return x.H.useState(O)},St.useSyncExternalStore=function(O,Q,tt){return x.H.useSyncExternalStore(O,Q,tt)},St.useTransition=function(){return x.H.useTransition()},St.version="19.2.4",St}var R_;function ym(){return R_||(R_=1,Id.exports=bb()),Id.exports}var Ft=ym(),Cd={exports:{}},Sl={},xd={exports:{}},Nd={};var I_;function Sb(){return I_||(I_=1,(function(s){function t(q,et){var ct=q.length;q.push(et);t:for(;0<ct;){var Vt=ct-1>>>1,Ht=q[Vt];if(0<l(Ht,et))q[Vt]=et,q[ct]=Ht,ct=Vt;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var et=q[0],ct=q.pop();if(ct!==et){q[0]=ct;t:for(var Vt=0,Ht=q.length,O=Ht>>>1;Vt<O;){var Q=2*(Vt+1)-1,tt=q[Q],nt=Q+1,gt=q[nt];if(0>l(tt,ct))nt<Ht&&0>l(gt,tt)?(q[Vt]=gt,q[nt]=ct,Vt=nt):(q[Vt]=tt,q[Q]=ct,Vt=Q);else if(nt<Ht&&0>l(gt,ct))q[Vt]=gt,q[nt]=ct,Vt=nt;else break t}}return et}function l(q,et){var ct=q.sortIndex-et.sortIndex;return ct!==0?ct:q.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],b=1,A=null,M=3,K=!1,Z=!1,it=!1,st=!1,mt=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,vt=typeof setImmediate<"u"?setImmediate:null;function Mt(q){for(var et=i(y);et!==null;){if(et.callback===null)a(y);else if(et.startTime<=q)a(y),et.sortIndex=et.expirationTime,t(_,et);else break;et=i(y)}}function te(q){if(it=!1,Mt(q),!Z)if(i(_)!==null)Z=!0,Gt||(Gt=!0,L());else{var et=i(y);et!==null&&ge(te,et.startTime-q)}}var Gt=!1,x=-1,w=5,C=-1;function V(){return st?!0:!(s.unstable_now()-C<w)}function N(){if(st=!1,Gt){var q=s.unstable_now();C=q;var et=!0;try{t:{Z=!1,it&&(it=!1,ft(x),x=-1),K=!0;var ct=M;try{e:{for(Mt(q),A=i(_);A!==null&&!(A.expirationTime>q&&V());){var Vt=A.callback;if(typeof Vt=="function"){A.callback=null,M=A.priorityLevel;var Ht=Vt(A.expirationTime<=q);if(q=s.unstable_now(),typeof Ht=="function"){A.callback=Ht,Mt(q),et=!0;break e}A===i(_)&&a(_),Mt(q)}else a(_);A=i(_)}if(A!==null)et=!0;else{var O=i(y);O!==null&&ge(te,O.startTime-q),et=!1}}break t}finally{A=null,M=ct,K=!1}et=void 0}}finally{et?L():Gt=!1}}}var L;if(typeof vt=="function")L=function(){vt(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=N,L=function(){ee.postMessage(null)}}else L=function(){mt(N,0)};function ge(q,et){x=mt(function(){q(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(q){switch(M){case 1:case 2:case 3:var et=3;break;default:et=M}var ct=M;M=et;try{return q()}finally{M=ct}},s.unstable_requestPaint=function(){st=!0},s.unstable_runWithPriority=function(q,et){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ct=M;M=q;try{return et()}finally{M=ct}},s.unstable_scheduleCallback=function(q,et,ct){var Vt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Vt+ct:Vt):ct=Vt,q){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ct+Ht,q={id:b++,callback:et,priorityLevel:q,startTime:ct,expirationTime:Ht,sortIndex:-1},ct>Vt?(q.sortIndex=ct,t(y,q),i(_)===null&&q===i(y)&&(it?(ft(x),x=-1):it=!0,ge(te,ct-Vt))):(q.sortIndex=Ht,t(_,q),Z||K||(Z=!0,Gt||(Gt=!0,L()))),q},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(q){var et=M;return function(){var ct=M;M=et;try{return q.apply(this,arguments)}finally{M=ct}}}})(Nd)),Nd}var C_;function Ab(){return C_||(C_=1,xd.exports=Sb()),xd.exports}var Dd={exports:{}},en={};var x_;function wb(){if(x_)return en;x_=1;var s=ym();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,en.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,b)},en.flushSync=function(_){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=b,a.d.f()}},en.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},en.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},en.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,A=g(b,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,K=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:K}):b==="script"&&a.d.X(_,{crossOrigin:A,integrity:M,fetchPriority:K,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},en.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=g(b,y.crossOrigin);a.d.L(_,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},en.requestFormReset=function(_){a.d.r(_)},en.unstable_batchedUpdates=function(_,y){return _(y)},en.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.4",en}var N_;function Rb(){if(N_)return Dd.exports;N_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Dd.exports=wb(),Dd.exports}var D_;function Ib(){if(D_)return Sl;D_=1;var s=Ab(),t=ym(),i=Rb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),ft=Symbol.for("react.consumer"),vt=Symbol.for("react.context"),Mt=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),Gt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case mt:return"Profiler";case st:return"StrictMode";case te:return"Suspense";case Gt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case vt:return e.displayName||"Context";case ft:return(e._context.displayName||"Context")+".Consumer";case Mt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var ge=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Vt=[],Ht=-1;function O(e){return{current:e}}function Q(e){0>Ht||(e.current=Vt[Ht],Vt[Ht]=null,Ht--)}function tt(e,n){Ht++,Vt[Ht]=e.current,e.current=n}var nt=O(null),gt=O(null),Et=O(null),xt=O(null);function be(e,n){switch(tt(Et,n),tt(gt,e),tt(nt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ky(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ky(n),e=Qy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(nt),tt(nt,e)}function Nt(){Q(nt),Q(gt),Q(Et)}function ui(e){e.memoizedState!==null&&tt(xt,e);var n=nt.current,r=Qy(n,e.type);n!==r&&(tt(gt,e),tt(nt,r))}function gs(e){gt.current===e&&(Q(nt),Q(gt)),xt.current===e&&(Q(xt),_l._currentValue=ct)}var ys,_s;function Dn(e){if(ys===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ys=n&&n[1]||"",_s=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+e+_s}var _r=!1;function Bi(e,n){if(!e||_r)return"";_r=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var j=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){j=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){j=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var G=`
`+I[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{_r=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Dn(r):""}function vr(e,n){switch(e.tag){case 26:case 27:case 5:return Dn(e.type);case 16:return Dn("Lazy");case 13:return e.child!==n&&n!==null?Dn("Suspense Fallback"):Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 15:return Bi(e.type,!1);case 11:return Bi(e.type.render,!1);case 1:return Bi(e.type,!0);case 31:return Dn("Activity");default:return""}}function Er(e){try{var n="",r=null;do n+=vr(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,_e=s.unstable_scheduleCallback,ci=s.unstable_cancelCallback,bo=s.unstable_shouldYield,la=s.unstable_requestPaint,Ke=s.unstable_now,hi=s.unstable_getCurrentPriorityLevel,vs=s.unstable_ImmediatePriority,on=s.unstable_UserBlockingPriority,ln=s.unstable_NormalPriority,Es=s.unstable_LowPriority,F=s.unstable_IdlePriority,ot=s.log,bt=s.unstable_setDisableYieldValue,kt=null,Ct=null;function le(e){if(typeof ot=="function"&&bt(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(kt,e)}catch{}}var ae=Math.clz32?Math.clz32:Tr,On=Math.log,Se=Math.LN2;function Tr(e){return e>>>=0,e===0?32:31-(On(e)/Se|0)|0}var En=256,fi=262144,ve=4194304;function Mn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function di(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Mn(o):(p&=E,p!==0?h=Mn(p):r||(r=E&~e,r!==0&&(h=Mn(r))))):(E=o&~f,E!==0?h=Mn(E):p!==0?h=Mn(p):r||(r=o&~e,r!==0&&(h=Mn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Yn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function xh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function mi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function br(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Nh(e,n,r,o,h,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(r=p&~r;0<r;){var G=31-ae(r),X=1<<G;E[G]=0,I[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var H=j[G];H!==null&&(H.lane&=-536870913)}r&=~X}o!==0&&Sr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function Sr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ae(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function So(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ae(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Ao(e,n){var r=n&-n;return r=(r&42)!==0?1:Ar(r),(r&(e.suspendedLanes|n))!==0?0:r}function Ar(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:g_(e.type))}function Xn(e,n){var r=et.p;try{return et.p=e,n()}finally{et.p=r}}var $n=Math.random().toString(36).slice(2),xe="__reactFiber$"+$n,He="__reactProps$"+$n,pi="__reactContainer$"+$n,ua="__reactEvents$"+$n,Dh="__reactListeners$"+$n,au="__reactHandles$"+$n,ou="__reactResources$"+$n,gi="__reactMarker$"+$n;function ca(e){delete e[xe],delete e[He],delete e[ua],delete e[Dh],delete e[au]}function yi(e){var n=e[xe];if(n)return n;for(var r=e.parentNode;r;){if(n=r[pi]||r[xe]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=t_(e);e!==null;){if(r=e[xe])return r;e=t_(e)}return n}e=r,r=e.parentNode}return null}function Vn(e){if(e=e[xe]||e[pi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Tn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function _i(e){var n=e[ou];return n||(n=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ne(e){e[gi]=!0}var wo=new Set,Ro={};function vi(e,n){Ei(e,n),Ei(e+"Capture",n)}function Ei(e,n){for(Ro[e]=n,e=0;e<n.length;e++)wo.add(n[e])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},xo={};function lu(e){return ye.call(xo,e)?!0:ye.call(Co,e)?!1:Io.test(e)?xo[e]=!0:(Co[e]=!0,!1)}function ha(e,n,r){if(lu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function bn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function De(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ts(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function No(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jt(e){if(!e._valueTracker){var n=Ts(e)?"checked":"value";e._valueTracker=No(e,n,""+e[n])}}function wr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=Ts(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rr=/[\n"\\]/g;function fn(e){return e.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fa(e,n,r,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qe(n)):e.value!==""+qe(n)&&(e.value=""+qe(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Do(e,p,qe(n)):r!=null?Do(e,p,qe(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+qe(E):e.removeAttribute("name")}function uu(e,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Jt(e);return}r=r!=null?""+qe(r):"",n=n!=null?""+qe(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Jt(e)}function Do(e,n,r){n==="number"&&Ti(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function bs(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+qe(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,r){if(n!=null&&(n=""+qe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+qe(r):""}function Ss(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(ge(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=qe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Jt(e)}function dn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||hu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Mo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Oo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Oo(e,f,n[f])}function da(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(e){return As.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jn(){}var Vo=null;function kn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ws=null,bi=null;function Ir(e){var n=Vn(e);if(n&&(e=n.stateNode)){var r=e[He]||null;t:switch(e=n.stateNode,n.type){case"input":if(fa(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[He]||null;if(!h)throw Error(a(90));fa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&wr(o)}break t;case"textarea":cu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&bs(e,!!r.multiple,n,!1)}}}var pa=!1;function Rs(e,n,r){if(pa)return e(n,r);pa=!0;try{var o=e(n);return o}finally{if(pa=!1,(ws!==null||bi!==null)&&(rc(),ws&&(n=ws,e=bi,bi=ws=null,Ir(n),e)))for(n=0;n<e.length;n++)Ir(e[n])}}function Zn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[He]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Ln)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{Cr=!1}var Si=null,ko=null,xr=null;function Lo(){if(xr)return xr;var e,n=ko,r=n.length,o,h="value"in Si?Si.value:Si.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var p=r-e;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return xr=h.slice(e,1<o?1-o:void 0)}function Nr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function qi(){return!0}function Wn(){return!1}function Qe(e){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qi:Wn,this.isPropagationStopped=Wn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Qe(Fi),Is=A({},Fi,{view:0,detail:0}),Po=Qe(Is),Cs,ga,wi,ya=A({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(Cs=e.screenX-wi.screenX,ga=e.screenY-wi.screenY):ga=Cs=0,wi=e),Cs)},movementY:function(e){return"movementY"in e?e.movementY:ga}}),Uo=Qe(ya),Dr=A({},ya,{dataTransfer:0}),du=Qe(Dr),mu=A({},Is,{relatedTarget:0}),Or=Qe(mu),zo=A({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=Qe(zo),_a=A({},Fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=Qe(_a),yu=A({},Fi,{data:0}),Ri=Qe(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Eu[e])?!!n[e]:!1}function xs(){return Tu}var un=A({},Is,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Nr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(e){return e.type==="keypress"?Nr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=Qe(un),Su=A({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Qe(Su),u=A({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),m=Qe(u),v=A({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Qe(v),P=A({},ya,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Qe(P),W=A({},Fi,{newState:0,oldState:0}),wt=Qe(W),Ae=[9,13,27,32],Yt=Ln&&"CompositionEvent"in window,de=null;Ln&&"documentMode"in document&&(de=document.documentMode);var Pn=Ln&&"TextEvent"in window&&!de,Ii=Ln&&(!Yt||de&&8<de&&11>=de),ti=" ",ei=!1;function Mr(e,n){switch(e){case"keyup":return Ae.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function va(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ea=!1;function FT(e,n){switch(e){case"compositionend":return va(n);case"keypress":return n.which!==32?null:(ei=!0,ti);case"textInput":return e=n.data,e===ti&&ei?null:e;default:return null}}function GT(e,n){if(Ea)return e==="compositionend"||!Yt&&Mr(e,n)?(e=Lo(),xr=ko=Si=null,Ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ii&&n.locale!=="ko"?null:n.data;default:return null}}var KT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ip(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!KT[e.type]:n==="textarea"}function sp(e,n,r,o){ws?bi?bi.push(o):bi=[o]:ws=o,n=fc(n,"onChange"),0<n.length&&(r=new Ai("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var jo=null,Bo=null;function QT(e){jy(e,0)}function Au(e){var n=Tn(e);if(wr(n))return e}function rp(e,n){if(e==="change")return n}var ap=!1;if(Ln){var Oh;if(Ln){var Mh="oninput"in document;if(!Mh){var op=document.createElement("div");op.setAttribute("oninput","return;"),Mh=typeof op.oninput=="function"}Oh=Mh}else Oh=!1;ap=Oh&&(!document.documentMode||9<document.documentMode)}function lp(){jo&&(jo.detachEvent("onpropertychange",up),Bo=jo=null)}function up(e){if(e.propertyName==="value"&&Au(Bo)){var n=[];sp(n,Bo,e,kn(e)),Rs(QT,n)}}function YT(e,n,r){e==="focusin"?(lp(),jo=n,Bo=r,jo.attachEvent("onpropertychange",up)):e==="focusout"&&lp()}function XT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Bo)}function $T(e,n){if(e==="click")return Au(n)}function JT(e,n){if(e==="input"||e==="change")return Au(n)}function ZT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:ZT;function Ho(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!ye.call(n,h)||!Sn(e[h],n[h]))return!1}return!0}function cp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hp(e,n){var r=cp(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cp(r)}}function fp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?fp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function dp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ti(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Ti(e.document)}return n}function Vh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var WT=Ln&&"documentMode"in document&&11>=document.documentMode,Ta=null,kh=null,qo=null,Lh=!1;function mp(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lh||Ta==null||Ta!==Ti(o)||(o=Ta,"selectionStart"in o&&Vh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qo&&Ho(qo,o)||(qo=o,o=fc(kh,"onSelect"),0<o.length&&(n=new Ai("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=Ta)))}function Vr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ba={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},Ph={},pp={};Ln&&(pp=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function kr(e){if(Ph[e])return Ph[e];if(!ba[e])return e;var n=ba[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in pp)return Ph[e]=n[r];return e}var gp=kr("animationend"),yp=kr("animationiteration"),_p=kr("animationstart"),t1=kr("transitionrun"),e1=kr("transitionstart"),n1=kr("transitioncancel"),vp=kr("transitionend"),Ep=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function ni(e,n){Ep.set(e,n),vi(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Un=[],Sa=0,zh=0;function Ru(){for(var e=Sa,n=zh=Sa=0;n<e;){var r=Un[n];Un[n++]=null;var o=Un[n];Un[n++]=null;var h=Un[n];Un[n++]=null;var f=Un[n];if(Un[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Tp(r,h,f)}}function Iu(e,n,r,o){Un[Sa++]=e,Un[Sa++]=n,Un[Sa++]=r,Un[Sa++]=o,zh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function jh(e,n,r,o){return Iu(e,n,r,o),Cu(e)}function Lr(e,n){return Iu(e,null,null,n),Cu(e)}function Tp(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ae(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Cu(e){if(50<hl)throw hl=0,$f=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Aa={};function i1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,n,r,o){return new i1(e,n,r,o)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ki(e,n){var r=e.alternate;return r===null?(r=An(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function bp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function xu(e,n,r,o,h,f){var p=0;if(o=e,typeof e=="function")Bh(e)&&(p=1);else if(typeof e=="string")p=lb(e,r,nt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=An(31,r,n,h),e.elementType=C,e.lanes=f,e;case it:return Pr(r.children,h,f,n);case st:p=8,h|=24;break;case mt:return e=An(12,r,n,h|2),e.elementType=mt,e.lanes=f,e;case te:return e=An(13,r,n,h),e.elementType=te,e.lanes=f,e;case Gt:return e=An(19,r,n,h),e.elementType=Gt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vt:p=10;break t;case ft:p=9;break t;case Mt:p=11;break t;case x:p=14;break t;case w:p=16,o=null;break t}p=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=An(p,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Pr(e,n,r,o){return e=An(7,e,o,n),e.lanes=r,e}function Hh(e,n,r){return e=An(6,e,null,n),e.lanes=r,e}function Sp(e){var n=An(18,null,null,0);return n.stateNode=e,n}function qh(e,n,r){return n=An(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ap=new WeakMap;function zn(e,n){if(typeof e=="object"&&e!==null){var r=Ap.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Er(n)},Ap.set(e,n),n)}return{value:e,source:n,stack:Er(n)}}var wa=[],Ra=0,Nu=null,Fo=0,jn=[],Bn=0,Ns=null,Ci=1,xi="";function Qi(e,n){wa[Ra++]=Fo,wa[Ra++]=Nu,Nu=e,Fo=n}function wp(e,n,r){jn[Bn++]=Ci,jn[Bn++]=xi,jn[Bn++]=Ns,Ns=e;var o=Ci;e=xi;var h=32-ae(o)-1;o&=~(1<<h),r+=1;var f=32-ae(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ci=1<<32-ae(n)+h|r<<h|o,xi=f+e}else Ci=1<<f|r<<h|o,xi=e}function Fh(e){e.return!==null&&(Qi(e,1),wp(e,1,0))}function Gh(e){for(;e===Nu;)Nu=wa[--Ra],wa[Ra]=null,Fo=wa[--Ra],wa[Ra]=null;for(;e===Ns;)Ns=jn[--Bn],jn[Bn]=null,xi=jn[--Bn],jn[Bn]=null,Ci=jn[--Bn],jn[Bn]=null}function Rp(e,n){jn[Bn++]=Ci,jn[Bn++]=xi,jn[Bn++]=Ns,Ci=n.id,xi=n.overflow,Ns=e}var Ye=null,ue=null,Bt=!1,Ds=null,Hn=!1,Kh=Error(a(519));function Os(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Go(zn(n,e)),Kh}function Ip(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[xe]=e,n[He]=o,r){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(r=0;r<dl.length;r++)Ot(dl[r],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),uu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),Ss(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Fy(n.textContent,r)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=Jn),n=!0):n=!1,n||Os(e,!0)}function Cp(e){for(Ye=e.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Ye=Ye.return}}function Ia(e){if(e!==Ye)return!1;if(!Bt)return Cp(e),Bt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||hd(e.type,e.memoizedProps)),r=!r),r&&ue&&Os(e),Cp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ue=Wy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ue=Wy(e)}else n===27?(n=ue,Ks(e.type)?(e=gd,gd=null,ue=e):ue=n):ue=Ye?Fn(e.stateNode.nextSibling):null;return!0}function Ur(){ue=Ye=null,Bt=!1}function Qh(){var e=Ds;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),Ds=null),e}function Go(e){Ds===null?Ds=[e]:Ds.push(e)}var Yh=O(null),zr=null,Yi=null;function Ms(e,n,r){tt(Yh,n._currentValue),n._currentValue=r}function Xi(e){e._currentValue=Yh.current,Q(Yh)}function Xh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function $h(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Xh(f.return,r,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Xh(p,r,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ca(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;Sn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===xt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}h=h.return}e!==null&&$h(n,e,r,o),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function jr(e){zr=e,Yi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return xp(zr,e)}function Ou(e,n){return zr===null&&jr(e),xp(e,n)}function xp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Yi===null){if(e===null)throw Error(a(308));Yi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Yi=Yi.next=n;return r}var s1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},r1=s.unstable_scheduleCallback,a1=s.unstable_NormalPriority,Oe={$$typeof:vt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new s1,data:new Map,refCount:0}}function Ko(e){e.refCount--,e.refCount===0&&r1(a1,function(){e.controller.abort()})}var Qo=null,Zh=0,xa=0,Na=null;function o1(e,n){if(Qo===null){var r=Qo=[];Zh=0,xa=nd(),Na={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Zh++,n.then(Np,Np),n}function Np(){if(--Zh===0&&Qo!==null){Na!==null&&(Na.status="fulfilled");var e=Qo;Qo=null,xa=0,Na=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function l1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Dp=q.S;q.S=function(e,n){my=Ke(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&o1(e,n),Dp!==null&&Dp(e,n)};var Br=O(null);function Wh(){var e=Br.current;return e!==null?e:oe.pooledCache}function Mu(e,n){n===null?tt(Br,Br.current):tt(Br,n.pool)}function Op(){var e=Wh();return e===null?null:{parent:Oe._currentValue,pool:e}}var Da=Error(a(460)),tf=Error(a(474)),Vu=Error(a(542)),ku={then:function(){}};function Mp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Jn,Jn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lp(e),e;default:if(typeof n.status=="string")n.then(Jn,Jn);else{if(e=oe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lp(e),e}throw qr=n,Da}}function Hr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(qr=r,Da):r}}var qr=null;function kp(){if(qr===null)throw Error(a(459));var e=qr;return qr=null,e}function Lp(e){if(e===Da||e===Vu)throw Error(a(483))}var Oa=null,Yo=0;function Lu(e){var n=Yo;return Yo+=1,Oa===null&&(Oa=[]),Vp(Oa,e,n)}function Xo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Pp(e){function n(k,D){if(e){var U=k.deletions;U===null?(k.deletions=[D],k.flags|=16):U.push(D)}}function r(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Ki(k,D),k.index=0,k.sibling=null,k}function f(k,D,U){return k.index=U,e?(U=k.alternate,U!==null?(U=U.index,U<D?(k.flags|=67108866,D):U):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,U,Y){return D===null||D.tag!==6?(D=Hh(U,k.mode,Y),D.return=k,D):(D=h(D,U),D.return=k,D)}function I(k,D,U,Y){var ht=U.type;return ht===it?G(k,D,U.props.children,Y,U.key):D!==null&&(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&Hr(ht)===D.type)?(D=h(D,U.props),Xo(D,U),D.return=k,D):(D=xu(U.type,U.key,U.props,null,k.mode,Y),Xo(D,U),D.return=k,D)}function z(k,D,U,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=qh(U,k.mode,Y),D.return=k,D):(D=h(D,U.children||[]),D.return=k,D)}function G(k,D,U,Y,ht){return D===null||D.tag!==7?(D=Pr(U,k.mode,Y,ht),D.return=k,D):(D=h(D,U),D.return=k,D)}function X(k,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Hh(""+D,k.mode,U),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case K:return U=xu(D.type,D.key,D.props,null,k.mode,U),Xo(U,D),U.return=k,U;case Z:return D=qh(D,k.mode,U),D.return=k,D;case w:return D=Hr(D),X(k,D,U)}if(ge(D)||L(D))return D=Pr(D,k.mode,U,null),D.return=k,D;if(typeof D.then=="function")return X(k,Lu(D),U);if(D.$$typeof===vt)return X(k,Ou(k,D),U);Pu(k,D)}return null}function j(k,D,U,Y){var ht=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ht!==null?null:E(k,D,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case K:return U.key===ht?I(k,D,U,Y):null;case Z:return U.key===ht?z(k,D,U,Y):null;case w:return U=Hr(U),j(k,D,U,Y)}if(ge(U)||L(U))return ht!==null?null:G(k,D,U,Y,null);if(typeof U.then=="function")return j(k,D,Lu(U),Y);if(U.$$typeof===vt)return j(k,D,Ou(k,U),Y);Pu(k,U)}return null}function H(k,D,U,Y,ht){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(U)||null,E(D,k,""+Y,ht);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case K:return k=k.get(Y.key===null?U:Y.key)||null,I(D,k,Y,ht);case Z:return k=k.get(Y.key===null?U:Y.key)||null,z(D,k,Y,ht);case w:return Y=Hr(Y),H(k,D,U,Y,ht)}if(ge(Y)||L(Y))return k=k.get(U)||null,G(D,k,Y,ht,null);if(typeof Y.then=="function")return H(k,D,U,Lu(Y),ht);if(Y.$$typeof===vt)return H(k,D,U,Ou(D,Y),ht);Pu(D,Y)}return null}function at(k,D,U,Y){for(var ht=null,Kt=null,lt=D,It=D=0,Pt=null;lt!==null&&It<U.length;It++){lt.index>It?(Pt=lt,lt=null):Pt=lt.sibling;var Qt=j(k,lt,U[It],Y);if(Qt===null){lt===null&&(lt=Pt);break}e&&lt&&Qt.alternate===null&&n(k,lt),D=f(Qt,D,It),Kt===null?ht=Qt:Kt.sibling=Qt,Kt=Qt,lt=Pt}if(It===U.length)return r(k,lt),Bt&&Qi(k,It),ht;if(lt===null){for(;It<U.length;It++)lt=X(k,U[It],Y),lt!==null&&(D=f(lt,D,It),Kt===null?ht=lt:Kt.sibling=lt,Kt=lt);return Bt&&Qi(k,It),ht}for(lt=o(lt);It<U.length;It++)Pt=H(lt,k,It,U[It],Y),Pt!==null&&(e&&Pt.alternate!==null&&lt.delete(Pt.key===null?It:Pt.key),D=f(Pt,D,It),Kt===null?ht=Pt:Kt.sibling=Pt,Kt=Pt);return e&&lt.forEach(function(Js){return n(k,Js)}),Bt&&Qi(k,It),ht}function pt(k,D,U,Y){if(U==null)throw Error(a(151));for(var ht=null,Kt=null,lt=D,It=D=0,Pt=null,Qt=U.next();lt!==null&&!Qt.done;It++,Qt=U.next()){lt.index>It?(Pt=lt,lt=null):Pt=lt.sibling;var Js=j(k,lt,Qt.value,Y);if(Js===null){lt===null&&(lt=Pt);break}e&&lt&&Js.alternate===null&&n(k,lt),D=f(Js,D,It),Kt===null?ht=Js:Kt.sibling=Js,Kt=Js,lt=Pt}if(Qt.done)return r(k,lt),Bt&&Qi(k,It),ht;if(lt===null){for(;!Qt.done;It++,Qt=U.next())Qt=X(k,Qt.value,Y),Qt!==null&&(D=f(Qt,D,It),Kt===null?ht=Qt:Kt.sibling=Qt,Kt=Qt);return Bt&&Qi(k,It),ht}for(lt=o(lt);!Qt.done;It++,Qt=U.next())Qt=H(lt,k,It,Qt.value,Y),Qt!==null&&(e&&Qt.alternate!==null&&lt.delete(Qt.key===null?It:Qt.key),D=f(Qt,D,It),Kt===null?ht=Qt:Kt.sibling=Qt,Kt=Qt);return e&&lt.forEach(function(vb){return n(k,vb)}),Bt&&Qi(k,It),ht}function re(k,D,U,Y){if(typeof U=="object"&&U!==null&&U.type===it&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case K:t:{for(var ht=U.key;D!==null;){if(D.key===ht){if(ht=U.type,ht===it){if(D.tag===7){r(k,D.sibling),Y=h(D,U.props.children),Y.return=k,k=Y;break t}}else if(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&Hr(ht)===D.type){r(k,D.sibling),Y=h(D,U.props),Xo(Y,U),Y.return=k,k=Y;break t}r(k,D);break}else n(k,D);D=D.sibling}U.type===it?(Y=Pr(U.props.children,k.mode,Y,U.key),Y.return=k,k=Y):(Y=xu(U.type,U.key,U.props,null,k.mode,Y),Xo(Y,U),Y.return=k,k=Y)}return p(k);case Z:t:{for(ht=U.key;D!==null;){if(D.key===ht)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){r(k,D.sibling),Y=h(D,U.children||[]),Y.return=k,k=Y;break t}else{r(k,D);break}else n(k,D);D=D.sibling}Y=qh(U,k.mode,Y),Y.return=k,k=Y}return p(k);case w:return U=Hr(U),re(k,D,U,Y)}if(ge(U))return at(k,D,U,Y);if(L(U)){if(ht=L(U),typeof ht!="function")throw Error(a(150));return U=ht.call(U),pt(k,D,U,Y)}if(typeof U.then=="function")return re(k,D,Lu(U),Y);if(U.$$typeof===vt)return re(k,D,Ou(k,U),Y);Pu(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(r(k,D.sibling),Y=h(D,U),Y.return=k,k=Y):(r(k,D),Y=Hh(U,k.mode,Y),Y.return=k,k=Y),p(k)):r(k,D)}return function(k,D,U,Y){try{Yo=0;var ht=re(k,D,U,Y);return Oa=null,ht}catch(lt){if(lt===Da||lt===Vu)throw lt;var Kt=An(29,lt,null,k.mode);return Kt.lanes=Y,Kt.return=k,Kt}}}var Fr=Pp(!0),Up=Pp(!1),Vs=!1;function ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ks(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Xt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Cu(e),Tp(e,null,r),n}return Iu(e,o,n,r),Cu(e)}function $o(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,So(e,r)}}function sf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var rf=!1;function Jo(){if(rf){var e=Na;if(e!==null)throw e}}function Zo(e,n,r,o){rf=!1;var h=e.updateQueue;Vs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;p=0,G=z=I=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Lt&j)===j:(o&j)===j){j!==0&&j===xa&&(rf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,pt=E;j=n;var re=r;switch(pt.tag){case 1:if(at=pt.payload,typeof at=="function"){X=at.call(re,X,j);break t}X=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=pt.payload,j=typeof at=="function"?at.call(re,X,j):at,j==null)break t;X=A({},X,j);break t;case 2:Vs=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,I=X):G=G.next=H,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Bs|=p,e.lanes=p,e.memoizedState=X}}function zp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function jp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)zp(r[e],n)}var Ma=O(null),Uu=O(0);function Bp(e,n){e=ss,tt(Uu,e),tt(Ma,n),ss=e|n.baseLanes}function af(){tt(Uu,ss),tt(Ma,Ma.current)}function of(){ss=Uu.current,Q(Ma),Q(Uu)}var wn=O(null),qn=null;function Ps(e){var n=e.alternate;tt(we,we.current&1),tt(wn,e),qn===null&&(n===null||Ma.current!==null||n.memoizedState!==null)&&(qn=e)}function lf(e){tt(we,we.current),tt(wn,e),qn===null&&(qn=e)}function Hp(e){e.tag===22?(tt(we,we.current),tt(wn,e),qn===null&&(qn=e)):Us()}function Us(){tt(we,we.current),tt(wn,wn.current)}function Rn(e){Q(wn),qn===e&&(qn=null),Q(we)}var we=O(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||md(r)||pd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $i=0,Rt=null,ie=null,Me=null,ju=!1,Va=!1,Gr=!1,Bu=0,Wo=0,ka=null,u1=0;function Ee(){throw Error(a(321))}function uf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Sn(e[r],n[r]))return!1;return!0}function cf(e,n,r,o,h,f){return $i=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?wg:wf,Gr=!1,f=r(o,h),Gr=!1,Va&&(f=Fp(n,r,o,h)),qp(e),f}function qp(e){q.H=nl;var n=ie!==null&&ie.next!==null;if($i=0,Me=ie=Rt=null,ju=!1,Wo=0,ka=null,n)throw Error(a(300));e===null||Ve||(e=e.dependencies,e!==null&&Du(e)&&(Ve=!0))}function Fp(e,n,r,o){Rt=e;var h=0;do{if(Va&&(ka=null),Wo=0,Va=!1,25<=h)throw Error(a(301));if(h+=1,Me=ie=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Rg,f=n(r,o)}while(Va);return f}function c1(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?tl(n):n,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(Rt.flags|=1024),n}function hf(){var e=Bu!==0;return Bu=0,e}function ff(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function df(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}$i=0,Me=ie=Rt=null,Va=!1,Wo=Bu=0,ka=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Rt.memoizedState=Me=e:Me=Me.next=e,Me}function Re(){if(ie===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var n=Me===null?Rt.memoizedState:Me.next;if(n!==null)Me=n,ie=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Me===null?Rt.memoizedState=Me=e:Me=Me.next=e}return Me}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(e){var n=Wo;return Wo+=1,ka===null&&(ka=[]),e=Vp(ka,e,n),n=Rt,(Me===null?n.memoizedState:Me.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?wg:wf),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tl(e);if(e.$$typeof===vt)return Xe(e)}throw Error(a(438,String(e)))}function mf(e){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Hu(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function Ji(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=Re();return pf(n,ie,e)}function pf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,I=null,z=n,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Lt&X)===X:($i&X)===X){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===xa&&(G=!0);else if(($i&j)===j){z=z.next,j===xa&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=X,p=f):I=I.next=X,Rt.lanes|=j,Bs|=j;X=z.action,Gr&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,p=f):I=I.next=j,Rt.lanes|=X,Bs|=X;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=E,!Sn(f,e.memoizedState)&&(Ve=!0,G&&(r=Na,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function gf(e){var n=Re(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);Sn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Gp(e,n,r){var o=Rt,h=Re(),f=Bt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!Sn((ie||h).memoizedState,r);if(p&&(h.memoizedState=r,Ve=!0),h=h.queue,vf(Yp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Me!==null&&Me.memoizedState.tag&1){if(o.flags|=2048,La(9,{destroy:void 0},Qp.bind(null,o,h,r,n),null),oe===null)throw Error(a(349));f||($i&127)!==0||Kp(o,n,r)}return r}function Kp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=Hu(),Rt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Qp(e,n,r,o){n.value=r,n.getSnapshot=o,Xp(n)&&$p(e)}function Yp(e,n,r){return r(function(){Xp(n)&&$p(e)})}function Xp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Sn(e,r)}catch{return!0}}function $p(e){var n=Lr(e,2);n!==null&&_n(n,e,2)}function yf(e){var n=cn();if(typeof e=="function"){var r=e;if(e=r(),Gr){le(!0);try{r()}finally{le(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},n}function Jp(e,n,r,o){return e.baseState=r,pf(e,ie,typeof o=="function"?o:Ji)}function h1(e,n,r,o,h){if(Qu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};q.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Zp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Zp(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=q.T,p={};q.T=p;try{var E=r(h,o),I=q.S;I!==null&&I(p,E),Wp(e,n,E)}catch(z){_f(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),q.T=f}}else try{f=r(h,o),Wp(e,n,f)}catch(z){_f(e,n,z)}}function Wp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){tg(e,n,o)},function(o){return _f(e,n,o)}):tg(e,n,r)}function tg(e,n,r){n.status="fulfilled",n.value=r,eg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Zp(e,r)))}function _f(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,eg(n),n=n.next;while(n!==o)}e.action=null}function eg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ng(e,n){return n}function ig(e,n){if(Bt){var r=oe.formState;if(r!==null){t:{var o=Rt;if(Bt){if(ue){e:{for(var h=ue,f=Hn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Fn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ue=Fn(h.nextSibling),o=h.data==="F!";break t}}Os(o)}o=!1}o&&(n=r[0])}}return r=cn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ng,lastRenderedState:n},r.queue=o,r=bg.bind(null,Rt,o),o.dispatch=r,o=yf(!1),f=Af.bind(null,Rt,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=h1.bind(null,Rt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function sg(e){var n=Re();return rg(n,ie,e)}function rg(e,n,r){if(n=pf(e,n,ng)[0],e=Fu(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=tl(n)}catch(p){throw p===Da?Vu:p}else o=n;n=Re();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Rt.flags|=2048,La(9,{destroy:void 0},f1.bind(null,h,r),null)),[o,f,e]}function f1(e,n){e.action=n}function ag(e){var n=Re(),r=ie;if(r!==null)return rg(n,r,e);Re(),n=n.memoizedState,r=Re();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function La(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Hu(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function og(){return Re().memoizedState}function Gu(e,n,r,o){var h=cn();Rt.flags|=e,h.memoizedState=La(1|n,{destroy:void 0},r,o===void 0?null:o)}function Ku(e,n,r,o){var h=Re();o=o===void 0?null:o;var f=h.memoizedState.inst;ie!==null&&o!==null&&uf(o,ie.memoizedState.deps)?h.memoizedState=La(n,f,r,o):(Rt.flags|=e,h.memoizedState=La(1|n,f,r,o))}function lg(e,n){Gu(8390656,8,e,n)}function vf(e,n){Ku(2048,8,e,n)}function d1(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Hu(),Rt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function ug(e){var n=Re().memoizedState;return d1({ref:n,nextImpl:e}),function(){if((Xt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function cg(e,n){return Ku(4,2,e,n)}function hg(e,n){return Ku(4,4,e,n)}function fg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function dg(e,n,r){r=r!=null?r.concat([e]):null,Ku(4,4,fg.bind(null,n,e),r)}function Ef(){}function mg(e,n){var r=Re();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&uf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function pg(e,n){var r=Re();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&uf(n,o[1]))return o[0];if(o=e(),Gr){le(!0);try{e()}finally{le(!1)}}return r.memoizedState=[o,n],o}function Tf(e,n,r){return r===void 0||($i&1073741824)!==0&&(Lt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=gy(),Rt.lanes|=e,Bs|=e,r)}function gg(e,n,r,o){return Sn(r,n)?r:Ma.current!==null?(e=Tf(e,r,o),Sn(e,n)||(Ve=!0),e):($i&42)===0||($i&1073741824)!==0&&(Lt&261930)===0?(Ve=!0,e.memoizedState=r):(e=gy(),Rt.lanes|=e,Bs|=e,n)}function yg(e,n,r,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var p=q.T,E={};q.T=E,Af(e,!1,n,r);try{var I=h(),z=q.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=l1(I,o);el(e,n,G,xn(e))}else el(e,n,o,xn(e))}catch(X){el(e,n,{then:function(){},status:"rejected",reason:X},xn())}finally{et.p=f,p!==null&&E.types!==null&&(p.types=E.types),q.T=p}}function m1(){}function bf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=_g(e).queue;yg(e,h,n,ct,r===null?m1:function(){return vg(e),r(o)})}function _g(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ct},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function vg(e){var n=_g(e);n.next===null&&(n=e.alternate.memoizedState),el(e,n.next.queue,{},xn())}function Sf(){return Xe(_l)}function Eg(){return Re().memoizedState}function Tg(){return Re().memoizedState}function p1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=xn();e=ks(r);var o=Ls(n,e,r);o!==null&&(_n(o,n,r),$o(o,n,r)),n={cache:Jh()},e.payload=n;return}n=n.return}}function g1(e,n,r){var o=xn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Qu(e)?Sg(n,r):(r=jh(e,n,r,o),r!==null&&(_n(r,e,o),Ag(r,n,o)))}function bg(e,n,r){var o=xn();el(e,n,r,o)}function el(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))Sg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,Sn(E,p))return Iu(e,n,h,0),oe===null&&Ru(),!1}catch{}if(r=jh(e,n,h,o),r!==null)return _n(r,e,o),Ag(r,n,o),!0}return!1}function Af(e,n,r,o){if(o={lane:2,revertLane:nd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(n)throw Error(a(479))}else n=jh(e,r,o,2),n!==null&&_n(n,e,2)}function Qu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Sg(e,n){Va=ju=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Ag(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,So(e,r)}}var nl={readContext:Xe,use:qu,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};nl.useEffectEvent=Ee;var wg={readContext:Xe,use:qu,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Xe,useEffect:lg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Gu(4194308,4,fg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var r=cn();n=n===void 0?null:n;var o=e();if(Gr){le(!0);try{e()}finally{le(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=cn();if(r!==void 0){var h=r(n);if(Gr){le(!0);try{r(n)}finally{le(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=g1.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=yf(e);var n=e.queue,r=bg.bind(null,Rt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Ef,useDeferredValue:function(e,n){var r=cn();return Tf(r,e,n)},useTransition:function(){var e=yf(!1);return e=yg.bind(null,Rt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Rt,h=cn();if(Bt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),oe===null)throw Error(a(349));(Lt&127)!==0||Kp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,lg(Yp.bind(null,o,f,e),[e]),o.flags|=2048,La(9,{destroy:void 0},Qp.bind(null,o,f,r,n),null),r},useId:function(){var e=cn(),n=oe.identifierPrefix;if(Bt){var r=xi,o=Ci;r=(o&~(1<<32-ae(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Bu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=u1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Sf,useFormState:ig,useActionState:ig,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Af.bind(null,Rt,!0,r),r.dispatch=n,[e,n]},useMemoCache:mf,useCacheRefresh:function(){return cn().memoizedState=p1.bind(null,Rt)},useEffectEvent:function(e){var n=cn(),r={impl:e};return n.memoizedState=r,function(){if((Xt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},wf={readContext:Xe,use:qu,useCallback:mg,useContext:Xe,useEffect:vf,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:hg,useMemo:pg,useReducer:Fu,useRef:og,useState:function(){return Fu(Ji)},useDebugValue:Ef,useDeferredValue:function(e,n){var r=Re();return gg(r,ie.memoizedState,e,n)},useTransition:function(){var e=Fu(Ji)[0],n=Re().memoizedState;return[typeof e=="boolean"?e:tl(e),n]},useSyncExternalStore:Gp,useId:Eg,useHostTransitionStatus:Sf,useFormState:sg,useActionState:sg,useOptimistic:function(e,n){var r=Re();return Jp(r,ie,e,n)},useMemoCache:mf,useCacheRefresh:Tg};wf.useEffectEvent=ug;var Rg={readContext:Xe,use:qu,useCallback:mg,useContext:Xe,useEffect:vf,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:hg,useMemo:pg,useReducer:gf,useRef:og,useState:function(){return gf(Ji)},useDebugValue:Ef,useDeferredValue:function(e,n){var r=Re();return ie===null?Tf(r,e,n):gg(r,ie.memoizedState,e,n)},useTransition:function(){var e=gf(Ji)[0],n=Re().memoizedState;return[typeof e=="boolean"?e:tl(e),n]},useSyncExternalStore:Gp,useId:Eg,useHostTransitionStatus:Sf,useFormState:ag,useActionState:ag,useOptimistic:function(e,n){var r=Re();return ie!==null?Jp(r,ie,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Tg};Rg.useEffectEvent=ug;function Rf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var If={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=xn(),h=ks(o);h.payload=n,r!=null&&(h.callback=r),n=Ls(e,h,o),n!==null&&(_n(n,e,o),$o(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=xn(),h=ks(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ls(e,h,o),n!==null&&(_n(n,e,o),$o(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=xn(),o=ks(r);o.tag=2,n!=null&&(o.callback=n),n=Ls(e,o,r),n!==null&&(_n(n,e,r),$o(n,e,r))}};function Ig(e,n,r,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Ho(r,o)||!Ho(h,f):!0}function Cg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&If.enqueueReplaceState(n,n.state,null)}function Kr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function xg(e){wu(e)}function Ng(e){console.error(e)}function Dg(e){wu(e)}function Yu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Og(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(e,n,r){return r=ks(r),r.tag=3,r.payload={element:null},r.callback=function(){Yu(e,n)},r}function Mg(e){return e=ks(e),e.tag=3,e}function Vg(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Og(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Og(n,r,o),typeof h!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function y1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ca(n,r,h,!0),r=wn.current,r!==null){switch(r.tag){case 31:case 13:return qn===null?ac():r.alternate===null&&Te===0&&(Te=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===ku?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Wf(e,o,h)),!1;case 22:return r.flags|=65536,o===ku?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Wf(e,o,h)),!1}throw Error(a(435,r.tag))}return Wf(e,o,h),ac(),!1}if(Bt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Kh&&(e=Error(a(422),{cause:o}),Go(zn(e,r)))):(o!==Kh&&(n=Error(a(423),{cause:o}),Go(zn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=zn(o,r),h=Cf(e.stateNode,o,h),sf(e,h),Te!==4&&(Te=2)),!1;var f=Error(a(520),{cause:o});if(f=zn(f,r),cl===null?cl=[f]:cl.push(f),Te!==4&&(Te=2),n===null)return!0;o=zn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Cf(r.stateNode,o,e),sf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Hs===null||!Hs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Mg(h),Vg(h,e,r,o),sf(r,h),!1}r=r.return}while(r!==null);return!1}var xf=Error(a(461)),Ve=!1;function $e(e,n,r,o){n.child=e===null?Up(n,null,r,o):Fr(n,e.child,r,o)}function kg(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return jr(n),o=cf(e,n,r,p,f,h),E=hf(),e!==null&&!Ve?(ff(e,n,h),Zi(e,n,h)):(Bt&&E&&Fh(n),n.flags|=1,$e(e,n,o,h),n.child)}function Lg(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Bh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Pg(e,n,f,o,h)):(e=xu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Pf(e,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ho,r(p,o)&&e.ref===n.ref)return Zi(e,n,h)}return n.flags|=1,e=Ki(f,o),e.ref=n.ref,e.return=n,n.child=e}function Pg(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Ho(f,o)&&e.ref===n.ref)if(Ve=!1,n.pendingProps=o=f,Pf(e,h))(e.flags&131072)!==0&&(Ve=!0);else return n.lanes=e.lanes,Zi(e,n,h)}return Nf(e,n,r,o,h)}function Ug(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return zg(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?Bp(n,f):af(),Hp(n);else return o=n.lanes=536870912,zg(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Mu(n,f.cachePool),Bp(n,f),Us(),n.memoizedState=null):(e!==null&&Mu(n,null),af(),Us());return $e(e,n,h,r),n.child}function il(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function zg(e,n,r,o,h){var f=Wh();return f=f===null?null:{parent:Oe._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Mu(n,null),af(),Hp(n),e!==null&&Ca(e,n,o,!0),n.childLanes=h,null}function Xu(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function jg(e,n,r){return Fr(n,e.child,null,r),e=Xu(n,n.pendingProps),e.flags|=2,Rn(n),n.memoizedState=null,e}function _1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Bt){if(o.mode==="hidden")return e=Xu(n,o),n.lanes=536870912,il(null,e);if(lf(n),(e=ue)?(e=Zy(e,Hn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ns!==null?{id:Ci,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},r=Sp(e),r.return=n,n.child=r,Ye=n,ue=null)):e=null,e===null)throw Os(n);return n.lanes=536870912,null}return Xu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(lf(n),h)if(n.flags&256)n.flags&=-257,n=jg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ve||Ca(e,n,r,!1),h=(r&e.childLanes)!==0,Ve||h){if(o=oe,o!==null&&(p=Ao(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Lr(e,p),_n(o,e,p),xf;ac(),n=jg(e,n,r)}else e=f.treeContext,ue=Fn(p.nextSibling),Ye=n,Bt=!0,Ds=null,Hn=!1,e!==null&&Rp(n,e),n=Xu(n,o),n.flags|=4096;return n}return e=Ki(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Nf(e,n,r,o,h){return jr(n),r=cf(e,n,r,o,void 0,h),o=hf(),e!==null&&!Ve?(ff(e,n,h),Zi(e,n,h)):(Bt&&o&&Fh(n),n.flags|=1,$e(e,n,r,h),n.child)}function Bg(e,n,r,o,h,f){return jr(n),n.updateQueue=null,r=Fp(n,o,r,h),qp(e),o=hf(),e!==null&&!Ve?(ff(e,n,f),Zi(e,n,f)):(Bt&&o&&Fh(n),n.flags|=1,$e(e,n,r,f),n.child)}function Hg(e,n,r,o,h){if(jr(n),n.stateNode===null){var f=Aa,p=r.contextType;typeof p=="object"&&p!==null&&(f=Xe(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ef(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Xe(p):Aa,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Rf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&If.enqueueReplaceState(f,f.state,null),Zo(n,o,f,h),Jo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Kr(r,E);f.props=I;var z=f.context,G=r.contextType;p=Aa,typeof G=="object"&&G!==null&&(p=Xe(G));var X=r.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Cg(n,f,o,p),Vs=!1;var j=n.memoizedState;f.state=j,Zo(n,o,f,h),Jo(),z=n.memoizedState,E||j!==z||Vs?(typeof X=="function"&&(Rf(n,r,X,o),z=n.memoizedState),(I=Vs||Ig(n,r,I,o,j,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,nf(e,n),p=n.memoizedProps,G=Kr(r,p),f.props=G,X=n.pendingProps,j=f.context,z=r.contextType,I=Aa,typeof z=="object"&&z!==null&&(I=Xe(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||j!==I)&&Cg(n,f,o,I),Vs=!1,j=n.memoizedState,f.state=j,Zo(n,o,f,h),Jo();var H=n.memoizedState;p!==X||j!==H||Vs||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof E=="function"&&(Rf(n,r,E,o),H=n.memoizedState),(G=Vs||Ig(n,r,G,o,j,H,I)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,$u(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Fr(n,e.child,null,h),n.child=Fr(n,null,r,h)):$e(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Zi(e,n,h),e}function qg(e,n,r,o){return Ur(),n.flags|=256,$e(e,n,r,o),n.child}var Df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(e){return{baseLanes:e,cachePool:Op()}}function Mf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Cn),e}function Fg(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?Ps(n):Us(),(e=ue)?(e=Zy(e,Hn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ns!==null?{id:Ci,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},r=Sp(e),r.return=n,n.child=r,Ye=n,ue=null)):e=null,e===null)throw Os(n);return pd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Us(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=Pr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Of(r),o.childLanes=Mf(e,p,r),n.memoizedState=Df,il(null,o)):(Ps(n),Vf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Ps(n),n.flags&=-257,n=kf(e,n,r)):n.memoizedState!==null?(Us(),n.child=e.child,n.flags|=128,n=null):(Us(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=Pr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Fr(n,e.child,null,r),o=n.child,o.memoizedState=Of(r),o.childLanes=Mf(e,p,r),n.memoizedState=Df,n=il(null,o));else if(Ps(n),pd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,Go({value:o,source:null,stack:null}),n=kf(e,n,r)}else if(Ve||Ca(e,n,r,!1),p=(r&e.childLanes)!==0,Ve||p){if(p=oe,p!==null&&(o=Ao(p,r),o!==0&&o!==I.retryLane))throw I.retryLane=o,Lr(e,o),_n(p,e,o),xf;md(E)||ac(),n=kf(e,n,r)}else md(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ue=Fn(E.nextSibling),Ye=n,Bt=!0,Ds=null,Hn=!1,e!==null&&Rp(n,e),n=Vf(n,o.children),n.flags|=4096);return n}return h?(Us(),E=o.fallback,h=n.mode,I=e.child,z=I.sibling,o=Ki(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Ki(z,E):(E=Pr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,il(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Of(r):(h=E.cachePool,h!==null?(I=Oe._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Op(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Mf(e,p,r),n.memoizedState=Df,il(e.child,o)):(Ps(n),r=e.child,e=r.sibling,r=Ki(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function Vf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=An(22,e,null,n),e.lanes=0,e}function kf(e,n,r){return Fr(n,e.child,null,r),e=Vf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Gg(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Xh(e.return,n,r)}function Lf(e,n,r,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function Kg(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=we.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,tt(we,p),$e(e,n,o,r),o=Bt?Fo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gg(e,r,n);else if(e.tag===19)Gg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&zu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Lf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Lf(n,!0,r,null,f,o);break;case"together":Lf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Zi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Bs|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ca(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Ki(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ki(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Pf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function v1(e,n,r){switch(n.tag){case 3:be(n,n.stateNode.containerInfo),Ms(n,Oe,e.memoizedState.cache),Ur();break;case 27:case 5:ui(n);break;case 4:be(n,n.stateNode.containerInfo);break;case 10:Ms(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ps(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Fg(e,n,r):(Ps(n),e=Zi(e,n,r),e!==null?e.sibling:null);Ps(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ca(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Kg(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(we,we.current),o)break;return null;case 22:return n.lanes=0,Ug(e,n,r,n.pendingProps);case 24:Ms(n,Oe,e.memoizedState.cache)}return Zi(e,n,r)}function Qg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Pf(e,r)&&(n.flags&128)===0)return Ve=!1,v1(e,n,r);Ve=(e.flags&131072)!==0}else Ve=!1,Bt&&(n.flags&1048576)!==0&&wp(n,Fo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Hr(n.elementType),n.type=e,typeof e=="function")Bh(e)?(o=Kr(e,o),n.tag=1,n=Hg(null,n,e,o,r)):(n.tag=0,n=Nf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Mt){n.tag=11,n=kg(null,n,e,o,r);break t}else if(h===x){n.tag=14,n=Lg(null,n,e,o,r);break t}}throw n=ee(e)||e,Error(a(306,n,""))}}return n;case 0:return Nf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Kr(o,n.pendingProps),Hg(e,n,o,h,r);case 3:t:{if(be(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,nf(e,n),Zo(n,o,null,r);var p=n.memoizedState;if(o=p.cache,Ms(n,Oe,o),o!==f.cache&&$h(n,[Oe],r,!0),Jo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=qg(e,n,o,r);break t}else if(o!==h){h=zn(Error(a(424)),n),Go(h),n=qg(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ue=Fn(e.firstChild),Ye=n,Bt=!0,Ds=null,Hn=!0,r=Up(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ur(),o===h){n=Zi(e,n,r);break t}$e(e,n,o,r)}n=n.child}return n;case 26:return $u(e,n),e===null?(r=s_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,e=n.pendingProps,o=dc(Et.current).createElement(r),o[xe]=n,o[He]=e,Je(o,r,e),Ne(o),n.stateNode=o):n.memoizedState=s_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ui(n),e===null&&Bt&&(o=n.stateNode=e_(n.type,n.pendingProps,Et.current),Ye=n,Hn=!0,h=ue,Ks(n.type)?(gd=h,ue=Fn(o.firstChild)):ue=h),$e(e,n,n.pendingProps.children,r),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((h=o=ue)&&(o=X1(o,n.type,n.pendingProps,Hn),o!==null?(n.stateNode=o,Ye=n,ue=Fn(o.firstChild),Hn=!1,h=!0):h=!1),h||Os(n)),ui(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,hd(h,f)?o=null:p!==null&&hd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=cf(e,n,c1,null,null,r),_l._currentValue=h),$u(e,n),$e(e,n,o,r),n.child;case 6:return e===null&&Bt&&((e=r=ue)&&(r=$1(r,n.pendingProps,Hn),r!==null?(n.stateNode=r,Ye=n,ue=null,e=!0):e=!1),e||Os(n)),null;case 13:return Fg(e,n,r);case 4:return be(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Fr(n,null,o,r):$e(e,n,o,r),n.child;case 11:return kg(e,n,n.type,n.pendingProps,r);case 7:return $e(e,n,n.pendingProps,r),n.child;case 8:return $e(e,n,n.pendingProps.children,r),n.child;case 12:return $e(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ms(n,n.type,o.value),$e(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,jr(n),h=Xe(h),o=o(h),n.flags|=1,$e(e,n,o,r),n.child;case 14:return Lg(e,n,n.type,n.pendingProps,r);case 15:return Pg(e,n,n.type,n.pendingProps,r);case 19:return Kg(e,n,r);case 31:return _1(e,n,r);case 22:return Ug(e,n,r,n.pendingProps);case 24:return jr(n),o=Xe(Oe),e===null?(h=Wh(),h===null&&(h=oe,f=Jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},ef(n),Ms(n,Oe,h)):((e.lanes&r)!==0&&(nf(e,n),Zo(n,null,null,r),Jo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ms(n,Oe,o)):(o=f.cache,Ms(n,Oe,o),o!==h.cache&&$h(n,[Oe],r,!0))),$e(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Wi(e){e.flags|=4}function Uf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ey())e.flags|=8192;else throw qr=ku,tf}else e.flags&=-16777217}function Yg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!u_(n))if(Ey())e.flags|=8192;else throw qr=ku,tf}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?su():536870912,e.lanes|=n,ja|=n)}function sl(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ce(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function E1(e,n,r){var o=n.pendingProps;switch(Gh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(n),null;case 1:return ce(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Xi(Oe),Nt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ia(n)?Wi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qh())),ce(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Wi(n),f!==null?(ce(n),Yg(n,f)):(ce(n),Uf(n,h,null,o,r))):f?f!==e.memoizedState?(Wi(n),ce(n),Yg(n,f)):(ce(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Wi(n),ce(n),Uf(n,h,e,o,r)),null;case 27:if(gs(n),r=Et.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ce(n),null}e=nt.current,Ia(n)?Ip(n):(e=e_(h,o,r),n.stateNode=e,Wi(n))}return ce(n),null;case 5:if(gs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ce(n),null}if(f=nt.current,Ia(n))Ip(n);else{var p=dc(Et.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[xe]=n,f[He]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Wi(n)}}return ce(n),Uf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Et.current,Ia(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Ye,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[xe]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Fy(e.nodeValue,r)),e||Os(n,!0)}else e=dc(e).createTextNode(o),e[xe]=n,n.stateNode=e}return ce(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ia(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[xe]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),e=!1}else r=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(Rn(n),n):(Rn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ce(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ia(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[xe]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),h=!1}else h=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Rn(n),n):(Rn(n),null)}return Rn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Zu(n,n.updateQueue),ce(n),null);case 4:return Nt(),e===null&&ad(n.stateNode.containerInfo),ce(n),null;case 10:return Xi(n.type),ce(n),null;case 19:if(Q(we),o=n.memoizedState,o===null)return ce(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)sl(o,!1);else{if(Te!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,sl(o,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)bp(r,e),r=r.sibling;return tt(we,we.current&1|2),Bt&&Qi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ke()>ic&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Bt)return ce(n),null}else 2*Ke()-o.renderingStartTime>ic&&r!==536870912&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ke(),e.sibling=null,r=we.current,tt(we,h?r&1|2:r&1),Bt&&Qi(n,o.treeForkCount),e):(ce(n),null);case 22:case 23:return Rn(n),of(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ce(n),n.subtreeFlags&6&&(n.flags|=8192)):ce(n),r=n.updateQueue,r!==null&&Zu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Q(Br),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Xi(Oe),ce(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function T1(e,n){switch(Gh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Xi(Oe),Nt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return gs(n),null;case 31:if(n.memoizedState!==null){if(Rn(n),n.alternate===null)throw Error(a(340));Ur()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Rn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ur()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(we),null;case 4:return Nt(),null;case 10:return Xi(n.type),null;case 22:case 23:return Rn(n),of(),e!==null&&Q(Br),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Xi(Oe),null;case 25:return null;default:return null}}function Xg(e,n){switch(Gh(n),n.tag){case 3:Xi(Oe),Nt();break;case 26:case 27:case 5:gs(n);break;case 4:Nt();break;case 31:n.memoizedState!==null&&Rn(n);break;case 13:Rn(n);break;case 19:Q(we);break;case 10:Xi(n.type);break;case 22:case 23:Rn(n),of(),e!==null&&Q(Br);break;case 24:Xi(Oe)}}function rl(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){Wt(n,n.return,E)}}function zs(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=r,z=E;try{z()}catch(G){Wt(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){Wt(n,n.return,G)}}function $g(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{jp(n,r)}catch(o){Wt(e,e.return,o)}}}function Jg(e,n,r){r.props=Kr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Wt(e,n,o)}}function al(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Wt(e,n,h)}}function Ni(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Wt(e,n,h)}else r.current=null}function Zg(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Wt(e,e.return,h)}}function zf(e,n,r){try{var o=e.stateNode;q1(o,e.type,r,n),o[He]=n}catch(h){Wt(e,e.return,h)}}function Wg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ks(e.type)||e.tag===4}function jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Wg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ks(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Jn));else if(o!==4&&(o===27&&Ks(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Bf(e,n,r),e=e.sibling;e!==null;)Bf(e,n,r),e=e.sibling}function Wu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Ks(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Wu(e,n,r),e=e.sibling;e!==null;)Wu(e,n,r),e=e.sibling}function ty(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Je(n,o,r),n[xe]=e,n[He]=r}catch(f){Wt(e,e.return,f)}}var ts=!1,ke=!1,Hf=!1,ey=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function b1(e,n){if(e=e.containerInfo,ud=Ec,e=dp(e),Vh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,I=-1,z=0,G=0,X=e,j=null;e:for(;;){for(var H;X!==r||h!==0&&X.nodeType!==3||(E=p+h),X!==f||o!==0&&X.nodeType!==3||(I=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(H=X.firstChild)!==null;)j=X,X=H;for(;;){if(X===e)break e;if(j===r&&++z===h&&(E=p),j===f&&++G===o&&(I=p),(H=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=H}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(cd={focusedElem:e,selectionRange:r},Ec=!1,Fe=n;Fe!==null;)if(n=Fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Fe=e;else for(;Fe!==null;){switch(n=Fe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var at=Kr(r.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Wt(r,r.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)dd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Fe=e;break}Fe=n.return}}function ny(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ns(e,r),o&4&&rl(5,r);break;case 1:if(ns(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Wt(r,r.return,p)}else{var h=Kr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Wt(r,r.return,p)}}o&64&&$g(r),o&512&&al(r,r.return);break;case 3:if(ns(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{jp(e,n)}catch(p){Wt(r,r.return,p)}}break;case 27:n===null&&o&4&&ty(r);case 26:case 5:ns(e,r),n===null&&o&4&&Zg(r),o&512&&al(r,r.return);break;case 12:ns(e,r);break;case 31:ns(e,r),o&4&&ry(e,r);break;case 13:ns(e,r),o&4&&ay(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=D1.bind(null,r),J1(e,r))));break;case 22:if(o=r.memoizedState!==null||ts,!o){n=n!==null&&n.memoizedState!==null||ke,h=ts;var f=ke;ts=o,(ke=n)&&!f?is(e,r,(r.subtreeFlags&8772)!==0):ns(e,r),ts=h,ke=f}break;case 30:break;default:ns(e,r)}}function iy(e){var n=e.alternate;n!==null&&(e.alternate=null,iy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ca(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,mn=!1;function es(e,n,r){for(r=r.child;r!==null;)sy(e,n,r),r=r.sibling}function sy(e,n,r){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(kt,r)}catch{}switch(r.tag){case 26:ke||Ni(r,n),es(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ke||Ni(r,n);var o=me,h=mn;Ks(r.type)&&(me=r.stateNode,mn=!1),es(e,n,r),pl(r.stateNode),me=o,mn=h;break;case 5:ke||Ni(r,n);case 6:if(o=me,h=mn,me=null,es(e,n,r),me=o,mn=h,me!==null)if(mn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(r.stateNode)}catch(f){Wt(r,n,f)}else try{me.removeChild(r.stateNode)}catch(f){Wt(r,n,f)}break;case 18:me!==null&&(mn?(e=me,$y(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ya(e)):$y(me,r.stateNode));break;case 4:o=me,h=mn,me=r.stateNode.containerInfo,mn=!0,es(e,n,r),me=o,mn=h;break;case 0:case 11:case 14:case 15:zs(2,r,n),ke||zs(4,r,n),es(e,n,r);break;case 1:ke||(Ni(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Jg(r,n,o)),es(e,n,r);break;case 21:es(e,n,r);break;case 22:ke=(o=ke)||r.memoizedState!==null,es(e,n,r),ke=o;break;default:es(e,n,r)}}function ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ya(e)}catch(r){Wt(n,n.return,r)}}}function ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ya(e)}catch(r){Wt(n,n.return,r)}}function S1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ey),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ey),n;default:throw Error(a(435,e.tag))}}function tc(e,n){var r=S1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=O1.bind(null,e,o);o.then(h,h)}})}function pn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ks(E.type)){me=E.stateNode,mn=!1;break t}break;case 5:me=E.stateNode,mn=!1;break t;case 3:case 4:me=E.stateNode.containerInfo,mn=!0;break t}E=E.return}if(me===null)throw Error(a(160));sy(f,p,h),me=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)oy(n,e),n=n.sibling}var ii=null;function oy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pn(n,e),gn(e),o&4&&(zs(3,e,e.return),rl(3,e),zs(5,e,e.return));break;case 1:pn(n,e),gn(e),o&512&&(ke||r===null||Ni(r,r.return)),o&64&&ts&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ii;if(pn(n,e),gn(e),o&512&&(ke||r===null||Ni(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[gi]||f[xe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Je(f,o,r),f[xe]=e,Ne(f),o=f;break t;case"link":var p=o_("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Je(f,o,r),h.head.appendChild(f);break;case"meta":if(p=o_("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Je(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[xe]=e,Ne(f),o=f}e.stateNode=o}else l_(h,e.type,e.stateNode);else e.stateNode=a_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?l_(h,e.type,e.stateNode):a_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&zf(e,e.memoizedProps,r.memoizedProps)}break;case 27:pn(n,e),gn(e),o&512&&(ke||r===null||Ni(r,r.return)),r!==null&&o&4&&zf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(pn(n,e),gn(e),o&512&&(ke||r===null||Ni(r,r.return)),e.flags&32){h=e.stateNode;try{dn(h,"")}catch(at){Wt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,zf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Hf=!0);break;case 6:if(pn(n,e),gn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(at){Wt(e,e.return,at)}}break;case 3:if(gc=null,h=ii,ii=mc(n.containerInfo),pn(n,e),ii=h,gn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ya(n.containerInfo)}catch(at){Wt(e,e.return,at)}Hf&&(Hf=!1,ly(e));break;case 4:o=ii,ii=mc(e.stateNode.containerInfo),pn(n,e),gn(e),ii=o;break;case 12:pn(n,e),gn(e);break;case 31:pn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 13:pn(n,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(nc=Ke()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 22:h=e.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,z=ts,G=ke;if(ts=z||h,ke=G||I,pn(n,e),ke=G,ts=z,gn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||ts||ke||Qr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Wt(I,I.return,at)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(at){Wt(I,I.return,at)}}}else if(n.tag===18){if(r===null){I=n;try{var H=I.stateNode;h?Jy(H,!0):Jy(I.stateNode,!1)}catch(at){Wt(I,I.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,tc(e,r))));break;case 19:pn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 30:break;case 21:break;default:pn(n,e),gn(e)}}function gn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Wg(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=jf(e);Wu(e,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(dn(p,""),r.flags&=-33);var E=jf(e);Wu(e,E,p);break;case 3:case 4:var I=r.stateNode.containerInfo,z=jf(e);Bf(e,z,I);break;default:throw Error(a(161))}}catch(G){Wt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ly(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ns(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ny(e,n.alternate,n),n=n.sibling}function Qr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:zs(4,n,n.return),Qr(n);break;case 1:Ni(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Jg(n,n.return,r),Qr(n);break;case 27:pl(n.stateNode);case 26:case 5:Ni(n,n.return),Qr(n);break;case 22:n.memoizedState===null&&Qr(n);break;case 30:Qr(n);break;default:Qr(n)}e=e.sibling}}function is(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:is(h,f,r),rl(4,f);break;case 1:if(is(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Wt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)zp(I[h],E)}catch(z){Wt(o,o.return,z)}}r&&p&64&&$g(f),al(f,f.return);break;case 27:ty(f);case 26:case 5:is(h,f,r),r&&o===null&&p&4&&Zg(f),al(f,f.return);break;case 12:is(h,f,r);break;case 31:is(h,f,r),r&&p&4&&ry(h,f);break;case 13:is(h,f,r),r&&p&4&&ay(h,f);break;case 22:f.memoizedState===null&&is(h,f,r),al(f,f.return);break;case 30:break;default:is(h,f,r)}n=n.sibling}}function qf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Ko(r))}function Ff(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ko(e))}function si(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)uy(e,n,r,o),n=n.sibling}function uy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:si(e,n,r,o),h&2048&&rl(9,n);break;case 1:si(e,n,r,o);break;case 3:si(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ko(e)));break;case 12:if(h&2048){si(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Wt(n,n.return,I)}}else si(e,n,r,o);break;case 31:si(e,n,r,o);break;case 13:si(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?si(e,n,r,o):ol(e,n):f._visibility&2?si(e,n,r,o):(f._visibility|=2,Pa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&qf(p,n);break;case 24:si(e,n,r,o),h&2048&&Ff(n.alternate,n);break;default:si(e,n,r,o)}}function Pa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=r,I=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Pa(f,p,E,I,h),rl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Pa(f,p,E,I,h):ol(f,p):(G._visibility|=2,Pa(f,p,E,I,h)),h&&z&2048&&qf(p.alternate,p);break;case 24:Pa(f,p,E,I,h),h&&z&2048&&Ff(p.alternate,p);break;default:Pa(f,p,E,I,h)}n=n.sibling}}function ol(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:ol(r,o),h&2048&&qf(o.alternate,o);break;case 24:ol(r,o),h&2048&&Ff(o.alternate,o);break;default:ol(r,o)}n=n.sibling}}var ll=8192;function Ua(e,n,r){if(e.subtreeFlags&ll)for(e=e.child;e!==null;)cy(e,n,r),e=e.sibling}function cy(e,n,r){switch(e.tag){case 26:Ua(e,n,r),e.flags&ll&&e.memoizedState!==null&&ub(r,ii,e.memoizedState,e.memoizedProps);break;case 5:Ua(e,n,r);break;case 3:case 4:var o=ii;ii=mc(e.stateNode.containerInfo),Ua(e,n,r),ii=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ll,ll=16777216,Ua(e,n,r),ll=o):Ua(e,n,r));break;default:Ua(e,n,r)}}function hy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ul(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Fe=o,dy(o,e)}hy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fy(e),e=e.sibling}function fy(e){switch(e.tag){case 0:case 11:case 15:ul(e),e.flags&2048&&zs(9,e,e.return);break;case 3:ul(e);break;case 12:ul(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):ul(e);break;default:ul(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Fe=o,dy(o,e)}hy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:zs(8,n,n.return),ec(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function dy(e,n){for(;Fe!==null;){var r=Fe;switch(r.tag){case 0:case 11:case 15:zs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ko(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Fe=o;else t:for(r=e;Fe!==null;){o=Fe;var h=o.sibling,f=o.return;if(iy(o),o===r){Fe=null;break t}if(h!==null){h.return=f,Fe=h;break t}Fe=f}}}var A1={getCacheForType:function(e){var n=Xe(Oe),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Xe(Oe).controller.signal}},w1=typeof WeakMap=="function"?WeakMap:Map,Xt=0,oe=null,Dt=null,Lt=0,Zt=0,In=null,js=!1,za=!1,Gf=!1,ss=0,Te=0,Bs=0,Yr=0,Kf=0,Cn=0,ja=0,cl=null,yn=null,Qf=!1,nc=0,my=0,ic=1/0,sc=null,Hs=null,Ue=0,qs=null,Ba=null,rs=0,Yf=0,Xf=null,py=null,hl=0,$f=null;function xn(){return(Xt&2)!==0&&Lt!==0?Lt&-Lt:q.T!==null?nd():ru()}function gy(){if(Cn===0)if((Lt&536870912)===0||Bt){var e=fi;fi<<=1,(fi&3932160)===0&&(fi=262144),Cn=e}else Cn=536870912;return e=wn.current,e!==null&&(e.flags|=32),Cn}function _n(e,n,r){(e===oe&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(Ha(e,0),Fs(e,Lt,Cn,!1)),br(e,r),((Xt&2)===0||e!==oe)&&(e===oe&&((Xt&2)===0&&(Yr|=r),Te===4&&Fs(e,Lt,Cn,!1)),Di(e))}function yy(e,n,r){if((Xt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Yn(e,n),h=o?C1(e,n):Zf(e,n,!0),f=o;do{if(h===0){za&&!o&&Fs(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!R1(r)){h=Zf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=cl;var I=E.current.memoizedState.isDehydrated;if(I&&(Ha(E,p).flags|=256),p=Zf(E,p,!1),p!==2){if(Gf&&!I){E.errorRecoveryDisabledLanes|=f,Yr|=f,h=4;break t}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ha(e,0),Fs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Fs(o,n,Cn,!js);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-Ke(),10<h)){if(Fs(o,n,Cn,!js),di(o,0,!0)!==0)break t;rs=n,o.timeoutHandle=Yy(_y.bind(null,o,r,yn,sc,Qf,n,Cn,Yr,ja,js,f,"Throttled",-0,0),h);break t}_y(o,r,yn,sc,Qf,n,Cn,Yr,ja,js,f,null,-0,0)}}break}while(!0);Di(e)}function _y(e,n,r,o,h,f,p,E,I,z,G,X,j,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},cy(n,f,X);var at=(f&62914560)===f?nc-Ke():(f&4194048)===f?my-Ke():0;if(at=cb(X,at),at!==null){rs=f,e.cancelPendingCommit=at(Ry.bind(null,e,n,f,r,o,h,p,E,I,G,X,null,j,H)),Fs(e,f,p,!z);return}}Ry(e,n,f,r,o,h,p,E,I)}function R1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Sn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fs(e,n,r,o){n&=~Kf,n&=~Yr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ae(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&Sr(e,r,n)}function rc(){return(Xt&6)===0?(fl(0),!1):!0}function Jf(){if(Dt!==null){if(Zt===0)var e=Dt.return;else e=Dt,Yi=zr=null,df(e),Oa=null,Yo=0,e=Dt;for(;e!==null;)Xg(e.alternate,e),e=e.return;Dt=null}}function Ha(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,K1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),rs=0,Jf(),oe=e,Dt=r=Ki(e.current,null),Lt=n,Zt=0,In=null,js=!1,za=Yn(e,n),Gf=!1,ja=Cn=Kf=Yr=Bs=Te=0,yn=cl=null,Qf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ae(o),f=1<<h;n|=e[h],o&=~f}return ss=n,Ru(),r}function vy(e,n){Rt=null,q.H=nl,n===Da||n===Vu?(n=kp(),Zt=3):n===tf?(n=kp(),Zt=4):Zt=n===xf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,In=n,Dt===null&&(Te=1,Yu(e,zn(n,e.current)))}function Ey(){var e=wn.current;return e===null?!0:(Lt&4194048)===Lt?qn===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?e===qn:!1}function Ty(){var e=q.H;return q.H=nl,e===null?nl:e}function by(){var e=q.A;return q.A=A1,e}function ac(){Te=4,js||(Lt&4194048)!==Lt&&wn.current!==null||(za=!0),(Bs&134217727)===0&&(Yr&134217727)===0||oe===null||Fs(oe,Lt,Cn,!1)}function Zf(e,n,r){var o=Xt;Xt|=2;var h=Ty(),f=by();(oe!==e||Lt!==n)&&(sc=null,Ha(e,n)),n=!1;var p=Te;t:do try{if(Zt!==0&&Dt!==null){var E=Dt,I=In;switch(Zt){case 8:Jf(),p=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var z=Zt;if(Zt=0,In=null,qa(e,E,I,z),r&&za){p=0;break t}break;default:z=Zt,Zt=0,In=null,qa(e,E,I,z)}}I1(),p=Te;break}catch(G){vy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Yi=zr=null,Xt=o,q.H=h,q.A=f,Dt===null&&(oe=null,Lt=0,Ru()),p}function I1(){for(;Dt!==null;)Sy(Dt)}function C1(e,n){var r=Xt;Xt|=2;var o=Ty(),h=by();oe!==e||Lt!==n?(sc=null,ic=Ke()+500,Ha(e,n)):za=Yn(e,n);t:do try{if(Zt!==0&&Dt!==null){n=Dt;var f=In;e:switch(Zt){case 1:Zt=0,In=null,qa(e,n,f,1);break;case 2:case 9:if(Mp(f)){Zt=0,In=null,Ay(n);break}n=function(){Zt!==2&&Zt!==9||oe!==e||(Zt=7),Di(e)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Mp(f)?(Zt=0,In=null,Ay(n)):(Zt=0,In=null,qa(e,n,f,7));break;case 5:var p=null;switch(Dt.tag){case 26:p=Dt.memoizedState;case 5:case 27:var E=Dt;if(p?u_(p):E.stateNode.complete){Zt=0,In=null;var I=E.sibling;if(I!==null)Dt=I;else{var z=E.return;z!==null?(Dt=z,oc(z)):Dt=null}break e}}Zt=0,In=null,qa(e,n,f,5);break;case 6:Zt=0,In=null,qa(e,n,f,6);break;case 8:Jf(),Te=6;break t;default:throw Error(a(462))}}x1();break}catch(G){vy(e,G)}while(!0);return Yi=zr=null,q.H=o,q.A=h,Xt=r,Dt!==null?0:(oe=null,Lt=0,Ru(),Te)}function x1(){for(;Dt!==null&&!bo();)Sy(Dt)}function Sy(e){var n=Qg(e.alternate,e,ss);e.memoizedProps=e.pendingProps,n===null?oc(e):Dt=n}function Ay(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Bg(r,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=Bg(r,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:df(n);default:Xg(r,n),n=Dt=bp(n,ss),n=Qg(r,n,ss)}e.memoizedProps=e.pendingProps,n===null?oc(e):Dt=n}function qa(e,n,r,o){Yi=zr=null,df(n),Oa=null,Yo=0;var h=n.return;try{if(y1(e,h,n,r,Lt)){Te=1,Yu(e,zn(r,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;Te=1,Yu(e,zn(r,e.current)),Dt=null;return}n.flags&32768?(Bt||o===1?e=!0:za||(Lt&536870912)!==0?e=!1:(js=e=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),wy(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){wy(n,js);return}e=n.return;var r=E1(n.alternate,n,ss);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);Te===0&&(Te=5)}function wy(e,n){do{var r=T1(e.alternate,e);if(r!==null){r.flags&=32767,Dt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=r}while(e!==null);Te=6,Dt=null}function Ry(e,n,r,o,h,f,p,E,I){e.cancelPendingCommit=null;do lc();while(Ue!==0);if((Xt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=zh,Nh(e,r,f,p,E,I),e===oe&&(Dt=oe=null,Lt=0),Ba=n,qs=e,rs=r,Yf=f,Xf=h,py=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,M1(ln,function(){return Dy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=et.p,et.p=2,p=Xt,Xt|=4;try{b1(e,n,r)}finally{Xt=p,et.p=h,q.T=o}}Ue=1,Iy(),Cy(),xy()}}function Iy(){if(Ue===1){Ue=0;var e=qs,n=Ba,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var o=et.p;et.p=2;var h=Xt;Xt|=4;try{oy(n,e);var f=cd,p=dp(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&fp(E.ownerDocument.documentElement,E)){if(I!==null&&Vh(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var H=j.getSelection(),at=E.textContent.length,pt=Math.min(I.start,at),re=I.end===void 0?pt:Math.min(I.end,at);!H.extend&&pt>re&&(p=re,re=pt,pt=p);var k=hp(E,pt),D=hp(E,re);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var U=X.createRange();U.setStart(k.node,k.offset),H.removeAllRanges(),pt>re?(H.addRange(U),H.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),H.addRange(U))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ec=!!ud,cd=ud=null}finally{Xt=h,et.p=o,q.T=r}}e.current=n,Ue=2}}function Cy(){if(Ue===2){Ue=0;var e=qs,n=Ba,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var o=et.p;et.p=2;var h=Xt;Xt|=4;try{ny(e,n.alternate,n)}finally{Xt=h,et.p=o,q.T=r}}Ue=3}}function xy(){if(Ue===4||Ue===3){Ue=0,la();var e=qs,n=Ba,r=rs,o=py;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Ba=qs=null,Ny(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Hs=null),Hi(r),n=n.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(kt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=et.p,et.p=2,q.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{q.T=n,et.p=h}}(rs&3)!==0&&lc(),Di(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===$f?hl++:(hl=0,$f=e):hl=0,fl(0)}}function Ny(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ko(n)))}function lc(){return Iy(),Cy(),xy(),Dy()}function Dy(){if(Ue!==5)return!1;var e=qs,n=Yf;Yf=0;var r=Hi(rs),o=q.T,h=et.p;try{et.p=32>r?32:r,q.T=null,r=Xf,Xf=null;var f=qs,p=rs;if(Ue=0,Ba=qs=null,rs=0,(Xt&6)!==0)throw Error(a(331));var E=Xt;if(Xt|=4,fy(f.current),uy(f,f.current,p,r),Xt=E,fl(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(kt,f)}catch{}return!0}finally{et.p=h,q.T=o,Ny(e,n)}}function Oy(e,n,r){n=zn(r,n),n=Cf(e.stateNode,n,2),e=Ls(e,n,2),e!==null&&(br(e,2),Di(e))}function Wt(e,n,r){if(e.tag===3)Oy(e,e,r);else for(;n!==null;){if(n.tag===3){Oy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hs===null||!Hs.has(o))){e=zn(r,e),r=Mg(2),o=Ls(n,r,2),o!==null&&(Vg(r,o,n,e),br(o,2),Di(o));break}}n=n.return}}function Wf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new w1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Gf=!0,h.add(r),e=N1.bind(null,e,n,r),n.then(e,e))}function N1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,oe===e&&(Lt&r)===r&&(Te===4||Te===3&&(Lt&62914560)===Lt&&300>Ke()-nc?(Xt&2)===0&&Ha(e,0):Kf|=r,ja===Lt&&(ja=0)),Di(e)}function My(e,n){n===0&&(n=su()),e=Lr(e,n),e!==null&&(br(e,n),Di(e))}function D1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),My(e,r)}function O1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),My(e,r)}function M1(e,n){return _e(e,n)}var uc=null,Fa=null,td=!1,cc=!1,ed=!1,Gs=0;function Di(e){e!==Fa&&e.next===null&&(Fa===null?uc=Fa=e:Fa=Fa.next=e),cc=!0,td||(td=!0,k1())}function fl(e,n){if(!ed&&cc){ed=!0;do for(var r=!1,o=uc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ae(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Py(o,f))}else f=Lt,f=di(o,o===oe?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Yn(o,f)||(r=!0,Py(o,f));o=o.next}while(r);ed=!1}}function V1(){Vy()}function Vy(){cc=td=!1;var e=0;Gs!==0&&G1()&&(e=Gs);for(var n=Ke(),r=null,o=uc;o!==null;){var h=o.next,f=ky(o,n);f===0?(o.next=null,r===null?uc=h:r.next=h,h===null&&(Fa=r)):(r=o,(e!==0||(f&3)!==0)&&(cc=!0)),o=h}Ue!==0&&Ue!==5||fl(e),Gs!==0&&(Gs=0)}function ky(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-ae(f),E=1<<p,I=h[p];I===-1?((E&r)===0||(E&o)!==0)&&(h[p]=xh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=oe,r=Lt,r=di(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ci(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Yn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&ci(o),Hi(r)){case 2:case 8:r=on;break;case 32:r=ln;break;case 268435456:r=F;break;default:r=ln}return o=Ly.bind(null,e),r=_e(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&ci(o),e.callbackPriority=2,e.callbackNode=null,2}function Ly(e,n){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(lc()&&e.callbackNode!==r)return null;var o=Lt;return o=di(e,e===oe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(yy(e,o,n),ky(e,Ke()),e.callbackNode!=null&&e.callbackNode===r?Ly.bind(null,e):null)}function Py(e,n){if(lc())return null;yy(e,n,!0)}function k1(){Q1(function(){(Xt&6)!==0?_e(vs,V1):Vy()})}function nd(){if(Gs===0){var e=xa;e===0&&(e=En,En<<=1,(En&261888)===0&&(En=256)),Gs=e}return Gs}function Uy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ma(""+e)}function zy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function L1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Uy((h[He]||null).action),p=o.submitter;p&&(n=(n=p[He]||null)?Uy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Ai("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Gs!==0){var I=p?zy(h,p):new FormData(h);bf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?zy(h,p):new FormData(h),bf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var id=0;id<Uh.length;id++){var sd=Uh[id],P1=sd.toLowerCase(),U1=sd[0].toUpperCase()+sd.slice(1);ni(P1,"on"+U1)}ni(gp,"onAnimationEnd"),ni(yp,"onAnimationIteration"),ni(_p,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(t1,"onTransitionRun"),ni(e1,"onTransitionStart"),ni(n1,"onTransitionCancel"),ni(vp,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function jy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){wu(G)}h.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(E=o[p],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){wu(G)}h.currentTarget=null,f=I}}}}function Ot(e,n){var r=n[ua];r===void 0&&(r=n[ua]=new Set);var o=e+"__bubble";r.has(o)||(By(n,e,2,!1),r.add(o))}function rd(e,n,r){var o=0;n&&(o|=4),By(r,e,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[hc]){e[hc]=!0,wo.forEach(function(r){r!=="selectionchange"&&(z1.has(r)||rd(r,!1,e),rd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,rd("selectionchange",!1,n))}}function By(e,n,r,o){switch(g_(n)){case 2:var h=db;break;case 8:h=mb;break;default:h=Td}r=h.bind(null,n,r,e),h=void 0,!Cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function od(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=yi(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue t}E=E.parentNode}}o=o.return}Rs(function(){var z=f,G=kn(r),X=[];t:{var j=Ep.get(e);if(j!==void 0){var H=Ai,at=e;switch(e){case"keypress":if(Nr(r)===0)break t;case"keydown":case"keyup":H=bu;break;case"focusin":at="focus",H=Or;break;case"focusout":at="blur",H=Or;break;case"beforeblur":case"afterblur":H=Or;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case gp:case yp:case _p:H=pu;break;case vp:H=T;break;case"scroll":case"scrollend":H=Po;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Gi;break;case"toggle":case"beforetoggle":H=wt}var pt=(n&4)!==0,re=!pt&&(e==="scroll"||e==="scrollend"),k=pt?j!==null?j+"Capture":null:j;pt=[];for(var D=z,U;D!==null;){var Y=D;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||k===null||(Y=Zn(D,k),Y!=null&&pt.push(ml(D,Y,U))),re)break;D=D.return}0<pt.length&&(j=new H(j,at,null,r,G),X.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&r!==Vo&&(at=r.relatedTarget||r.fromElement)&&(yi(at)||at[pi]))break t;if((H||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,H?(at=r.relatedTarget||r.toElement,H=z,at=at?yi(at):null,at!==null&&(re=c(at),pt=at.tag,at!==re||pt!==5&&pt!==27&&pt!==6)&&(at=null)):(H=null,at=z),H!==at)){if(pt=Uo,Y="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Gi,Y="onPointerLeave",k="onPointerEnter",D="pointer"),re=H==null?j:Tn(H),U=at==null?j:Tn(at),j=new pt(Y,D+"leave",H,r,G),j.target=re,j.relatedTarget=U,Y=null,yi(G)===z&&(pt=new pt(k,D+"enter",at,r,G),pt.target=U,pt.relatedTarget=re,Y=pt),re=Y,H&&at)e:{for(pt=j1,k=H,D=at,U=0,Y=k;Y;Y=pt(Y))U++;Y=0;for(var ht=D;ht;ht=pt(ht))Y++;for(;0<U-Y;)k=pt(k),U--;for(;0<Y-U;)D=pt(D),Y--;for(;U--;){if(k===D||D!==null&&k===D.alternate){pt=k;break e}k=pt(k),D=pt(D)}pt=null}else pt=null;H!==null&&Hy(X,j,H,pt,!1),at!==null&&re!==null&&Hy(X,re,at,pt,!0)}}t:{if(j=z?Tn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Kt=rp;else if(ip(j))if(ap)Kt=JT;else{Kt=XT;var lt=YT}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&da(z.elementType)&&(Kt=rp):Kt=$T;if(Kt&&(Kt=Kt(e,z))){sp(X,Kt,r,G);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Do(j,"number",j.value)}switch(lt=z?Tn(z):window,e){case"focusin":(ip(lt)||lt.contentEditable==="true")&&(Ta=lt,kh=z,qo=null);break;case"focusout":qo=kh=Ta=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,mp(X,r,G);break;case"selectionchange":if(WT)break;case"keydown":case"keyup":mp(X,r,G)}var It;if(Yt)t:{switch(e){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else Ea?Mr(e,r)&&(Pt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Pt="onCompositionStart");Pt&&(Ii&&r.locale!=="ko"&&(Ea||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&Ea&&(It=Lo()):(Si=G,ko="value"in Si?Si.value:Si.textContent,Ea=!0)),lt=fc(z,Pt),0<lt.length&&(Pt=new Ri(Pt,e,null,r,G),X.push({event:Pt,listeners:lt}),It?Pt.data=It:(It=va(r),It!==null&&(Pt.data=It)))),(It=Pn?FT(e,r):GT(e,r))&&(Pt=fc(z,"onBeforeInput"),0<Pt.length&&(lt=new Ri("onBeforeInput","beforeinput",null,r,G),X.push({event:lt,listeners:Pt}),lt.data=It)),L1(X,e,z,r,G)}jy(X,n)})}function ml(e,n,r){return{instance:e,listener:n,currentTarget:r}}function fc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Zn(e,r),h!=null&&o.unshift(ml(e,h,f)),h=Zn(e,n),h!=null&&o.push(ml(e,h,f))),e.tag===3)return o;e=e.return}return[]}function j1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hy(e,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Zn(r,f),z!=null&&p.unshift(ml(r,z,I))):h||(z=Zn(r,f),z!=null&&p.push(ml(r,z,I)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var B1=/\r\n?/g,H1=/\u0000|\uFFFD/g;function qy(e){return(typeof e=="string"?e:""+e).replace(B1,`
`).replace(H1,"")}function Fy(e,n){return n=qy(n),qy(e)===n}function se(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||dn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&dn(e,""+o);break;case"className":bn(e,"class",o);break;case"tabIndex":bn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(e,r,o);break;case"style":Mo(e,o,f);break;case"data":if(n!=="object"){bn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ma(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&se(e,n,"name",h.name,h,null),se(e,n,"formEncType",h.formEncType,h,null),se(e,n,"formMethod",h.formMethod,h,null),se(e,n,"formTarget",h.formTarget,h,null)):(se(e,n,"encType",h.encType,h,null),se(e,n,"method",h.method,h,null),se(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ma(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Jn);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ma(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),ha(e,"popover",o);break;case"xlinkActuate":De(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":De(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":De(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":De(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":De(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":De(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":De(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":De(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":De(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ha(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=fu.get(r)||r,ha(e,r,o))}}function ld(e,n,r,o,h,f){switch(r){case"style":Mo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?dn(e,o):(typeof o=="number"||typeof o=="bigint")&&dn(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[He]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ha(e,r,o)}}}function Je(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:se(e,n,f,p,r,null)}}h&&se(e,n,"srcSet",r.srcSet,r,null),o&&se(e,n,"src",r.src,r,null);return;case"input":Ot("invalid",e);var E=f=p=h=null,I=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:se(e,n,o,G,r,null)}}uu(e,f,E,I,z,p,h,!1);return;case"select":Ot("invalid",e),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:se(e,n,h,E,r,null)}n=f,r=p,e.multiple=!!o,n!=null?bs(e,!!o,n,!1):r!=null&&bs(e,!!o,r,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:se(e,n,p,E,r,null)}Ss(e,o,h,f);return;case"option":for(I in r)r.hasOwnProperty(I)&&(o=r[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":se(e,n,I,o,r,null));return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<dl.length;o++)Ot(dl[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:se(e,n,z,o,r,null)}return;default:if(da(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&ld(e,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&se(e,n,E,o,r,null))}function q1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,z=null,G=null;for(H in r){var X=r[H];if(r.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:o.hasOwnProperty(H)||se(e,n,H,null,o,X)}}for(var j in o){var H=o[j];if(X=r[j],o.hasOwnProperty(j)&&(H!=null||X!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&se(e,n,j,H,o,X)}}fa(e,p,E,I,z,G,f,h);return;case"select":H=p=E=j=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||se(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=r[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&se(e,n,h,f,o,I)}n=E,r=p,o=H,j!=null?bs(e,!!r,j,!1):!!o!=!!r&&(n!=null?bs(e,!!r,n,!0):bs(e,!!r,r?[]:"",!1));return;case"textarea":H=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:se(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&se(e,n,p,h,o,f)}cu(e,j,H);return;case"option":for(var at in r)j=r[at],r.hasOwnProperty(at)&&j!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:se(e,n,at,null,o,j));for(I in o)j=o[I],H=r[I],o.hasOwnProperty(I)&&j!==H&&(j!=null||H!=null)&&(I==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":se(e,n,I,j,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)j=r[pt],r.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&se(e,n,pt,null,o,j);for(z in o)if(j=o[z],H=r[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:se(e,n,z,j,o,H)}return;default:if(da(n)){for(var re in r)j=r[re],r.hasOwnProperty(re)&&j!==void 0&&!o.hasOwnProperty(re)&&ld(e,n,re,void 0,o,j);for(G in o)j=o[G],H=r[G],!o.hasOwnProperty(G)||j===H||j===void 0&&H===void 0||ld(e,n,G,j,o,H);return}}for(var k in r)j=r[k],r.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&se(e,n,k,null,o,j);for(X in o)j=o[X],H=r[X],!o.hasOwnProperty(X)||j===H||j==null&&H==null||se(e,n,X,j,o,H)}function Gy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function F1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Gy(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var I=r[o],z=I.startTime;if(z>E)break;var G=I.transferSize,X=I.initiatorType;G&&Gy(X)&&(I=I.responseEnd,p+=G*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ud=null,cd=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function Ky(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function G1(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,K1=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,Q1=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(e){return Xy.resolve(null).then(e).catch(Y1)}:Yy;function Y1(e){setTimeout(function(){throw e})}function Ks(e){return e==="head"}function $y(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ya(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")pl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,pl(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[gi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&pl(e.ownerDocument.body);r=h}while(r);Ya(n)}function Jy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":dd(r),ca(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function X1(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[gi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function $1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Fn(e.nextSibling),e===null))return null;return e}function Zy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Fn(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function J1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Fn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var gd=null;function Wy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Fn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function t_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function e_(e,n,r){switch(n=dc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function pl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ca(e)}var Gn=new Map,n_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var as=et.d;et.d={f:Z1,r:W1,D:tb,C:eb,L:nb,m:ib,X:rb,S:sb,M:ab};function Z1(){var e=as.f(),n=rc();return e||n}function W1(e){var n=Vn(e);n!==null&&n.tag===5&&n.type==="form"?vg(n):as.r(e)}var Ga=typeof document>"u"?null:document;function i_(e,n,r){var o=Ga;if(o&&typeof n=="string"&&n){var h=fn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),n_.has(h)||(n_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Je(n,"link",e),Ne(n),o.head.appendChild(n)))}}function tb(e){as.D(e),i_("dns-prefetch",e,null)}function eb(e,n){as.C(e,n),i_("preconnect",e,n)}function nb(e,n,r){as.L(e,n,r);var o=Ga;if(o&&e&&n){var h='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+fn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+fn(r.imageSizes)+'"]')):h+='[href="'+fn(e)+'"]';var f=h;switch(n){case"style":f=Ka(e);break;case"script":f=Qa(e)}Gn.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Gn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(gl(f))||n==="script"&&o.querySelector(yl(f))||(n=o.createElement("link"),Je(n,"link",e),Ne(n),o.head.appendChild(n)))}}function ib(e,n){as.m(e,n);var r=Ga;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fn(o)+'"][href="'+fn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Qa(e)}if(!Gn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Gn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(yl(f)))return}o=r.createElement("link"),Je(o,"link",e),Ne(o),r.head.appendChild(o)}}}function sb(e,n,r){as.S(e,n,r);var o=Ga;if(o&&e){var h=_i(o).hoistableStyles,f=Ka(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(gl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Gn.get(f))&&yd(e,r);var I=p=o.createElement("link");Ne(I),Je(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function rb(e,n){as.X(e,n);var r=Ga;if(r&&e){var o=_i(r).hoistableScripts,h=Qa(e),f=o.get(h);f||(f=r.querySelector(yl(h)),f||(e=A({src:e,async:!0},n),(n=Gn.get(h))&&_d(e,n),f=r.createElement("script"),Ne(f),Je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function ab(e,n){as.M(e,n);var r=Ga;if(r&&e){var o=_i(r).hoistableScripts,h=Qa(e),f=o.get(h);f||(f=r.querySelector(yl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Gn.get(h))&&_d(e,n),f=r.createElement("script"),Ne(f),Je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function s_(e,n,r,o){var h=(h=Et.current)?mc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ka(r.href),r=_i(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ka(r.href);var f=_i(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(gl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Gn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Gn.set(e,r),f||ob(h,e,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qa(r),r=_i(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ka(e){return'href="'+fn(e)+'"'}function gl(e){return'link[rel="stylesheet"]['+e+"]"}function r_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function ob(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Je(n,"link",r),Ne(n),e.head.appendChild(n))}function Qa(e){return'[src="'+fn(e)+'"]'}function yl(e){return"script[async]"+e}function a_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+fn(r.href)+'"]');if(o)return n.instance=o,Ne(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ne(o),Je(o,"style",h),pc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ka(r.href);var f=e.querySelector(gl(h));if(f)return n.state.loading|=4,n.instance=f,Ne(f),f;o=r_(r),(h=Gn.get(h))&&yd(o,h),f=(e.ownerDocument||e).createElement("link"),Ne(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Je(f,"link",o),n.state.loading|=4,pc(f,r.precedence,e),n.instance=f;case"script":return f=Qa(r.src),(h=e.querySelector(yl(f)))?(n.instance=h,Ne(h),h):(o=r,(h=Gn.get(f))&&(o=A({},r),_d(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ne(h),Je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pc(o,r.precedence,e));return n.instance}function pc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function o_(e,n,r){if(gc===null){var o=new Map,h=gc=new Map;h.set(r,o)}else h=gc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[gi]||f[xe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function l_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function lb(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function u_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ub(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ka(o.href),f=n.querySelector(gl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Ne(f);return}f=n.ownerDocument||n,o=r_(o),(h=Gn.get(h))&&yd(o,h),f=f.createElement("link"),Ne(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Je(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=yc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var vd=0;function cb(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&vd===0&&(vd=62500*F1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>vd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(hb,e),_c=null,yc.call(e))}function hb(e,n){if(!(n.state.loading&4)){var r=_c.get(e);if(r)var o=r.get(null);else{r=new Map,_c.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var _l={$$typeof:vt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function fb(e,n,r,o,h,f,p,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function c_(e,n,r,o,h,f,p,E,I,z,G,X){return e=new fb(e,n,r,p,I,z,G,X,E),n=1,f===!0&&(n|=24),f=An(3,null,null,n),e.current=f,f.stateNode=e,n=Jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},ef(f),e}function h_(e){return e?(e=Aa,e):Aa}function f_(e,n,r,o,h,f){h=h_(h),o.context===null?o.context=h:o.pendingContext=h,o=ks(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Ls(e,o,n),r!==null&&(_n(r,e,n),$o(r,e,n))}function d_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Ed(e,n){d_(e,n),(e=e.alternate)&&d_(e,n)}function m_(e){if(e.tag===13||e.tag===31){var n=Lr(e,67108864);n!==null&&_n(n,e,67108864),Ed(e,67108864)}}function p_(e){if(e.tag===13||e.tag===31){var n=xn();n=Ar(n);var r=Lr(e,n);r!==null&&_n(r,e,n),Ed(e,n)}}var Ec=!0;function db(e,n,r,o){var h=q.T;q.T=null;var f=et.p;try{et.p=2,Td(e,n,r,o)}finally{et.p=f,q.T=h}}function mb(e,n,r,o){var h=q.T;q.T=null;var f=et.p;try{et.p=8,Td(e,n,r,o)}finally{et.p=f,q.T=h}}function Td(e,n,r,o){if(Ec){var h=bd(o);if(h===null)od(e,n,o,Tc,r),y_(e,o);else if(gb(h,e,n,r,o))o.stopPropagation();else if(y_(e,o),n&4&&-1<pb.indexOf(e)){for(;h!==null;){var f=Vn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Mn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-ae(p);E.entanglements[1]|=I,p&=~I}Di(f),(Xt&6)===0&&(ic=Ke()+500,fl(0))}}break;case 31:case 13:E=Lr(f,2),E!==null&&_n(E,f,2),rc(),Ed(f,2)}if(f=bd(o),f===null&&od(e,n,o,Tc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else od(e,n,o,null,r)}}function bd(e){return e=kn(e),Sd(e)}var Tc=null;function Sd(e){if(Tc=null,e=yi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Tc=e,null}function g_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hi()){case vs:return 2;case on:return 8;case ln:case Es:return 32;case F:return 268435456;default:return 32}default:return 32}}var Ad=!1,Qs=null,Ys=null,Xs=null,vl=new Map,El=new Map,$s=[],pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(e,n){switch(e){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(n.pointerId)}}function Tl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Vn(n),n!==null&&m_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function gb(e,n,r,o,h){switch(n){case"focusin":return Qs=Tl(Qs,e,n,r,o,h),!0;case"dragenter":return Ys=Tl(Ys,e,n,r,o,h),!0;case"mouseover":return Xs=Tl(Xs,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return vl.set(f,Tl(vl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,El.set(f,Tl(El.get(f)||null,e,n,r,o,h)),!0}return!1}function __(e){var n=yi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Xn(e.priority,function(){p_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,Xn(e.priority,function(){p_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=bd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Vo=o,r.target.dispatchEvent(o),Vo=null}else return n=Vn(r),n!==null&&m_(n),e.blockedOn=r,!1;n.shift()}return!0}function v_(e,n,r){bc(e)&&r.delete(n)}function yb(){Ad=!1,Qs!==null&&bc(Qs)&&(Qs=null),Ys!==null&&bc(Ys)&&(Ys=null),Xs!==null&&bc(Xs)&&(Xs=null),vl.forEach(v_),El.forEach(v_)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ad||(Ad=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,yb)))}var Ac=null;function E_(e){Ac!==e&&(Ac=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Sd(o||r)===null)continue;break}var f=Vn(r);f!==null&&(e.splice(n,3),n-=3,bf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ya(e){function n(I){return Sc(I,e)}Qs!==null&&Sc(Qs,e),Ys!==null&&Sc(Ys,e),Xs!==null&&Sc(Xs,e),vl.forEach(n),El.forEach(n);for(var r=0;r<$s.length;r++){var o=$s[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<$s.length&&(r=$s[0],r.blockedOn===null);)__(r),r.blockedOn===null&&$s.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[He]||null;if(typeof f=="function")p||E_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[He]||null)E=p.formAction;else if(Sd(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),E_(r)}}}function T_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function wd(e){this._internalRoot=e}wc.prototype.render=wd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=xn();f_(r,o,e,n,null,null)},wc.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;f_(e.current,2,null,e,null,null),rc(),n[pi]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var r=0;r<$s.length&&n!==0&&n<$s[r].priority;r++);$s.splice(r,0,e),r===0&&__(e)}};var b_=t.version;if(b_!=="19.2.4")throw Error(a(527,b_,"19.2.4"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var _b={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{kt=Rc.inject(_b),Ct=Rc}catch{}}return Sl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=xg,f=Ng,p=Dg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=c_(e,1,!1,null,null,r,o,null,h,f,p,T_),e[pi]=n.current,ad(e),new wd(n)},Sl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=xg,p=Ng,E=Dg,I=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=c_(e,1,!0,n,r??null,o,h,I,f,p,E,T_),n.context=h_(null),r=n.current,o=xn(),o=Ar(o),h=ks(o),h.callback=null,Ls(r,h,o),r=o,n.current.lanes=r,br(n,r),Di(n),e[pi]=n.current,ad(e),new wc(n)},Sl.version="19.2.4",Sl}var O_;function Cb(){if(O_)return Cd.exports;O_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Cd.exports=Ib(),Cd.exports}var xb=Cb();const yv=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const Nb=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Db=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const M_=s=>{const t=Db(s);return t.charAt(0).toUpperCase()+t.slice(1)};var Ob={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mb=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const Vb=Ft.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},_)=>Ft.createElement("svg",{ref:_,...Ob,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:yv("lucide",l),...!c&&!Mb(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>Ft.createElement(y,b)),...Array.isArray(c)?c:[c]]));const Ce=(s,t)=>{const i=Ft.forwardRef(({className:a,...l},c)=>Ft.createElement(Vb,{ref:c,iconNode:t,className:yv(`lucide-${Nb(M_(s))}`,`lucide-${s}`,a),...l}));return i.displayName=M_(s),i};const kb=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Lb=Ce("award",kb);const Pb=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Ub=Ce("brain",Pb);const zb=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],jb=Ce("chart-pie",zb);const Bb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_v=Ce("circle-check",Bb);const Hb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],V_=Ce("circle-user",Hb);const qb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fb=Ce("circle",qb);const Gb=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],Kb=Ce("dumbbell",Gb);const Qb=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Yb=Ce("layout-dashboard",Qb);const Xb=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],$b=Ce("list-todo",Xb);const Jb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Zb=Ce("log-out",Jb);const Wb=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],tS=Ce("mail",Wb);const eS=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],nS=Ce("moon",eS);const iS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sS=Ce("plus",iS);const rS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],aS=Ce("refresh-cw",rS);const oS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],k_=Ce("shield-check",oS);const lS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],uS=Ce("sun",lS);const cS=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],hS=Ce("text-align-start",cS);const fS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Od=Ce("trash-2",fS);const dS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],L_=Ce("trending-up",dS);const mS=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Gd=Ce("utensils",mS);const pS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gS=Ce("x",pS),yS=()=>{};var P_={};const vv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},_S=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,b=c>>2,A=(c&3)<<4|g>>4;let M=(g&15)<<2|y>>6,K=y&63;_||(K=64,d||(M=64)),a.push(i[b],i[A],i[M],i[K])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(vv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):_S(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||A==null)throw new vS;const M=c<<2|g>>4;if(a.push(M),y!==64){const K=g<<4&240|y>>2;if(a.push(K),A!==64){const Z=y<<6&192|A;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class vS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ES=function(s){const t=vv(s);return Ev.encodeByteArray(t,!0)},Fc=function(s){return ES(s).replace(/\./g,"")},Tv=function(s){try{return Ev.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function TS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bS=()=>TS().__FIREBASE_DEFAULTS__,SS=()=>{if(typeof process>"u"||typeof P_>"u")return;const s=P_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},AS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Tv(s[1]);return t&&JSON.parse(t)},hh=()=>{try{return yS()||bS()||SS()||AS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},bv=s=>hh()?.emulatorHosts?.[s],wS=s=>{const t=bv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Sv=()=>hh()?.config,Av=s=>hh()?.[`_${s}`];class RS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function po(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wv(s){return(await fetch(s,{credentials:"include"})).ok}function IS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const Ol={};function CS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ol))Ol[t]?s.emulator.push(t):s.prod.push(t);return s}function xS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let U_=!1;function Rv(s,t){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||Ol[s]===t||Ol[s]||U_)return;Ol[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=CS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,K){M.setAttribute("width","24"),M.setAttribute("id",K),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{U_=!0,d()},M}function b(M,K){M.setAttribute("id",K),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=xS(a),K=i("text"),Z=document.getElementById(K)||document.createElement("span"),it=i("learnmore"),st=document.getElementById(it)||document.createElement("a"),mt=i("preprendIcon"),ft=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const vt=M.element;g(vt),b(st,it);const Mt=y();_(ft,mt),vt.append(ft,Z,st,Mt),document.body.appendChild(vt)}c?(Z.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function DS(){const s=hh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function VS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kS(){const s=an();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function LS(){return!DS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PS(){try{return typeof indexedDB=="object"}catch{return!1}}function US(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const zS="FirebaseError";class ps extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=zS,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?jS(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ps(l,g,a)}}function jS(s,t){return s.replace(BS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const BS=/\{\$([^}]+)}/g;function HS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Wr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(z_(c)&&z_(d)){if(!Wr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function z_(s){return s!==null&&typeof s=="object"}function Yl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Rl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Il(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function qS(s,t){const i=new FS(s,t);return i.subscribe.bind(i)}class FS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");GS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Md),l.error===void 0&&(l.error=Md),l.complete===void 0&&(l.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Md(){}function hn(s){return s&&s._delegate?s._delegate:s}class ta{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Xr="[DEFAULT]";class KS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new RS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(YS(t))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Xr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xr){return this.instances.has(t)}getOptions(t=Xr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:QS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Xr){return this.component?this.component.multipleInstances?t:Xr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QS(s){return s===Xr?void 0:s}function YS(s){return s.instantiationMode==="EAGER"}class XS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new KS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const $S={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},JS=Ut.INFO,ZS={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},WS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=ZS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _m{constructor(t){this.name=t,this._logLevel=JS,this._logHandler=WS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$S[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const tA=(s,t)=>t.some(i=>s instanceof i);let j_,B_;function eA(){return j_||(j_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nA(){return B_||(B_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Iv=new WeakMap,Kd=new WeakMap,Cv=new WeakMap,Vd=new WeakMap,vm=new WeakMap;function iA(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(sr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Iv.set(i,s)}).catch(()=>{}),vm.set(t,s),t}function sA(s){if(Kd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Kd.set(s,t)}let Qd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Kd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Cv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return sr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function rA(s){Qd=s(Qd)}function aA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(kd(this),t,...i);return Cv.set(a,t.sort?t.sort():[t]),sr(a)}:nA().includes(s)?function(...t){return s.apply(kd(this),t),sr(Iv.get(this))}:function(...t){return sr(s.apply(kd(this),t))}}function oA(s){return typeof s=="function"?aA(s):(s instanceof IDBTransaction&&sA(s),tA(s,eA())?new Proxy(s,Qd):s)}function sr(s){if(s instanceof IDBRequest)return iA(s);if(Vd.has(s))return Vd.get(s);const t=oA(s);return t!==s&&(Vd.set(s,t),vm.set(t,s)),t}const kd=s=>vm.get(s);function lA(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=sr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(sr(d.result),_.oldVersion,_.newVersion,sr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const uA=["get","getKey","getAll","getAllKeys","count"],cA=["put","add","delete","clear"],Ld=new Map;function H_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=cA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||uA.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return Ld.set(t,c),c}rA(s=>({...s,get:(t,i,a)=>H_(t,i)||s.get(t,i,a),has:(t,i)=>!!H_(t,i)||s.has(t,i)}));class hA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(fA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function fA(s){return s.getComponent()?.type==="VERSION"}const Yd="@firebase/app",q_="0.14.7";const cs=new _m("@firebase/app"),dA="@firebase/app-compat",mA="@firebase/analytics-compat",pA="@firebase/analytics",gA="@firebase/app-check-compat",yA="@firebase/app-check",_A="@firebase/auth",vA="@firebase/auth-compat",EA="@firebase/database",TA="@firebase/data-connect",bA="@firebase/database-compat",SA="@firebase/functions",AA="@firebase/functions-compat",wA="@firebase/installations",RA="@firebase/installations-compat",IA="@firebase/messaging",CA="@firebase/messaging-compat",xA="@firebase/performance",NA="@firebase/performance-compat",DA="@firebase/remote-config",OA="@firebase/remote-config-compat",MA="@firebase/storage",VA="@firebase/storage-compat",kA="@firebase/firestore",LA="@firebase/ai",PA="@firebase/firestore-compat",UA="firebase",zA="12.8.0";const Xd="[DEFAULT]",jA={[Yd]:"fire-core",[dA]:"fire-core-compat",[pA]:"fire-analytics",[mA]:"fire-analytics-compat",[yA]:"fire-app-check",[gA]:"fire-app-check-compat",[_A]:"fire-auth",[vA]:"fire-auth-compat",[EA]:"fire-rtdb",[TA]:"fire-data-connect",[bA]:"fire-rtdb-compat",[SA]:"fire-fn",[AA]:"fire-fn-compat",[wA]:"fire-iid",[RA]:"fire-iid-compat",[IA]:"fire-fcm",[CA]:"fire-fcm-compat",[xA]:"fire-perf",[NA]:"fire-perf-compat",[DA]:"fire-rc",[OA]:"fire-rc-compat",[MA]:"fire-gcs",[VA]:"fire-gcs-compat",[kA]:"fire-fst",[PA]:"fire-fst-compat",[LA]:"fire-vertex","fire-js":"fire-js",[UA]:"fire-js-all"};const Gc=new Map,BA=new Map,$d=new Map;function F_(s,t){try{s.container.addComponent(t)}catch(i){cs.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function oo(s){const t=s.name;if($d.has(t))return cs.debug(`There were multiple attempts to register component ${t}.`),!1;$d.set(t,s);for(const i of Gc.values())F_(i,s);for(const i of BA.values())F_(i,s);return!0}function Em(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Nn(s){return s==null?!1:s.settings!==void 0}const HA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new Ql("app","Firebase",HA);class qA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}const go=zA;function xv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Xd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw rr.create("bad-app-name",{appName:String(l)});if(i||(i=Sv()),!i)throw rr.create("no-options");const c=Gc.get(l);if(c){if(Wr(i,c.options)&&Wr(a,c.config))return c;throw rr.create("duplicate-app",{appName:l})}const d=new XS(l);for(const _ of $d.values())d.addComponent(_);const g=new qA(i,a,d);return Gc.set(l,g),g}function Nv(s=Xd){const t=Gc.get(s);if(!t&&s===Xd&&Sv())return xv();if(!t)throw rr.create("no-app",{appName:s});return t}function ar(s,t,i){let a=jA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),cs.warn(d.join(" "));return}oo(new ta(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const FA="firebase-heartbeat-database",GA=1,Ul="firebase-heartbeat-store";let Pd=null;function Dv(){return Pd||(Pd=lA(FA,GA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ul)}catch(i){console.warn(i)}}}}).catch(s=>{throw rr.create("idb-open",{originalErrorMessage:s.message})})),Pd}async function KA(s){try{const i=(await Dv()).transaction(Ul),a=await i.objectStore(Ul).get(Ov(s));return await i.done,a}catch(t){if(t instanceof ps)cs.warn(t.message);else{const i=rr.create("idb-get",{originalErrorMessage:t?.message});cs.warn(i.message)}}}async function G_(s,t){try{const a=(await Dv()).transaction(Ul,"readwrite");await a.objectStore(Ul).put(t,Ov(s)),await a.done}catch(i){if(i instanceof ps)cs.warn(i.message);else{const a=rr.create("idb-set",{originalErrorMessage:i?.message});cs.warn(a.message)}}}function Ov(s){return`${s.name}!${s.options.appId}`}const QA=1024,YA=30;class XA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new JA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=K_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>YA){const l=ZA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){cs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=K_(),{heartbeatsToSend:i,unsentEntries:a}=$A(this._heartbeatsCache.heartbeats),l=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return cs.warn(t),""}}}function K_(){return new Date().toISOString().substring(0,10)}function $A(s,t=QA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Q_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Q_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class JA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PS()?US().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await KA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return G_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return G_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Q_(s){return Fc(JSON.stringify({version:2,heartbeats:s})).length}function ZA(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function WA(s){oo(new ta("platform-logger",t=>new hA(t),"PRIVATE")),oo(new ta("heartbeat",t=>new XA(t),"PRIVATE")),ar(Yd,q_,s),ar(Yd,q_,"esm2020"),ar("fire-js","")}WA("");var tw="firebase",ew="12.8.0";ar(tw,ew,"app");function Mv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nw=Mv,Vv=new Ql("auth","Firebase",Mv());const Kc=new _m("@firebase/auth");function iw(s,...t){Kc.logLevel<=Ut.WARN&&Kc.warn(`Auth (${go}): ${s}`,...t)}function Vc(s,...t){Kc.logLevel<=Ut.ERROR&&Kc.error(`Auth (${go}): ${s}`,...t)}function li(s,...t){throw Tm(s,...t)}function Mi(s,...t){return Tm(s,...t)}function kv(s,t,i){const a={...nw(),[t]:i};return new Ql("auth","Firebase",a).create(t,{appName:s.name})}function Vi(s){return kv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Vv.create(s,...t)}function yt(s,t,...i){if(!s)throw Tm(t,...i)}function os(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Vc(t),new Error(t)}function hs(s,t){s||os(t)}function Jd(){return typeof self<"u"&&self.location?.href||""}function sw(){return Y_()==="http:"||Y_()==="https:"}function Y_(){return typeof self<"u"&&self.location?.protocol||null}function rw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sw()||MS()||"connection"in navigator)?navigator.onLine:!0}function aw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Xl{constructor(t,i){this.shortDelay=t,this.longDelay=i,hs(i>t,"Short delay should be less than long delay!"),this.isMobile=NS()||VS()}get(){return rw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bm(s,t){hs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Lv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ow={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const lw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uw=new Xl(3e4,6e4);function pr(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function gr(s,t,i,a,l={}){return Pv(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Yl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return OS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&po(s.emulatorConfig.host)&&(y.credentials="include"),Lv.fetch()(await Uv(s,s.config.apiHost,i,g),y)})}async function Pv(s,t,i){s._canInitEmulator=!1;const a={...ow,...t};try{const l=new hw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ic(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Ic(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Ic(s,"user-disabled",d);const b=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw kv(s,b,y);li(s,b)}}catch(l){if(l instanceof ps)throw l;li(s,"network-request-failed",{message:String(l)})}}async function $l(s,t,i,a,l={}){const c=await gr(s,t,i,a,l);return"mfaPendingCredential"in c&&li(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Uv(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?bm(s.config,l):`${s.config.apiScheme}://${l}`;return lw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function cw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Mi(this.auth,"network-request-failed")),uw.get())})}}function Ic(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Mi(s,t,a);return l.customData._tokenResponse=i,l}function X_(s){return s!==void 0&&s.enterprise!==void 0}class fw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return cw(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dw(s,t){return gr(s,"GET","/v2/recaptchaConfig",pr(s,t))}async function mw(s,t){return gr(s,"POST","/v1/accounts:delete",t)}async function Qc(s,t){return gr(s,"POST","/v1/accounts:lookup",t)}function Ml(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function pw(s,t=!1){const i=hn(s),a=await i.getIdToken(t),l=Sm(a);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Ml(Ud(l.auth_time)),issuedAtTime:Ml(Ud(l.iat)),expirationTime:Ml(Ud(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ud(s){return Number(s)*1e3}function Sm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Tv(i);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function $_(s){const t=Sm(s);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function zl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ps&&gw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function gw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class yw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yc(s){const t=s.auth,i=await s.getIdToken(),a=await zl(s,Qc(t,{idToken:i}));yt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?zv(l.providerUserInfo):[],d=vw(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=g?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function _w(s){const t=hn(s);await Yc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vw(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function zv(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Ew(s,t){const i=await Pv(s,{},async()=>{const a=Yl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Uv(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&po(s.emulatorConfig.host)&&(_.credentials="include"),Lv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Tw(s,t){return gr(s,"POST","/v2/accounts:revokeToken",pr(s,t))}class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=$_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Ew(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new to;return a&&(yt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return os("not implemented")}}function Zs(s,t){yt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ri{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new yw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Zd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await zl(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return pw(this,t)}reload(){return _w(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ri({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Yc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(Vi(this.auth));const t=await this.getIdToken();return await zl(this,mw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:K,providerData:Z,stsTokenManager:it}=i;yt(A&&it,t,"internal-error");const st=to.fromJSON(this.name,it);yt(typeof A=="string",t,"internal-error"),Zs(a,t.name),Zs(l,t.name),yt(typeof M=="boolean",t,"internal-error"),yt(typeof K=="boolean",t,"internal-error"),Zs(c,t.name),Zs(d,t.name),Zs(g,t.name),Zs(_,t.name),Zs(y,t.name),Zs(b,t.name);const mt=new ri({uid:A,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:st,createdAt:y,lastLoginAt:b});return Z&&Array.isArray(Z)&&(mt.providerData=Z.map(ft=>({...ft}))),_&&(mt._redirectEventId=_),mt}static async _fromIdTokenResponse(t,i,a=!1){const l=new to;l.updateFromServerResponse(i);const c=new ri({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Yc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?zv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new to;g.updateFromIdToken(a);const _=new ri({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const J_=new Map;function ls(s){hs(s instanceof Function,"Expected a class definition");let t=J_.get(s);return t?(hs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,J_.set(s,t),t)}class jv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}jv.type="NONE";const Z_=jv;function kc(s,t,i){return`firebase:${s}:${t}:${i}`}class eo{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=kc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Qc(this.auth,{idToken:t}).catch(()=>{});return i?ri._fromGetAccountInfoResponse(this.auth,i,t):null}return ri._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new eo(ls(Z_),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ls(Z_);const d=kc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let A;if(typeof b=="string"){const M=await Qc(t,{idToken:b}).catch(()=>{});if(!M)break;A=await ri._fromGetAccountInfoResponse(t,M,b)}else A=ri._fromJSON(t,b);y!==c&&(g=A),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new eo(c,t,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new eo(c,t,a))}}function W_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Bv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Kv(t))return"Blackberry";if(Qv(t))return"Webos";if(Hv(t))return"Safari";if((t.includes("chrome/")||qv(t))&&!t.includes("edge/"))return"Chrome";if(Gv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Bv(s=an()){return/firefox\//i.test(s)}function Hv(s=an()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function qv(s=an()){return/crios\//i.test(s)}function Fv(s=an()){return/iemobile/i.test(s)}function Gv(s=an()){return/android/i.test(s)}function Kv(s=an()){return/blackberry/i.test(s)}function Qv(s=an()){return/webos/i.test(s)}function Am(s=an()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function bw(s=an()){return Am(s)&&!!window.navigator?.standalone}function Sw(){return kS()&&document.documentMode===10}function Yv(s=an()){return Am(s)||Gv(s)||Qv(s)||Kv(s)||/windows phone/i.test(s)||Fv(s)}function Xv(s,t=[]){let i;switch(s){case"Browser":i=W_(an());break;case"Worker":i=`${W_(an())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${go}/${a}`}class Aw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function ww(s,t={}){return gr(s,"GET","/v2/passwordPolicy",pr(s,t))}const Rw=6;class Iw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Rw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Cw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t0(this),this.idTokenSubscription=new t0(this),this.beforeStateQueue=new Aw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ls(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await eo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Qc(this,{idToken:t}),a=await ri._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Nn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Yc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=aw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Nn(this.app))return Promise.reject(Vi(this));const i=t?hn(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(Vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Nn(this.app)?Promise.reject(Vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ww(this),i=new Iw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ql("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Tw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ls(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[ls(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Xv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&iw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function yr(s){return hn(s)}class t0{constructor(t){this.auth=t,this.observer=null,this.addObserver=qS(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xw(s){fh=s}function $v(s){return fh.loadJS(s)}function Nw(){return fh.recaptchaEnterpriseScript}function Dw(){return fh.gapiScript}function Ow(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Mw{constructor(){this.enterprise=new Vw}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class Vw{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const kw="recaptcha-enterprise",Jv="NO_RECAPTCHA";class Lw{constructor(t){this.type=kw,this.auth=yr(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{dw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new fw(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{g(_)})})}function l(c,d,g){const _=window.grecaptcha;X_(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(y=>{d(y)}).catch(()=>{d(Jv)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Mw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(g=>{if(!i&&X_(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=Nw();_.length!==0&&(_+=g),$v(_).then(()=>{l(g,c,d)}).catch(y=>{d(y)})}}).catch(g=>{d(g)})})}}async function e0(s,t,i,a=!1,l=!1){const c=new Lw(s);let d;if(l)d=Jv;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const _=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const _=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return a?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Wd(s,t,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await e0(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await e0(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function Pw(s,t){const i=Em(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Wr(c,t??{}))return l;li(l,"already-initialized")}return i.initialize({options:t})}function Uw(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ls);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function zw(s,t,i){const a=yr(s);yt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=Zv(t),{host:d,port:g}=jw(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){yt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),yt(Wr(y,a.config.emulator)&&Wr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,po(d)?(wv(`${c}//${d}${_}`),Rv("Auth",!0)):Bw()}function Zv(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function jw(s){const t=Zv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:n0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:n0(d)}}}function n0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Bw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class wm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return os("not implemented")}_getIdTokenResponse(t){return os("not implemented")}_linkToIdToken(t,i){return os("not implemented")}_getReauthenticationResolver(t){return os("not implemented")}}async function Hw(s,t){return gr(s,"POST","/v1/accounts:signUp",t)}async function qw(s,t){return $l(s,"POST","/v1/accounts:signInWithPassword",pr(s,t))}async function Fw(s,t){return $l(s,"POST","/v1/accounts:signInWithEmailLink",pr(s,t))}async function Gw(s,t){return $l(s,"POST","/v1/accounts:signInWithEmailLink",pr(s,t))}class jl extends wm{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new jl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new jl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wd(t,i,"signInWithPassword",qw);case"emailLink":return Fw(t,{email:this._email,oobCode:this._password});default:li(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wd(t,a,"signUpPassword",Hw);case"emailLink":return Gw(t,{idToken:i,email:this._email,oobCode:this._password});default:li(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function no(s,t){return $l(s,"POST","/v1/accounts:signInWithIdp",pr(s,t))}const Kw="http://localhost";class ea extends wm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ea(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):li("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ea(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return no(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,no(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,no(t,i)}buildRequest(){const t={requestUri:Kw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Yl(i)}return t}}function Qw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yw(s){const t=Rl(Il(s)).link,i=t?Rl(Il(t)).deep_link_id:null,a=Rl(Il(s)).deep_link_id;return(a?Rl(Il(a)).link:null)||a||i||t||s}class Rm{constructor(t){const i=Rl(Il(t)),a=i.apiKey??null,l=i.oobCode??null,c=Qw(i.mode??null);yt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=Yw(t);try{return new Rm(i)}catch{return null}}}class yo{constructor(){this.providerId=yo.PROVIDER_ID}static credential(t,i){return jl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=Rm.parseLink(i);return yt(a,"argument-error"),jl._fromEmailAndCode(t,a.code,a.tenantId)}}yo.PROVIDER_ID="password";yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Wv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Jl extends Wv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ws extends Jl{constructor(){super("facebook.com")}static credential(t){return ea._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ws.credential(t.oauthAccessToken)}catch{return null}}}Ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ws.PROVIDER_ID="facebook.com";class tr extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ea._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return tr.credential(i,a)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";class er extends Jl{constructor(){super("github.com")}static credential(t){return ea._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return er.credential(t.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";class nr extends Jl{constructor(){super("twitter.com")}static credential(t,i){return ea._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return nr.credential(i,a)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";async function tE(s,t){return $l(s,"POST","/v1/accounts:signUp",pr(s,t))}class fs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ri._fromIdTokenResponse(t,a,l),d=i0(a);return new fs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=i0(a);return new fs({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function i0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function Xw(s){if(Nn(s.app))return Promise.reject(Vi(s));const t=yr(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new fs({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await tE(t,{returnSecureToken:!0}),a=await fs._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Xc extends ps{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Xc(t,i,a,l)}}function eE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(s,c,t,a):c})}async function $w(s,t,i=!1){const a=await zl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return fs._forOperation(s,"link",a)}async function Jw(s,t,i=!1){const{auth:a}=s;if(Nn(a.app))return Promise.reject(Vi(a));const l="reauthenticate";try{const c=await zl(s,eE(a,l,t,s),i);yt(c.idToken,a,"internal-error");const d=Sm(c.idToken);yt(d,a,"internal-error");const{sub:g}=d;return yt(s.uid===g,a,"user-mismatch"),fs._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&li(a,"user-mismatch"),c}}async function nE(s,t,i=!1){if(Nn(s.app))return Promise.reject(Vi(s));const a="signIn",l=await eE(s,a,t),c=await fs._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function Zw(s,t){return nE(yr(s),t)}async function iE(s){const t=yr(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ww(s,t,i){if(Nn(s.app))return Promise.reject(Vi(s));const a=yr(s),d=await Wd(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tE).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&iE(s),_}),g=await fs._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(g.user),g}function t2(s,t,i){return Nn(s.app)?Promise.reject(Vi(s)):Zw(hn(s),yo.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&iE(s),a})}function e2(s,t,i,a){return hn(s).onIdTokenChanged(t,i,a)}function n2(s,t,i){return hn(s).beforeAuthStateChanged(t,i)}function i2(s,t,i,a){return hn(s).onAuthStateChanged(t,i,a)}function s2(s){return hn(s).signOut()}const $c="__sak";class sE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const r2=1e3,a2=10;class rE extends sE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Sw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,a2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},r2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}rE.type="LOCAL";const o2=rE;class aE extends sE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}aE.type="SESSION";const oE=aE;function l2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new dh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await l2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];function Im(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class u2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Im("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ki(){return window}function c2(s){ki().location.href=s}function lE(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function h2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f2(){return navigator?.serviceWorker?.controller||null}function d2(){return lE()?self:null}const uE="firebaseLocalStorageDb",m2=1,Jc="firebaseLocalStorage",cE="fbase_key";class Zl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(s,t){return s.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function p2(){const s=indexedDB.deleteDatabase(uE);return new Zl(s).toPromise()}function tm(){const s=indexedDB.open(uE,m2);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Jc,{keyPath:cE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Jc)?t(a):(a.close(),await p2(),t(await tm()))})})}async function s0(s,t,i){const a=mh(s,!0).put({[cE]:t,value:i});return new Zl(a).toPromise()}async function g2(s,t){const i=mh(s,!1).get(t),a=await new Zl(i).toPromise();return a===void 0?null:a.value}function r0(s,t){const i=mh(s,!0).delete(t);return new Zl(i).toPromise()}const y2=800,_2=3;class hE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>_2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(d2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await h2(),!this.activeServiceWorker)return;this.sender=new u2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||f2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await tm();return await s0(t,$c,"1"),await r0(t,$c),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>s0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>g2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>r0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=mh(l,!1).getAll();return new Zl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hE.type="LOCAL";const v2=hE;new Xl(3e4,6e4);function E2(s,t){return t?ls(t):(yt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Cm extends wm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return no(t,this._buildIdpRequest())}_linkToIdToken(t,i){return no(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return no(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function T2(s){return nE(s.auth,new Cm(s),s.bypassAuthState)}function b2(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),Jw(i,new Cm(s),s.bypassAuthState)}async function S2(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),$w(i,new Cm(s),s.bypassAuthState)}class fE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return T2;case"linkViaPopup":case"linkViaRedirect":return S2;case"reauthViaPopup":case"reauthViaRedirect":return b2;default:li(this.auth,"internal-error")}}resolve(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const A2=new Xl(2e3,1e4);class Wa extends fE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const t=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,A2.get())};t()}}Wa.currentPopupAction=null;const w2="pendingRedirect",Lc=new Map;class R2 extends fE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Lc.get(this.auth._key());if(!t){try{const a=await I2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Lc.set(this.auth._key(),t)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I2(s,t){const i=N2(t),a=x2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function C2(s,t){Lc.set(s._key(),t)}function x2(s){return ls(s._redirectPersistence)}function N2(s){return kc(w2,s.config.apiKey,s.name)}async function D2(s,t,i=!1){if(Nn(s.app))return Promise.reject(Vi(s));const a=yr(s),l=E2(a,t),d=await new R2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const O2=600*1e3;class M2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!V2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!dE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Mi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=O2&&this.cachedEventUids.clear(),this.cachedEventUids.has(a0(t))}saveEventToCache(t){this.cachedEventUids.add(a0(t)),this.lastProcessedEventTime=Date.now()}}function a0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function dE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function V2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dE(s);default:return!1}}async function k2(s,t={}){return gr(s,"GET","/v1/projects",t)}const L2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P2=/^https?/;async function U2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await k2(s);for(const i of t)try{if(z2(i))return}catch{}li(s,"unauthorized-domain")}function z2(s){const t=Jd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!P2.test(i))return!1;if(L2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const j2=new Xl(3e4,6e4);function o0(){const s=ki().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function B2(s){return new Promise((t,i)=>{function a(){o0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{o0(),i(Mi(s,"network-request-failed"))},timeout:j2.get()})}if(ki().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ki().gapi?.load)a();else{const l=Ow("iframefcb");return ki()[l]=()=>{gapi.load?a():i(Mi(s,"network-request-failed"))},$v(`${Dw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Pc=null,t})}let Pc=null;function H2(s){return Pc=Pc||B2(s),Pc}const q2=new Xl(5e3,15e3),F2="__/auth/iframe",G2="emulator/auth/iframe",K2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y2(s){const t=s.config;yt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?bm(t,G2):`https://${s.config.authDomain}/${F2}`,a={apiKey:t.apiKey,appName:s.name,v:go},l=Q2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Yl(a).slice(1)}`}async function X2(s){const t=await H2(s),i=ki().gapi;return yt(i,s,"internal-error"),t.open({where:document.body,url:Y2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Mi(s,"network-request-failed"),g=ki().setTimeout(()=>{c(d)},q2.get());function _(){ki().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const $2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},J2=500,Z2=600,W2="_blank",tR="http://localhost";class l0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eR(s,t,i,a=J2,l=Z2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...$2,width:a.toString(),height:l.toString(),top:c,left:d},y=an().toLowerCase();i&&(g=qv(y)?W2:i),Bv(y)&&(t=t||tR,_.scrollbars="yes");const b=Object.entries(_).reduce((M,[K,Z])=>`${M}${K}=${Z},`,"");if(bw(y)&&g!=="_self")return nR(t||"",g),new l0(null);const A=window.open(t||"",g,b);yt(A,s,"popup-blocked");try{A.focus()}catch{}return new l0(A)}function nR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const iR="__/auth/handler",sR="emulator/auth/handler",rR=encodeURIComponent("fac");async function u0(s,t,i,a,l,c){yt(s.config.authDomain,s,"auth-domain-config-required"),yt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:go,eventId:l};if(t instanceof Wv){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",HS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof Jl){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const _=await s._getAppCheckToken(),y=_?`#${rR}=${encodeURIComponent(_)}`:"";return`${aR(s)}?${Yl(g).slice(1)}${y}`}function aR({config:s}){return s.emulator?bm(s,sR):`https://${s.authDomain}/${iR}`}const zd="webStorageSupport";class oR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oE,this._completeRedirectFn=D2,this._overrideRedirectResult=C2}async _openPopup(t,i,a,l){hs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await u0(t,i,a,Jd(),l);return eR(t,c,Im())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await u0(t,i,a,Jd(),l);return c2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(hs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await X2(t),a=new M2(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(zd,{type:zd},l=>{const c=l?.[0]?.[zd];c!==void 0&&i(!!c),li(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=U2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Yv()||Hv()||Am()}}const lR=oR;var c0="@firebase/auth",h0="1.12.0";class uR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hR(s){oo(new ta("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xv(s)},y=new Cw(a,l,c,_);return Uw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),oo(new ta("auth-internal",t=>{const i=yr(t.getProvider("auth").getImmediate());return(a=>new uR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(c0,h0,cR(s)),ar(c0,h0,"esm2020")}const fR=300,dR=Av("authIdTokenMaxAge")||fR;let f0=null;const mR=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>dR)return;const l=i?.token;f0!==l&&(f0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function pR(s=Nv()){const t=Em(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Pw(s,{popupRedirectResolver:lR,persistence:[v2,o2,oE]}),a=Av("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=mR(c.toString());n2(i,d,()=>d(i.currentUser)),e2(i,g=>d(g))}}const l=bv("auth");return l&&zw(i,`http://${l}`),i}function gR(){return document.getElementsByTagName("head")?.[0]??document}xw({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Mi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",gR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hR("Browser");var d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var or,mE;(function(){var s;function t(x,w){function C(){}C.prototype=w.prototype,x.F=w.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(V,N,L){for(var R=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)R[ee-2]=arguments[ee];return w.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=x.g[0],C=x.g[1],N=x.g[2];let L=x.g[3],R;R=w+(L^C&(N^L))+V[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(N^w&(C^N))+V[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=N+(C^L&(w^C))+V[2]+606105819&4294967295,N=L+(R<<17&4294967295|R>>>15),R=C+(w^N&(L^w))+V[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(L^C&(N^L))+V[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(N^w&(C^N))+V[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=N+(C^L&(w^C))+V[6]+2821735955&4294967295,N=L+(R<<17&4294967295|R>>>15),R=C+(w^N&(L^w))+V[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(L^C&(N^L))+V[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(N^w&(C^N))+V[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=N+(C^L&(w^C))+V[10]+4294925233&4294967295,N=L+(R<<17&4294967295|R>>>15),R=C+(w^N&(L^w))+V[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(L^C&(N^L))+V[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(N^w&(C^N))+V[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=N+(C^L&(w^C))+V[14]+2792965006&4294967295,N=L+(R<<17&4294967295|R>>>15),R=C+(w^N&(L^w))+V[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(N^L&(C^N))+V[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^N&(w^C))+V[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(L^w))+V[11]+643717713&4294967295,N=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(N^L))+V[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(N^L&(C^N))+V[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^N&(w^C))+V[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(L^w))+V[15]+3634488961&4294967295,N=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(N^L))+V[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(N^L&(C^N))+V[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^N&(w^C))+V[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(L^w))+V[3]+4107603335&4294967295,N=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(N^L))+V[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(N^L&(C^N))+V[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^N&(w^C))+V[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(L^w))+V[7]+1735328473&4294967295,N=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(N^L))+V[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(C^N^L)+V[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^N)+V[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=N+(L^w^C)+V[11]+1839030562&4294967295,N=L+(R<<16&4294967295|R>>>16),R=C+(N^L^w)+V[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(C^N^L)+V[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^N)+V[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=N+(L^w^C)+V[7]+4139469664&4294967295,N=L+(R<<16&4294967295|R>>>16),R=C+(N^L^w)+V[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(C^N^L)+V[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^N)+V[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=N+(L^w^C)+V[3]+3572445317&4294967295,N=L+(R<<16&4294967295|R>>>16),R=C+(N^L^w)+V[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(C^N^L)+V[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^N)+V[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=N+(L^w^C)+V[15]+530742520&4294967295,N=L+(R<<16&4294967295|R>>>16),R=C+(N^L^w)+V[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(N^(C|~L))+V[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~N))+V[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=N+(w^(L|~C))+V[14]+2878612391&4294967295,N=L+(R<<15&4294967295|R>>>17),R=C+(L^(N|~w))+V[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=w+(N^(C|~L))+V[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~N))+V[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=N+(w^(L|~C))+V[10]+4293915773&4294967295,N=L+(R<<15&4294967295|R>>>17),R=C+(L^(N|~w))+V[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=w+(N^(C|~L))+V[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~N))+V[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=N+(w^(L|~C))+V[6]+2734768916&4294967295,N=L+(R<<15&4294967295|R>>>17),R=C+(L^(N|~w))+V[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=w+(N^(C|~L))+V[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~N))+V[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=N+(w^(L|~C))+V[2]+718787259&4294967295,N=L+(R<<15&4294967295|R>>>17),R=C+(L^(N|~w))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+L&4294967295}a.prototype.v=function(x,w){w===void 0&&(w=x.length);const C=w-this.blockSize,V=this.C;let N=this.h,L=0;for(;L<w;){if(N==0)for(;L<=C;)l(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<w;)if(V[N++]=x.charCodeAt(L++),N==this.blockSize){l(this,V),N=0;break}}else for(;L<w;)if(V[N++]=x[L++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)x[w++]=this.g[C]>>>V&255;return x};function c(x,w){var C=g;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=w(x)}function d(x,w){this.h=w;const C=[];let V=!0;for(let N=x.length-1;N>=0;N--){const L=x[N]|0;V&&L==w||(C[N]=L,V=!1)}this.g=C}var g={};function _(x){return-128<=x&&x<128?c(x,function(w){return new d([w|0],w<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return A;if(x<0)return st(y(-x));const w=[];let C=1;for(let V=0;x>=C;V++)w[V]=x/C|0,C*=4294967296;return new d(w,0)}function b(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return st(b(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let V=A;for(let L=0;L<x.length;L+=8){var N=Math.min(8,x.length-L);const R=parseInt(x.substring(L,L+N),w);N<8?(N=y(Math.pow(w,N)),V=V.j(N).add(y(R))):(V=V.j(C),V=V.add(y(R)))}return V}var A=_(0),M=_(1),K=_(16777216);s=d.prototype,s.m=function(){if(it(this))return-st(this).m();let x=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);x+=(V>=0?V:4294967296+V)*w,w*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(Z(this))return"0";if(it(this))return"-"+st(this).toString(x);const w=y(Math.pow(x,6));var C=this;let V="";for(;;){const N=Mt(C,w).g;C=mt(C,N.j(w));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=N,Z(C))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function Z(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function it(x){return x.h==-1}s.l=function(x){return x=mt(this,x),it(x)?-1:Z(x)?0:1};function st(x){const w=x.g.length,C=[];for(let V=0;V<w;V++)C[V]=~x.g[V];return new d(C,~x.h).add(M)}s.abs=function(){return it(this)?st(this):this},s.add=function(x){const w=Math.max(this.g.length,x.g.length),C=[];let V=0;for(let N=0;N<=w;N++){let L=V+(this.i(N)&65535)+(x.i(N)&65535),R=(L>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);V=R>>>16,L&=65535,R&=65535,C[N]=R<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function mt(x,w){return x.add(st(w))}s.j=function(x){if(Z(this)||Z(x))return A;if(it(this))return it(x)?st(this).j(st(x)):st(st(this).j(x));if(it(x))return st(this.j(st(x)));if(this.l(K)<0&&x.l(K)<0)return y(this.m()*x.m());const w=this.g.length+x.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<x.g.length;N++){const L=this.i(V)>>>16,R=this.i(V)&65535,ee=x.i(N)>>>16,ge=x.i(N)&65535;C[2*V+2*N]+=R*ge,ft(C,2*V+2*N),C[2*V+2*N+1]+=L*ge,ft(C,2*V+2*N+1),C[2*V+2*N+1]+=R*ee,ft(C,2*V+2*N+1),C[2*V+2*N+2]+=L*ee,ft(C,2*V+2*N+2)}for(x=0;x<w;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=w;x<2*w;x++)C[x]=0;return new d(C,0)};function ft(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function vt(x,w){this.g=x,this.h=w}function Mt(x,w){if(Z(w))throw Error("division by zero");if(Z(x))return new vt(A,A);if(it(x))return w=Mt(st(x),w),new vt(st(w.g),st(w.h));if(it(w))return w=Mt(x,st(w)),new vt(st(w.g),w.h);if(x.g.length>30){if(it(x)||it(w))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=w;V.l(x)<=0;)C=te(C),V=te(V);var N=Gt(C,1),L=Gt(V,1);for(V=Gt(V,2),C=Gt(C,2);!Z(V);){var R=L.add(V);R.l(x)<=0&&(N=N.add(C),L=R),V=Gt(V,1),C=Gt(C,1)}return w=mt(x,N.j(w)),new vt(N,w)}for(N=A;x.l(w)>=0;){for(C=Math.max(1,Math.floor(x.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(C),R=L.j(w);it(R)||R.l(x)>0;)C-=V,L=y(C),R=L.j(w);Z(L)&&(L=M),N=N.add(L),x=mt(x,R)}return new vt(N,x)}s.B=function(x){return Mt(this,x).h},s.and=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&x.i(V);return new d(C,this.h&x.h)},s.or=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|x.i(V);return new d(C,this.h|x.h)},s.xor=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^x.i(V);return new d(C,this.h^x.h)};function te(x){const w=x.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(C,x.h)}function Gt(x,w){const C=w>>5;w%=32;const V=x.g.length-C,N=[];for(let L=0;L<V;L++)N[L]=w>0?x.i(L+C)>>>w|x.i(L+C+1)<<32-w:x.i(L+C);return new d(N,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,mE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,or=d}).apply(typeof d0<"u"?d0:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pE,Cl,gE,Uc,em,yE,_E,vE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,B){for(var W=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)W[wt-2]=arguments[wt];return m.prototype[P].apply(T,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const B=P.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=P[W]}else u.push(P)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function st(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ft{constructor(){this.h=this.g=null}add(m,v){const T=vt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var vt=new it(()=>new Mt,u=>u.reset());class Mt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,Gt=!1,x=new ft,w=()=>{const u=Promise.resolve(void 0);te=()=>{u.then(C)}};function C(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){st(v)}var m=vt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Gt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ee,N),ee.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),q=0;function et(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++q,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Vt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ht(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let B=0;B<Q.length;B++)v=Q[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function nt(u){this.src=u,this.g={},this.h=0}nt.prototype.add=function(u,m,v,T,P){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=Et(u,m,T,P);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new et(m,this.src,B,!!T,P),m.fa=v,u.push(m)),m};function gt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),B;(B=P>=0)&&Array.prototype.splice.call(T,P,1),B&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Et(u,m,v,T){for(let P=0;P<u.length;++P){const B=u[P];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return P}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),be={};function Nt(u,m,v,T,P){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Nt(u,m[B],v,T,P);return null}return v=Er(v),u&&u[ge]?u.J(m,v,g(T)?!!T.capture:!1,P):ui(u,m,v,!1,T,P)}function ui(u,m,v,T,P,B){if(!m)throw Error("Invalid event type");const W=g(P)?!!P.capture:!!P;let wt=Bi(u);if(wt||(u[xt]=wt=new nt(u)),v=wt.add(m,v,T,W,B),v.proxy)return v;if(T=gs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(P=W),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Dn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function gs(){function u(v){return m.call(u.src,u.listener,v)}const m=_r;return u}function ys(u,m,v,T,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)ys(u,m[B],v,T,P);else T=g(T)?!!T.capture:!!T,v=Er(v),u&&u[ge]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Et(m,v,T,P),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Bi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Et(m,v,T,P)),(v=u>-1?m[u]:null)&&_s(v))}function _s(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ge])gt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Dn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Bi(m))?(gt(v,u),v.h==0&&(v.src=null,m[xt]=null)):ct(u)}}}function Dn(u){return u in be?be[u]:be[u]="on"+u}function _r(u,m){if(u.da)u=!0;else{m=new ee(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&_s(u),u=v.call(T,m)}return u}function Bi(u){return u=u[xt],u instanceof nt?u:null}var vr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Er(u){return typeof u=="function"?u:(u[vr]||(u[vr]=function(m){return u.handleEvent(m)}),u[vr])}function ye(){V.call(this),this.i=new nt(this),this.M=this,this.G=null}A(ye,V),ye.prototype[ge]=!0,ye.prototype.removeEventListener=function(u,m,v,T){ys(this,u,m,v,T)};function _e(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var P=m;m=new N(T,u),tt(m,P)}P=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],P=ci(B,T,!0,m)&&P;if(B=m.g=u,P=ci(B,T,!0,m)&&P,P=ci(B,T,!1,m)&&P,v)for(W=0;W<v.length;W++)B=m.g=v[W],P=ci(B,T,!1,m)&&P}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ct(v[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ye.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ci(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const wt=W.listener,Ae=W.ha||W.src;W.fa&&gt(u.i,W),P=wt.call(Ae,T)!==!1&&P}}return P&&!T.defaultPrevented}function bo(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function la(u){u.g=bo(()=>{u.g=null,u.i&&(u.i=!1,la(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ke extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:la(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hi(u){V.call(this),this.h=u,this.g={}}A(hi,V);var vs=[];function on(u){Vt(u.g,function(m,v){this.g.hasOwnProperty(v)&&_s(m)},u),u.g={}}hi.prototype.N=function(){hi.Z.N.call(this),on(this)},hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ln=d.JSON.stringify,Es=d.JSON.parse,F=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ot(){}function bt(){}var kt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ct(){N.call(this,"d")}A(Ct,N);function le(){N.call(this,"c")}A(le,N);var ae={},On=null;function Se(){return On=On||new ye}ae.Ia="serverreachability";function Tr(u){N.call(this,ae.Ia,u)}A(Tr,N);function En(u){const m=Se();_e(m,new Tr(m))}ae.STAT_EVENT="statevent";function fi(u,m){N.call(this,ae.STAT_EVENT,u),this.stat=m}A(fi,N);function ve(u){const m=Se();_e(m,new fi(m,u))}ae.Ja="timingevent";function Mn(u,m){N.call(this,ae.Ja,u),this.size=m}A(Mn,N);function di(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function xh(u,m,v,T,P,B){u.info(function(){if(u.g)if(B){var W="",wt=B.split("&");for(let Yt=0;Yt<wt.length;Yt++){var Ae=wt[Yt].split("=");if(Ae.length>1){const de=Ae[0];Ae=Ae[1];const Pn=de.split("_");W=Pn.length>=2&&Pn[1]=="type"?W+(de+"="+Ae+"&"):W+(de+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+W})}function su(u,m,v,T,P,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+B+" "+W})}function mi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Nh(u,v)+(T?" "+T:"")})}function br(u,m){u.info(function(){return"TIMEOUT: "+m})}Yn.prototype.info=function(){};function Nh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return ln(B)}catch{return m}}var Sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},So={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ao;function Ar(){}A(Ar,ot),Ar.prototype.g=function(){return new XMLHttpRequest},Ao=new Ar;function Hi(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Xn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new hi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var xe={},He={};function pi(u,m,v){u.M=1,u.A=wr(De(m)),u.u=v,u.R=!0,ua(u,null)}function ua(u,m){u.F=Date.now(),gi(u),u.B=De(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),da(v.i,"t",T),u.C=0,v=u.j.L,u.h=new $n,u.g=Eu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Ke(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(vs[0]=P.toString()),P=vs);for(let B=0;B<P.length;B++){const W=Nt(v,P[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),En(),xh(u.i,u.v,u.B,u.l,u.S,u.u)}Xn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Wn(u)==3?m.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Wn(this.g),Ae=this.g.ya(),Yt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||wt!=4||Ae==7||(Ae==8||Yt<=0?En(3):En(2)),yi(this);var m=this.g.ca();this.X=m;var v=Dh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)mi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,u);else{this.o=!1,this.m=3,ve(12),Tn(this),Vn(this);break t}}if(this.R){u=!0;let de;for(;!this.K&&this.C<v.length;)if(de=ou(this,v),de==He){wt==4&&(this.m=4,ve(14),u=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(de==xe){this.m=4,ve(15),mi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else mi(this.i,this.l,de,null),_i(this,de);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)mi(this.i,this.l,v,"[Invalid Chunked Response]"),Tn(this),Vn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zo(W),W.P=!0,ve(11))}}else mi(this.i,this.l,v,null),_i(this,v);wt==4&&Tn(this),this.o&&!this.K&&(wt==4?gu(this.j,this):(this.o=!1,gi(this)))}else Fi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),Tn(this),Vn(this)}}}catch{}};function Dh(u){if(!au(u))return u.g.la();const m=Qe(u.g);if(m==="")return"";let v="";const T=m.length,P=Wn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Tn(u),Vn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(P&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?He:(v=Number(m.substring(v,T)),isNaN(v)?xe:(T+=1,T+v>m.length?He:(m=m.slice(T,T+v),u.C=T+v,m)))}Xn.prototype.cancel=function(){this.K=!0,Tn(this)};function gi(u){u.T=Date.now()+u.H,ca(u,u.H)}function ca(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=di(y(u.aa,u),m)}function yi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(br(this.i,this.B),this.M!=2&&(En(),ve(17)),Tn(this),this.m=2,Vn(this)):ca(this,this.T-u)};function Vn(u){u.j.I==0||u.K||gu(u.j,u)}function Tn(u){yi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,on(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function _i(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ei(v.h,u))){if(!u.L&&Ei(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)_a(v),Cs(v);else break t;Or(v),ve(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=di(y(v.Va,v),6e3));vi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((u.L||v.g==u)&&_a(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Yt=P[m];const de=Yt[0];if(!(de<=v.K))if(v.K=de,Yt=Yt[1],v.I==2)if(Yt[0]=="c"){v.M=Yt[1],v.ba=Yt[2];const Pn=Yt[3];Pn!=null&&(v.ka=Pn,v.j.info("VER="+v.ka));const Ii=Yt[4];Ii!=null&&(v.za=Ii,v.j.info("SVER="+v.za));const ti=Yt[5];ti!=null&&typeof ti=="number"&&ti>0&&(T=1.5*ti,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ei=u.g;if(ei){const Mr=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var B=T.h;B.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Io(B,B.h),B.h=null))}if(T.G){const va=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;va&&(T.wa=va,Jt(T.J,T.G,va))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=vu(T,T.L?T.ba:null,T.W),W.L){Co(T.h,W);var wt=W,Ae=T.O;Ae&&(wt.H=Ae),wt.D&&(yi(wt),gi(wt)),T.g=W}else mu(T);v.i.length>0&&wi(v)}else Yt[0]!="stop"&&Yt[0]!="close"||Ri(v,7);else v.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Ri(v,7):Po(v):Yt[0]!="noop"&&v.l&&v.l.qa(Yt),v.A=0)}}En(4)}catch{}}var Ne=class{constructor(u,m){this.g=u,this.map=m}};function wo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vi(u){return u.h?1:u.g?u.g.size:0}function Ei(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Io(u,m){u.g?u.g.add(m):u.h=m}function Co(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wo.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return K(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,B=null;T>=0?(P=u[v].substring(0,T),B=u[v].substring(T+1)):P=u[v],m(P,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,qe(this,u.j),this.o=u.o,this.g=u.g,Ts(this,u.u),this.h=u.h,No(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,qe(this,m[1]||"",!0),this.o=Ti(m[2]||""),this.g=Ti(m[3]||"",!0),Ts(this,m[4]),this.h=Ti(m[5]||"",!0),No(this,m[6]||"",!0),this.m=Ti(m[7]||"")):(this.l=!1,this.i=new Ss(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Rr(m,fa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Rr(m,fa,!0),"@"),u.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Rr(v,v.charAt(0)=="/"?Do:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Rr(v,cu)),u.join("")},bn.prototype.resolve=function(u){const m=De(this);let v=!!u.j;v?qe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Ts(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const B=[];for(let W=0;W<P.length;){const wt=P[W++];wt=="."?T&&W==P.length&&B.push(""):wt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==P.length&&B.push("")):(B.push(wt),T=!0)}T=B.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?No(m,fu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function De(u){return new bn(u)}function qe(u,m,v){u.j=v?Ti(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ts(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function No(u,m,v){m instanceof Ss?(u.i=m,ma(u.i,u.l)):(v||(m=Rr(m,bs)),u.i=new Ss(m,u.l))}function Jt(u,m,v){u.i.set(m,v)}function wr(u){return Jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ti(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,fn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var fa=/[#\/\?@]/g,uu=/[#\?:]/g,Do=/[#\?]/g,bs=/[#\?@]/g,cu=/#/g;function Ss(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&ha(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ss.prototype,s.add=function(u,m){dn(this),this.i=null,u=As(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function hu(u,m){dn(u),m=As(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Oo(u,m){return dn(u),m=As(u,m),u.g.has(m)}s.forEach=function(u,m){dn(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Mo(u,m){dn(u);let v=[];if(typeof m=="string")Oo(u,m)&&(v=v.concat(u.g.get(As(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return dn(this),this.i=null,u=As(this,u),Oo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Mo(this,u),u.length>0?String(u[0]):m):m};function da(u,m,v){hu(u,m),v.length>0&&(u.i=null,u.g.set(As(u,m),K(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=Hi(v);v=Mo(this,v);for(let B=0;B<v.length;B++){let W=P;v[B]!==""&&(W+="="+Hi(v[B])),u.push(W)}}return this.i=u.join("&")};function fu(u){const m=new Ss;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function As(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ma(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(hu(this,T),da(this,P,v))},u)),u.j=m}function Jn(u,m){const v=new Yn;if(d.Image){const T=new Image;T.onload=b(kn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(kn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(kn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(kn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vo(u,m){const v=new Yn,T=new AbortController,P=setTimeout(()=>{T.abort(),kn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(P),B.ok?kn(v,"TestPingServer: ok",!0,m):kn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),kn(v,"TestPingServer: error",!1,m)})}function kn(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function ws(){this.g=new F}function bi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(bi,ot),bi.prototype.g=function(){return new Ir(this.i,this.h)};function Ir(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ir,ye),s=Ir.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Zn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function pa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Rs(this):Zn(this),this.readyState==3&&pa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Rs(this))},s.Na=function(u){this.g&&(this.response=u,Rs(this))},s.ga=function(){this.g&&Rs(this)};function Rs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Zn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ln(u){let m="";return Vt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Cr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Ln(v),typeof u=="string"?v!=null&&Hi(v):Jt(u,m,v))}function ne(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ne,ye);var Si=/^https?$/i,ko=["POST","PUT"];s=ne.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ao.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){xr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ko,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){xr(this,B)}};function xr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Lo(u),qi(u)}function Lo(u){u.A||(u.A=!0,_e(u,"complete"),_e(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,_e(this,"complete"),_e(this,"abort"),qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),ne.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Nr(this):this.Xa())},s.Xa=function(){Nr(this)};function Nr(u){if(u.h&&typeof c<"u"){if(u.v&&Wn(u)==4)setTimeout(u.Ca.bind(u),0);else if(_e(u,"readystatechange"),Wn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let W=String(u.D).match(lu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!Si.test(W?W.toLowerCase():"")}v=T}if(v)_e(u,"complete"),_e(u,"success");else{u.o=6;try{var P=Wn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Lo(u)}}finally{qi(u)}}}}function qi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||_e(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Wn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Es(m)}};function Qe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(u){const m={};u=(u.g&&Wn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=ru(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[P]||[];m[P]=B,B.push(v)}Ht(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Is(u){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,u),this.Za=Ai("retryDelaySeedMs",1e4,u),this.Ta=Ai("forwardChannelMaxRetries",2,u),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(u&&u.concurrentRequestLimit),this.Ba=new ws,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Is.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=vu(this,null,this.W),wi(this)};function Po(u){if(ga(u),u.I==3){var m=u.V++,v=De(u.J);if(Jt(v,"SID",u.M),Jt(v,"RID",m),Jt(v,"TYPE","terminate"),Dr(u,v),m=new Xn(u,u.j,m),m.M=2,m.A=wr(De(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),gi(m)}_u(u)}function Cs(u){u.g&&(zo(u),u.g.cancel(),u.g=null)}function ga(u){Cs(u),u.v&&(d.clearTimeout(u.v),u.v=null),_a(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function wi(u){if(!Ro(u.h)&&!u.m){u.m=!0;var m=u.Ea;te||w(),Gt||(te(),Gt=!0),x.add(m,u),u.D=0}}function ya(u,m){return vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=di(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Xn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),tt(B,this.U)):B=this.U),this.u!==null||this.R||(P.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=du(this,P,m),v=De(this.J),Jt(v,"RID",u),Jt(v,"CVER",22),this.G&&Jt(v,"X-HTTP-Session-Id",this.G),Dr(this,v),B&&(this.R?m="headers="+Hi(Ln(B))+"&"+m:this.u&&Cr(v,this.u,B)),Io(this.h,P),this.Ra&&Jt(v,"TYPE","init"),this.S?(Jt(v,"$req",m),Jt(v,"SID","null"),P.U=!0,pi(P,v,null)):pi(P,v,m),this.I=2}}else this.I==3&&(u?Uo(this,u):this.i.length==0||Ro(this.h)||Uo(this))};function Uo(u,m){var v;m?v=m.l:v=u.V++;const T=De(u.J);Jt(T,"SID",u.M),Jt(T,"RID",v),Jt(T,"AID",u.K),Dr(u,T),u.u&&u.o&&Cr(T,u.u,u.o),v=new Xn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Io(u.h,v),pi(v,T,m)}function Dr(u,m){u.H&&Vt(u.H,function(v,T){Jt(m,T,v)}),u.l&&Vt({},function(v,T){Jt(m,T,v)})}function du(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let wt=-1;for(;;){const Ae=["count="+v];wt==-1?v>0?(wt=P[0].g,Ae.push("ofs="+wt)):wt=0:Ae.push("ofs="+wt);let Yt=!0;for(let de=0;de<v;de++){var B=P[de].g;const Pn=P[de].map;if(B-=wt,B<0)wt=Math.max(0,P[de].g-100),Yt=!1;else try{B="req"+B+"_"||"";try{var W=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Ii,ti]of W){let ei=ti;g(ti)&&(ei=ln(ti)),Ae.push(B+Ii+"="+encodeURIComponent(ei))}}catch(Ii){throw Ae.push(B+"type="+encodeURIComponent("_badmap")),Ii}}catch{T&&T(Pn)}}if(Yt){W=Ae.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;te||w(),Gt||(te(),Gt=!0),x.add(m,u),u.A=0}}function Or(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=di(y(u.Da,u),yu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=di(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),Cs(this),pu(this))};function zo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=De(u.na);Jt(m,"RID","rpc"),Jt(m,"SID",u.M),Jt(m,"AID",u.K),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Jt(m,"TO",u.ia),Jt(m,"TYPE","xmlhttp"),Dr(u,m),u.u&&u.o&&Cr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=wr(De(m)),v.u=null,v.R=!0,ua(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Cs(this),Or(this),ve(19))};function _a(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var v=null;if(u.g==m){_a(u),zo(u),u.g=null;var T=2}else if(Ei(u.h,m))v=m.G,Co(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Se(),_e(T,new Mn(T,v)),wi(u)}else mu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&ya(u,m)||T==2&&Or(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function yu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ri(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const P=!T;T=new bn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qe(T,"https"),wr(T),P?Jn(T.toString(),v):Vo(T.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),_u(u),ga(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=xo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,v){var T=v instanceof bn?De(v):new bn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ts(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const B=new bn(null);T&&qe(B,T),m&&(B.g=m),P&&Ts(B,P),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Jt(T,v,m),Jt(T,"VER",u.ka),Dr(u,T),T}function Eu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ne(new bi({ab:v})):new ne(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function xs(){}xs.prototype.g=function(u,m){return new un(u,m)};function un(u,m){ye.call(this),this.g=new Is(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gi(this)}A(un,ye),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Po(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ln(u),u=v);m.i.push(new Ne(m.Ya++,u)),m.I==3&&wi(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,un.Z.N.call(this)};function bu(u){Ct.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(bu,Ct);function Su(){le.call(this),this.status=1}A(Su,le);function Gi(u){this.g=u}A(Gi,Tu),Gi.prototype.ra=function(){_e(this.g,"a")},Gi.prototype.qa=function(u){_e(this.g,new bu(u))},Gi.prototype.pa=function(u){_e(this.g,new Su)},Gi.prototype.oa=function(){_e(this.g,"b")},xs.prototype.createWebChannel=xs.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,vE=function(){return new xs},_E=function(){return Se()},yE=ae,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,Uc=Sr,So.COMPLETE="complete",gE=So,bt.EventType=kt,kt.OPEN="a",kt.CLOSE="b",kt.ERROR="c",kt.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Cl=bt,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,pE=ne}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let _o="12.8.0";function yR(s){_o=s}const na=new _m("@firebase/firestore");function Xa(){return na.logLevel}function rt(s,...t){if(na.logLevel<=Ut.DEBUG){const i=t.map(xm);na.debug(`Firestore (${_o}): ${s}`,...i)}}function ds(s,...t){if(na.logLevel<=Ut.ERROR){const i=t.map(xm);na.error(`Firestore (${_o}): ${s}`,...i)}}function lo(s,...t){if(na.logLevel<=Ut.WARN){const i=t.map(xm);na.warn(`Firestore (${_o}): ${s}`,...i)}}function xm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _t(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,EE(s,a,i)}function EE(s,t,i){let a=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ds(a),new Error(a)}function $t(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||EE(t,l,a)}function At(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends ps{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class TE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _R{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(sn.UNAUTHENTICATED)))}shutdown(){}}class vR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ER{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){$t(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Jr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Jr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($t(typeof a.accessToken=="string",31837,{l:a}),new TE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class TR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class bR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new TR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class m0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){$t(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new m0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?($t(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new m0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function AR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Nm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=AR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function zt(s,t){return s<t?-1:s>t?1:0}function nm(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return jd(l)===jd(c)?zt(l,c):jd(l)?1:-1}return zt(s.length,t.length)}const wR=55296,RR=57343;function jd(s){const t=s.charCodeAt(0);return t>=wR&&t<=RR}function uo(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const p0="__name__";class Oi{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&_t(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Oi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Oi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Oi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return zt(t.length,i.length)}static compareSegments(t,i){const a=Oi.isNumericId(t),l=Oi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Oi.extractNumericId(t).compare(Oi.extractNumericId(i)):nm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return or.fromString(t.substring(4,t.length-2))}}class he extends Oi{construct(t,i,a){return new he(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new he(i)}static emptyPath(){return new he([])}}const IR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Oi{construct(t,i,a){return new We(t,i,a)}static isValidIdentifier(t){return IR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p0}static keyField(){return new We([p0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(i)}static emptyPath(){return new We([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(he.fromString(t))}static fromName(t){return new dt(he.fromString(t).popFirst(5))}static empty(){return new dt(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&he.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return he.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new he(t.slice()))}}function bE(s,t,i){if(!i)throw new ut(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function CR(s,t,i,a){if(t===!0&&a===!0)throw new ut(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function g0(s){if(!dt.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function y0(s){if(dt.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function SE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Dm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function io(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dm(s);throw new ut(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Pe(s,t){const i={typeString:s};return t&&(i.value=t),i}function Wl(s,t){if(!SE(s))throw new ut(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ut(J.INVALID_ARGUMENT,i);return!0}const _0=-62135596800,v0=1e6;class fe{static now(){return fe.fromMillis(Date.now())}static fromDate(t){return fe.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*v0);return new fe(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<_0)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v0}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wl(t,fe._jsonSchema))return new fe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-_0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fe._jsonSchemaVersion="firestore/timestamp/1.0",fe._jsonSchema={type:Pe("string",fe._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new fe(0,0))}static max(){return new Tt(new fe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bl=-1;function xR(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new fe(i+1,0):new fe(i,a));return new ur(l,dt.empty(),t)}function NR(s){return new ur(s.readTime,s.key,Bl)}class ur{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new ur(Tt.min(),dt.empty(),Bl)}static max(){return new ur(Tt.max(),dt.empty(),Bl)}}function DR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,t.documentKey),i!==0?i:zt(s.largestBatchId,t.largestBatchId))}const OR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function vo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==OR)throw s;rt("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((b=>{d[y]=b,++g,g===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function VR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Eo(s){return s.name==="IndexedDbTransactionError"}class ph{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ph.ce=-1;const Om=-1;function gh(s){return s==null}function Zc(s){return s===0&&1/s==-1/0}function kR(s){return typeof s=="number"&&Number.isInteger(s)&&!Zc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const AE="";function LR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=E0(t)),t=PR(s.get(i),t);return E0(t)}function PR(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case AE:i+="";break;default:i+=c}}return i}function E0(s){return s+AE+""}function T0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function sa(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function wE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class pe{constructor(t,i){this.comparator=t,this.root=i||Ze.EMPTY}insert(t,i){return new pe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xc(this.root,t,this.comparator,!0)}}class xc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ze.RED,this.left=l??Ze.EMPTY,this.right=c??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ze(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ze.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new b0(this.data.getIterator())}getIteratorFrom(t){return new b0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Be(this.comparator);return i.data=t,i}}class b0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ai{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new ai([])}unionWith(t){let i=new Be(We.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new ai(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return uo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class RE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new RE("Invalid base64 string: "+c):c}})(t);return new tn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new tn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const UR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(s){if($t(!!s,39018),typeof s=="string"){let t=0;const i=UR.exec(s);if($t(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ie(s.seconds),nanos:Ie(s.nanos)}}function Ie(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function hr(s){return typeof s=="string"?tn.fromBase64String(s):tn.fromUint8Array(s)}const IE="server_timestamp",CE="__type__",xE="__previous_value__",NE="__local_write_time__";function Mm(s){return(s?.mapValue?.fields||{})[CE]?.stringValue===IE}function yh(s){const t=s.mapValue.fields[xE];return Mm(t)?yh(t):t}function Hl(s){const t=cr(s.mapValue.fields[NE].timestampValue);return new fe(t.seconds,t.nanos)}class zR{constructor(t,i,a,l,c,d,g,_,y,b,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=A}}const Wc="(default)";class ql{constructor(t,i){this.projectId=t,this.database=i||Wc}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(t){return t instanceof ql&&t.projectId===this.projectId&&t.database===this.database}}function jR(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(s.options.projectId,t)}const DE="__type__",BR="__max__",Nc={mapValue:{}},OE="__vector__",th="value";function fr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Mm(s)?4:qR(s)?9007199254740991:HR(s)?10:11:_t(28295,{value:s})}function zi(s,t){if(s===t)return!0;const i=fr(s);if(i!==fr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Hl(s).isEqual(Hl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=cr(l.timestampValue),g=cr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return hr(l.bytesValue).isEqual(hr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ie(l.geoPointValue.latitude)===Ie(c.geoPointValue.latitude)&&Ie(l.geoPointValue.longitude)===Ie(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ie(l.integerValue)===Ie(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ie(l.doubleValue),g=Ie(c.doubleValue);return d===g?Zc(d)===Zc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return uo(s.arrayValue.values||[],t.arrayValue.values||[],zi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(T0(d)!==T0(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!zi(d[_],g[_])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function Fl(s,t){return(s.values||[]).find((i=>zi(i,t)))!==void 0}function co(s,t){if(s===t)return 0;const i=fr(s),a=fr(t);if(i!==a)return zt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Ie(c.integerValue||c.doubleValue),_=Ie(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,t);case 3:return S0(s.timestampValue,t.timestampValue);case 4:return S0(Hl(s),Hl(t));case 5:return nm(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=hr(c),_=hr(d);return g.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const b=zt(g[y],_[y]);if(b!==0)return b}return zt(g.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=zt(Ie(c.latitude),Ie(d.latitude));return g!==0?g:zt(Ie(c.longitude),Ie(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return A0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[th]?.arrayValue,b=_[th]?.arrayValue,A=zt(y?.values?.length||0,b?.values?.length||0);return A!==0?A:A0(y,b)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let A=0;A<_.length&&A<b.length;++A){const M=nm(_[A],b[A]);if(M!==0)return M;const K=co(g[_[A]],y[b[A]]);if(K!==0)return K}return zt(_.length,b.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function S0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return zt(s,t);const i=cr(s),a=cr(t),l=zt(i.seconds,a.seconds);return l!==0?l:zt(i.nanos,a.nanos)}function A0(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=co(i[l],a[l]);if(c)return c}return zt(i.length,a.length)}function ho(s){return im(s)}function im(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=cr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return hr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=im(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${im(i.fields[d])}`;return l+"}"})(s.mapValue):_t(61005,{value:s})}function zc(s){switch(fr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yh(s);return t?16+zc(t):16;case 5:return 2*s.stringValue.length;case 6:return hr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return sa(a.fields,((c,d)=>{l+=c.length+zc(d)})),l})(s.mapValue);default:throw _t(13486,{value:s})}}function sm(s){return!!s&&"integerValue"in s}function Vm(s){return!!s&&"arrayValue"in s}function w0(s){return!!s&&"nullValue"in s}function R0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function jc(s){return!!s&&"mapValue"in s}function HR(s){return(s?.mapValue?.fields||{})[DE]?.stringValue===OE}function Vl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return sa(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Vl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Vl(s.arrayValue.values[i]);return t}return{...s}}function qR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===BR}class Kn{constructor(t){this.value=t}static empty(){return new Kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!jc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vl(i)}setAll(t){let i=We.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Vl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return zi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){sa(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Kn(Vl(this.value))}}function ME(s){const t=[];return sa(s.fields,((i,a)=>{const l=new We([i]);if(jc(a)){const c=ME(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new ai(t)}class rn{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new rn(t,0,Tt.min(),Tt.min(),Tt.min(),Kn.empty(),0)}static newFoundDocument(t,i,a,l){return new rn(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new rn(t,2,i,Tt.min(),Tt.min(),Kn.empty(),0)}static newUnknownDocument(t,i){return new rn(t,3,i,Tt.min(),Tt.min(),Kn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(t,i){this.position=t,this.inclusive=i}}function I0(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=co(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function C0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!zi(s.position[i],t.position[i]))return!1;return!0}class nh{constructor(t,i="asc"){this.field=t,this.dir=i}}function FR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class VE{}class ze extends VE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new KR(t,i,a):i==="array-contains"?new XR(t,a):i==="in"?new $R(t,a):i==="not-in"?new JR(t,a):i==="array-contains-any"?new ZR(t,a):new ze(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new QR(t,a):new YR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(co(i,this.value)):i!==null&&fr(this.value)===fr(i)&&this.matchesComparison(co(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends VE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ji(t,i)}matches(t){return kE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kE(s){return s.op==="and"}function LE(s){return GR(s)&&kE(s)}function GR(s){for(const t of s.filters)if(t instanceof ji)return!1;return!0}function rm(s){if(s instanceof ze)return s.field.canonicalString()+s.op.toString()+ho(s.value);if(LE(s))return s.filters.map((t=>rm(t))).join(",");{const t=s.filters.map((i=>rm(i))).join(",");return`${s.op}(${t})`}}function PE(s,t){return s instanceof ze?(function(a,l){return l instanceof ze&&a.op===l.op&&a.field.isEqual(l.field)&&zi(a.value,l.value)})(s,t):s instanceof ji?(function(a,l){return l instanceof ji&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&PE(d,l.filters[g])),!0):!1})(s,t):void _t(19439)}function UE(s){return s instanceof ze?(function(i){return`${i.field.canonicalString()} ${i.op} ${ho(i.value)}`})(s):s instanceof ji?(function(i){return i.op.toString()+" {"+i.getFilters().map(UE).join(" ,")+"}"})(s):"Filter"}class KR extends ze{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class QR extends ze{constructor(t,i){super(t,"in",i),this.keys=zE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class YR extends ze{constructor(t,i){super(t,"not-in",i),this.keys=zE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function zE(s,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class XR extends ze{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Vm(i)&&Fl(i.arrayValue,this.value)}}class $R extends ze{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Fl(this.value.arrayValue,i)}}class JR extends ze{constructor(t,i){super(t,"not-in",i)}matches(t){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Fl(this.value.arrayValue,i)}}class ZR extends ze{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Fl(this.value.arrayValue,a)))}}class WR{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function x0(s,t=null,i=[],a=[],l=null,c=null,d=null){return new WR(s,t,i,a,l,c,d)}function km(s){const t=At(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>rm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>ho(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>ho(a))).join(",")),t.Te=i}return t.Te}function Lm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!FR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!PE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!C0(s.startAt,t.startAt)&&C0(s.endAt,t.endAt)}function am(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class _h{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function tI(s,t,i,a,l,c,d,g){return new _h(s,t,i,a,l,c,d,g)}function Pm(s){return new _h(s)}function N0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function eI(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function nI(s){return s.collectionGroup!==null}function kl(s){const t=At(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Be(We.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new nh(c,a))})),i.has(We.keyField().canonicalString())||t.Ie.push(new nh(We.keyField(),a))}return t.Ie}function Li(s){const t=At(s);return t.Ee||(t.Ee=iI(t,kl(s))),t.Ee}function iI(s,t){if(s.limitType==="F")return x0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new nh(l.field,c)}));const i=s.endAt?new eh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new eh(s.startAt.position,s.startAt.inclusive):null;return x0(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function om(s,t,i){return new _h(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function vh(s,t){return Lm(Li(s),Li(t))&&s.limitType===t.limitType}function jE(s){return`${km(Li(s))}|lt:${s.limitType}`}function $a(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>UE(l))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ho(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ho(l))).join(",")),`Target(${a})`})(Li(s))}; limitType=${s.limitType})`}function Eh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of kl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,_){const y=I0(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,kl(a),l)||a.endAt&&!(function(d,g,_){const y=I0(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,kl(a),l))})(s,t)}function sI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function BE(s){return(t,i)=>{let a=!1;for(const l of kl(s)){const c=rI(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function rI(s,t,i){const a=s.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?co(_,y):_t(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _t(19790,{direction:s.dir})}}class ra{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){sa(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return wE(this.inner)}size(){return this.innerSize}}const aI=new pe(dt.comparator);function ms(){return aI}const HE=new pe(dt.comparator);function xl(...s){let t=HE;for(const i of s)t=t.insert(i.key,i);return t}function qE(s){let t=HE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function $r(){return Ll()}function FE(){return Ll()}function Ll(){return new ra((s=>s.toString()),((s,t)=>s.isEqual(t)))}const oI=new pe(dt.comparator),lI=new Be(dt.comparator);function jt(...s){let t=lI;for(const i of s)t=t.add(i);return t}const uI=new Be(zt);function cI(){return uI}function Um(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function GE(s){return{integerValue:""+s}}function hI(s,t){return kR(t)?GE(t):Um(s,t)}class Th{constructor(){this._=void 0}}function fI(s,t,i){return s instanceof ih?(function(l,c){const d={fields:{[CE]:{stringValue:IE},[NE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Mm(c)&&(c=yh(c)),c&&(d.fields[xE]=c),{mapValue:d}})(i,t):s instanceof Gl?QE(s,t):s instanceof Kl?YE(s,t):(function(l,c){const d=KE(l,c),g=D0(d)+D0(l.Ae);return sm(d)&&sm(l.Ae)?GE(g):Um(l.serializer,g)})(s,t)}function dI(s,t,i){return s instanceof Gl?QE(s,t):s instanceof Kl?YE(s,t):i}function KE(s,t){return s instanceof sh?(function(a){return sm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class ih extends Th{}class Gl extends Th{constructor(t){super(),this.elements=t}}function QE(s,t){const i=XE(t);for(const a of s.elements)i.some((l=>zi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Kl extends Th{constructor(t){super(),this.elements=t}}function YE(s,t){let i=XE(t);for(const a of s.elements)i=i.filter((l=>!zi(l,a)));return{arrayValue:{values:i}}}class sh extends Th{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function D0(s){return Ie(s.integerValue||s.doubleValue)}function XE(s){return Vm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function mI(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Gl&&l instanceof Gl||a instanceof Kl&&l instanceof Kl?uo(a.elements,l.elements,zi):a instanceof sh&&l instanceof sh?zi(a.Ae,l.Ae):a instanceof ih&&l instanceof ih})(s.transform,t.transform)}class pI{constructor(t,i){this.version=t,this.transformResults=i}}class us{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new us}static exists(t){return new us(void 0,t)}static updateTime(t){return new us(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class bh{}function $E(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new ZE(s.key,us.none()):new tu(s.key,s.data,us.none());{const i=s.data,a=Kn.empty();let l=new Be(We.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new aa(s.key,a,new ai(l.toArray()),us.none())}}function gI(s,t,i){s instanceof tu?(function(l,c,d){const g=l.value.clone(),_=M0(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof aa?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=M0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(JE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Pl(s,t,i,a){return s instanceof tu?(function(c,d,g,_){if(!Bc(c.precondition,d))return g;const y=c.value.clone(),b=V0(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof aa?(function(c,d,g,_){if(!Bc(c.precondition,d))return g;const y=V0(c.fieldTransforms,_,d),b=d.data;return b.setAll(JE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,a):(function(c,d,g){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function yI(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=KE(a.transform,l||null);c!=null&&(i===null&&(i=Kn.empty()),i.set(a.field,c))}return i||null}function O0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&uo(a,l,((c,d)=>mI(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class tu extends bh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class aa extends bh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function JE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function M0(s,t,i){const a=new Map;$t(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,dI(d,g,i[l]))}return a}function V0(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,fI(c,d,t))}return a}class ZE extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _I extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vI{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&gI(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Pl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Pl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=FE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=$E(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),jt())}isEqual(t){return this.batchId===t.batchId&&uo(this.mutations,t.mutations,((i,a)=>O0(i,a)))&&uo(this.baseMutations,t.baseMutations,((i,a)=>O0(i,a)))}}class zm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){$t(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return oI})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new zm(t,i,a,l)}}class EI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TI{constructor(t,i){this.count=t,this.unchangedNames=i}}var Le,qt;function bI(s){switch(s){case J.OK:return _t(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function WE(s){if(s===void 0)return ds("GRPC error has no .code"),J.UNKNOWN;switch(s){case Le.OK:return J.OK;case Le.CANCELLED:return J.CANCELLED;case Le.UNKNOWN:return J.UNKNOWN;case Le.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Le.INTERNAL:return J.INTERNAL;case Le.UNAVAILABLE:return J.UNAVAILABLE;case Le.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Le.NOT_FOUND:return J.NOT_FOUND;case Le.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Le.ABORTED:return J.ABORTED;case Le.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Le.DATA_LOSS:return J.DATA_LOSS;default:return _t(39323,{code:s})}}(qt=Le||(Le={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function SI(){return new TextEncoder}const AI=new or([4294967295,4294967295],0);function k0(s){const t=SI().encode(s),i=new mE;return i.update(t),new Uint8Array(i.digest())}function L0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new or([i,a],0),new or([l,c],0)]}class jm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Nl(`Invalid padding: ${i}`);if(a<0)throw new Nl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=or.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(or.fromNumber(a)));return l.compare(AI)===1&&(l=new or([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=k0(t),[a,l]=L0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new jm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=k0(t),[a,l]=L0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,eu.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Sh(Tt.min(),l,new pe(zt),ms(),jt())}}class eu{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new eu(a,i,jt(),jt(),jt())}}class Hc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class tT{constructor(t,i){this.targetId=t,this.Ce=i}}class eT{constructor(t,i,a=tn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class P0{constructor(){this.ve=0,this.Fe=U0(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),i=jt(),a=jt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:_t(38017,{changeType:c})}})),new eu(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=U0()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class wI{constructor(t){this.Ge=t,this.ze=new Map,this.je=ms(),this.He=Dc(),this.Je=Dc(),this.Ze=new pe(zt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(am(c))if(a===0){const d=new dt(c.path);this.et(i,d,rn.newNoDocument(d,Tt.min()))}else $t(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=hr(a).toUint8Array()}catch(_){if(_ instanceof RE)return lo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new jm(d,l,c)}catch(_){return lo(_ instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&am(g.target)){const _=new dt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,rn.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=jt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Sh(t,i,this.Ze,this.je,a);return this.je=ms(),this.He=Dc(),this.Je=Dc(),this.Ze=new pe(zt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new P0,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Be(zt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Be(zt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new P0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Dc(){return new pe(dt.comparator)}function U0(){return new pe(dt.comparator)}const RI={asc:"ASCENDING",desc:"DESCENDING"},II={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CI={and:"AND",or:"OR"};class xI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(s,t){return s.useProto3Json||gh(t)?t:{value:t}}function rh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function NI(s,t){return rh(s,t.toTimestamp())}function Pi(s){return $t(!!s,49232),Tt.fromTimestamp((function(i){const a=cr(i);return new fe(a.seconds,a.nanos)})(s))}function Bm(s,t){return um(s,t).canonicalString()}function um(s,t){const i=(function(l){return new he(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function iT(s){const t=he.fromString(s);return $t(lT(t),10190,{key:t.toString()}),t}function cm(s,t){return Bm(s.databaseId,t.path)}function Bd(s,t){const i=iT(t);if(i.get(1)!==s.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(rT(i))}function sT(s,t){return Bm(s.databaseId,t)}function DI(s){const t=iT(s);return t.length===4?he.emptyPath():rT(t)}function hm(s){return new he(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function rT(s){return $t(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function z0(s,t,i){return{name:cm(s,t),fields:i.value.mapValue.fields}}function OI(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?($t(b===void 0||typeof b=="string",58123),tn.fromBase64String(b||"")):($t(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),tn.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?J.UNKNOWN:WE(y.code);return new ut(b,y.message||"")})(d);i=new eT(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Bd(s,a.document.name),c=Pi(a.document.updateTime),d=a.document.createTime?Pi(a.document.createTime):Tt.min(),g=new Kn({mapValue:{fields:a.document.fields}}),_=rn.newFoundDocument(l,c,d,g),y=a.targetIds||[],b=a.removedTargetIds||[];i=new Hc(y,b,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Bd(s,a.document),c=a.readTime?Pi(a.readTime):Tt.min(),d=rn.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Hc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Bd(s,a.document),c=a.removedTargetIds||[];i=new Hc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new TI(l,c),g=a.targetId;i=new tT(g,d)}}return i}function MI(s,t){let i;if(t instanceof tu)i={update:z0(s,t.key,t.value)};else if(t instanceof ZE)i={delete:cm(s,t.key)};else if(t instanceof aa)i={update:z0(s,t.key,t.data),updateMask:HI(t.fieldMask)};else{if(!(t instanceof _I))return _t(16599,{dt:t.type});i={verify:cm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof ih)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Gl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof sh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:NI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(s,t.precondition)),i}function VI(s,t){return s&&s.length>0?($t(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Pi(l.updateTime):Pi(c);return d.isEqual(Tt.min())&&(d=Pi(c)),new pI(d,l.transformResults||[])})(i,t)))):[]}function kI(s,t){return{documents:[sT(s,t.path)]}}function LI(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=sT(s,l);const c=(function(y){if(y.length!==0)return oT(ji.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(M){return{field:Ja(M.field),direction:zI(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=lm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function PI(s){let t=DI(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){$t(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const M=aT(A);return M instanceof ji&&LE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(Z){return new nh(Za(Z.field),(function(st){switch(st){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let M;return M=typeof A=="object"?A.value:A,gh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(A){const M=!!A.before,K=A.values||[];return new eh(K,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const M=!A.before,K=A.values||[];return new eh(K,M)})(i.endAt)),tI(t,l,d,c,g,"F",_,y)}function UI(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function aT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Za(i.unaryFilter.field);return ze.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Za(i.unaryFilter.field);return ze.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Za(i.unaryFilter.field);return ze.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Za(i.unaryFilter.field);return ze.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return ze.create(Za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ji.create(i.compositeFilter.filters.map((a=>aT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function zI(s){return RI[s]}function jI(s){return II[s]}function BI(s){return CI[s]}function Ja(s){return{fieldPath:s.canonicalString()}}function Za(s){return We.fromServerFormat(s.fieldPath)}function oT(s){return s instanceof ze?(function(i){if(i.op==="=="){if(R0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NAN"}};if(w0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(R0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NAN"}};if(w0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(i.field),op:jI(i.op),value:i.value}}})(s):s instanceof ji?(function(i){const a=i.getFilters().map((l=>oT(l)));return a.length===1?a[0]:{compositeFilter:{op:BI(i.op),filters:a}}})(s):_t(54877,{filter:s})}function HI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function lT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function uT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class ir{constructor(t,i,a,l,c=Tt.min(),d=Tt.min(),g=tn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class qI{constructor(t){this.yt=t}}function FI(s){const t=PI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?om(t,t.limit,"L"):t}class GI{constructor(){this.Sn=new KI}addToCollectionParentIndex(t,i){return this.Sn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(ur.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(ur.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class KI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Be(he.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Be(he.comparator)).toArray()}}const j0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cT=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(cT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class fo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new fo(0)}static ar(){return new fo(-1)}}const B0="LruGarbageCollector",QI=1048576;function H0([s,t],[i,a]){const l=zt(s,i);return l===0?zt(t,a):l}class YI{constructor(t){this.Pr=t,this.buffer=new Be(H0),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();H0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class XI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){rt(B0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Eo(i)?rt(B0,"Ignoring IndexedDB error during garbage collection: ",i):await vo(i)}await this.Ar(3e5)}))}}class $I{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(ph.ce);const a=new YI(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(j0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j0):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,g,_,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,g=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(y=Date.now(),Xa()<=Ut.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function JI(s,t){return new $I(s,t)}class ZI{constructor(){this.changes=new ra((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class WI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class tC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Pl(a.mutation,l,ai.empty(),fe.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,jt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=jt()){const l=$r();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=xl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=$r();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,jt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=ms();const d=Ll(),g=(function(){return Ll()})();return i.forEach(((_,y)=>{const b=a.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof aa)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Pl(b.mutation,y,b.mutation.getFieldMask(),fe.now())):d.set(y.key,ai.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new WI(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Ll();let l=new pe(((d,g)=>d-g)),c=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=a.get(_)||ai.empty();b=g.applyToLocalView(y,b),a.set(_,b);const A=(l.get(g.batchId)||jt()).add(_);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,b=_.value,A=FE();b.forEach((M=>{if(!c.has(M)){const K=$E(i.get(M),a.get(M));K!==null&&A.set(M,K),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return eI(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):nI(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve($r());let g=Bl,_=c;return d.next((y=>$.forEach(y,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{_=_.insert(b,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,jt()))).next((b=>({batchId:g,changes:qE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=xl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=xl();return this.indexManager.getCollectionParents(t,c).next((g=>$.forEach(g,(_=>{const y=(function(A,M){return new _h(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((b=>{b.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,rn.newInvalidDocument(b)))}));let g=xl();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&Pl(b.mutation,y,ai.empty(),fe.now()),Eh(i,y)&&(g=g.insert(_,y))})),g}))}}class eC{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Pi(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:FI(l.bundledQuery),readTime:Pi(l.readTime)}})(i)),$.resolve()}}class nC{constructor(){this.overlays=new pe(dt.comparator),this.Lr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=$r();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=$r(),c=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new pe(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=$r(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=$r(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=l)););return $.resolve(g)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new EI(i,a));let c=this.Lr.get(i);c===void 0&&(c=jt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class iC{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Hm{constructor(){this.kr=new Be(Ge.Kr),this.qr=new Be(Ge.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Ge(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Ge(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new dt(new he([])),a=new Ge(i,t),l=new Ge(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new dt(new he([])),a=new Ge(i,t),l=new Ge(i,t+1);let c=jt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ge(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ge{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return dt.comparator(t.key,i.key)||zt(t.Hr,i.Hr)}static Ur(t,i){return zt(t.Hr,i.Hr)||dt.comparator(t.key,i.key)}}class sC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Be(Ge.Kr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vI(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new Ge(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Om:this.Yn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ge(i,0),l=new Ge(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Be(zt);return i.forEach((l=>{const c=new Ge(l,0),d=new Ge(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new Ge(new dt(c),0);let g=new Be(zt);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Hr)),!0)}),d),$.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){$t(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(l=>{const c=new Ge(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Ge(i,0),l=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class rC{constructor(t){this.ti=t,this.docs=(function(){return new pe(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(t,i){let a=ms();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():rn.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ms();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||DR(NR(b),a)<=0||(l.has(b.key)||Eh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){_t(9500)}ni(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new aC(this)}getSize(t){return $.resolve(this.size)}}class aC extends ZI{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class oC{constructor(t){this.persistence=t,this.ri=new ra((i=>km(i)),Lm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new Hm,this.targetCount=0,this.oi=fo._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new fo(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.lr(i),$.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this.si.containsKey(i))}}class hT{constructor(t,i){this._i={},this.overlays={},this.ai=new ph(0),this.ui=!1,this.ui=!0,this.ci=new iC,this.referenceDelegate=t(this),this.li=new oC(this),this.indexManager=new GI,this.remoteDocumentCache=(function(l){return new rC(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new qI(i),this.Pi=new eC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new nC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new sC(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new lC(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class lC extends MR{constructor(t){super(),this.currentSequenceNumber=t}}class qm{constructor(t){this.persistence=t,this.Ri=new Hm,this.Ai=null}static Vi(t){return new qm(t)}get di(){if(this.Ai)return this.Ai;throw _t(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const l=dt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class ah{constructor(t,i){this.persistence=t,this.fi=new ra((a=>LR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=JI(this,i)}static Vi(t,i){return new ah(t,i)}Ti(){}Ii(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return $.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(a++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=zc(t.data.value)),i}wr(t,i,a){return $.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Fm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=jt(),l=jt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Fm(t,i.fromCache,a,l)}}class uC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class cC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return LS()?8:VR(an())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new uC;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Xa()<=Ut.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",$a(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Xa()<=Ut.DEBUG&&rt("QueryEngine","Query:",$a(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Xa()<=Ut.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",$a(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Li(i))):$.resolve())}gs(t,i){if(N0(i))return $.resolve(null);let a=Li(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=om(i,null,"F"),a=Li(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=jt(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.bs(i,g);return this.Ss(i,y,d,_.readTime)?this.gs(t,om(i,null,"F")):this.Ds(t,y,i,_)}))))})))))}ps(t,i,a,l){return N0(i)||l.isEqual(Tt.min())?$.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?$.resolve(null):(Xa()<=Ut.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),$a(i)),this.Ds(t,d,i,xR(l,Bl)).next((g=>g)))}))}bs(t,i){let a=new Be(BE(t));return i.forEach(((l,c)=>{Eh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Xa()<=Ut.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",$a(i)),this.fs.getDocumentsMatchingQuery(t,i,ur.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Gm="LocalStore",hC=3e8;class fC{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new pe(zt),this.Fs=new ra((c=>km(c)),Lm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function dC(s,t,i,a){return new fC(s,t,i,a)}async function fT(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=jt();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function mC(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,b){const A=y.batch,M=A.keys();let K=$.resolve();return M.forEach((Z=>{K=K.next((()=>b.getEntry(_,Z))).next((it=>{const st=y.docVersions.get(Z);$t(st!==null,48541),it.version.compareTo(st)<0&&(A.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),b.addEntry(it)))}))})),K.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=jt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function dT(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function pC(s,t){const i=At(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];t.targetChanges.forEach(((b,A)=>{const M=l.get(A);if(!M)return;g.push(i.li.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,A))));let K=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?K=K.withResumeToken(tn.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):b.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(b.resumeToken,a)),l=l.insert(A,K),(function(it,st,mt){return it.resumeToken.approximateByteSize()===0||st.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=hC?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(M,K,b)&&g.push(i.li.updateTargetData(c,K))}));let _=ms(),y=jt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(gC(c,d,t.documentUpdates).next((b=>{_=b.Bs,y=b.Ls}))),!a.isEqual(Tt.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function gC(s,t,i){let a=jt(),l=jt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=ms();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(Tt.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):rt(Gm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function yC(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Om),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function _C(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new ir(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function fm(s,t,i){const a=At(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Eo(d))throw d;rt(Gm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function q0(s,t,i){const a=At(s);let l=Tt.min(),c=jt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const A=At(_),M=A.Fs.get(b);return M!==void 0?$.resolve(A.vs.get(M)):A.li.getTargetData(y,b)})(a,d,Li(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:jt()))).next((g=>(vC(a,sI(t),g),{documents:g,ks:c})))))}function vC(s,t,i){let a=s.Ms.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class F0{constructor(){this.activeTargetIds=cI()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class EC{constructor(){this.vo=new F0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new F0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class TC{Mo(t){}shutdown(){}}const G0="ConnectivityMonitor";class K0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){rt(G0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){rt(G0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function dm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Hd="RestConnection",bC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class SC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Wc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=dm(),g=this.Qo(t,i.toUriEncodedString());rt(Hd,`Sending RPC '${t}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(g),b=po(y);return this.zo(t,g,_,a,b).then((A=>(rt(Hd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw lo(Hd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=bC[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class AC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const nn="WebChannelConnection",Al=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class so extends SC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!so.c_){const t=_E();Al(t,yE.STAT_EVENT,(i=>{i.stat===em.PROXY?rt(nn,"STAT_EVENT: detected buffering proxy"):i.stat===em.NOPROXY&&rt(nn,"STAT_EVENT: detected no buffering proxy")})),so.c_=!0}}zo(t,i,a,l,c){const d=dm();return new Promise(((g,_)=>{const y=new pE;y.setWithCredentials(!0),y.listenOnce(gE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Uc.NO_ERROR:const A=y.getResponseJson();rt(nn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Uc.TIMEOUT:rt(nn,`RPC '${t}' ${d} timed out`),_(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const M=y.getStatus();if(rt(nn,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let K=y.getResponseJson();Array.isArray(K)&&(K=K[0]);const Z=K?.error;if(Z&&Z.status&&Z.message){const it=(function(mt){const ft=mt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ft)>=0?ft:J.UNKNOWN})(Z.status);_(new ut(it,Z.message))}else _(new ut(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ut(J.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(nn,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);rt(nn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=dm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");rt(nn,`Creating RPC '${t}' stream ${l}: ${y}`,g);const b=d.createWebChannel(y,g);this.I_(b);let A=!1,M=!1;const K=new AC({Ho:Z=>{M?rt(nn,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(A||(rt(nn,`Opening RPC '${t}' stream ${l} transport.`),b.open(),A=!0),rt(nn,`RPC '${t}' stream ${l} sending:`,Z),b.send(Z))},Jo:()=>b.close()});return Al(b,Cl.EventType.OPEN,(()=>{M||(rt(nn,`RPC '${t}' stream ${l} transport opened.`),K.i_())})),Al(b,Cl.EventType.CLOSE,(()=>{M||(M=!0,rt(nn,`RPC '${t}' stream ${l} transport closed`),K.o_(),this.E_(b))})),Al(b,Cl.EventType.ERROR,(Z=>{M||(M=!0,lo(nn,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),K.o_(new ut(J.UNAVAILABLE,"The operation could not be completed")))})),Al(b,Cl.EventType.MESSAGE,(Z=>{if(!M){const it=Z.data[0];$t(!!it,16349);const st=it,mt=st?.error||st[0]?.error;if(mt){rt(nn,`RPC '${t}' stream ${l} received error:`,mt);const ft=mt.status;let vt=(function(Gt){const x=Le[Gt];if(x!==void 0)return WE(x)})(ft),Mt=mt.message;vt===void 0&&(vt=J.INTERNAL,Mt="Unknown error status: "+ft+" with message "+mt.message),M=!0,K.o_(new ut(vt,Mt)),b.close()}else rt(nn,`RPC '${t}' stream ${l} received:`,it),K.__(it)}})),so.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return vE()}}function wC(s){return new so(s)}function qd(){return typeof document<"u"?document:null}function Ah(s){return new xI(s,!0)}so.c_=!1;class mT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Q0="PersistentStream";class pT{constructor(t,i,a,l,c,d,g,_){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ds(i.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ut(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(Q0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(rt(Q0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RC extends pT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=OI(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Pi(d.readTime):Tt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=am(_)?{documents:kI(c,_)}:{query:LI(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=nT(c,d.resumeToken);const y=lm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=rh(c,d.snapshotVersion.toTimestamp());const y=lm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=UI(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=hm(this.serializer),i.removeTarget=t,this.K_(i)}}class IC extends pT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=VI(t.writeResults,t.commitTime),a=Pi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=hm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>MI(this.serializer,a)))};this.K_(i)}}class CC{}class xC extends CC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,um(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(J.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,um(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function NC(s,t,i,a){return new xC(s,t,i,a)}class DC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ds(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class OC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{oa(this)&&(rt(ia,"Restarting streams for network reachability change."),await(async function(_){const y=At(_);y.Ea.add(4),await nu(y),y.Va.set("Unknown"),y.Ea.delete(4),await wh(y)})(this))}))})),this.Va=new DC(a,l)}}async function wh(s){if(oa(s))for(const t of s.Ra)await t(!0)}async function nu(s){for(const t of s.Ra)await t(!1)}function gT(s,t){const i=At(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Xm(i)?Ym(i):To(i).O_()&&Qm(i,t))}function Km(s,t){const i=At(s),a=To(i);i.Ia.delete(t),a.O_()&&yT(i,t),i.Ia.size===0&&(a.O_()?a.L_():oa(i)&&i.Va.set("Unknown"))}function Qm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}To(s).Z_(t)}function yT(s,t){s.da.$e(t),To(s).X_(t)}function Ym(s){s.da=new wI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),To(s).start(),s.Va.ua()}function Xm(s){return oa(s)&&!To(s).x_()&&s.Ia.size>0}function oa(s){return At(s).Ea.size===0}function _T(s){s.da=void 0}async function MC(s){s.Va.set("Online")}async function VC(s){s.Ia.forEach(((t,i)=>{Qm(s,t)}))}async function kC(s,t){_T(s),Xm(s)?(s.Va.ha(t),Ym(s)):s.Va.set("Unknown")}async function LC(s,t,i){if(s.Va.set("Online"),t instanceof eT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,t)}catch(a){rt(ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await oh(s,a)}else if(t instanceof Hc?s.da.Xe(t):t instanceof tT?s.da.st(t):s.da.tt(t),!i.isEqual(Tt.min()))try{const a=await dT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(tn.EMPTY_BYTE_STRING,b.snapshotVersion)),yT(c,_);const A=new ir(b.target,_,y,b.sequenceNumber);Qm(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){rt(ia,"Failed to raise snapshot:",a),await oh(s,a)}}async function oh(s,t,i){if(!Eo(t))throw t;s.Ea.add(1),await nu(s),s.Va.set("Offline"),i||(i=()=>dT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt(ia,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await wh(s)}))}function vT(s,t){return t().catch((i=>oh(s,i,t)))}async function Rh(s){const t=At(s),i=dr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Om;for(;PC(t);)try{const l=await yC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,UC(t,l)}catch(l){await oh(t,l)}ET(t)&&TT(t)}function PC(s){return oa(s)&&s.Ta.length<10}function UC(s,t){s.Ta.push(t);const i=dr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function ET(s){return oa(s)&&!dr(s).x_()&&s.Ta.length>0}function TT(s){dr(s).start()}async function zC(s){dr(s).ra()}async function jC(s){const t=dr(s);for(const i of s.Ta)t.ea(i.mutations)}async function BC(s,t,i){const a=s.Ta.shift(),l=zm.from(a,t,i);await vT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Rh(s)}async function HC(s,t){t&&dr(s).Y_&&await(async function(a,l){if((function(d){return bI(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();dr(a).B_(),await vT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Rh(a)}})(s,t),ET(s)&&TT(s)}async function Y0(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),rt(ia,"RemoteStore received new credentials");const a=oa(i);i.Ea.add(3),await nu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await wh(i)}async function qC(s,t){const i=At(s);t?(i.Ea.delete(2),await wh(i)):t||(i.Ea.add(2),await nu(i),i.Va.set("Unknown"))}function To(s){return s.ma||(s.ma=(function(i,a,l){const c=At(i);return c.sa(),new RC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:MC.bind(null,s),Yo:VC.bind(null,s),t_:kC.bind(null,s),J_:LC.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Xm(s)?Ym(s):s.Va.set("Unknown")):(await s.ma.stop(),_T(s))}))),s.ma}function dr(s){return s.fa||(s.fa=(function(i,a,l){const c=At(i);return c.sa(),new IC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:zC.bind(null,s),t_:HC.bind(null,s),ta:jC.bind(null,s),na:BC.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Rh(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class $m{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new $m(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(s,t){if(ds("AsyncQueue",`${t}: ${s}`),Eo(s))return new ut(J.UNAVAILABLE,`${t}: ${s}`);throw s}class ro{static emptySet(t){return new ro(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=xl(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ro)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new ro;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class X0{constructor(){this.ga=new pe(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class mo{constructor(t,i,a,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new mo(t,i,ro.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class FC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class GC{constructor(){this.queries=$0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=$0(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(a)}))})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function $0(){return new ra((s=>jE(s)),vh)}async function KC(s,t){const i=At(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new FC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Jm(d,`Initialization of query '${$a(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Zm(i)}async function QC(s,t){const i=At(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function YC(s,t){const i=At(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(a=!0);d.wa=l}}a&&Zm(i)}function XC(s,t,i){const a=At(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function Zm(s){s.Ca.forEach((t=>{t.next()}))}var mm,J0;(J0=mm||(mm={})).Ma="default",J0.Cache="cache";class $C{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new mo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=mo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mm.Cache}}class bT{constructor(t){this.key=t}}class ST{constructor(t){this.key=t}}class JC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=jt(),this.mutatedKeys=jt(),this.eu=BE(t),this.tu=new ro(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new X0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,A)=>{const M=l.get(b),K=Eh(this.query,A)?A:null,Z=!!M&&this.mutatedKeys.has(M.key),it=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let st=!1;M&&K?M.data.isEqual(K.data)?Z!==it&&(a.track({type:3,doc:K}),st=!0):this.su(M,K)||(a.track({type:2,doc:K}),st=!0,(_&&this.eu(K,_)>0||y&&this.eu(K,y)<0)&&(g=!0)):!M&&K?(a.track({type:0,doc:K}),st=!0):M&&!K&&(a.track({type:1,doc:M}),st=!0,(_||y)&&(g=!0)),st&&(K?(d=d.add(K),c=it?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(K,Z){const it=st=>{switch(st){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:st})}};return it(K)-it(Z)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new mo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new X0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=jt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new ST(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new bT(a))})),i}cu(t){this.Za=t.ks,this.Ya=jt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Wm="SyncEngine";class ZC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class WC{constructor(t){this.key=t,this.hu=!1}}class tx{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ra((g=>jE(g)),vh),this.Iu=new Map,this.Eu=new Set,this.Ru=new pe(dt.comparator),this.Au=new Map,this.Vu=new Hm,this.du={},this.mu=new Map,this.fu=fo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ex(s,t,i=!0){const a=xT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await AT(a,t,i,!0),l}async function nx(s,t){const i=xT(s);await AT(i,t,!0,!1)}async function AT(s,t,i,a){const l=await _C(s.localStore,Li(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await ix(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&gT(s.remoteStore,l),g}async function ix(s,t,i,a,l){s.pu=(A,M,K)=>(async function(it,st,mt,ft){let vt=st.view.ru(mt);vt.Ss&&(vt=await q0(it.localStore,st.query,!1).then((({documents:x})=>st.view.ru(x,vt))));const Mt=ft&&ft.targetChanges.get(st.targetId),te=ft&&ft.targetMismatches.get(st.targetId)!=null,Gt=st.view.applyChanges(vt,it.isPrimaryClient,Mt,te);return W0(it,st.targetId,Gt.au),Gt.snapshot})(s,A,M,K);const c=await q0(s.localStore,t,!0),d=new JC(t,c.ks),g=d.ru(c.documents),_=eu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);W0(s,i,y.au);const b=new ZC(t,i,d);return s.Tu.set(t,b),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function sx(s,t,i){const a=At(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!vh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await fm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Km(a.remoteStore,l.targetId),pm(a,l.targetId)})).catch(vo)):(pm(a,l.targetId),await fm(a.localStore,l.targetId,!0))}async function rx(s,t){const i=At(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Km(i.remoteStore,a.targetId))}async function ax(s,t,i){const a=dx(s);try{const l=await(function(d,g){const _=At(d),y=fe.now(),b=g.reduce(((K,Z)=>K.add(Z.key)),jt());let A,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let Z=ms(),it=jt();return _.xs.getEntries(K,b).next((st=>{Z=st,Z.forEach(((mt,ft)=>{ft.isValidDocument()||(it=it.add(mt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(K,Z))).next((st=>{A=st;const mt=[];for(const ft of g){const vt=yI(ft,A.get(ft.key).overlayedDocument);vt!=null&&mt.push(new aa(ft.key,vt,ME(vt.value.mapValue),us.exists(!0)))}return _.mutationQueue.addMutationBatch(K,y,mt,g)})).next((st=>{M=st;const mt=st.applyToLocalDocumentSet(A,it);return _.documentOverlayCache.saveOverlays(K,st.batchId,mt)}))})).then((()=>({batchId:M.batchId,changes:qE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.du[d.currentUser.toKey()];y||(y=new pe(zt)),y=y.insert(g,_),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await iu(a,l.changes),await Rh(a.remoteStore)}catch(l){const c=Jm(l,"Failed to persist write");i.reject(c)}}async function wT(s,t){const i=At(s);try{const a=await pC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&($t(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?$t(d.hu,14607):l.removedDocuments.size>0&&($t(d.hu,42227),d.hu=!1))})),await iu(i,a,t)}catch(a){await vo(a)}}function Z0(s,t,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=At(d);_.onlineState=g;let y=!1;_.queries.forEach(((b,A)=>{for(const M of A.ba)M.va(g)&&(y=!0)})),y&&Zm(_)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function ox(s,t,i){const a=At(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new pe(dt.comparator);d=d.insert(c,rn.newNoDocument(c,Tt.min()));const g=jt().add(c),_=new Sh(Tt.min(),new Map,new pe(zt),d,g);await wT(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(t),tp(a)}else await fm(a.localStore,t,!1).then((()=>pm(a,t,i))).catch(vo)}async function lx(s,t){const i=At(s),a=t.batch.batchId;try{const l=await mC(i.localStore,t);IT(i,a,null),RT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await iu(i,l)}catch(l){await vo(l)}}async function ux(s,t,i){const a=At(s);try{const l=await(function(d,g){const _=At(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,g).next((A=>($t(A!==null,37113),b=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);IT(a,t,i),RT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await iu(a,l)}catch(l){await vo(l)}}function RT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function IT(s,t,i){const a=At(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function pm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||CT(s,a)}))}function CT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Km(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),tp(s))}function W0(s,t,i){for(const a of i)a instanceof bT?(s.Vu.addReference(a.key,t),cx(s,a)):a instanceof ST?(rt(Wm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||CT(s,a.key)):_t(19791,{wu:a})}function cx(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(rt(Wm,"New document in limbo: "+i),s.Eu.add(a),tp(s))}function tp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new dt(he.fromString(t)),a=s.fu.next();s.Au.set(a,new WC(i)),s.Ru=s.Ru.insert(i,a),gT(s.remoteStore,new ir(Li(Pm(i.path)),a,"TargetPurposeLimboResolution",ph.ce))}}async function iu(s,t,i){const a=At(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Fm.Es(_.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(_,y){const b=At(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(y,(M=>$.forEach(M.Ts,(K=>b.persistence.referenceDelegate.addReference(A,M.targetId,K))).next((()=>$.forEach(M.Is,(K=>b.persistence.referenceDelegate.removeReference(A,M.targetId,K)))))))))}catch(A){if(!Eo(A))throw A;rt(Gm,"Failed to update sequence numbers: "+A)}for(const A of y){const M=A.targetId;if(!A.fromCache){const K=b.vs.get(M),Z=K.snapshotVersion,it=K.withLastLimboFreeSnapshotVersion(Z);b.vs=b.vs.insert(M,it)}}})(a.localStore,c))}async function hx(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){rt(Wm,"User change. New user:",t.toKey());const a=await fT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ut(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await iu(i,a.Ns)}}function fx(s,t){const i=At(s),a=i.Au.get(t);if(a&&a.hu)return jt().add(a.key);{let l=jt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function xT(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=wT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ox.bind(null,t),t.Pu.J_=YC.bind(null,t.eventManager),t.Pu.yu=XC.bind(null,t.eventManager),t}function dx(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ux.bind(null,t),t}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return dC(this.persistence,new cC,t.initialUser,this.serializer)}Cu(t){return new hT(qm.Vi,this.serializer)}Du(t){return new EC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class mx extends lh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){$t(this.persistence.referenceDelegate instanceof ah,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new XI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new hT((a=>ah.Vi(a,i)),this.serializer)}}class gm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Z0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=hx.bind(null,this.syncEngine),await qC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new GC})()}createDatastore(t){const i=Ah(t.databaseInfo.databaseId),a=wC(t.databaseInfo);return NC(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new OC(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Z0(this.syncEngine,i,0)),(function(){return K0.v()?new K0:new TC})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,b){const A=new tx(l,c,d,g,_,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);rt(ia,"RemoteStore shutting down."),a.Ea.add(5),await nu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class px{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ds("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const mr="FirestoreClient";class gx{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=sn.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Jm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Fd(s,t){s.asyncQueue.verifyOperationInProgress(),rt(mr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await fT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function tv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await yx(s);rt(mr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Y0(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Y0(t.remoteStore,l))),s._onlineComponents=t}async function yx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(mr,"Using user provided OfflineComponentProvider");try{await Fd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;lo("Error using user provided cache. Falling back to memory cache: "+i),await Fd(s,new lh)}}else rt(mr,"Using default OfflineComponentProvider"),await Fd(s,new mx(void 0));return s._offlineComponents}async function NT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(mr,"Using user provided OnlineComponentProvider"),await tv(s,s._uninitializedComponentsProvider._online)):(rt(mr,"Using default OnlineComponentProvider"),await tv(s,new gm))),s._onlineComponents}function _x(s){return NT(s).then((t=>t.syncEngine))}async function ev(s){const t=await NT(s),i=t.eventManager;return i.onListen=ex.bind(null,t.syncEngine),i.onUnlisten=sx.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=nx.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=rx.bind(null,t.syncEngine),i}function vx(s,t,i,a){const l=new px(a),c=new $C(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>KC(await ev(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>QC(await ev(s),c)))}}function Ex(s,t){const i=new Jr;return s.asyncQueue.enqueueAndForget((async()=>ax(await _x(s),t,i))),i.promise}function DT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const Tx="ComponentProvider",nv=new Map;function bx(s,t,i,a,l){return new zR(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,DT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const OT="firestore.googleapis.com",iv=!0;class sv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OT,this.ssl=iv}else this.host=t.host,this.ssl=t.ssl??iv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<QI)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ih{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new _R;switch(a.type){case"firstParty":return new bR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=nv.get(i);a&&(rt(Tx,"Removing Datastore"),nv.delete(i),a.terminate())})(this),Promise.resolve()}}function Sx(s,t,i,a={}){s=io(s,Ih);const l=po(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(wv(`https://${g}`),Rv("Firestore",!0)),c.host!==OT&&c.host!==g&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:a};if(!Wr(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=sn.MOCK_USER;else{y=IS(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ut(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new sn(A)}s._authCredentials=new vR(new TE(y,b))}}class Ch{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ch(this.firestore,t,this._query)}}class je{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Wl(i,je._jsonSchema))return new je(t,a||null,new dt(he.fromString(i.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:Pe("string",je._jsonSchemaVersion),referencePath:Pe("string")};class lr extends Ch{constructor(t,i,a){super(t,i,Pm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new dt(t))}withConverter(t){return new lr(this.firestore,t,this._path)}}function rv(s,t,...i){if(s=hn(s),bE("collection","path",t),s instanceof Ih){const a=he.fromString(t,...i);return y0(a),new lr(s,null,a)}{if(!(s instanceof je||s instanceof lr))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(he.fromString(t,...i));return y0(a),new lr(s.firestore,null,a)}}function av(s,t,...i){if(s=hn(s),arguments.length===1&&(t=Nm.newId()),bE("doc","path",t),s instanceof Ih){const a=he.fromString(t,...i);return g0(a),new je(s,null,new dt(a))}{if(!(s instanceof je||s instanceof lr))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(he.fromString(t,...i));return g0(a),new je(s.firestore,s instanceof lr?s.converter:null,new dt(a))}}const ov="AsyncQueue";class lv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mT(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&rt(ov,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Eo(t))throw t;rt(ov,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ds("INTERNAL UNHANDLED ERROR: ",uv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=$m.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:uv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function uv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class uh extends Ih{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new lv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new lv(t),this._firestoreClient=void 0,await t}}}function Ax(s,t){const i=typeof s=="object"?s:Nv(),a=typeof s=="string"?s:Wc,l=Em(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=wS("firestore");c&&Sx(l,...c)}return l}function MT(s){if(s._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||wx(s),s._firestoreClient}function wx(s){const t=s._freezeSettings(),i=bx(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new gx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(tn.fromBase64String(t))}catch(i){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Qn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wl(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Pe("string",Qn._jsonSchemaVersion),bytes:Pe("string")};class VT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class kT{constructor(t){this._methodName=t}}class Ui{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(t){if(Wl(t,Ui._jsonSchema))return new Ui(t.latitude,t.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Pe("string",Ui._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};class oi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wl(t,oi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new oi(t.vectorValues);throw new ut(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:Pe("string",oi._jsonSchemaVersion),vectorValues:Pe("object")};const Rx=/^__.*__$/;class Ix{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new aa(t,this.data,this.fieldMask,i,this.fieldTransforms):new tu(t,this.data,i,this.fieldTransforms)}}function LT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{dataSource:s})}}class ep{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new ep({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return ch(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(LT(this.dataSource)&&Rx.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Cx{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Ah(t)}createContext(t,i,a,l=!1){return new ep({dataSource:t,methodName:i,targetDoc:a,path:We.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xx(s){const t=s._freezeSettings(),i=Ah(s._databaseId);return new Cx(s._databaseId,!!t.ignoreUndefinedProperties,i)}function Nx(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);jT("Data must be an object, but it was:",d,a);const g=UT(a,d);let _,y;if(c.merge)_=new ai(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const M=np(t,A,i);if(!d.contains(M))throw new ut(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);Mx(b,M)||b.push(M)}_=new ai(b),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new Ix(new Kn(g),_,y)}function PT(s,t){if(zT(s=hn(s)))return jT("Unsupported field value:",t,s),UT(s,t);if(s instanceof kT)return(function(a,l){if(!LT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let _=PT(g,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return hI(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=fe.fromDate(a);return{timestampValue:rh(l.serializer,c)}}if(a instanceof fe){const c=new fe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:rh(l.serializer,c)}}if(a instanceof Ui)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Qn)return{bytesValue:nT(l.serializer,a._byteString)};if(a instanceof je){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Bm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof oi)return(function(d,g){const _=d instanceof oi?d.toArray():d;return{mapValue:{fields:{[DE]:{stringValue:OE},[th]:{arrayValue:{values:_.map((b=>{if(typeof b!="number")throw g.createError("VectorValues must only contain numeric values.");return Um(g.serializer,b)}))}}}}}})(a,l);if(uT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Dm(a)}`)})(s,t)}function UT(s,t){const i={};return wE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sa(s,((a,l)=>{const c=PT(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function zT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof fe||s instanceof Ui||s instanceof Qn||s instanceof je||s instanceof kT||s instanceof oi||uT(s))}function jT(s,t,i){if(!zT(i)||!SE(i)){const a=Dm(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function np(s,t,i){if((t=hn(t))instanceof VT)return t._internalPath;if(typeof t=="string")return Ox(s,t);throw ch("Field path arguments must be of type string or ",s,!1,void 0,i)}const Dx=new RegExp("[~\\*/\\[\\]]");function Ox(s,t,i){if(t.search(Dx)>=0)throw ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new VT(...t.split("."))._internalPath}catch{throw ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ch(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ut(J.INVALID_ARGUMENT,g+s+_)}function Mx(s,t){return s.some((i=>i.isEqual(t)))}class Vx{convertValue(t,i="none"){switch(fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ie(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return sa(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[th].arrayValue?.values?.map((a=>Ie(a.doubleValue)));return new oi(i)}convertGeoPoint(t){return new Ui(Ie(t.latitude),Ie(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=yh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Hl(t));default:return null}}convertTimestamp(t){const i=cr(t);return new fe(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=he.fromString(t);$t(lT(a),9688,{name:t});const l=new ql(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||ds(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class BT extends Vx{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,i)}}const cv="@firebase/firestore",hv="4.10.0";function fv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class HT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new kx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(np("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class kx extends HT{data(){return super.data()}}function Lx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Px(s,t,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,a}class Dl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zr extends HT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(np("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Zr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Zr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zr._jsonSchema={type:Pe("string",Zr._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class qc extends Zr{data(t={}){return super.data(t)}}class ao{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Dl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new qc(this._firestore,this._userDataWriter,a.key,a,new Dl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:Ux(g.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ao._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Ux(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:Pe("string",ao._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};function dv(s,t,i){s=io(s,je);const a=io(s.firestore,uh),l=Px(s.converter,t,i),c=xx(a);return jx(a,[Nx(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,us.none())])}function zx(s,...t){s=hn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||fv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(fv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof je)d=io(s.firestore,uh),g=Pm(s._key.path),c={next:y=>{t[a]&&t[a](Bx(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=io(s,Ch);d=io(y.firestore,uh),g=y._query;const b=new BT(d);c={next:A=>{t[a]&&t[a](new ao(d,b,y,A))},error:t[a+1],complete:t[a+2]},Lx(s._query)}const _=MT(d);return vx(_,g,l,c)}function jx(s,t){const i=MT(s);return Ex(i,t)}function Bx(s,t,i){const a=i.docs.get(t._key),l=new BT(s);return new Zr(s,l,t._key,a,new Dl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){yR(go),oo(new ta("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new uh(new ER(a.getProvider("auth-internal")),new SR(d,a.getProvider("app-check-internal")),jR(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),ar(cv,hv,t),ar(cv,hv,"esm2020")})();const Hx={apiKey:"AIzaSyAGLJLk3wzCmZrfQLSri0cLkZlBJnCIi-0",authDomain:"focusflow-d5411.firebaseapp.com",projectId:"focusflow-d5411",storageBucket:"focusflow-d5411.firebasestorage.app",messagingSenderId:"870983180050",appId:"1:870983180050:web:38a6ecbbd089b9d6bcddcb",measurementId:"G-E3QGBE2B1H"},qT=xv(Hx),wl=pR(qT),mv=Ax(qT),pv=typeof __app_id<"u"?__app_id:"default-app-id",Mc={Monday:{type:"Veg ",meals:{Breakfast:"100g paneer + 50g oats + 5 almonds + 1 fruit",Lunch:"2 rotis + dal + mixed veg + salad",Snacks:"Sprouts bowl + buttermilk",Dinner:"2 rotis + veg curry + curd"},backup:null},Tuesday:{type:"Non-Veg ",meals:{Breakfast:"3 whole eggs + 2 whites + oats",Lunch:"150g chicken + 2 rotis + veg",Snacks:"2 boiled eggs / whey",Dinner:"150g fish + stir fry veg"},backup:{Breakfast:"100g paneer + oats",Lunch:"150g paneer + 1 cup dal + 2 rotis",Snacks:"Whey / roasted chana",Dinner:"Tofu/paneer + veg + curd"}},Wednesday:{type:"Non-Veg ",meals:{Breakfast:"Eggs + oats",Lunch:"200g chicken + salad",Snacks:"Roasted chana",Dinner:"150g chicken + veg"},backup:{Breakfast:"Paneer + oats",Lunch:"Rajma + paneer + salad",Snacks:"Roasted chana",Dinner:"Soy chunks + veg"}},Thursday:{type:"Non-Veg ",meals:{Breakfast:"Eggs + oats",Lunch:"Fish + small rice + veg",Snacks:"Whey + almonds",Dinner:"Chicken + veg"},backup:{Breakfast:"Paneer + oats",Lunch:"Dal + tofu + small rice",Snacks:"Whey + almonds",Dinner:"Paneer bhurji + veg"}},Friday:{type:"Non-Veg ",meals:{Breakfast:"Eggs + oats",Lunch:"Chicken + 2 rotis + veg",Snacks:"Boiled eggs",Dinner:"Fish + veg"},backup:{Breakfast:"Paneer + oats",Lunch:"Chole + 2 rotis + paneer",Snacks:"Sprouts",Dinner:"Tofu + veg + curd"}},Saturday:{type:"Veg ",meals:{Breakfast:"Paneer + oats",Lunch:"Dal + 2 rotis + veg + curd",Snacks:"Sprouts + fruit",Dinner:"Veg soup + paneer"},backup:null},Sunday:{type:"Mix ",meals:{Breakfast:"Eggs + oats",Lunch:"Chicken + dal + 2 rotis",Snacks:"Fruit + nuts",Dinner:"Veg meal + curd"},backup:null},Notes:` Protein Target:
- Non-veg days: 140150g
- Veg fallback days: 125135g
- Veg only days: 115125g

 To Maintain Protein on Veg Days:
If needed, add 1 scoop whey (25g protein) OR 50g extra paneer.`},qx=()=>S.jsx("style",{children:`
      @keyframes pourEffect {
        0% { top: -20px; height: 0%; opacity: 0; }
        15% { top: -20px; height: 100%; opacity: 1; }
        85% { top: -20px; height: 100%; opacity: 1; }
        100% { top: 100%; height: 0%; opacity: 0; }
      }
      .animate-pour {
        animation: pourEffect 0.8s ease-in-out forwards;
      }
    `}),gv=({darkMode:s})=>{const[t,i]=Ft.useState(!1),[a,l]=Ft.useState("/background.png"),c=()=>{a==="/background.png"?l("/background.jpg"):i(!0)};return S.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden bg-slate-900",children:[S.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${s?"from-slate-900 via-indigo-950 to-purple-950":"from-indigo-50 via-purple-50 to-white"} opacity-100`}),!t&&S.jsx("img",{src:a,alt:"Background",className:"absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 opacity-80",onError:c}),S.jsx("div",{className:`absolute inset-0 transition-all duration-700 ${s?"bg-slate-900/75 backdrop-blur-[2px]":"bg-white/60 backdrop-blur-[3px]"}`})]})},Fx=({data:s})=>{const t=s.reduce((a,l)=>a+l.value,0);let i=0;return t===0?S.jsx("div",{className:"flex items-center justify-center h-48 w-48 rounded-full border border-white/10 bg-white/5 backdrop-blur-sm text-xs opacity-50",children:"No Data "}):S.jsx("svg",{viewBox:"0 0 100 100",className:"w-48 h-48 transform -rotate-90 drop-shadow-xl",children:s.map((a,l)=>{const c=a.value/t*360,d=50+50*Math.cos(Math.PI*i/180),g=50+50*Math.sin(Math.PI*i/180),_=50+50*Math.cos(Math.PI*(i+c)/180),y=50+50*Math.sin(Math.PI*(i+c)/180),b=a.value===t?"M 50 50 m -50, 0 a 50,50 0 1,0 100,0 a 50,50 0 1,0 -100,0":`M 50 50 L ${d} ${g} A 50 50 0 ${c>180?1:0} 1 ${_} ${y} Z`,A=S.jsx("path",{d:b,fill:a.color,className:"transition-all duration-500 hover:opacity-90 stroke-white/5 stroke-1"},l);return i+=c,A})})},Gx=({data:s,label:t,color:i})=>{const d=Math.PI*2/5,g=b=>b.map((A,M)=>{const K=A/100*80,Z=100+K*Math.cos(M*d-Math.PI/2),it=100+K*Math.sin(M*d-Math.PI/2);return`${Z},${it}`}).join(" "),_=["Energy","Focus","Mood","Health","Sleep"],y=g(s);return g([100,100,100,100,100]),S.jsxs("div",{className:"flex flex-col items-center animate-fadeIn",children:[S.jsxs("h4",{className:"text-sm font-bold uppercase tracking-widest mb-4",style:{color:i},children:[t," Benefits"]}),S.jsxs("svg",{width:200,height:200,className:"overflow-visible",children:[[25,50,75,100].map(b=>S.jsx("polygon",{points:g([b,b,b,b,b]),fill:"none",stroke:"currentColor",strokeOpacity:"0.1"},b)),[0,1,2,3,4].map(b=>{const A=100+80*Math.cos(b*d-Math.PI/2),M=100+80*Math.sin(b*d-Math.PI/2);return S.jsxs("g",{children:[S.jsx("line",{x1:100,y1:100,x2:A,y2:M,stroke:"currentColor",strokeOpacity:"0.1"}),S.jsx("text",{x:A*1.15-100*.15,y:M*1.15-100*.15,fontSize:"10",textAnchor:"middle",fill:"currentColor",className:"opacity-60 uppercase font-bold",children:_[b]})]},b)}),S.jsx("polygon",{points:y,fill:i,fillOpacity:"0.4",stroke:i,strokeWidth:"2"}),s.map((b,A)=>{const M=b/100*80,K=100+M*Math.cos(A*d-Math.PI/2),Z=100+M*Math.sin(A*d-Math.PI/2);return S.jsx("circle",{cx:K,cy:Z,r:"3",fill:i},A)})]}),S.jsxs("p",{className:"text-xs mt-4 opacity-60 text-center max-w-[200px]",children:["Adopting this habit significantly boosts your ",S.jsx("span",{className:"font-bold",children:"Focus"})," and ",S.jsx("span",{className:"font-bold",children:"Health"})," metrics."]})]})},Kx=({glassClass:s,darkMode:t})=>{const[i,a]=Ft.useState(null),l=[{id:"mental",title:"Mental Well-being",icon:S.jsx(Ub,{size:20}),color:"#8b5cf6",graphData:[60,95,90,70,85],tips:["Meditate 10m daily","Journal thoughts","Digital detox after 9 PM"]},{id:"food",title:"Food Habits",icon:S.jsx(Gd,{size:20}),color:"#10b981",graphData:[90,80,75,95,70],tips:["Prioritize protein","Hydrate (3L/day)","Avoid processed sugar"]},{id:"exercise",title:"Exercise Routine",icon:S.jsx(Kb,{size:20}),color:"#f59e0b",graphData:[95,85,80,100,90],tips:["30m Zone 2 cardio","Strength training 3x/week","Daily stretching"]}];return S.jsxs("div",{className:`p-6 rounded-3xl mt-6 ${s} transition-all`,children:[S.jsx("div",{className:"flex justify-between items-center mb-6",children:S.jsx("h3",{className:"font-bold text-lg flex items-center gap-2",children:" Wellness Hub"})}),i?S.jsxs("div",{className:"relative",children:[S.jsx("button",{onClick:()=>a(null),className:"absolute -top-12 right-0 text-xs font-bold uppercase tracking-wider opacity-60 hover:opacity-100 transition-opacity",children:"Close "}),S.jsx(Gx,{data:i.graphData,label:i.title,color:i.color}),S.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10",children:[S.jsx("h5",{className:"font-bold text-sm mb-3",children:"Actionable Tips:"}),S.jsx("ul",{className:"space-y-2",children:i.tips.map((c,d)=>S.jsxs("li",{className:"flex items-center gap-2 text-sm opacity-80",children:[S.jsx(_v,{size:14,style:{color:i.color}})," ",c]},d))})]})]}):S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:l.map(c=>S.jsxs("button",{onClick:()=>a(c),className:`p-4 rounded-2xl border transition-all flex flex-col items-center text-center gap-3 hover:scale-105 ${t?"bg-white/5 border-white/10 hover:bg-white/10":"bg-black/5 border-black/10 hover:bg-black/10"}`,children:[S.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-white/10 to-transparent shadow-sm",style:{color:c.color,borderColor:c.color,borderWidth:1},children:c.icon}),S.jsx("span",{className:"text-xs font-bold",children:c.title})]},c.id))})]})};function Qx(){const[s,t]=Ft.useState(!0),[i,a]=Ft.useState(null),[l,c]=Ft.useState(!1),[d,g]=Ft.useState(new Date),[_,y]=Ft.useState("planner"),[b,A]=Ft.useState(!1),[M,K]=Ft.useState([]),[Z,it]=Ft.useState([]),[st,mt]=Ft.useState([]),[ft,vt]=Ft.useState(Mc),[Mt,te]=Ft.useState(0),[Gt,x]=Ft.useState(null),[w,C]=Ft.useState(""),[V,N]=Ft.useState(""),[L,R]=Ft.useState(""),[ee,ge]=Ft.useState(""),[q,et]=Ft.useState(!1),[ct,Vt]=Ft.useState(!1),[Ht,O]=Ft.useState(""),[Q,tt]=Ft.useState(""),[nt,gt]=Ft.useState(!1),[Et,xt]=Ft.useState(""),be=[{id:"planner",label:"Planner ",icon:S.jsx($b,{size:16})},{id:"tracker",label:"Tracker ",icon:S.jsx(L_,{size:16})},{id:"diet",label:"Diet ",icon:S.jsx(Gd,{size:16})},{id:"stats",label:"Stats ",icon:S.jsx(jb,{size:16})},{id:"profile",label:"Profile ",icon:S.jsx(V_,{size:16})}];Ft.useEffect(()=>{const F=i2(wl,ot=>{ot?(a(ot),c(!1)):Xw(wl).catch(bt=>{console.warn("Guest login unavailable:",bt.message),c(!0);const kt=localStorage.getItem("focusFlowData");if(kt){const Ct=JSON.parse(kt);K(Ct.tasks||[]),it(Ct.habits||[]),mt(Ct.dailyHistory||[]),vt(Ct.dietPlan||Mc),te(Ct.waterIntake||0)}})});return()=>F()},[]),Ft.useEffect(()=>{if(!i)return;const F=av(rv(mv,"artifacts",pv,"users",i.uid,"plannerData"),"daily"),ot=zx(F,bt=>{if(bt.exists()){const kt=bt.data();K(kt.tasks||[]),it(kt.habits||[]),mt(kt.dailyHistory||[]),vt(kt.dietPlan||Mc),te(kt.waterIntake||0),kt.savedDate&&g(new Date(kt.savedDate))}else{const kt={tasks:[{id:1,text:"Welcome! Add your first task. ",completed:!1,category:"General"}],habits:[{id:1,text:"Check App ",streak:0,completedToday:!1,history:[]}],dietPlan:Mc,waterIntake:0,dailyHistory:[],savedDate:new Date().toISOString()};dv(F,kt)}});return()=>ot()},[i]);const Nt=async(F,ot,bt,kt,Ct,le)=>{const ae=F!==void 0?F:M,On=ot!==void 0?ot:Z,Se=bt!==void 0?bt:st,Tr=kt||d,En=Ct!==void 0?Ct:ft,fi=le!==void 0?le:Mt,ve={tasks:ae,habits:On,dailyHistory:Se,savedDate:Tr,dietPlan:En,waterIntake:fi};if(localStorage.setItem("focusFlowData",JSON.stringify(ve)),i){const Mn=av(rv(mv,"artifacts",pv,"users",i.uid,"plannerData"),"daily");await dv(Mn,{tasks:ae,habits:On,dailyHistory:Se,savedDate:Tr.toISOString(),dietPlan:En,waterIntake:fi},{merge:!0})}},ui=async F=>{F.preventDefault(),xt("");try{nt?await Ww(wl,Ht,Q):await t2(wl,Ht,Q),O(""),tt("")}catch(ot){xt(ot.message.replace("Firebase: ",""))}},gs=()=>s2(wl),ys=F=>{if(F.preventDefault(),!V.trim())return;const ot=[...M,{id:Date.now(),text:V,completed:!1,category:"General"}];K(ot),N(""),Nt(ot)},_s=F=>{if(F.preventDefault(),!L.trim())return;const bt=L.split(`
`).filter(Ct=>Ct.trim()!=="").map((Ct,le)=>({id:Date.now()+le,text:Ct.trim(),completed:!1,category:"General"})),kt=[...M,...bt];K(kt),R(""),A(!1),Nt(kt)},Dn=F=>{const ot=M.map(bt=>bt.id===F?{...bt,completed:!bt.completed}:bt);K(ot),Nt(ot)},_r=F=>{const ot=M.filter(bt=>bt.id!==F);K(ot),Nt(ot)},Bi=()=>{if(confirm("Remove completed tasks? ")){const F=M.filter(ot=>!ot.completed);K(F),Nt(F)}},vr=F=>{if(F.preventDefault(),!ee.trim())return;const ot=[...Z,{id:Date.now(),text:ee,streak:0,completedToday:!1,history:[]}];it(ot),ge(""),Nt(void 0,ot)},Er=F=>{const ot=Z.map(bt=>{if(bt.id===F){const kt=!bt.completedToday,Ct=kt?bt.streak+1:Math.max(0,bt.streak-1);return{...bt,completedToday:kt,streak:Ct}}return bt});it(ot),Nt(void 0,ot)},ye=F=>{const ot=Z.filter(bt=>bt.id!==F);it(ot),Nt(void 0,ot)},_e=(F,ot,bt,kt)=>{vt(Ct=>{const le={...Ct[F]};return ot==="backup"&&!le.backup&&(le.backup={Breakfast:"",Lunch:"",Snacks:"",Dinner:""}),{...Ct,[F]:{...le,[ot]:{...le[ot],[bt]:kt}}}})},ci=()=>{et(!1),Nt(void 0,void 0,void 0,void 0,ft,void 0)},bo=()=>{Mt>=6||ct||(Vt(!0),setTimeout(()=>{const F=Mt+1;te(F),Nt(void 0,void 0,void 0,void 0,void 0,F)},250),setTimeout(()=>{Vt(!1)},800))},la=F=>{F.stopPropagation();const ot=Math.max(0,Mt-1);te(ot),Nt(void 0,void 0,void 0,void 0,void 0,ot)},Ke=()=>{const F=M.length+Z.length,ot=M.filter(Se=>Se.completed).length+Z.filter(Se=>Se.completedToday).length,bt=F===0?0:Math.round(ot/F*100),kt={date:d.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),score:bt},Ct=[...st,kt],le=Z.map(Se=>({...Se,completedToday:!1,streak:Se.completedToday?Se.streak:0,history:[...Se.history,Se.completedToday?1:0]})),ae=M.filter(Se=>!Se.completed),On=new Date(d);On.setDate(On.getDate()+1),K(ae),it(le),mt(Ct),g(On),te(0),Nt(ae,le,Ct,On,ft,0)},hi=Ft.useMemo(()=>{const F=M.length+Z.length;if(F===0)return 0;const ot=M.filter(bt=>bt.completed).length+Z.filter(bt=>bt.completedToday).length;return Math.round(ot/F*100)},[M,Z]),vs=[{name:"Tasks ",value:M.filter(F=>F.completed).length,color:"#8b5cf6"},{name:"Habits ",value:Z.filter(F=>F.completedToday).length,color:"#ec4899"},{name:"Left ",value:M.filter(F=>!F.completed).length+Z.filter(F=>!F.completedToday).length,color:s?"#334155":"#cbd5e1"}].filter(F=>F.value>0),on=`backdrop-blur-xl border border-white/20 shadow-xl transition-all duration-300 ${s?"bg-slate-900/60 text-slate-100":"bg-white/70 text-slate-900"}`,ln=`w-full p-4 rounded-xl border outline-none transition-all placeholder:text-slate-400 font-medium ${s?"bg-black/20 border-white/10 focus:border-indigo-500":"bg-white/50 border-slate-200 focus:border-indigo-600"}`,Es="bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white shadow-lg shadow-indigo-500/30 transition-all transform hover:-translate-y-0.5";return loading?S.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center text-indigo-400 font-bold tracking-widest uppercase animate-pulse",children:"Loading FocusFlow..."}):i?S.jsxs("div",{className:`font-sans relative min-h-screen overflow-x-hidden ${s?"text-slate-100":"text-slate-900"}`,children:[S.jsx(qx,{}),S.jsx(gv,{darkMode:s}),S.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[S.jsx("header",{className:`sticky top-0 z-30 backdrop-blur-md border-b ${s?"bg-slate-900/50 border-white/5":"bg-white/50 border-white/20"}`,children:S.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`p-2 rounded-xl backdrop-blur-sm ${s?"bg-indigo-500/20 text-indigo-400":"bg-indigo-100/80 text-indigo-600"}`,children:S.jsx(Yb,{size:24})}),S.jsxs("div",{children:[S.jsx("h1",{className:"font-bold text-xl leading-none drop-shadow-sm tracking-tight",children:"FocusFlow "}),S.jsxs("p",{className:`text-xs mt-1 font-medium ${s?"text-slate-300":"text-slate-600"}`,children:[d.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})," "]})]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsxs("button",{onClick:Ke,className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all hidden sm:flex backdrop-blur-sm ${s?"bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20 border border-emerald-500/20":"bg-emerald-50/80 text-emerald-700 hover:bg-emerald-100 border border-emerald-200"}`,title:"Finish today and start tomorrow",children:[S.jsx(aS,{size:14})," End Day "]}),S.jsx("button",{onClick:()=>t(!s),className:`p-2 rounded-lg transition-colors backdrop-blur-sm ${s?"hover:bg-slate-800/50 text-slate-300":"hover:bg-white/50 text-slate-600"}`,children:s?S.jsx(uS,{size:20}):S.jsx(nS,{size:20})})]})]})}),S.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-8 space-y-8 flex-1 w-full",children:[S.jsx("div",{className:`flex p-1 rounded-xl overflow-x-auto backdrop-blur-md shadow-sm ${s?"bg-slate-800/60 border border-slate-700/50":"bg-slate-200/60 border border-slate-200/50"}`,children:be.map(F=>S.jsxs("button",{onClick:()=>y(F.id),className:`flex-1 flex items-center justify-center gap-2 py-2.5 px-4 text-sm font-medium rounded-lg transition-all capitalize whitespace-nowrap ${_===F.id?s?"bg-indigo-600 text-white shadow-lg shadow-black/20":"bg-indigo-500 text-white shadow-sm":s?"text-slate-400 hover:text-slate-200 hover:bg-white/5":"text-slate-500 hover:text-slate-700 hover:bg-black/5"}`,children:[F.icon,F.label]},F.id))}),_==="planner"&&S.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[S.jsxs("div",{className:`rounded-xl p-4 transition-all ${on}`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("h3",{className:"font-medium text-sm opacity-80",children:"Daily Tasks "}),S.jsxs("div",{className:"flex gap-2",children:[M.some(F=>F.completed)&&S.jsxs("button",{onClick:Bi,className:"text-xs px-2 py-1 rounded hover:bg-red-500/10 text-red-400 flex items-center gap-1 transition-colors",children:[S.jsx(Od,{size:12})," Clear Done "]}),S.jsxs("button",{onClick:()=>A(!b),className:"text-xs px-2 py-1 rounded hover:bg-indigo-100 dark:hover:bg-indigo-900/30 text-indigo-500 flex items-center gap-1",children:[S.jsx(hS,{size:12})," ",b?"Single Add ":"Bulk Add "]})]})]}),b?S.jsxs("form",{onSubmit:_s,children:[S.jsx("textarea",{value:L,onChange:F=>R(F.target.value),placeholder:"Enter multiple tasks, one per line... ",className:`${ln} h-32 mb-3`}),S.jsx("button",{type:"submit",className:`w-full py-3 rounded-xl font-bold uppercase tracking-wide transition-all ${Es}`,children:"Add All Tasks "})]}):S.jsxs("form",{onSubmit:ys,className:"relative",children:[S.jsx("input",{type:"text",value:V,onChange:F=>N(F.target.value),placeholder:"What needs to be done today? ",className:`${ln} pr-12`}),S.jsx("button",{type:"submit",className:"absolute right-2 top-2 p-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg transition-colors shadow-lg shadow-indigo-500/20",children:S.jsx(sS,{size:20})})]})]}),S.jsxs("div",{className:"space-y-3",children:[M.length===0&&S.jsx("div",{className:`text-center py-12 border-2 border-dashed rounded-xl backdrop-blur-sm ${s?"border-slate-700/50 text-slate-500 bg-slate-800/30":"border-slate-300/50 text-slate-400 bg-white/30"}`,children:S.jsx("p",{children:"No tasks yet. Start planning your day! "})}),M.map(F=>S.jsxs("div",{className:`group flex items-center justify-between p-4 rounded-xl border transition-all duration-200 backdrop-blur-sm ${F.completed?s?"bg-slate-800/40 border-slate-700/50 opacity-75":"bg-slate-50/60 border-slate-200/50 text-slate-500":s?"bg-slate-800/80 border-slate-700/80 hover:border-indigo-500/50":"bg-white/80 border-slate-200 hover:border-indigo-300 hover:shadow-sm"}`,children:[S.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[S.jsx("button",{onClick:()=>Dn(F.id),className:`flex-shrink-0 transition-colors ${F.completed?"text-emerald-500":s?"text-slate-500 hover:text-indigo-400":"text-slate-300 hover:text-indigo-500"}`,children:F.completed?S.jsx(_v,{size:24,className:"fill-emerald-500/10"}):S.jsx(Fb,{size:24})}),S.jsx("span",{className:`text-base flex-1 break-all ${F.completed?"line-through":""}`,children:F.text})]}),S.jsx("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:S.jsx("button",{onClick:()=>_r(F.id),className:`p-2 rounded-lg transition-all ${s?"text-slate-500 hover:text-red-400 hover:bg-red-400/10":"text-slate-400 hover:text-red-500 hover:bg-red-50"}`,children:S.jsx(Od,{size:18})})})]},F.id))]})]}),_==="tracker"&&S.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[S.jsxs("div",{className:`p-8 rounded-3xl ${on} flex flex-col items-center`,children:[S.jsxs("div",{className:"text-center mb-6",children:[S.jsx("h3",{className:"font-black text-2xl uppercase tracking-widest text-indigo-400",children:"Hydration Protocol "}),S.jsx("p",{className:"text-xs font-bold uppercase tracking-widest opacity-60 mt-1",children:"Goal: 3000ml / Day"})]}),S.jsxs("div",{className:"relative w-40 h-64 sm:w-48 sm:h-72 mx-auto cursor-pointer group",onClick:bo,children:[S.jsxs("div",{className:`absolute inset-0 rounded-b-xl border-4 border-t-0 shadow-[inset_0_-10px_20px_rgba(0,0,0,0.1)] overflow-hidden ${s?"border-white/30 bg-white/5":"border-slate-300 bg-slate-200/40"}`,style:{clipPath:"polygon(10% 0%, 90% 0%, 80% 100%, 20% 100%)"},children:[S.jsxs("div",{className:"absolute inset-0 flex justify-evenly opacity-30 pointer-events-none mix-blend-overlay",children:[S.jsx("div",{className:`w-px h-full ${s?"bg-white":"bg-slate-400"}`}),S.jsx("div",{className:`w-px h-full ${s?"bg-white":"bg-slate-400"}`}),S.jsx("div",{className:`w-px h-full ${s?"bg-white":"bg-slate-400"}`})]}),S.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-blue-600/90 to-blue-400/80 transition-all duration-[800ms] ease-out shadow-[0_-5px_15px_rgba(59,130,246,0.4)]",style:{height:`${Mt/6*100}%`},children:S.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-blue-200/60 rounded-full blur-[1px]"})}),S.jsx("div",{className:"absolute inset-0 flex flex-col-reverse justify-between py-[16.66%] pointer-events-none",children:[1,2,3,4,5].map(F=>S.jsx("div",{className:"w-full h-[1px] bg-white/30 dark:bg-white/20 flex items-center px-2",children:S.jsxs("span",{className:`text-[9px] font-bold ${s?"text-white/60":"text-slate-500"}`,children:[F*500,"ml"]})},F))})]}),ct&&S.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 w-4 bg-blue-400/80 rounded-full animate-pour z-10 blur-[1px]"}),S.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-20",children:S.jsx("div",{className:"bg-black/60 text-white text-xs font-bold px-4 py-2 rounded-full backdrop-blur-sm shadow-xl",children:Mt>=6?"Fully Hydrated! ":"Click to Drink "})})]}),S.jsxs("div",{className:"mt-8 text-center relative",children:[S.jsxs("p",{className:"text-4xl font-black text-indigo-400",children:[Mt*500," ",S.jsx("span",{className:"text-sm font-semibold opacity-60 text-slate-500",children:"/ 3000 ml"})]}),Mt>0&&S.jsx("button",{onClick:la,className:"absolute -right-12 top-2 text-xs font-bold opacity-40 hover:opacity-100 transition-opacity flex items-center gap-1 text-slate-500",children:"Undo "})]})]}),S.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-500/20",children:[S.jsxs("form",{onSubmit:vr,className:"flex gap-2",children:[S.jsx("input",{type:"text",value:ee,onChange:F=>ge(F.target.value),placeholder:"New habit to track... ",className:`${ln} flex-1`}),S.jsx("button",{type:"submit",className:`px-6 py-2 font-bold uppercase tracking-wider rounded-xl ${Es}`,children:"Add "})]}),S.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:Z.map(F=>S.jsxs("div",{className:`p-5 rounded-2xl border transition-all backdrop-blur-sm ${F.completedToday?s?"bg-indigo-900/40 border-indigo-500/30":"bg-indigo-50/80 border-indigo-200":s?"bg-slate-800/80 border-slate-700/80":"bg-white/80 border-slate-200"}`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[S.jsx("div",{className:`p-2 rounded-lg ${F.completedToday?"bg-indigo-500 text-white":s?"bg-slate-700 text-slate-400":"bg-slate-100 text-slate-400"}`,children:S.jsx(L_,{size:20})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h3",{className:`font-semibold ${F.completedToday?s?"text-indigo-300":"text-indigo-900":""}`,children:F.text}),S.jsxs("p",{className:`text-xs ${s?"text-slate-400":"text-slate-500"}`,children:[F.streak," day streak "]})]})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>Er(F.id),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all ${F.completedToday?"bg-indigo-500 text-white shadow-lg shadow-indigo-500/30 hover:bg-indigo-600":s?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:F.completedToday?"Done ":"Mark "}),S.jsx("button",{onClick:()=>ye(F.id),className:`p-2 rounded-full transition-all ${s?"text-slate-600 hover:bg-red-900/20 hover:text-red-400":"text-slate-400 hover:bg-red-50 hover:text-red-500"}`,children:S.jsx(Od,{size:16})})]})]}),S.jsx("div",{className:"flex gap-1 justify-end",children:[...F.history,F.completedToday?1:0].slice(-7).map((ot,bt)=>S.jsx("div",{className:`w-2 h-6 rounded-sm ${ot?"bg-indigo-500":s?"bg-slate-700":"bg-slate-200"}`},bt))})]},F.id))})]})]}),_==="diet"&&S.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[S.jsxs("div",{className:`p-5 rounded-2xl flex justify-between items-center ${on}`,children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`p-2 rounded-lg ${s?"bg-indigo-500/20 text-indigo-400":"bg-indigo-100 text-indigo-600"}`,children:S.jsx(Gd,{size:24})}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-xl font-bold",children:"My Diet Plan "}),S.jsx("p",{className:`text-xs font-medium ${s?"text-slate-400":"text-slate-500"}`,children:"Weekly overview & protein targets "})]})]}),S.jsx("button",{onClick:()=>{q?ci():et(!0)},className:`px-4 py-2 rounded-xl text-sm font-bold transition-all shadow-sm flex items-center gap-1 ${q?"bg-indigo-500 text-white hover:bg-indigo-600":s?"bg-slate-700 text-white hover:bg-slate-600":"bg-slate-200 text-slate-800 hover:bg-slate-300"}`,children:q?"Save Plan ":"Edit Plan "})]}),S.jsx("div",{className:"grid gap-6",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(F=>S.jsxs("div",{className:`p-5 rounded-2xl ${on}`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-slate-500/20 pb-3",children:[S.jsxs("h3",{className:`font-bold text-lg ${s?"text-indigo-400":"text-indigo-600"}`,children:[F," "]}),S.jsx("span",{className:`text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider ${ft[F].type.includes("Veg")?"bg-emerald-500/10 text-emerald-500 border border-emerald-500/20":"bg-orange-500/10 text-orange-500 border border-orange-500/20"}`,children:ft[F].type})]}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsx("h4",{className:`font-semibold text-sm ${s?"text-slate-300":"text-slate-600"} border-b border-dashed border-slate-500/30 pb-1`,children:"Main Plan "}),["Breakfast","Lunch","Snacks","Dinner"].map(ot=>S.jsxs("div",{children:[S.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider block mb-1 ${s?"text-slate-500":"text-slate-400"}`,children:ot}),q?S.jsx("input",{type:"text",value:ft[F].meals[ot],onChange:bt=>_e(F,"meals",ot,bt.target.value),className:`w-full p-2 text-sm rounded border bg-transparent ${s?"border-slate-600 focus:border-indigo-500 text-white":"border-slate-300 focus:border-indigo-500 text-black"}`}):S.jsx("p",{className:"text-sm font-medium leading-relaxed",children:ft[F].meals[ot]})]},ot))]}),(ft[F].backup||q)&&S.jsxs("div",{className:`space-y-4 p-4 rounded-xl border ${s?"bg-emerald-500/5 border-emerald-500/10":"bg-emerald-50 border-emerald-100"}`,children:[S.jsx("h4",{className:"font-semibold text-sm text-emerald-600 border-b border-dashed border-emerald-500/30 pb-1",children:"Veg Backup Option "}),["Breakfast","Lunch","Snacks","Dinner"].map(ot=>S.jsxs("div",{children:[S.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-600/60 block mb-1",children:ot}),q?S.jsx("input",{type:"text",value:ft[F].backup?.[ot]||"",onChange:bt=>_e(F,"backup",ot,bt.target.value),placeholder:"Add veg alternative...",className:`w-full p-2 text-sm rounded border bg-transparent ${s?"border-emerald-500/30 focus:border-emerald-500 text-white":"border-emerald-200 focus:border-emerald-500 text-black"}`}):S.jsx("p",{className:"text-sm font-medium leading-relaxed text-emerald-800 dark:text-emerald-200",children:ft[F].backup?.[ot]||"-"})]},ot))]})]})]},F))}),S.jsxs("div",{className:`p-6 rounded-2xl border backdrop-blur-md ${s?"bg-amber-900/10 border-amber-500/20":"bg-amber-50/80 border-amber-200/80"}`,children:[S.jsx("h3",{className:"font-bold text-lg text-amber-600 mb-4 flex items-center gap-2",children:" Important Notes"}),q?S.jsx("textarea",{value:ft.Notes,onChange:F=>vt({...ft,Notes:F.target.value}),className:`w-full h-40 p-3 text-sm rounded-xl border bg-transparent ${s?"border-amber-500/30 text-amber-100 focus:border-amber-500":"border-amber-300 text-amber-900 focus:border-amber-500"}`}):S.jsx("div",{className:`whitespace-pre-line text-sm leading-relaxed font-medium ${s?"text-amber-100/80":"text-amber-900/80"}`,children:ft.Notes})]})]}),_==="stats"&&S.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[S.jsxs("div",{className:`p-6 rounded-2xl flex flex-col items-center ${on}`,children:[S.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Today's Breakdown "}),S.jsx(Fx,{data:vs}),S.jsx("div",{className:"mt-8 flex gap-6 flex-wrap justify-center",children:vs.map((F,ot)=>S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:F.color}}),S.jsxs("span",{className:`text-sm ${s?"text-slate-300":"text-slate-600"}`,children:[F.name," (",F.value,")"]})]},ot))})]}),S.jsxs("div",{className:`p-6 rounded-2xl border ${on}`,children:[S.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[S.jsx(Lb,{className:"text-amber-500"}),S.jsx("h2",{className:"text-lg font-semibold",children:"Consistency Score "})]}),S.jsxs("div",{className:"flex items-end gap-2",children:[S.jsxs("span",{className:"text-4xl font-bold",children:[hi,"%"]}),S.jsx("span",{className:"text-slate-500 mb-1",children:"completed today "})]}),S.jsx("div",{className:`w-full h-2 mt-4 rounded-full ${s?"bg-slate-700":"bg-slate-200"}`,children:S.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all duration-1000 shadow-lg shadow-indigo-500/50",style:{width:`${hi}%`}})})]}),S.jsx(Kx,{glassClass:on,darkMode:s})]}),_==="profile"&&S.jsx("div",{className:`max-w-md mx-auto p-6 rounded-2xl ${on} animate-fadeIn`,children:i&&!i.isAnonymous?S.jsxs("div",{className:"text-center space-y-6",children:[S.jsxs("div",{className:"relative w-24 h-24 mx-auto",children:[S.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-3xl text-white font-bold shadow-lg shadow-indigo-500/30",children:(i.email||"U")[0].toUpperCase()}),S.jsx("div",{className:"absolute bottom-0 right-0 p-2 bg-emerald-500 rounded-full border-4 border-slate-800",children:S.jsx(k_,{size:16,className:"text-white"})})]}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-xl font-bold",children:i.email}),S.jsx("p",{className:"text-slate-500 text-sm",children:"Account Verified "})]}),S.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-4",children:[S.jsxs("div",{className:"p-3 bg-indigo-500/10 rounded-lg",children:[S.jsx("p",{className:"text-lg font-bold text-indigo-500",children:M.filter(F=>F.completed).length}),S.jsx("p",{className:"text-[10px] uppercase opacity-70",children:"Tasks"})]}),S.jsxs("div",{className:"p-3 bg-emerald-500/10 rounded-lg",children:[S.jsx("p",{className:"text-lg font-bold text-emerald-500",children:Z.filter(F=>F.completedToday).length}),S.jsx("p",{className:"text-[10px] uppercase opacity-70",children:"Habits"})]}),S.jsxs("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:[S.jsxs("p",{className:"text-lg font-bold text-blue-500",children:[Mt*500,S.jsx("span",{className:"text-xs",children:"ml"})]}),S.jsx("p",{className:"text-[10px] uppercase opacity-70",children:"Water"})]})]}),S.jsxs("button",{onClick:gs,className:"flex items-center justify-center gap-2 w-full py-3 rounded-xl border border-red-200 text-red-600 hover:bg-red-50/50 transition-colors",children:[S.jsx(Zb,{size:18})," Sign Out "]})]}):S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("h2",{className:"text-2xl font-bold mb-2",children:nt?"Create Account ":"Welcome Back "}),S.jsx("p",{className:"text-slate-500 text-sm",children:nt?"Start tracking your journey today. ":"Login to sync your data across devices. "}),l&&S.jsx("div",{className:"mt-2 p-2 bg-amber-500/20 text-amber-300 text-xs rounded border border-amber-500/30",children:"Note: Running in offline mode. Tasks are saved to this device only. "})]}),Et&&S.jsx("div",{className:"p-3 bg-red-50/90 text-red-600 text-sm rounded-lg border border-red-100",children:Et}),S.jsxs("form",{onSubmit:ui,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-semibold uppercase text-slate-500 mb-1",children:"Email "}),S.jsx("input",{type:"email",required:!0,value:Ht,onChange:F=>O(F.target.value),className:`w-full p-3 rounded-lg border bg-transparent ${s?"border-slate-600 text-white":"border-slate-300 text-slate-900"}`})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-semibold uppercase text-slate-500 mb-1",children:"Password "}),S.jsx("input",{type:"password",required:!0,value:Q,onChange:F=>tt(F.target.value),className:`w-full p-3 rounded-lg border bg-transparent ${s?"border-slate-600 text-white":"border-slate-300 text-slate-900"}`})]}),S.jsx("button",{type:"submit",className:`w-full py-3 font-bold rounded-xl transition-all ${Es}`,children:nt?"Sign Up ":"Login "})]}),S.jsx("div",{className:"text-center",children:S.jsx("button",{onClick:()=>gt(!nt),className:"text-sm text-indigo-500 hover:underline",children:nt?"Already have an account? Login ":"Need an account? Sign Up "})})]})})]})]})]}):S.jsxs("div",{className:`font-sans min-h-screen flex items-center justify-center relative overflow-hidden ${s?"bg-slate-900":"bg-slate-50"}`,children:[S.jsx(gv,{darkMode:s}),S.jsxs("div",{className:`relative z-10 w-full max-w-md p-10 ${on} rounded-3xl`,children:[S.jsxs("div",{className:"text-center mb-10",children:[S.jsx("div",{className:"w-16 h-16 mx-auto flex items-center justify-center shadow-lg mb-6 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl",children:S.jsx(k_,{size:32,className:"text-white"})}),S.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"FocusFlow"}),S.jsx("p",{className:"text-xs font-bold tracking-widest opacity-60 uppercase",children:nt?"Begin Journey":"Welcome Back"})]}),Et&&S.jsxs("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/30 text-red-200 text-sm rounded-xl text-center flex items-center justify-center gap-2",children:[S.jsx(gS,{size:14})," ",Et]}),S.jsxs("form",{onSubmit:ui,className:"space-y-5",children:[nt&&S.jsxs("div",{className:"relative group",children:[S.jsx(V_,{className:"absolute left-4 top-4 opacity-50",size:20}),S.jsx("input",{type:"text",required:!0,value:name,onChange:F=>setName(F.target.value),placeholder:"Name",className:`${ln} pl-12`})]}),S.jsxs("div",{className:"relative group",children:[S.jsx(tS,{className:"absolute left-4 top-4 opacity-50",size:20}),S.jsx("input",{type:"email",required:!0,value:Ht,onChange:F=>O(F.target.value),placeholder:"Email",className:`${ln} pl-12`})]}),S.jsxs("div",{className:"relative group",children:[S.jsx(Lock,{className:"absolute left-4 top-4 opacity-50",size:20}),S.jsx("input",{type:"password",required:!0,value:Q,onChange:F=>tt(F.target.value),placeholder:"Password",className:`${ln} pl-12`})]}),S.jsx("button",{type:"submit",className:`w-full py-4 font-bold tracking-wide rounded-xl ${Es}`,children:nt?"Sign Up":"Login"})]}),S.jsx("div",{className:"mt-8 text-center",children:S.jsx("button",{onClick:()=>gt(!nt),className:"text-xs font-bold opacity-60 hover:opacity-100 uppercase tracking-widest transition-colors",children:nt?"Login instead":"Create Account"})})]})]})}xb.createRoot(document.getElementById("root")).render(S.jsx(Ft.StrictMode,{children:S.jsx(Qx,{})}));
