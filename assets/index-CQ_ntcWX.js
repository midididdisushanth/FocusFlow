(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var wd={exports:{}},vl={};var T_;function pS(){if(T_)return vl;T_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return vl.Fragment=t,vl.jsx=i,vl.jsxs=i,vl}var S_;function gS(){return S_||(S_=1,wd.exports=pS()),wd.exports}var L=gS(),Rd={exports:{}},St={};var A_;function yS(){if(A_)return St;A_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),O=Symbol.iterator;function F(x){return x===null||typeof x!="object"?null:(x=O&&x[O]||x["@@iterator"],typeof x=="function"?x:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,W={};function ft(x,Q,et){this.props=x,this.context=Q,this.refs=W,this.updater=et||Z}ft.prototype.isReactComponent={},ft.prototype.setState=function(x,Q){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Q,"setState")},ft.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Et(){}Et.prototype=ft.prototype;function mt(x,Q,et){this.props=x,this.context=Q,this.refs=W,this.updater=et||Z}var xt=mt.prototype=new Et;xt.constructor=mt,tt(xt,ft.prototype),xt.isPureReactComponent=!0;var re=Array.isArray;function Ot(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(x,Q,et){var st=et.ref;return{$$typeof:s,type:x,key:Q,ref:st!==void 0?st:null,props:et}}function M(x,Q){return C(x.type,Q,x.props)}function N(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function k(x){var Q={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(et){return Q[et]})}var w=/\/+/g;function Ft(x,Q){return typeof x=="object"&&x!==null&&x.key!=null?k(""+x.key):Q.toString(36)}function _e(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Ot,Ot):(x.status="pending",x.then(function(Q){x.status==="pending"&&(x.status="fulfilled",x.value=Q)},function(Q){x.status==="pending"&&(x.status="rejected",x.reason=Q)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function q(x,Q,et,st,vt){var bt=typeof x;(bt==="undefined"||bt==="boolean")&&(x=null);var Mt=!1;if(x===null)Mt=!0;else switch(bt){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(x.$$typeof){case s:case t:Mt=!0;break;case S:return Mt=x._init,q(Mt(x._payload),Q,et,st,vt)}}if(Mt)return vt=vt(x),Mt=st===""?"."+Ft(x,0):st,re(vt)?(et="",Mt!=null&&(et=Mt.replace(w,"$&/")+"/"),q(vt,Q,et,"",function(Pi){return Pi})):vt!=null&&(N(vt)&&(vt=M(vt,et+(vt.key==null||x&&x.key===vt.key?"":(""+vt.key).replace(w,"$&/")+"/")+Mt)),Q.push(vt)),1;Mt=0;var ve=st===""?".":st+":";if(re(x))for(var ae=0;ae<x.length;ae++)st=x[ae],bt=ve+Ft(st,ae),Mt+=q(st,Q,et,bt,vt);else if(ae=F(x),typeof ae=="function")for(x=ae.call(x),ae=0;!(st=x.next()).done;)st=st.value,bt=ve+Ft(st,ae++),Mt+=q(st,Q,et,bt,vt);else if(bt==="object"){if(typeof x.then=="function")return q(_e(x),Q,et,st,vt);throw Q=String(x),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function it(x,Q,et){if(x==null)return x;var st=[],vt=0;return q(x,st,"","",function(bt){return Q.call(et,bt,vt++)}),st}function ct(x){if(x._status===-1){var Q=x._result;Q=Q(),Q.then(function(et){(x._status===0||x._status===-1)&&(x._status=1,x._result=et)},function(et){(x._status===0||x._status===-1)&&(x._status=2,x._result=et)}),x._status===-1&&(x._status=0,x._result=Q)}if(x._status===1)return x._result.default;throw x._result}var It=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Bt={map:it,forEach:function(x,Q,et){it(x,function(){Q.apply(this,arguments)},et)},count:function(x){var Q=0;return it(x,function(){Q++}),Q},toArray:function(x){return it(x,function(Q){return Q})||[]},only:function(x){if(!N(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return St.Activity=b,St.Children=Bt,St.Component=ft,St.Fragment=i,St.Profiler=l,St.PureComponent=mt,St.StrictMode=a,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,St.__COMPILER_RUNTIME={__proto__:null,c:function(x){return I.H.useMemoCache(x)}},St.cache=function(x){return function(){return x.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(x,Q,et){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var st=tt({},x.props),vt=x.key;if(Q!=null)for(bt in Q.key!==void 0&&(vt=""+Q.key),Q)!A.call(Q,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Q.ref===void 0||(st[bt]=Q[bt]);var bt=arguments.length-2;if(bt===1)st.children=et;else if(1<bt){for(var Mt=Array(bt),ve=0;ve<bt;ve++)Mt[ve]=arguments[ve+2];st.children=Mt}return C(x.type,vt,st)},St.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},St.createElement=function(x,Q,et){var st,vt={},bt=null;if(Q!=null)for(st in Q.key!==void 0&&(bt=""+Q.key),Q)A.call(Q,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(vt[st]=Q[st]);var Mt=arguments.length-2;if(Mt===1)vt.children=et;else if(1<Mt){for(var ve=Array(Mt),ae=0;ae<Mt;ae++)ve[ae]=arguments[ae+2];vt.children=ve}if(x&&x.defaultProps)for(st in Mt=x.defaultProps,Mt)vt[st]===void 0&&(vt[st]=Mt[st]);return C(x,bt,vt)},St.createRef=function(){return{current:null}},St.forwardRef=function(x){return{$$typeof:p,render:x}},St.isValidElement=N,St.lazy=function(x){return{$$typeof:S,_payload:{_status:-1,_result:x},_init:ct}},St.memo=function(x,Q){return{$$typeof:y,type:x,compare:Q===void 0?null:Q}},St.startTransition=function(x){var Q=I.T,et={};I.T=et;try{var st=x(),vt=I.S;vt!==null&&vt(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Ot,It)}catch(bt){It(bt)}finally{Q!==null&&et.types!==null&&(Q.types=et.types),I.T=Q}},St.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},St.use=function(x){return I.H.use(x)},St.useActionState=function(x,Q,et){return I.H.useActionState(x,Q,et)},St.useCallback=function(x,Q){return I.H.useCallback(x,Q)},St.useContext=function(x){return I.H.useContext(x)},St.useDebugValue=function(){},St.useDeferredValue=function(x,Q){return I.H.useDeferredValue(x,Q)},St.useEffect=function(x,Q){return I.H.useEffect(x,Q)},St.useEffectEvent=function(x){return I.H.useEffectEvent(x)},St.useId=function(){return I.H.useId()},St.useImperativeHandle=function(x,Q,et){return I.H.useImperativeHandle(x,Q,et)},St.useInsertionEffect=function(x,Q){return I.H.useInsertionEffect(x,Q)},St.useLayoutEffect=function(x,Q){return I.H.useLayoutEffect(x,Q)},St.useMemo=function(x,Q){return I.H.useMemo(x,Q)},St.useOptimistic=function(x,Q){return I.H.useOptimistic(x,Q)},St.useReducer=function(x,Q,et){return I.H.useReducer(x,Q,et)},St.useRef=function(x){return I.H.useRef(x)},St.useState=function(x){return I.H.useState(x)},St.useSyncExternalStore=function(x,Q,et){return I.H.useSyncExternalStore(x,Q,et)},St.useTransition=function(){return I.H.useTransition()},St.version="19.2.4",St}var b_;function pm(){return b_||(b_=1,Rd.exports=yS()),Rd.exports}var Gt=pm(),Cd={exports:{}},El={},Id={exports:{}},Nd={};var w_;function _S(){return w_||(w_=1,(function(s){function t(q,it){var ct=q.length;q.push(it);t:for(;0<ct;){var It=ct-1>>>1,Bt=q[It];if(0<l(Bt,it))q[It]=it,q[ct]=Bt,ct=It;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var it=q[0],ct=q.pop();if(ct!==it){q[0]=ct;t:for(var It=0,Bt=q.length,x=Bt>>>1;It<x;){var Q=2*(It+1)-1,et=q[Q],st=Q+1,vt=q[st];if(0>l(et,ct))st<Bt&&0>l(vt,et)?(q[It]=vt,q[st]=ct,It=st):(q[It]=et,q[Q]=ct,It=Q);else if(st<Bt&&0>l(vt,ct))q[It]=vt,q[st]=ct,It=st;else break t}}return it}function l(q,it){var ct=q.sortIndex-it.sortIndex;return ct!==0?ct:q.id-it.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],S=1,b=null,O=3,F=!1,Z=!1,tt=!1,W=!1,ft=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function xt(q){for(var it=i(y);it!==null;){if(it.callback===null)a(y);else if(it.startTime<=q)a(y),it.sortIndex=it.expirationTime,t(_,it);else break;it=i(y)}}function re(q){if(tt=!1,xt(q),!Z)if(i(_)!==null)Z=!0,Ot||(Ot=!0,k());else{var it=i(y);it!==null&&_e(re,it.startTime-q)}}var Ot=!1,I=-1,A=5,C=-1;function M(){return W?!0:!(s.unstable_now()-C<A)}function N(){if(W=!1,Ot){var q=s.unstable_now();C=q;var it=!0;try{t:{Z=!1,tt&&(tt=!1,Et(I),I=-1),F=!0;var ct=O;try{e:{for(xt(q),b=i(_);b!==null&&!(b.expirationTime>q&&M());){var It=b.callback;if(typeof It=="function"){b.callback=null,O=b.priorityLevel;var Bt=It(b.expirationTime<=q);if(q=s.unstable_now(),typeof Bt=="function"){b.callback=Bt,xt(q),it=!0;break e}b===i(_)&&a(_),xt(q)}else a(_);b=i(_)}if(b!==null)it=!0;else{var x=i(y);x!==null&&_e(re,x.startTime-q),it=!1}}break t}finally{b=null,O=ct,F=!1}it=void 0}}finally{it?k():Ot=!1}}}var k;if(typeof mt=="function")k=function(){mt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ft=w.port2;w.port1.onmessage=N,k=function(){Ft.postMessage(null)}}else k=function(){ft(N,0)};function _e(q,it){I=ft(function(){q(s.unstable_now())},it)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(q){switch(O){case 1:case 2:case 3:var it=3;break;default:it=O}var ct=O;O=it;try{return q()}finally{O=ct}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(q,it){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ct=O;O=q;try{return it()}finally{O=ct}},s.unstable_scheduleCallback=function(q,it,ct){var It=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?It+ct:It):ct=It,q){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=ct+Bt,q={id:S++,callback:it,priorityLevel:q,startTime:ct,expirationTime:Bt,sortIndex:-1},ct>It?(q.sortIndex=ct,t(y,q),i(_)===null&&q===i(y)&&(tt?(Et(I),I=-1):tt=!0,_e(re,ct-It))):(q.sortIndex=Bt,t(_,q),Z||F||(Z=!0,Ot||(Ot=!0,k()))),q},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(q){var it=O;return function(){var ct=O;O=it;try{return q.apply(this,arguments)}finally{O=ct}}}})(Nd)),Nd}var R_;function vS(){return R_||(R_=1,Id.exports=_S()),Id.exports}var Dd={exports:{}},en={};var C_;function ES(){if(C_)return en;C_=1;var s=pm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:y,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,en.createPortal=function(_,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,S)},en.flushSync=function(_){var y=d.T,S=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=S,a.d.f()}},en.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},en.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},en.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var S=y.as,b=p(S,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:O,fetchPriority:F}):S==="script"&&a.d.X(_,{crossOrigin:b,integrity:O,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},en.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,b=p(S,y.crossOrigin);a.d.L(_,S,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(_,y){if(typeof _=="string")if(y){var S=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},en.requestFormReset=function(_){a.d.r(_)},en.unstable_batchedUpdates=function(_,y){return _(y)},en.useFormState=function(_,y,S){return d.H.useFormState(_,y,S)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.4",en}var I_;function TS(){if(I_)return Dd.exports;I_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Dd.exports=ES(),Dd.exports}var N_;function SS(){if(N_)return El;N_=1;var s=vS(),t=pm(),i=TS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,O=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Ft(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case ft:return"Profiler";case W:return"StrictMode";case re:return"Suspense";case Ot:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case mt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case xt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Ft(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return Ft(e(n))}catch{}}return null}var _e=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},It=[],Bt=-1;function x(e){return{current:e}}function Q(e){0>Bt||(e.current=It[Bt],It[Bt]=null,Bt--)}function et(e,n){Bt++,It[Bt]=e.current,e.current=n}var st=x(null),vt=x(null),bt=x(null),Mt=x(null);function ve(e,n){switch(et(bt,n),et(vt,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Gy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Gy(n),e=Fy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(st),et(st,e)}function ae(){Q(st),Q(vt),Q(bt)}function Pi(e){e.memoizedState!==null&&et(Mt,e);var n=st.current,r=Fy(n,e.type);n!==r&&(et(vt,e),et(st,r))}function ps(e){vt.current===e&&(Q(st),Q(vt)),Mt.current===e&&(Q(Mt),pl._currentValue=ct)}var gs,ys;function In(e){if(gs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);gs=n&&n[1]||"",ys=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gs+e+ys}var pr=!1;function zi(e,n){if(!e||pr)return"";pr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var j=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){j=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){j=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{pr=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?In(r):""}function _s(e,n){switch(e.tag){case 26:case 27:case 5:return In(e.type);case 16:return In("Lazy");case 13:return e.child!==n&&n!==null?In("Suspense Fallback"):In("Suspense");case 19:return In("SuspenseList");case 0:case 15:return zi(e.type,!1);case 11:return zi(e.type.render,!1);case 1:return zi(e.type,!0);case 31:return In("Activity");default:return""}}function vs(e){try{var n="",r=null;do n+=_s(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Yt=Object.prototype.hasOwnProperty,oe=s.unstable_scheduleCallback,We=s.unstable_cancelCallback,$=s.unstable_shouldYield,ut=s.unstable_requestPaint,gt=s.unstable_now,$t=s.unstable_getCurrentPriorityLevel,tn=s.unstable_ImmediatePriority,Nn=s.unstable_UserBlockingPriority,_n=s.unstable_NormalPriority,li=s.unstable_LowPriority,ze=s.unstable_IdlePriority,Wl=s.log,tu=s.unstable_setDisableYieldValue,Kn=null,Ge=null;function Dn(e){if(typeof Wl=="function"&&tu(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Kn,e)}catch{}}var Ee=Math.clz32?Math.clz32:nu,eu=Math.log,ra=Math.LN2;function nu(e){return e>>>=0,e===0?32:31-(eu(e)/ra|0)|0}var ui=256,gr=262144,we=4194304;function ci(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hi(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ci(o):(g&=E,g!==0?h=ci(g):r||(r=E&~e,r!==0&&(h=ci(r))))):(E=o&~f,E!==0?h=ci(E):g!==0?h=ci(g):r||(r=o&~e,r!==0&&(h=ci(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ih(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=we;return we<<=1,(we&62914560)===0&&(we=4194304),e}function fi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function yr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Nh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(r=g&~r;0<r;){var G=31-Ee(r),Y=1<<G;E[G]=0,R[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var H=j[G];H!==null&&(H.lane&=-536870913)}r&=~Y}o!==0&&_r(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function _r(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ee(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Eo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Ee(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function To(e,n){var r=n&-n;return r=(r&42)!==0?1:vr(r),(r&(e.suspendedLanes|n))!==0?0:r}function vr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ji(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function su(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:m_(e.type))}function Yn(e,n){var r=it.p;try{return it.p=e,n()}finally{it.p=r}}var Xn=Math.random().toString(36).slice(2),Re="__reactFiber$"+Xn,je="__reactProps$"+Xn,di="__reactContainer$"+Xn,aa="__reactEvents$"+Xn,Dh="__reactListeners$"+Xn,ru="__reactHandles$"+Xn,au="__reactResources$"+Xn,mi="__reactMarker$"+Xn;function oa(e){delete e[Re],delete e[je],delete e[aa],delete e[Dh],delete e[ru]}function pi(e){var n=e[Re];if(n)return n;for(var r=e.parentNode;r;){if(n=r[di]||r[Re]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Zy(e);e!==null;){if(r=e[Re])return r;e=Zy(e)}return n}e=r,r=e.parentNode}return null}function xn(e){if(e=e[Re]||e[di]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function vn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function gi(e){var n=e[au];return n||(n=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ce(e){e[mi]=!0}var So=new Set,Ao={};function yi(e,n){_i(e,n),_i(e+"Capture",n)}function _i(e,n){for(Ao[e]=n,e=0;e<n.length;e++)So.add(n[e])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},Ro={};function ou(e){return Yt.call(Ro,e)?!0:Yt.call(wo,e)?!1:bo.test(e)?Ro[e]=!0:(wo[e]=!0,!1)}function la(e,n,r){if(ou(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function En(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ie(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Es(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jt(e){if(!e._valueTracker){var n=Es(e)?"checked":"value";e._valueTracker=Co(e,n,""+e[n])}}function Er(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=Es(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Tr=/[\n"\\]/g;function cn(e){return e.replace(Tr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ua(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Be(n)):e.value!==""+Be(n)&&(e.value=""+Be(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Io(e,g,Be(n)):r!=null?Io(e,g,Be(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Be(E):e.removeAttribute("name")}function lu(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Jt(e);return}r=r!=null?""+Be(r):"",n=n!=null?""+Be(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Jt(e)}function Io(e,n,r){n==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Ts(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Be(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function uu(e,n,r){if(n!=null&&(n=""+Be(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Be(r):""}function Ss(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(_e(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Be(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Jt(e)}function hn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||cu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Do(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&No(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&No(e,f,n[f])}function ca(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(e){return As.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var xo=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bs=null,Ei=null;function Sr(e){var n=xn(e);if(n&&(e=n.stateNode)){var r=e[je]||null;t:switch(e=n.stateNode,n.type){case"input":if(ua(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+cn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[je]||null;if(!h)throw Error(a(90));ua(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Er(o)}break t;case"textarea":uu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Ts(e,!!r.multiple,n,!1)}}}var fa=!1;function ws(e,n,r){if(fa)return e(n,r);fa=!0;try{var o=e(n);return o}finally{if(fa=!1,(bs!==null||Ei!==null)&&(sc(),bs&&(n=bs,e=Ei,Ei=bs=null,Sr(n),e)))for(n=0;n<e.length;n++)Sr(e[n])}}function Jn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[je]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ar=!1;if(Mn)try{var te={};Object.defineProperty(te,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{Ar=!1}var Ti=null,Oo=null,br=null;function Mo(){if(br)return br;var e,n=Oo,r=n.length,o,h="value"in Ti?Ti.value:Ti.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return br=h.slice(e,1<o?1-o:void 0)}function wr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function Zn(){return!1}function Fe(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Bi:Zn,this.isPropagationStopped=Zn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),n}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Fe(Hi),Rs=b({},Hi,{view:0,detail:0}),Vo=Fe(Rs),Cs,da,Ai,ma=b({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(Cs=e.screenX-Ai.screenX,da=e.screenY-Ai.screenY):da=Cs=0,Ai=e),Cs)},movementY:function(e){return"movementY"in e?e.movementY:da}}),ko=Fe(ma),Rr=b({},ma,{dataTransfer:0}),fu=Fe(Rr),du=b({},Rs,{relatedTarget:0}),Cr=Fe(du),Lo=b({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=Fe(Lo),pa=b({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=Fe(pa),gu=b({},Hi,{data:0}),bi=Fe(gu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vu[e])?!!n[e]:!1}function Is(){return Eu}var ln=b({},Rs,{key:function(e){if(e.key){var n=yu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=wr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(e){return e.type==="keypress"?wr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tu=Fe(ln),Su=b({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Fe(Su),u=b({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),m=Fe(u),v=b({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Fe(v),U=b({},ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Fe(U),nt=b({},Hi,{newState:0,oldState:0}),wt=Fe(nt),Te=[9,13,27,32],Kt=Mn&&"CompositionEvent"in window,fe=null;Mn&&"documentMode"in document&&(fe=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!fe,wi=Mn&&(!Kt||fe&&8<fe&&11>=fe),Wn=" ",ti=!1;function Ir(e,n){switch(e){case"keyup":return Te.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ya=!1;function zT(e,n){switch(e){case"compositionend":return ga(n);case"keypress":return n.which!==32?null:(ti=!0,Wn);case"textInput":return e=n.data,e===Wn&&ti?null:e;default:return null}}function jT(e,n){if(ya)return e==="compositionend"||!Kt&&Ir(e,n)?(e=Mo(),br=Oo=Ti=null,ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wi&&n.locale!=="ko"?null:n.data;default:return null}}var BT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ep(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!BT[e.type]:n==="textarea"}function np(e,n,r,o){bs?Ei?Ei.push(o):Ei=[o]:bs=o,n=hc(n,"onChange"),0<n.length&&(r=new Si("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Uo=null,Po=null;function HT(e){Py(e,0)}function Au(e){var n=vn(e);if(Er(n))return e}function ip(e,n){if(e==="change")return n}var sp=!1;if(Mn){var xh;if(Mn){var Oh="oninput"in document;if(!Oh){var rp=document.createElement("div");rp.setAttribute("oninput","return;"),Oh=typeof rp.oninput=="function"}xh=Oh}else xh=!1;sp=xh&&(!document.documentMode||9<document.documentMode)}function ap(){Uo&&(Uo.detachEvent("onpropertychange",op),Po=Uo=null)}function op(e){if(e.propertyName==="value"&&Au(Po)){var n=[];np(n,Po,e,On(e)),ws(HT,n)}}function qT(e,n,r){e==="focusin"?(ap(),Uo=n,Po=r,Uo.attachEvent("onpropertychange",op)):e==="focusout"&&ap()}function GT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Po)}function FT(e,n){if(e==="click")return Au(n)}function KT(e,n){if(e==="input"||e==="change")return Au(n)}function QT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tn=typeof Object.is=="function"?Object.is:QT;function zo(e,n){if(Tn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Yt.call(n,h)||!Tn(e[h],n[h]))return!1}return!0}function lp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function up(e,n){var r=lp(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=lp(r)}}function cp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?cp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function hp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=vi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=vi(e.document)}return n}function Mh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var YT=Mn&&"documentMode"in document&&11>=document.documentMode,_a=null,Vh=null,jo=null,kh=!1;function fp(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kh||_a==null||_a!==vi(o)||(o=_a,"selectionStart"in o&&Mh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jo&&zo(jo,o)||(jo=o,o=hc(Vh,"onSelect"),0<o.length&&(n=new Si("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=_a)))}function Nr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var va={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},Lh={},dp={};Mn&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Dr(e){if(Lh[e])return Lh[e];if(!va[e])return e;var n=va[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in dp)return Lh[e]=n[r];return e}var mp=Dr("animationend"),pp=Dr("animationiteration"),gp=Dr("animationstart"),XT=Dr("transitionrun"),$T=Dr("transitionstart"),JT=Dr("transitioncancel"),yp=Dr("transitionend"),_p=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function ei(e,n){_p.set(e,n),yi(n,[e])}var bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kn=[],Ea=0,Ph=0;function wu(){for(var e=Ea,n=Ph=Ea=0;n<e;){var r=kn[n];kn[n++]=null;var o=kn[n];kn[n++]=null;var h=kn[n];kn[n++]=null;var f=kn[n];if(kn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&vp(r,h,f)}}function Ru(e,n,r,o){kn[Ea++]=e,kn[Ea++]=n,kn[Ea++]=r,kn[Ea++]=o,Ph|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function zh(e,n,r,o){return Ru(e,n,r,o),Cu(e)}function xr(e,n){return Ru(e,null,null,n),Cu(e)}function vp(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ee(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Cu(e){if(50<ll)throw ll=0,Xf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ta={};function ZT(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,r,o){return new ZT(e,n,r,o)}function jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gi(e,n){var r=e.alternate;return r===null?(r=Sn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Ep(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")jh(e)&&(g=1);else if(typeof e=="string")g=iS(e,r,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Sn(31,r,n,h),e.elementType=C,e.lanes=f,e;case tt:return Or(r.children,h,f,n);case W:g=8,h|=24;break;case ft:return e=Sn(12,r,n,h|2),e.elementType=ft,e.lanes=f,e;case re:return e=Sn(13,r,n,h),e.elementType=re,e.lanes=f,e;case Ot:return e=Sn(19,r,n,h),e.elementType=Ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case Et:g=9;break t;case xt:g=11;break t;case I:g=14;break t;case A:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Sn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Or(e,n,r,o){return e=Sn(7,e,o,n),e.lanes=r,e}function Bh(e,n,r){return e=Sn(6,e,null,n),e.lanes=r,e}function Tp(e){var n=Sn(18,null,null,0);return n.stateNode=e,n}function Hh(e,n,r){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Sp=new WeakMap;function Ln(e,n){if(typeof e=="object"&&e!==null){var r=Sp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:vs(n)},Sp.set(e,n),n)}return{value:e,source:n,stack:vs(n)}}var Sa=[],Aa=0,Nu=null,Bo=0,Un=[],Pn=0,Ns=null,Ri=1,Ci="";function Fi(e,n){Sa[Aa++]=Bo,Sa[Aa++]=Nu,Nu=e,Bo=n}function Ap(e,n,r){Un[Pn++]=Ri,Un[Pn++]=Ci,Un[Pn++]=Ns,Ns=e;var o=Ri;e=Ci;var h=32-Ee(o)-1;o&=~(1<<h),r+=1;var f=32-Ee(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ri=1<<32-Ee(n)+h|r<<h|o,Ci=f+e}else Ri=1<<f|r<<h|o,Ci=e}function qh(e){e.return!==null&&(Fi(e,1),Ap(e,1,0))}function Gh(e){for(;e===Nu;)Nu=Sa[--Aa],Sa[Aa]=null,Bo=Sa[--Aa],Sa[Aa]=null;for(;e===Ns;)Ns=Un[--Pn],Un[Pn]=null,Ci=Un[--Pn],Un[Pn]=null,Ri=Un[--Pn],Un[Pn]=null}function bp(e,n){Un[Pn++]=Ri,Un[Pn++]=Ci,Un[Pn++]=Ns,Ri=n.id,Ci=n.overflow,Ns=e}var Ke=null,le=null,zt=!1,Ds=null,zn=!1,Fh=Error(a(519));function xs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(Ln(n,e)),Fh}function wp(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Re]=e,n[je]=o,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<cl.length;r++)Dt(cl[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),lu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Ss(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Hy(n.textContent,r)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=$n),n=!0):n=!1,n||xs(e,!0)}function Rp(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ke=Ke.return}}function ba(e){if(e!==Ke)return!1;if(!zt)return Rp(e),zt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||cd(e.type,e.memoizedProps)),r=!r),r&&le&&xs(e),Rp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));le=Jy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));le=Jy(e)}else n===27?(n=le,Fs(e.type)?(e=pd,pd=null,le=e):le=n):le=Ke?Bn(e.stateNode.nextSibling):null;return!0}function Mr(){le=Ke=null,zt=!1}function Kh(){var e=Ds;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Ds=null),e}function Ho(e){Ds===null?Ds=[e]:Ds.push(e)}var Qh=x(null),Vr=null,Ki=null;function Os(e,n,r){et(Qh,n._currentValue),n._currentValue=r}function Qi(e){e._currentValue=Qh.current,Q(Qh)}function Yh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Xh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Yh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Yh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function wa(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Tn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Mt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(pl):e=[pl])}h=h.return}e!==null&&Xh(n,e,r,o),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!Tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function kr(e){Vr=e,Ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return Cp(Vr,e)}function xu(e,n){return Vr===null&&kr(e),Cp(e,n)}function Cp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ki===null){if(e===null)throw Error(a(308));Ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ki=Ki.next=n;return r}var WT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},t1=s.unstable_scheduleCallback,e1=s.unstable_NormalPriority,Ne={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new WT,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&t1(e1,function(){e.controller.abort()})}var Go=null,Jh=0,Ra=0,Ca=null;function n1(e,n){if(Go===null){var r=Go=[];Jh=0,Ra=ed(),Ca={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Jh++,n.then(Ip,Ip),n}function Ip(){if(--Jh===0&&Go!==null){Ca!==null&&(Ca.status="fulfilled");var e=Go;Go=null,Ra=0,Ca=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function i1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Np=q.S;q.S=function(e,n){fy=gt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n1(e,n),Np!==null&&Np(e,n)};var Lr=x(null);function Zh(){var e=Lr.current;return e!==null?e:se.pooledCache}function Ou(e,n){n===null?et(Lr,Lr.current):et(Lr,n.pool)}function Dp(){var e=Zh();return e===null?null:{parent:Ne._currentValue,pool:e}}var Ia=Error(a(460)),Wh=Error(a(474)),Mu=Error(a(542)),Vu={then:function(){}};function xp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Op(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then($n,$n),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Vp(e),e;default:if(typeof n.status=="string")n.then($n,$n);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Vp(e),e}throw Pr=n,Ia}}function Ur(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Pr=r,Ia):r}}var Pr=null;function Mp(){if(Pr===null)throw Error(a(459));var e=Pr;return Pr=null,e}function Vp(e){if(e===Ia||e===Mu)throw Error(a(483))}var Na=null,Fo=0;function ku(e){var n=Fo;return Fo+=1,Na===null&&(Na=[]),Op(Na,e,n)}function Ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lu(e,n){throw n.$$typeof===O?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function kp(e){function n(V,D){if(e){var P=V.deletions;P===null?(V.deletions=[D],V.flags|=16):P.push(D)}}function r(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Gi(V,D),V.index=0,V.sibling=null,V}function f(V,D,P){return V.index=P,e?(P=V.alternate,P!==null?(P=P.index,P<D?(V.flags|=67108866,D):P):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function g(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,P,K){return D===null||D.tag!==6?(D=Bh(P,V.mode,K),D.return=V,D):(D=h(D,P),D.return=V,D)}function R(V,D,P,K){var ht=P.type;return ht===tt?G(V,D,P.props.children,K,P.key):D!==null&&(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Ur(ht)===D.type)?(D=h(D,P.props),Ko(D,P),D.return=V,D):(D=Iu(P.type,P.key,P.props,null,V.mode,K),Ko(D,P),D.return=V,D)}function z(V,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Hh(P,V.mode,K),D.return=V,D):(D=h(D,P.children||[]),D.return=V,D)}function G(V,D,P,K,ht){return D===null||D.tag!==7?(D=Or(P,V.mode,K,ht),D.return=V,D):(D=h(D,P),D.return=V,D)}function Y(V,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Bh(""+D,V.mode,P),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return P=Iu(D.type,D.key,D.props,null,V.mode,P),Ko(P,D),P.return=V,P;case Z:return D=Hh(D,V.mode,P),D.return=V,D;case A:return D=Ur(D),Y(V,D,P)}if(_e(D)||k(D))return D=Or(D,V.mode,P,null),D.return=V,D;if(typeof D.then=="function")return Y(V,ku(D),P);if(D.$$typeof===mt)return Y(V,xu(V,D),P);Lu(V,D)}return null}function j(V,D,P,K){var ht=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ht!==null?null:E(V,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ht?R(V,D,P,K):null;case Z:return P.key===ht?z(V,D,P,K):null;case A:return P=Ur(P),j(V,D,P,K)}if(_e(P)||k(P))return ht!==null?null:G(V,D,P,K,null);if(typeof P.then=="function")return j(V,D,ku(P),K);if(P.$$typeof===mt)return j(V,D,xu(V,P),K);Lu(V,P)}return null}function H(V,D,P,K,ht){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return V=V.get(P)||null,E(D,V,""+K,ht);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return V=V.get(K.key===null?P:K.key)||null,R(D,V,K,ht);case Z:return V=V.get(K.key===null?P:K.key)||null,z(D,V,K,ht);case A:return K=Ur(K),H(V,D,P,K,ht)}if(_e(K)||k(K))return V=V.get(P)||null,G(D,V,K,ht,null);if(typeof K.then=="function")return H(V,D,P,ku(K),ht);if(K.$$typeof===mt)return H(V,D,P,xu(D,K),ht);Lu(D,K)}return null}function at(V,D,P,K){for(var ht=null,Ht=null,ot=D,Ct=D=0,kt=null;ot!==null&&Ct<P.length;Ct++){ot.index>Ct?(kt=ot,ot=null):kt=ot.sibling;var qt=j(V,ot,P[Ct],K);if(qt===null){ot===null&&(ot=kt);break}e&&ot&&qt.alternate===null&&n(V,ot),D=f(qt,D,Ct),Ht===null?ht=qt:Ht.sibling=qt,Ht=qt,ot=kt}if(Ct===P.length)return r(V,ot),zt&&Fi(V,Ct),ht;if(ot===null){for(;Ct<P.length;Ct++)ot=Y(V,P[Ct],K),ot!==null&&(D=f(ot,D,Ct),Ht===null?ht=ot:Ht.sibling=ot,Ht=ot);return zt&&Fi(V,Ct),ht}for(ot=o(ot);Ct<P.length;Ct++)kt=H(ot,V,Ct,P[Ct],K),kt!==null&&(e&&kt.alternate!==null&&ot.delete(kt.key===null?Ct:kt.key),D=f(kt,D,Ct),Ht===null?ht=kt:Ht.sibling=kt,Ht=kt);return e&&ot.forEach(function($s){return n(V,$s)}),zt&&Fi(V,Ct),ht}function pt(V,D,P,K){if(P==null)throw Error(a(151));for(var ht=null,Ht=null,ot=D,Ct=D=0,kt=null,qt=P.next();ot!==null&&!qt.done;Ct++,qt=P.next()){ot.index>Ct?(kt=ot,ot=null):kt=ot.sibling;var $s=j(V,ot,qt.value,K);if($s===null){ot===null&&(ot=kt);break}e&&ot&&$s.alternate===null&&n(V,ot),D=f($s,D,Ct),Ht===null?ht=$s:Ht.sibling=$s,Ht=$s,ot=kt}if(qt.done)return r(V,ot),zt&&Fi(V,Ct),ht;if(ot===null){for(;!qt.done;Ct++,qt=P.next())qt=Y(V,qt.value,K),qt!==null&&(D=f(qt,D,Ct),Ht===null?ht=qt:Ht.sibling=qt,Ht=qt);return zt&&Fi(V,Ct),ht}for(ot=o(ot);!qt.done;Ct++,qt=P.next())qt=H(ot,V,Ct,qt.value,K),qt!==null&&(e&&qt.alternate!==null&&ot.delete(qt.key===null?Ct:qt.key),D=f(qt,D,Ct),Ht===null?ht=qt:Ht.sibling=qt,Ht=qt);return e&&ot.forEach(function(mS){return n(V,mS)}),zt&&Fi(V,Ct),ht}function ie(V,D,P,K){if(typeof P=="object"&&P!==null&&P.type===tt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var ht=P.key;D!==null;){if(D.key===ht){if(ht=P.type,ht===tt){if(D.tag===7){r(V,D.sibling),K=h(D,P.props.children),K.return=V,V=K;break t}}else if(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Ur(ht)===D.type){r(V,D.sibling),K=h(D,P.props),Ko(K,P),K.return=V,V=K;break t}r(V,D);break}else n(V,D);D=D.sibling}P.type===tt?(K=Or(P.props.children,V.mode,K,P.key),K.return=V,V=K):(K=Iu(P.type,P.key,P.props,null,V.mode,K),Ko(K,P),K.return=V,V=K)}return g(V);case Z:t:{for(ht=P.key;D!==null;){if(D.key===ht)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(V,D.sibling),K=h(D,P.children||[]),K.return=V,V=K;break t}else{r(V,D);break}else n(V,D);D=D.sibling}K=Hh(P,V.mode,K),K.return=V,V=K}return g(V);case A:return P=Ur(P),ie(V,D,P,K)}if(_e(P))return at(V,D,P,K);if(k(P)){if(ht=k(P),typeof ht!="function")throw Error(a(150));return P=ht.call(P),pt(V,D,P,K)}if(typeof P.then=="function")return ie(V,D,ku(P),K);if(P.$$typeof===mt)return ie(V,D,xu(V,P),K);Lu(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(V,D.sibling),K=h(D,P),K.return=V,V=K):(r(V,D),K=Bh(P,V.mode,K),K.return=V,V=K),g(V)):r(V,D)}return function(V,D,P,K){try{Fo=0;var ht=ie(V,D,P,K);return Na=null,ht}catch(ot){if(ot===Ia||ot===Mu)throw ot;var Ht=Sn(29,ot,null,V.mode);return Ht.lanes=K,Ht.return=V,Ht}}}var zr=kp(!0),Lp=kp(!1),Ms=!1;function tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ks(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Cu(e),vp(e,null,r),n}return Ru(e,o,n,r),Cu(e)}function Qo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Eo(e,r)}}function nf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var sf=!1;function Yo(){if(sf){var e=Ca;if(e!==null)throw e}}function Xo(e,n,r,o){sf=!1;var h=e.updateQueue;Ms=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,G=z=R=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Vt&j)===j:(o&j)===j){j!==0&&j===Ra&&(sf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,pt=E;j=n;var ie=r;switch(pt.tag){case 1:if(at=pt.payload,typeof at=="function"){Y=at.call(ie,Y,j);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=pt.payload,j=typeof at=="function"?at.call(ie,Y,j):at,j==null)break t;Y=b({},Y,j);break t;case 2:Ms=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,R=Y):G=G.next=H,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),js|=g,e.lanes=g,e.memoizedState=Y}}function Up(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Pp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Up(r[e],n)}var Da=x(null),Uu=x(0);function zp(e,n){e=ns,et(Uu,e),et(Da,n),ns=e|n.baseLanes}function rf(){et(Uu,ns),et(Da,Da.current)}function af(){ns=Uu.current,Q(Da),Q(Uu)}var An=x(null),jn=null;function Ls(e){var n=e.alternate;et(Se,Se.current&1),et(An,e),jn===null&&(n===null||Da.current!==null||n.memoizedState!==null)&&(jn=e)}function of(e){et(Se,Se.current),et(An,e),jn===null&&(jn=e)}function jp(e){e.tag===22?(et(Se,Se.current),et(An,e),jn===null&&(jn=e)):Us()}function Us(){et(Se,Se.current),et(An,An.current)}function bn(e){Q(An),jn===e&&(jn=null),Q(Se)}var Se=x(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||dd(r)||md(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yi=0,Rt=null,ee=null,De=null,zu=!1,xa=!1,jr=!1,ju=0,$o=0,Oa=null,s1=0;function pe(){throw Error(a(321))}function lf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Tn(e[r],n[r]))return!1;return!0}function uf(e,n,r,o,h,f){return Yi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?Ag:bf,jr=!1,f=r(o,h),jr=!1,xa&&(f=Hp(n,r,o,h)),Bp(e),f}function Bp(e){q.H=Wo;var n=ee!==null&&ee.next!==null;if(Yi=0,De=ee=Rt=null,zu=!1,$o=0,Oa=null,n)throw Error(a(300));e===null||xe||(e=e.dependencies,e!==null&&Du(e)&&(xe=!0))}function Hp(e,n,r,o){Rt=e;var h=0;do{if(xa&&(Oa=null),$o=0,xa=!1,25<=h)throw Error(a(301));if(h+=1,De=ee=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=bg,f=n(r,o)}while(xa);return f}function r1(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?Jo(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Rt.flags|=1024),n}function cf(){var e=ju!==0;return ju=0,e}function hf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function ff(e){if(zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zu=!1}Yi=0,De=ee=Rt=null,xa=!1,$o=ju=0,Oa=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Rt.memoizedState=De=e:De=De.next=e,De}function Ae(){if(ee===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=De===null?Rt.memoizedState:De.next;if(n!==null)De=n,ee=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},De===null?Rt.memoizedState=De=e:De=De.next=e}return De}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var n=$o;return $o+=1,Oa===null&&(Oa=[]),e=Op(Oa,e,n),n=Rt,(De===null?n.memoizedState:De.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Ag:bf),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===mt)return Qe(e)}throw Error(a(438,String(e)))}function df(e){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Bu(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=M;return n.index++,r}function Xi(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=Ae();return mf(n,ee,e)}function mf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Vt&Y)===Y:(Yi&Y)===Y){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Ra&&(G=!0);else if((Yi&j)===j){z=z.next,j===Ra&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Y,g=f):R=R.next=Y,Rt.lanes|=j,js|=j;Y=z.action,jr&&r(f,Y),f=z.hasEagerState?z.eagerState:r(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,g=f):R=R.next=j,Rt.lanes|=Y,js|=Y;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!Tn(f,e.memoizedState)&&(xe=!0,G&&(r=Ca,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function pf(e){var n=Ae(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Tn(f,n.memoizedState)||(xe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function qp(e,n,r){var o=Rt,h=Ae(),f=zt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Tn((ee||h).memoizedState,r);if(g&&(h.memoizedState=r,xe=!0),h=h.queue,_f(Kp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||De!==null&&De.memoizedState.tag&1){if(o.flags|=2048,Ma(9,{destroy:void 0},Fp.bind(null,o,h,r,n),null),se===null)throw Error(a(349));f||(Yi&127)!==0||Gp(o,n,r)}return r}function Gp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=Bu(),Rt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Fp(e,n,r,o){n.value=r,n.getSnapshot=o,Qp(n)&&Yp(e)}function Kp(e,n,r){return r(function(){Qp(n)&&Yp(e)})}function Qp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Tn(e,r)}catch{return!0}}function Yp(e){var n=xr(e,2);n!==null&&gn(n,e,2)}function gf(e){var n=un();if(typeof e=="function"){var r=e;if(e=r(),jr){Dn(!0);try{r()}finally{Dn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e},n}function Xp(e,n,r,o){return e.baseState=r,mf(e,ee,typeof o=="function"?o:Xi)}function a1(e,n,r,o,h){if(Ku(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,$p(n,f)):(f.next=r.next,n.pending=r.next=f)}}function $p(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var E=r(h,o),R=q.S;R!==null&&R(g,E),Jp(e,n,E)}catch(z){yf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=r(h,o),Jp(e,n,f)}catch(z){yf(e,n,z)}}function Jp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Zp(e,n,o)},function(o){return yf(e,n,o)}):Zp(e,n,r)}function Zp(e,n,r){n.status="fulfilled",n.value=r,Wp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,$p(e,r)))}function yf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Wp(n),n=n.next;while(n!==o)}e.action=null}function Wp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function tg(e,n){return n}function eg(e,n){if(zt){var r=se.formState;if(r!==null){t:{var o=Rt;if(zt){if(le){e:{for(var h=le,f=zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){le=Bn(h.nextSibling),o=h.data==="F!";break t}}xs(o)}o=!1}o&&(n=r[0])}}return r=un(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tg,lastRenderedState:n},r.queue=o,r=Eg.bind(null,Rt,o),o.dispatch=r,o=gf(!1),f=Af.bind(null,Rt,!1,o.queue),o=un(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=a1.bind(null,Rt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function ng(e){var n=Ae();return ig(n,ee,e)}function ig(e,n,r){if(n=mf(e,n,tg)[0],e=qu(Xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Jo(n)}catch(g){throw g===Ia?Mu:g}else o=n;n=Ae();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Rt.flags|=2048,Ma(9,{destroy:void 0},o1.bind(null,h,r),null)),[o,f,e]}function o1(e,n){e.action=n}function sg(e){var n=Ae(),r=ee;if(r!==null)return ig(n,r,e);Ae(),n=n.memoizedState,r=Ae();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ma(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Bu(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function rg(){return Ae().memoizedState}function Gu(e,n,r,o){var h=un();Rt.flags|=e,h.memoizedState=Ma(1|n,{destroy:void 0},r,o===void 0?null:o)}function Fu(e,n,r,o){var h=Ae();o=o===void 0?null:o;var f=h.memoizedState.inst;ee!==null&&o!==null&&lf(o,ee.memoizedState.deps)?h.memoizedState=Ma(n,f,r,o):(Rt.flags|=e,h.memoizedState=Ma(1|n,f,r,o))}function ag(e,n){Gu(8390656,8,e,n)}function _f(e,n){Fu(2048,8,e,n)}function l1(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Bu(),Rt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function og(e){var n=Ae().memoizedState;return l1({ref:n,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function lg(e,n){return Fu(4,2,e,n)}function ug(e,n){return Fu(4,4,e,n)}function cg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function hg(e,n,r){r=r!=null?r.concat([e]):null,Fu(4,4,cg.bind(null,n,e),r)}function vf(){}function fg(e,n){var r=Ae();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&lf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function dg(e,n){var r=Ae();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&lf(n,o[1]))return o[0];if(o=e(),jr){Dn(!0);try{e()}finally{Dn(!1)}}return r.memoizedState=[o,n],o}function Ef(e,n,r){return r===void 0||(Yi&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=my(),Rt.lanes|=e,js|=e,r)}function mg(e,n,r,o){return Tn(r,n)?r:Da.current!==null?(e=Ef(e,r,o),Tn(e,n)||(xe=!0),e):(Yi&42)===0||(Yi&1073741824)!==0&&(Vt&261930)===0?(xe=!0,e.memoizedState=r):(e=my(),Rt.lanes|=e,js|=e,n)}function pg(e,n,r,o,h){var f=it.p;it.p=f!==0&&8>f?f:8;var g=q.T,E={};q.T=E,Af(e,!1,n,r);try{var R=h(),z=q.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=i1(R,o);Zo(e,n,G,Cn(e))}else Zo(e,n,o,Cn(e))}catch(Y){Zo(e,n,{then:function(){},status:"rejected",reason:Y},Cn())}finally{it.p=f,g!==null&&E.types!==null&&(g.types=E.types),q.T=g}}function u1(){}function Tf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=gg(e).queue;pg(e,h,n,ct,r===null?u1:function(){return yg(e),r(o)})}function gg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:ct},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function yg(e){var n=gg(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},Cn())}function Sf(){return Qe(pl)}function _g(){return Ae().memoizedState}function vg(){return Ae().memoizedState}function c1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Cn();e=Vs(r);var o=ks(n,e,r);o!==null&&(gn(o,n,r),Qo(o,n,r)),n={cache:$h()},e.payload=n;return}n=n.return}}function h1(e,n,r){var o=Cn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Tg(n,r):(r=zh(e,n,r,o),r!==null&&(gn(r,e,o),Sg(r,n,o)))}function Eg(e,n,r){var o=Cn();Zo(e,n,r,o)}function Zo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Tg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,Tn(E,g))return Ru(e,n,h,0),se===null&&wu(),!1}catch{}if(r=zh(e,n,h,o),r!==null)return gn(r,e,o),Sg(r,n,o),!0}return!1}function Af(e,n,r,o){if(o={lane:2,revertLane:ed(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(a(479))}else n=zh(e,r,o,2),n!==null&&gn(n,e,2)}function Ku(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Tg(e,n){xa=zu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Sg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Eo(e,r)}}var Wo={readContext:Qe,use:Hu,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};Wo.useEffectEvent=pe;var Ag={readContext:Qe,use:Hu,useCallback:function(e,n){return un().memoizedState=[e,n===void 0?null:n],e},useContext:Qe,useEffect:ag,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Gu(4194308,4,cg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var r=un();n=n===void 0?null:n;var o=e();if(jr){Dn(!0);try{e()}finally{Dn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=un();if(r!==void 0){var h=r(n);if(jr){Dn(!0);try{r(n)}finally{Dn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=h1.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=un();return e={current:e},n.memoizedState=e},useState:function(e){e=gf(e);var n=e.queue,r=Eg.bind(null,Rt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:vf,useDeferredValue:function(e,n){var r=un();return Ef(r,e,n)},useTransition:function(){var e=gf(!1);return e=pg.bind(null,Rt,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Rt,h=un();if(zt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),se===null)throw Error(a(349));(Vt&127)!==0||Gp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,ag(Kp.bind(null,o,f,e),[e]),o.flags|=2048,Ma(9,{destroy:void 0},Fp.bind(null,o,f,r,n),null),r},useId:function(){var e=un(),n=se.identifierPrefix;if(zt){var r=Ci,o=Ri;r=(o&~(1<<32-Ee(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=ju++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=s1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Sf,useFormState:eg,useActionState:eg,useOptimistic:function(e){var n=un();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Af.bind(null,Rt,!0,r),r.dispatch=n,[e,n]},useMemoCache:df,useCacheRefresh:function(){return un().memoizedState=c1.bind(null,Rt)},useEffectEvent:function(e){var n=un(),r={impl:e};return n.memoizedState=r,function(){if((Qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},bf={readContext:Qe,use:Hu,useCallback:fg,useContext:Qe,useEffect:_f,useImperativeHandle:hg,useInsertionEffect:lg,useLayoutEffect:ug,useMemo:dg,useReducer:qu,useRef:rg,useState:function(){return qu(Xi)},useDebugValue:vf,useDeferredValue:function(e,n){var r=Ae();return mg(r,ee.memoizedState,e,n)},useTransition:function(){var e=qu(Xi)[0],n=Ae().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:qp,useId:_g,useHostTransitionStatus:Sf,useFormState:ng,useActionState:ng,useOptimistic:function(e,n){var r=Ae();return Xp(r,ee,e,n)},useMemoCache:df,useCacheRefresh:vg};bf.useEffectEvent=og;var bg={readContext:Qe,use:Hu,useCallback:fg,useContext:Qe,useEffect:_f,useImperativeHandle:hg,useInsertionEffect:lg,useLayoutEffect:ug,useMemo:dg,useReducer:pf,useRef:rg,useState:function(){return pf(Xi)},useDebugValue:vf,useDeferredValue:function(e,n){var r=Ae();return ee===null?Ef(r,e,n):mg(r,ee.memoizedState,e,n)},useTransition:function(){var e=pf(Xi)[0],n=Ae().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:qp,useId:_g,useHostTransitionStatus:Sf,useFormState:sg,useActionState:sg,useOptimistic:function(e,n){var r=Ae();return ee!==null?Xp(r,ee,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:df,useCacheRefresh:vg};bg.useEffectEvent=og;function wf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Rf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Cn(),h=Vs(o);h.payload=n,r!=null&&(h.callback=r),n=ks(e,h,o),n!==null&&(gn(n,e,o),Qo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Cn(),h=Vs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=ks(e,h,o),n!==null&&(gn(n,e,o),Qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Cn(),o=Vs(r);o.tag=2,n!=null&&(o.callback=n),n=ks(e,o,r),n!==null&&(gn(n,e,r),Qo(n,e,r))}};function wg(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!zo(r,o)||!zo(h,f):!0}function Rg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Rf.enqueueReplaceState(n,n.state,null)}function Br(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Cg(e){bu(e)}function Ig(e){console.error(e)}function Ng(e){bu(e)}function Qu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Dg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(e,n,r){return r=Vs(r),r.tag=3,r.payload={element:null},r.callback=function(){Qu(e,n)},r}function xg(e){return e=Vs(e),e.tag=3,e}function Og(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Dg(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Dg(n,r,o),typeof h!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function f1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&wa(n,r,h,!0),r=An.current,r!==null){switch(r.tag){case 31:case 13:return jn===null?rc():r.alternate===null&&ge===0&&(ge=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Vu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Zf(e,o,h)),!1;case 22:return r.flags|=65536,o===Vu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Zf(e,o,h)),!1}throw Error(a(435,r.tag))}return Zf(e,o,h),rc(),!1}if(zt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Fh&&(e=Error(a(422),{cause:o}),Ho(Ln(e,r)))):(o!==Fh&&(n=Error(a(423),{cause:o}),Ho(Ln(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Ln(o,r),h=Cf(e.stateNode,o,h),nf(e,h),ge!==4&&(ge=2)),!1;var f=Error(a(520),{cause:o});if(f=Ln(f,r),ol===null?ol=[f]:ol.push(f),ge!==4&&(ge=2),n===null)return!0;o=Ln(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Cf(r.stateNode,o,e),nf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Bs===null||!Bs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=xg(h),Og(h,e,r,o),nf(r,h),!1}r=r.return}while(r!==null);return!1}var If=Error(a(461)),xe=!1;function Ye(e,n,r,o){n.child=e===null?Lp(n,null,r,o):zr(n,e.child,r,o)}function Mg(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return kr(n),o=uf(e,n,r,g,f,h),E=cf(),e!==null&&!xe?(hf(e,n,h),$i(e,n,h)):(zt&&E&&qh(n),n.flags|=1,Ye(e,n,o,h),n.child)}function Vg(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!jh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,kg(e,n,f,o,h)):(e=Iu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Lf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:zo,r(g,o)&&e.ref===n.ref)return $i(e,n,h)}return n.flags|=1,e=Gi(f,o),e.ref=n.ref,e.return=n,n.child=e}function kg(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(zo(f,o)&&e.ref===n.ref)if(xe=!1,n.pendingProps=o=f,Lf(e,h))(e.flags&131072)!==0&&(xe=!0);else return n.lanes=e.lanes,$i(e,n,h)}return Nf(e,n,r,o,h)}function Lg(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Ug(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?zp(n,f):rf(),jp(n);else return o=n.lanes=536870912,Ug(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Ou(n,f.cachePool),zp(n,f),Us(),n.memoizedState=null):(e!==null&&Ou(n,null),rf(),Us());return Ye(e,n,h,r),n.child}function tl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ug(e,n,r,o,h){var f=Zh();return f=f===null?null:{parent:Ne._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Ou(n,null),rf(),jp(n),e!==null&&wa(e,n,o,!0),n.childLanes=h,null}function Yu(e,n){return n=$u({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Pg(e,n,r){return zr(n,e.child,null,r),e=Yu(n,n.pendingProps),e.flags|=2,bn(n),n.memoizedState=null,e}function d1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(zt){if(o.mode==="hidden")return e=Yu(n,o),n.lanes=536870912,tl(null,e);if(of(n),(e=le)?(e=$y(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ns!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},r=Tp(e),r.return=n,n.child=r,Ke=n,le=null)):e=null,e===null)throw xs(n);return n.lanes=536870912,null}return Yu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(of(n),h)if(n.flags&256)n.flags&=-257,n=Pg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(xe||wa(e,n,r,!1),h=(r&e.childLanes)!==0,xe||h){if(o=se,o!==null&&(g=To(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,xr(e,g),gn(o,e,g),If;rc(),n=Pg(e,n,r)}else e=f.treeContext,le=Bn(g.nextSibling),Ke=n,zt=!0,Ds=null,zn=!1,e!==null&&bp(n,e),n=Yu(n,o),n.flags|=4096;return n}return e=Gi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Nf(e,n,r,o,h){return kr(n),r=uf(e,n,r,o,void 0,h),o=cf(),e!==null&&!xe?(hf(e,n,h),$i(e,n,h)):(zt&&o&&qh(n),n.flags|=1,Ye(e,n,r,h),n.child)}function zg(e,n,r,o,h,f){return kr(n),n.updateQueue=null,r=Hp(n,o,r,h),Bp(e),o=cf(),e!==null&&!xe?(hf(e,n,f),$i(e,n,f)):(zt&&o&&qh(n),n.flags|=1,Ye(e,n,r,f),n.child)}function jg(e,n,r,o,h){if(kr(n),n.stateNode===null){var f=Ta,g=r.contextType;typeof g=="object"&&g!==null&&(f=Qe(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},tf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Qe(g):Ta,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(wf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Rf.enqueueReplaceState(f,f.state,null),Xo(n,o,f,h),Yo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Br(r,E);f.props=R;var z=f.context,G=r.contextType;g=Ta,typeof G=="object"&&G!==null&&(g=Qe(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Rg(n,f,o,g),Ms=!1;var j=n.memoizedState;f.state=j,Xo(n,o,f,h),Yo(),z=n.memoizedState,E||j!==z||Ms?(typeof Y=="function"&&(wf(n,r,Y,o),z=n.memoizedState),(R=Ms||wg(n,r,R,o,j,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ef(e,n),g=n.memoizedProps,G=Br(r,g),f.props=G,Y=n.pendingProps,j=f.context,z=r.contextType,R=Ta,typeof z=="object"&&z!==null&&(R=Qe(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==R)&&Rg(n,f,o,R),Ms=!1,j=n.memoizedState,f.state=j,Xo(n,o,f,h),Yo();var H=n.memoizedState;g!==Y||j!==H||Ms||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof E=="function"&&(wf(n,r,E,o),H=n.memoizedState),(G=Ms||wg(n,r,G,o,j,H,R)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Xu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=zr(n,e.child,null,h),n.child=zr(n,null,r,h)):Ye(e,n,r,h),n.memoizedState=f.state,e=n.child):e=$i(e,n,h),e}function Bg(e,n,r,o){return Mr(),n.flags|=256,Ye(e,n,r,o),n.child}var Df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(e){return{baseLanes:e,cachePool:Dp()}}function Of(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Rn),e}function Hg(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(h?Ls(n):Us(),(e=le)?(e=$y(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ns!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},r=Tp(e),r.return=n,n.child=r,Ke=n,le=null)):e=null,e===null)throw xs(n);return md(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Us(),h=n.mode,E=$u({mode:"hidden",children:E},h),o=Or(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=xf(r),o.childLanes=Of(e,g,r),n.memoizedState=Df,tl(null,o)):(Ls(n),Mf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ls(n),n.flags&=-257,n=Vf(e,n,r)):n.memoizedState!==null?(Us(),n.child=e.child,n.flags|=128,n=null):(Us(),E=o.fallback,h=n.mode,o=$u({mode:"visible",children:o.children},h),E=Or(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,zr(n,e.child,null,r),o=n.child,o.memoizedState=xf(r),o.childLanes=Of(e,g,r),n.memoizedState=Df,n=tl(null,o));else if(Ls(n),md(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Ho({value:o,source:null,stack:null}),n=Vf(e,n,r)}else if(xe||wa(e,n,r,!1),g=(r&e.childLanes)!==0,xe||g){if(g=se,g!==null&&(o=To(g,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,xr(e,o),gn(g,e,o),If;dd(E)||rc(),n=Vf(e,n,r)}else dd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,le=Bn(E.nextSibling),Ke=n,zt=!0,Ds=null,zn=!1,e!==null&&bp(n,e),n=Mf(n,o.children),n.flags|=4096);return n}return h?(Us(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Gi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Gi(z,E):(E=Or(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,tl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=xf(r):(h=E.cachePool,h!==null?(R=Ne._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Dp(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Of(e,g,r),n.memoizedState=Df,tl(e.child,o)):(Ls(n),r=e.child,e=r.sibling,r=Gi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Mf(e,n){return n=$u({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $u(e,n){return e=Sn(22,e,null,n),e.lanes=0,e}function Vf(e,n,r){return zr(n,e.child,null,r),e=Mf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function qg(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Yh(e.return,n,r)}function kf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Gg(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Se.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(Se,g),Ye(e,n,o,r),o=zt?Bo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qg(e,r,n);else if(e.tag===19)qg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Pu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),kf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}kf(n,!0,r,null,f,o);break;case"together":kf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function $i(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),js|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(wa(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Gi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Gi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Lf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function m1(e,n,r){switch(n.tag){case 3:ve(n,n.stateNode.containerInfo),Os(n,Ne,e.memoizedState.cache),Mr();break;case 27:case 5:Pi(n);break;case 4:ve(n,n.stateNode.containerInfo);break;case 10:Os(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,of(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ls(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Hg(e,n,r):(Ls(n),e=$i(e,n,r),e!==null?e.sibling:null);Ls(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(wa(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Gg(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Se,Se.current),o)break;return null;case 22:return n.lanes=0,Lg(e,n,r,n.pendingProps);case 24:Os(n,Ne,e.memoizedState.cache)}return $i(e,n,r)}function Fg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)xe=!0;else{if(!Lf(e,r)&&(n.flags&128)===0)return xe=!1,m1(e,n,r);xe=(e.flags&131072)!==0}else xe=!1,zt&&(n.flags&1048576)!==0&&Ap(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ur(n.elementType),n.type=e,typeof e=="function")jh(e)?(o=Br(e,o),n.tag=1,n=jg(null,n,e,o,r)):(n.tag=0,n=Nf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===xt){n.tag=11,n=Mg(null,n,e,o,r);break t}else if(h===I){n.tag=14,n=Vg(null,n,e,o,r);break t}}throw n=Ft(e)||e,Error(a(306,n,""))}}return n;case 0:return Nf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Br(o,n.pendingProps),jg(e,n,o,h,r);case 3:t:{if(ve(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,ef(e,n),Xo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Os(n,Ne,o),o!==f.cache&&Xh(n,[Ne],r,!0),Yo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Bg(e,n,o,r);break t}else if(o!==h){h=Ln(Error(a(424)),n),Ho(h),n=Bg(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,le=Bn(e.firstChild),Ke=n,zt=!0,Ds=null,zn=!0,r=Lp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Mr(),o===h){n=$i(e,n,r);break t}Ye(e,n,o,r)}n=n.child}return n;case 26:return Xu(e,n),e===null?(r=n_(n.type,null,n.pendingProps,null))?n.memoizedState=r:zt||(r=n.type,e=n.pendingProps,o=fc(bt.current).createElement(r),o[Re]=n,o[je]=e,Xe(o,r,e),Ce(o),n.stateNode=o):n.memoizedState=n_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Pi(n),e===null&&zt&&(o=n.stateNode=Wy(n.type,n.pendingProps,bt.current),Ke=n,zn=!0,h=le,Fs(n.type)?(pd=h,le=Bn(o.firstChild)):le=h),Ye(e,n,n.pendingProps.children,r),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((h=o=le)&&(o=G1(o,n.type,n.pendingProps,zn),o!==null?(n.stateNode=o,Ke=n,le=Bn(o.firstChild),zn=!1,h=!0):h=!1),h||xs(n)),Pi(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,cd(h,f)?o=null:g!==null&&cd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=uf(e,n,r1,null,null,r),pl._currentValue=h),Xu(e,n),Ye(e,n,o,r),n.child;case 6:return e===null&&zt&&((e=r=le)&&(r=F1(r,n.pendingProps,zn),r!==null?(n.stateNode=r,Ke=n,le=null,e=!0):e=!1),e||xs(n)),null;case 13:return Hg(e,n,r);case 4:return ve(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=zr(n,null,o,r):Ye(e,n,o,r),n.child;case 11:return Mg(e,n,n.type,n.pendingProps,r);case 7:return Ye(e,n,n.pendingProps,r),n.child;case 8:return Ye(e,n,n.pendingProps.children,r),n.child;case 12:return Ye(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Os(n,n.type,o.value),Ye(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,kr(n),h=Qe(h),o=o(h),n.flags|=1,Ye(e,n,o,r),n.child;case 14:return Vg(e,n,n.type,n.pendingProps,r);case 15:return kg(e,n,n.type,n.pendingProps,r);case 19:return Gg(e,n,r);case 31:return d1(e,n,r);case 22:return Lg(e,n,r,n.pendingProps);case 24:return kr(n),o=Qe(Ne),e===null?(h=Zh(),h===null&&(h=se,f=$h(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},tf(n),Os(n,Ne,h)):((e.lanes&r)!==0&&(ef(e,n),Xo(n,null,null,r),Yo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Os(n,Ne,o)):(o=f.cache,Os(n,Ne,o),o!==h.cache&&Xh(n,[Ne],r,!0))),Ye(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ji(e){e.flags|=4}function Uf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(_y())e.flags|=8192;else throw Pr=Vu,Wh}else e.flags&=-16777217}function Kg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!o_(n))if(_y())e.flags|=8192;else throw Pr=Vu,Wh}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?iu():536870912,e.lanes|=n,Ua|=n)}function el(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ue(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function p1(e,n,r){var o=n.pendingProps;switch(Gh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(n),null;case 1:return ue(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Qi(Ne),ae(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ba(n)?Ji(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kh())),ue(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Ji(n),f!==null?(ue(n),Kg(n,f)):(ue(n),Uf(n,h,null,o,r))):f?f!==e.memoizedState?(Ji(n),ue(n),Kg(n,f)):(ue(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Ji(n),ue(n),Uf(n,h,e,o,r)),null;case 27:if(ps(n),r=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ue(n),null}e=st.current,ba(n)?wp(n):(e=Wy(h,o,r),n.stateNode=e,Ji(n))}return ue(n),null;case 5:if(ps(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ue(n),null}if(f=st.current,ba(n))wp(n);else{var g=fc(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Re]=n,f[je]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Xe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Ji(n)}}return ue(n),Uf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Ji(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=bt.current,ba(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Ke,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Re]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Hy(e.nodeValue,r)),e||xs(n,!0)}else e=fc(e).createTextNode(o),e[Re]=n,n.stateNode=e}return ue(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ba(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Re]=n}else Mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),e=!1}else r=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ue(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ba(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Re]=n}else Mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),h=!1}else h=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Ju(n,n.updateQueue),ue(n),null);case 4:return ae(),e===null&&rd(n.stateNode.containerInfo),ue(n),null;case 10:return Qi(n.type),ue(n),null;case 19:if(Q(Se),o=n.memoizedState,o===null)return ue(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)el(o,!1);else{if(ge!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Pu(e),f!==null){for(n.flags|=128,el(o,!1),e=f.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Ep(r,e),r=r.sibling;return et(Se,Se.current&1|2),zt&&Fi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&gt()>nc&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304)}else{if(!h)if(e=Pu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),el(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!zt)return ue(n),null}else 2*gt()-o.renderingStartTime>nc&&r!==536870912&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=gt(),e.sibling=null,r=Se.current,et(Se,h?r&1|2:r&1),zt&&Fi(n,o.treeForkCount),e):(ue(n),null);case 22:case 23:return bn(n),af(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ue(n),n.subtreeFlags&6&&(n.flags|=8192)):ue(n),r=n.updateQueue,r!==null&&Ju(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Q(Lr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Qi(Ne),ue(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function g1(e,n){switch(Gh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Qi(Ne),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ps(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(a(340));Mr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(bn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Mr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(Se),null;case 4:return ae(),null;case 10:return Qi(n.type),null;case 22:case 23:return bn(n),af(),e!==null&&Q(Lr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Qi(Ne),null;case 25:return null;default:return null}}function Qg(e,n){switch(Gh(n),n.tag){case 3:Qi(Ne),ae();break;case 26:case 27:case 5:ps(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:Q(Se);break;case 10:Qi(n.type);break;case 22:case 23:bn(n),af(),e!==null&&Q(Lr);break;case 24:Qi(Ne)}}function nl(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Wt(n,n.return,E)}}function Ps(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=r,z=E;try{z()}catch(G){Wt(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Wt(n,n.return,G)}}function Yg(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Pp(n,r)}catch(o){Wt(e,e.return,o)}}}function Xg(e,n,r){r.props=Br(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Wt(e,n,o)}}function il(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Wt(e,n,h)}}function Ii(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Wt(e,n,h)}else r.current=null}function $g(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Wt(e,e.return,h)}}function Pf(e,n,r){try{var o=e.stateNode;P1(o,e.type,r,n),o[je]=n}catch(h){Wt(e,e.return,h)}}function Jg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fs(e.type)||e.tag===4}function zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Jg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=$n));else if(o!==4&&(o===27&&Fs(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(jf(e,n,r),e=e.sibling;e!==null;)jf(e,n,r),e=e.sibling}function Zu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Fs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Zu(e,n,r),e=e.sibling;e!==null;)Zu(e,n,r),e=e.sibling}function Zg(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Xe(n,o,r),n[Re]=e,n[je]=r}catch(f){Wt(e,e.return,f)}}var Zi=!1,Oe=!1,Bf=!1,Wg=typeof WeakSet=="function"?WeakSet:Set,He=null;function y1(e,n){if(e=e.containerInfo,ld=vc,e=hp(e),Mh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,R=-1,z=0,G=0,Y=e,j=null;e:for(;;){for(var H;Y!==r||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(R=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(H=Y.firstChild)!==null;)j=Y,Y=H;for(;;){if(Y===e)break e;if(j===r&&++z===h&&(E=g),j===f&&++G===o&&(R=g),(H=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=H}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(ud={focusedElem:e,selectionRange:r},vc=!1,He=n;He!==null;)if(n=He,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,He=e;else for(;He!==null;){switch(n=He,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var at=Br(r.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Wt(r,r.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)fd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,He=e;break}He=n.return}}function ty(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ts(e,r),o&4&&nl(5,r);break;case 1:if(ts(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Wt(r,r.return,g)}else{var h=Br(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Wt(r,r.return,g)}}o&64&&Yg(r),o&512&&il(r,r.return);break;case 3:if(ts(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Pp(e,n)}catch(g){Wt(r,r.return,g)}}break;case 27:n===null&&o&4&&Zg(r);case 26:case 5:ts(e,r),n===null&&o&4&&$g(r),o&512&&il(r,r.return);break;case 12:ts(e,r);break;case 31:ts(e,r),o&4&&iy(e,r);break;case 13:ts(e,r),o&4&&sy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=R1.bind(null,r),K1(e,r))));break;case 22:if(o=r.memoizedState!==null||Zi,!o){n=n!==null&&n.memoizedState!==null||Oe,h=Zi;var f=Oe;Zi=o,(Oe=n)&&!f?es(e,r,(r.subtreeFlags&8772)!==0):ts(e,r),Zi=h,Oe=f}break;case 30:break;default:ts(e,r)}}function ey(e){var n=e.alternate;n!==null&&(e.alternate=null,ey(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&oa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var de=null,fn=!1;function Wi(e,n,r){for(r=r.child;r!==null;)ny(e,n,r),r=r.sibling}function ny(e,n,r){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Kn,r)}catch{}switch(r.tag){case 26:Oe||Ii(r,n),Wi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Oe||Ii(r,n);var o=de,h=fn;Fs(r.type)&&(de=r.stateNode,fn=!1),Wi(e,n,r),fl(r.stateNode),de=o,fn=h;break;case 5:Oe||Ii(r,n);case 6:if(o=de,h=fn,de=null,Wi(e,n,r),de=o,fn=h,de!==null)if(fn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(r.stateNode)}catch(f){Wt(r,n,f)}else try{de.removeChild(r.stateNode)}catch(f){Wt(r,n,f)}break;case 18:de!==null&&(fn?(e=de,Yy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Fa(e)):Yy(de,r.stateNode));break;case 4:o=de,h=fn,de=r.stateNode.containerInfo,fn=!0,Wi(e,n,r),de=o,fn=h;break;case 0:case 11:case 14:case 15:Ps(2,r,n),Oe||Ps(4,r,n),Wi(e,n,r);break;case 1:Oe||(Ii(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Xg(r,n,o)),Wi(e,n,r);break;case 21:Wi(e,n,r);break;case 22:Oe=(o=Oe)||r.memoizedState!==null,Wi(e,n,r),Oe=o;break;default:Wi(e,n,r)}}function iy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fa(e)}catch(r){Wt(n,n.return,r)}}}function sy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fa(e)}catch(r){Wt(n,n.return,r)}}function _1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Wg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Wg),n;default:throw Error(a(435,e.tag))}}function Wu(e,n){var r=_1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=C1.bind(null,e,o);o.then(h,h)}})}function dn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Fs(E.type)){de=E.stateNode,fn=!1;break t}break;case 5:de=E.stateNode,fn=!1;break t;case 3:case 4:de=E.stateNode.containerInfo,fn=!0;break t}E=E.return}if(de===null)throw Error(a(160));ny(f,g,h),de=null,fn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ry(n,e),n=n.sibling}var ni=null;function ry(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(n,e),mn(e),o&4&&(Ps(3,e,e.return),nl(3,e),Ps(5,e,e.return));break;case 1:dn(n,e),mn(e),o&512&&(Oe||r===null||Ii(r,r.return)),o&64&&Zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ni;if(dn(n,e),mn(e),o&512&&(Oe||r===null||Ii(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[mi]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Xe(f,o,r),f[Re]=e,Ce(f),o=f;break t;case"link":var g=r_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Xe(f,o,r),h.head.appendChild(f);break;case"meta":if(g=r_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Xe(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Re]=e,Ce(f),o=f}e.stateNode=o}else a_(h,e.type,e.stateNode);else e.stateNode=s_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?a_(h,e.type,e.stateNode):s_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Pf(e,e.memoizedProps,r.memoizedProps)}break;case 27:dn(n,e),mn(e),o&512&&(Oe||r===null||Ii(r,r.return)),r!==null&&o&4&&Pf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(dn(n,e),mn(e),o&512&&(Oe||r===null||Ii(r,r.return)),e.flags&32){h=e.stateNode;try{hn(h,"")}catch(at){Wt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Pf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Bf=!0);break;case 6:if(dn(n,e),mn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(at){Wt(e,e.return,at)}}break;case 3:if(pc=null,h=ni,ni=dc(n.containerInfo),dn(n,e),ni=h,mn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Fa(n.containerInfo)}catch(at){Wt(e,e.return,at)}Bf&&(Bf=!1,ay(e));break;case 4:o=ni,ni=dc(e.stateNode.containerInfo),dn(n,e),mn(e),ni=o;break;case 12:dn(n,e),mn(e);break;case 31:dn(n,e),mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 13:dn(n,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ec=gt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=Zi,G=Oe;if(Zi=z||h,Oe=G||R,dn(n,e),Oe=G,Zi=z,mn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||Zi||Oe||Hr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Wt(R,R.return,at)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Wt(R,R.return,at)}}}else if(n.tag===18){if(r===null){R=n;try{var H=R.stateNode;h?Xy(H,!0):Xy(R.stateNode,!1)}catch(at){Wt(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Wu(e,r))));break;case 19:dn(n,e),mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 30:break;case 21:break;default:dn(n,e),mn(e)}}function mn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Jg(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=zf(e);Zu(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(hn(g,""),r.flags&=-33);var E=zf(e);Zu(e,E,g);break;case 3:case 4:var R=r.stateNode.containerInfo,z=zf(e);jf(e,z,R);break;default:throw Error(a(161))}}catch(G){Wt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ay(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ts(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ty(e,n.alternate,n),n=n.sibling}function Hr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ps(4,n,n.return),Hr(n);break;case 1:Ii(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Xg(n,n.return,r),Hr(n);break;case 27:fl(n.stateNode);case 26:case 5:Ii(n,n.return),Hr(n);break;case 22:n.memoizedState===null&&Hr(n);break;case 30:Hr(n);break;default:Hr(n)}e=e.sibling}}function es(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:es(h,f,r),nl(4,f);break;case 1:if(es(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Wt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Up(R[h],E)}catch(z){Wt(o,o.return,z)}}r&&g&64&&Yg(f),il(f,f.return);break;case 27:Zg(f);case 26:case 5:es(h,f,r),r&&o===null&&g&4&&$g(f),il(f,f.return);break;case 12:es(h,f,r);break;case 31:es(h,f,r),r&&g&4&&iy(h,f);break;case 13:es(h,f,r),r&&g&4&&sy(h,f);break;case 22:f.memoizedState===null&&es(h,f,r),il(f,f.return);break;case 30:break;default:es(h,f,r)}n=n.sibling}}function Hf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&qo(r))}function qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e))}function ii(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)oy(e,n,r,o),n=n.sibling}function oy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ii(e,n,r,o),h&2048&&nl(9,n);break;case 1:ii(e,n,r,o);break;case 3:ii(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){ii(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Wt(n,n.return,R)}}else ii(e,n,r,o);break;case 31:ii(e,n,r,o);break;case 13:ii(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ii(e,n,r,o):sl(e,n):f._visibility&2?ii(e,n,r,o):(f._visibility|=2,Va(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Hf(g,n);break;case 24:ii(e,n,r,o),h&2048&&qf(n.alternate,n);break;default:ii(e,n,r,o)}}function Va(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,R=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Va(f,g,E,R,h),nl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Va(f,g,E,R,h):sl(f,g):(G._visibility|=2,Va(f,g,E,R,h)),h&&z&2048&&Hf(g.alternate,g);break;case 24:Va(f,g,E,R,h),h&&z&2048&&qf(g.alternate,g);break;default:Va(f,g,E,R,h)}n=n.sibling}}function sl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:sl(r,o),h&2048&&Hf(o.alternate,o);break;case 24:sl(r,o),h&2048&&qf(o.alternate,o);break;default:sl(r,o)}n=n.sibling}}var rl=8192;function ka(e,n,r){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)ly(e,n,r),e=e.sibling}function ly(e,n,r){switch(e.tag){case 26:ka(e,n,r),e.flags&rl&&e.memoizedState!==null&&sS(r,ni,e.memoizedState,e.memoizedProps);break;case 5:ka(e,n,r);break;case 3:case 4:var o=ni;ni=dc(e.stateNode.containerInfo),ka(e,n,r),ni=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=rl,rl=16777216,ka(e,n,r),rl=o):ka(e,n,r));break;default:ka(e,n,r)}}function uy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function al(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];He=o,hy(o,e)}uy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cy(e),e=e.sibling}function cy(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&Ps(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):al(e);break;default:al(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];He=o,hy(o,e)}uy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ps(8,n,n.return),tc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function hy(e,n){for(;He!==null;){var r=He;switch(r.tag){case 0:case 11:case 15:Ps(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,He=o;else t:for(r=e;He!==null;){o=He;var h=o.sibling,f=o.return;if(ey(o),o===r){He=null;break t}if(h!==null){h.return=f,He=h;break t}He=f}}}var v1={getCacheForType:function(e){var n=Qe(Ne),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Qe(Ne).controller.signal}},E1=typeof WeakMap=="function"?WeakMap:Map,Qt=0,se=null,Nt=null,Vt=0,Zt=0,wn=null,zs=!1,La=!1,Gf=!1,ns=0,ge=0,js=0,qr=0,Ff=0,Rn=0,Ua=0,ol=null,pn=null,Kf=!1,ec=0,fy=0,nc=1/0,ic=null,Bs=null,ke=0,Hs=null,Pa=null,is=0,Qf=0,Yf=null,dy=null,ll=0,Xf=null;function Cn(){return(Qt&2)!==0&&Vt!==0?Vt&-Vt:q.T!==null?ed():su()}function my(){if(Rn===0)if((Vt&536870912)===0||zt){var e=gr;gr<<=1,(gr&3932160)===0&&(gr=262144),Rn=e}else Rn=536870912;return e=An.current,e!==null&&(e.flags|=32),Rn}function gn(e,n,r){(e===se&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(za(e,0),qs(e,Vt,Rn,!1)),yr(e,r),((Qt&2)===0||e!==se)&&(e===se&&((Qt&2)===0&&(qr|=r),ge===4&&qs(e,Vt,Rn,!1)),Ni(e))}function py(e,n,r){if((Qt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Qn(e,n),h=o?A1(e,n):Jf(e,n,!0),f=o;do{if(h===0){La&&!o&&qs(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!T1(r)){h=Jf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=ol;var R=E.current.memoizedState.isDehydrated;if(R&&(za(E,g).flags|=256),g=Jf(E,g,!1),g!==2){if(Gf&&!R){E.errorRecoveryDisabledLanes|=f,qr|=f,h=4;break t}f=pn,pn=h,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){za(e,0),qs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:qs(o,n,Rn,!zs);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ec+300-gt(),10<h)){if(qs(o,n,Rn,!zs),hi(o,0,!0)!==0)break t;is=n,o.timeoutHandle=Ky(gy.bind(null,o,r,pn,ic,Kf,n,Rn,qr,Ua,zs,f,"Throttled",-0,0),h);break t}gy(o,r,pn,ic,Kf,n,Rn,qr,Ua,zs,f,null,-0,0)}}break}while(!0);Ni(e)}function gy(e,n,r,o,h,f,g,E,R,z,G,Y,j,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},ly(n,f,Y);var at=(f&62914560)===f?ec-gt():(f&4194048)===f?fy-gt():0;if(at=rS(Y,at),at!==null){is=f,e.cancelPendingCommit=at(by.bind(null,e,n,f,r,o,h,g,E,R,G,Y,null,j,H)),qs(e,f,g,!z);return}}by(e,n,f,r,o,h,g,E,R)}function T1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Tn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qs(e,n,r,o){n&=~Ff,n&=~qr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Ee(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&_r(e,r,n)}function sc(){return(Qt&6)===0?(ul(0),!1):!0}function $f(){if(Nt!==null){if(Zt===0)var e=Nt.return;else e=Nt,Ki=Vr=null,ff(e),Na=null,Fo=0,e=Nt;for(;e!==null;)Qg(e.alternate,e),e=e.return;Nt=null}}function za(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,B1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),is=0,$f(),se=e,Nt=r=Gi(e.current,null),Vt=n,Zt=0,wn=null,zs=!1,La=Qn(e,n),Gf=!1,Ua=Rn=Ff=qr=js=ge=0,pn=ol=null,Kf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ee(o),f=1<<h;n|=e[h],o&=~f}return ns=n,wu(),r}function yy(e,n){Rt=null,q.H=Wo,n===Ia||n===Mu?(n=Mp(),Zt=3):n===Wh?(n=Mp(),Zt=4):Zt=n===If?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wn=n,Nt===null&&(ge=1,Qu(e,Ln(n,e.current)))}function _y(){var e=An.current;return e===null?!0:(Vt&4194048)===Vt?jn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===jn:!1}function vy(){var e=q.H;return q.H=Wo,e===null?Wo:e}function Ey(){var e=q.A;return q.A=v1,e}function rc(){ge=4,zs||(Vt&4194048)!==Vt&&An.current!==null||(La=!0),(js&134217727)===0&&(qr&134217727)===0||se===null||qs(se,Vt,Rn,!1)}function Jf(e,n,r){var o=Qt;Qt|=2;var h=vy(),f=Ey();(se!==e||Vt!==n)&&(ic=null,za(e,n)),n=!1;var g=ge;t:do try{if(Zt!==0&&Nt!==null){var E=Nt,R=wn;switch(Zt){case 8:$f(),g=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var z=Zt;if(Zt=0,wn=null,ja(e,E,R,z),r&&La){g=0;break t}break;default:z=Zt,Zt=0,wn=null,ja(e,E,R,z)}}S1(),g=ge;break}catch(G){yy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Ki=Vr=null,Qt=o,q.H=h,q.A=f,Nt===null&&(se=null,Vt=0,wu()),g}function S1(){for(;Nt!==null;)Ty(Nt)}function A1(e,n){var r=Qt;Qt|=2;var o=vy(),h=Ey();se!==e||Vt!==n?(ic=null,nc=gt()+500,za(e,n)):La=Qn(e,n);t:do try{if(Zt!==0&&Nt!==null){n=Nt;var f=wn;e:switch(Zt){case 1:Zt=0,wn=null,ja(e,n,f,1);break;case 2:case 9:if(xp(f)){Zt=0,wn=null,Sy(n);break}n=function(){Zt!==2&&Zt!==9||se!==e||(Zt=7),Ni(e)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:xp(f)?(Zt=0,wn=null,Sy(n)):(Zt=0,wn=null,ja(e,n,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var E=Nt;if(g?o_(g):E.stateNode.complete){Zt=0,wn=null;var R=E.sibling;if(R!==null)Nt=R;else{var z=E.return;z!==null?(Nt=z,ac(z)):Nt=null}break e}}Zt=0,wn=null,ja(e,n,f,5);break;case 6:Zt=0,wn=null,ja(e,n,f,6);break;case 8:$f(),ge=6;break t;default:throw Error(a(462))}}b1();break}catch(G){yy(e,G)}while(!0);return Ki=Vr=null,q.H=o,q.A=h,Qt=r,Nt!==null?0:(se=null,Vt=0,wu(),ge)}function b1(){for(;Nt!==null&&!$();)Ty(Nt)}function Ty(e){var n=Fg(e.alternate,e,ns);e.memoizedProps=e.pendingProps,n===null?ac(e):Nt=n}function Sy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=zg(r,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=zg(r,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:ff(n);default:Qg(r,n),n=Nt=Ep(n,ns),n=Fg(r,n,ns)}e.memoizedProps=e.pendingProps,n===null?ac(e):Nt=n}function ja(e,n,r,o){Ki=Vr=null,ff(n),Na=null,Fo=0;var h=n.return;try{if(f1(e,h,n,r,Vt)){ge=1,Qu(e,Ln(r,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;ge=1,Qu(e,Ln(r,e.current)),Nt=null;return}n.flags&32768?(zt||o===1?e=!0:La||(Vt&536870912)!==0?e=!1:(zs=e=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ay(n,e)):ac(n)}function ac(e){var n=e;do{if((n.flags&32768)!==0){Ay(n,zs);return}e=n.return;var r=p1(n.alternate,n,ns);if(r!==null){Nt=r;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);ge===0&&(ge=5)}function Ay(e,n){do{var r=g1(e.alternate,e);if(r!==null){r.flags&=32767,Nt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=r}while(e!==null);ge=6,Nt=null}function by(e,n,r,o,h,f,g,E,R){e.cancelPendingCommit=null;do oc();while(ke!==0);if((Qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Ph,Nh(e,r,f,g,E,R),e===se&&(Nt=se=null,Vt=0),Pa=n,Hs=e,is=r,Qf=f,Yf=h,dy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,I1(_n,function(){return Ny(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=it.p,it.p=2,g=Qt,Qt|=4;try{y1(e,n,r)}finally{Qt=g,it.p=h,q.T=o}}ke=1,wy(),Ry(),Cy()}}function wy(){if(ke===1){ke=0;var e=Hs,n=Pa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var o=it.p;it.p=2;var h=Qt;Qt|=4;try{ry(n,e);var f=ud,g=hp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&cp(E.ownerDocument.documentElement,E)){if(R!==null&&Mh(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var H=j.getSelection(),at=E.textContent.length,pt=Math.min(R.start,at),ie=R.end===void 0?pt:Math.min(R.end,at);!H.extend&&pt>ie&&(g=ie,ie=pt,pt=g);var V=up(E,pt),D=up(E,ie);if(V&&D&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=Y.createRange();P.setStart(V.node,V.offset),H.removeAllRanges(),pt>ie?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}vc=!!ld,ud=ld=null}finally{Qt=h,it.p=o,q.T=r}}e.current=n,ke=2}}function Ry(){if(ke===2){ke=0;var e=Hs,n=Pa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var o=it.p;it.p=2;var h=Qt;Qt|=4;try{ty(e,n.alternate,n)}finally{Qt=h,it.p=o,q.T=r}}ke=3}}function Cy(){if(ke===4||ke===3){ke=0,ut();var e=Hs,n=Pa,r=is,o=dy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,Pa=Hs=null,Iy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Bs=null),ji(r),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Kn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=it.p,it.p=2,q.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{q.T=n,it.p=h}}(is&3)!==0&&oc(),Ni(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Xf?ll++:(ll=0,Xf=e):ll=0,ul(0)}}function Iy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qo(n)))}function oc(){return wy(),Ry(),Cy(),Ny()}function Ny(){if(ke!==5)return!1;var e=Hs,n=Qf;Qf=0;var r=ji(is),o=q.T,h=it.p;try{it.p=32>r?32:r,q.T=null,r=Yf,Yf=null;var f=Hs,g=is;if(ke=0,Pa=Hs=null,is=0,(Qt&6)!==0)throw Error(a(331));var E=Qt;if(Qt|=4,cy(f.current),oy(f,f.current,g,r),Qt=E,ul(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Kn,f)}catch{}return!0}finally{it.p=h,q.T=o,Iy(e,n)}}function Dy(e,n,r){n=Ln(r,n),n=Cf(e.stateNode,n,2),e=ks(e,n,2),e!==null&&(yr(e,2),Ni(e))}function Wt(e,n,r){if(e.tag===3)Dy(e,e,r);else for(;n!==null;){if(n.tag===3){Dy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Bs===null||!Bs.has(o))){e=Ln(r,e),r=xg(2),o=ks(n,r,2),o!==null&&(Og(r,o,n,e),yr(o,2),Ni(o));break}}n=n.return}}function Zf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new E1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Gf=!0,h.add(r),e=w1.bind(null,e,n,r),n.then(e,e))}function w1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,se===e&&(Vt&r)===r&&(ge===4||ge===3&&(Vt&62914560)===Vt&&300>gt()-ec?(Qt&2)===0&&za(e,0):Ff|=r,Ua===Vt&&(Ua=0)),Ni(e)}function xy(e,n){n===0&&(n=iu()),e=xr(e,n),e!==null&&(yr(e,n),Ni(e))}function R1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),xy(e,r)}function C1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),xy(e,r)}function I1(e,n){return oe(e,n)}var lc=null,Ba=null,Wf=!1,uc=!1,td=!1,Gs=0;function Ni(e){e!==Ba&&e.next===null&&(Ba===null?lc=Ba=e:Ba=Ba.next=e),uc=!0,Wf||(Wf=!0,D1())}function ul(e,n){if(!td&&uc){td=!0;do for(var r=!1,o=lc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ee(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,ky(o,f))}else f=Vt,f=hi(o,o===se?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Qn(o,f)||(r=!0,ky(o,f));o=o.next}while(r);td=!1}}function N1(){Oy()}function Oy(){uc=Wf=!1;var e=0;Gs!==0&&j1()&&(e=Gs);for(var n=gt(),r=null,o=lc;o!==null;){var h=o.next,f=My(o,n);f===0?(o.next=null,r===null?lc=h:r.next=h,h===null&&(Ba=r)):(r=o,(e!==0||(f&3)!==0)&&(uc=!0)),o=h}ke!==0&&ke!==5||ul(e),Gs!==0&&(Gs=0)}function My(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Ee(f),E=1<<g,R=h[g];R===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Ih(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=se,r=Vt,r=hi(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&We(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Qn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&We(o),ji(r)){case 2:case 8:r=Nn;break;case 32:r=_n;break;case 268435456:r=ze;break;default:r=_n}return o=Vy.bind(null,e),r=oe(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&We(o),e.callbackPriority=2,e.callbackNode=null,2}function Vy(e,n){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(oc()&&e.callbackNode!==r)return null;var o=Vt;return o=hi(e,e===se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(py(e,o,n),My(e,gt()),e.callbackNode!=null&&e.callbackNode===r?Vy.bind(null,e):null)}function ky(e,n){if(oc())return null;py(e,n,!0)}function D1(){H1(function(){(Qt&6)!==0?oe(tn,N1):Oy()})}function ed(){if(Gs===0){var e=Ra;e===0&&(e=ui,ui<<=1,(ui&261888)===0&&(ui=256)),Gs=e}return Gs}function Ly(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ha(""+e)}function Uy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function x1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Ly((h[je]||null).action),g=o.submitter;g&&(n=(n=g[je]||null)?Ly(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Si("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Gs!==0){var R=g?Uy(h,g):new FormData(h);Tf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Uy(h,g):new FormData(h),Tf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var nd=0;nd<Uh.length;nd++){var id=Uh[nd],O1=id.toLowerCase(),M1=id[0].toUpperCase()+id.slice(1);ei(O1,"on"+M1)}ei(mp,"onAnimationEnd"),ei(pp,"onAnimationIteration"),ei(gp,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(XT,"onTransitionRun"),ei($T,"onTransitionStart"),ei(JT,"onTransitionCancel"),ei(yp,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function Py(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){bu(G)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){bu(G)}h.currentTarget=null,f=R}}}}function Dt(e,n){var r=n[aa];r===void 0&&(r=n[aa]=new Set);var o=e+"__bubble";r.has(o)||(zy(n,e,2,!1),r.add(o))}function sd(e,n,r){var o=0;n&&(o|=4),zy(r,e,o,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[cc]){e[cc]=!0,So.forEach(function(r){r!=="selectionchange"&&(V1.has(r)||sd(r,!1,e),sd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,sd("selectionchange",!1,n))}}function zy(e,n,r,o){switch(m_(n)){case 2:var h=lS;break;case 8:h=uS;break;default:h=Ed}r=h.bind(null,n,r,e),h=void 0,!Ar||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function ad(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=pi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}ws(function(){var z=f,G=On(r),Y=[];t:{var j=_p.get(e);if(j!==void 0){var H=Si,at=e;switch(e){case"keypress":if(wr(r)===0)break t;case"keydown":case"keyup":H=Tu;break;case"focusin":at="focus",H=Cr;break;case"focusout":at="blur",H=Cr;break;case"beforeblur":case"afterblur":H=Cr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case mp:case pp:case gp:H=mu;break;case yp:H=T;break;case"scroll":case"scrollend":H=Vo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=qi;break;case"toggle":case"beforetoggle":H=wt}var pt=(n&4)!==0,ie=!pt&&(e==="scroll"||e==="scrollend"),V=pt?j!==null?j+"Capture":null:j;pt=[];for(var D=z,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||V===null||(K=Jn(D,V),K!=null&&pt.push(hl(D,K,P))),ie)break;D=D.return}0<pt.length&&(j=new H(j,at,null,r,G),Y.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&r!==xo&&(at=r.relatedTarget||r.fromElement)&&(pi(at)||at[di]))break t;if((H||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,H?(at=r.relatedTarget||r.toElement,H=z,at=at?pi(at):null,at!==null&&(ie=c(at),pt=at.tag,at!==ie||pt!==5&&pt!==27&&pt!==6)&&(at=null)):(H=null,at=z),H!==at)){if(pt=ko,K="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=qi,K="onPointerLeave",V="onPointerEnter",D="pointer"),ie=H==null?j:vn(H),P=at==null?j:vn(at),j=new pt(K,D+"leave",H,r,G),j.target=ie,j.relatedTarget=P,K=null,pi(G)===z&&(pt=new pt(V,D+"enter",at,r,G),pt.target=P,pt.relatedTarget=ie,K=pt),ie=K,H&&at)e:{for(pt=k1,V=H,D=at,P=0,K=V;K;K=pt(K))P++;K=0;for(var ht=D;ht;ht=pt(ht))K++;for(;0<P-K;)V=pt(V),P--;for(;0<K-P;)D=pt(D),K--;for(;P--;){if(V===D||D!==null&&V===D.alternate){pt=V;break e}V=pt(V),D=pt(D)}pt=null}else pt=null;H!==null&&jy(Y,j,H,pt,!1),at!==null&&ie!==null&&jy(Y,ie,at,pt,!0)}}t:{if(j=z?vn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Ht=ip;else if(ep(j))if(sp)Ht=KT;else{Ht=GT;var ot=qT}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ca(z.elementType)&&(Ht=ip):Ht=FT;if(Ht&&(Ht=Ht(e,z))){np(Y,Ht,r,G);break t}ot&&ot(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Io(j,"number",j.value)}switch(ot=z?vn(z):window,e){case"focusin":(ep(ot)||ot.contentEditable==="true")&&(_a=ot,Vh=z,jo=null);break;case"focusout":jo=Vh=_a=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,fp(Y,r,G);break;case"selectionchange":if(YT)break;case"keydown":case"keyup":fp(Y,r,G)}var Ct;if(Kt)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else ya?Ir(e,r)&&(kt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(kt="onCompositionStart");kt&&(wi&&r.locale!=="ko"&&(ya||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&ya&&(Ct=Mo()):(Ti=G,Oo="value"in Ti?Ti.value:Ti.textContent,ya=!0)),ot=hc(z,kt),0<ot.length&&(kt=new bi(kt,e,null,r,G),Y.push({event:kt,listeners:ot}),Ct?kt.data=Ct:(Ct=ga(r),Ct!==null&&(kt.data=Ct)))),(Ct=Vn?zT(e,r):jT(e,r))&&(kt=hc(z,"onBeforeInput"),0<kt.length&&(ot=new bi("onBeforeInput","beforeinput",null,r,G),Y.push({event:ot,listeners:kt}),ot.data=Ct)),x1(Y,e,z,r,G)}Py(Y,n)})}function hl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function hc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Jn(e,r),h!=null&&o.unshift(hl(e,h,f)),h=Jn(e,n),h!=null&&o.push(hl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function k1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jy(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=Jn(r,f),z!=null&&g.unshift(hl(r,z,R))):h||(z=Jn(r,f),z!=null&&g.push(hl(r,z,R)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var L1=/\r\n?/g,U1=/\u0000|\uFFFD/g;function By(e){return(typeof e=="string"?e:""+e).replace(L1,`
`).replace(U1,"")}function Hy(e,n){return n=By(n),By(e)===n}function ne(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||hn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&hn(e,""+o);break;case"className":En(e,"class",o);break;case"tabIndex":En(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":En(e,r,o);break;case"style":Do(e,o,f);break;case"data":if(n!=="object"){En(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ha(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ne(e,n,"name",h.name,h,null),ne(e,n,"formEncType",h.formEncType,h,null),ne(e,n,"formMethod",h.formMethod,h,null),ne(e,n,"formTarget",h.formTarget,h,null)):(ne(e,n,"encType",h.encType,h,null),ne(e,n,"method",h.method,h,null),ne(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ha(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=$n);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ha(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),la(e,"popover",o);break;case"xlinkActuate":Ie(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ie(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ie(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ie(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ie(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ie(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":la(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=hu.get(r)||r,la(e,r,o))}}function od(e,n,r,o,h,f){switch(r){case"style":Do(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?hn(e,o):(typeof o=="number"||typeof o=="bigint")&&hn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[je]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):la(e,r,o)}}}function Xe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,f,g,r,null)}}h&&ne(e,n,"srcSet",r.srcSet,r,null),o&&ne(e,n,"src",r.src,r,null);return;case"input":Dt("invalid",e);var E=f=g=h=null,R=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ne(e,n,o,G,r,null)}}lu(e,f,E,R,z,g,h,!1);return;case"select":Dt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ne(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?Ts(e,!!o,n,!1):r!=null&&Ts(e,!!o,r,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ne(e,n,g,E,r,null)}Ss(e,o,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ne(e,n,R,o,r,null));return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<cl.length;o++)Dt(cl[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,z,o,r,null)}return;default:if(ca(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&od(e,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&ne(e,n,E,o,r,null))}function P1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,G=null;for(H in r){var Y=r[H];if(r.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(H)||ne(e,n,H,null,o,Y)}}for(var j in o){var H=o[j];if(Y=r[j],o.hasOwnProperty(j)&&(H!=null||Y!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&ne(e,n,j,H,o,Y)}}ua(e,g,E,R,z,G,f,h);return;case"select":H=g=E=j=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:o.hasOwnProperty(f)||ne(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&ne(e,n,h,f,o,R)}n=E,r=g,o=H,j!=null?Ts(e,!!r,j,!1):!!o!=!!r&&(n!=null?Ts(e,!!r,n,!0):Ts(e,!!r,r?[]:"",!1));return;case"textarea":H=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ne(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ne(e,n,g,h,o,f)}uu(e,j,H);return;case"option":for(var at in r)j=r[at],r.hasOwnProperty(at)&&j!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:ne(e,n,at,null,o,j));for(R in o)j=o[R],H=r[R],o.hasOwnProperty(R)&&j!==H&&(j!=null||H!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":ne(e,n,R,j,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)j=r[pt],r.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&ne(e,n,pt,null,o,j);for(z in o)if(j=o[z],H=r[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:ne(e,n,z,j,o,H)}return;default:if(ca(n)){for(var ie in r)j=r[ie],r.hasOwnProperty(ie)&&j!==void 0&&!o.hasOwnProperty(ie)&&od(e,n,ie,void 0,o,j);for(G in o)j=o[G],H=r[G],!o.hasOwnProperty(G)||j===H||j===void 0&&H===void 0||od(e,n,G,j,o,H);return}}for(var V in r)j=r[V],r.hasOwnProperty(V)&&j!=null&&!o.hasOwnProperty(V)&&ne(e,n,V,null,o,j);for(Y in o)j=o[Y],H=r[Y],!o.hasOwnProperty(Y)||j===H||j==null&&H==null||ne(e,n,Y,j,o,H)}function qy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function z1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&qy(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],z=R.startTime;if(z>E)break;var G=R.transferSize,Y=R.initiatorType;G&&qy(Y)&&(R=R.responseEnd,g+=G*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ld=null,ud=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function Gy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function cd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hd=null;function j1(){var e=window.event;return e&&e.type==="popstate"?e===hd?!1:(hd=e,!0):(hd=null,!1)}var Ky=typeof setTimeout=="function"?setTimeout:void 0,B1=typeof clearTimeout=="function"?clearTimeout:void 0,Qy=typeof Promise=="function"?Promise:void 0,H1=typeof queueMicrotask=="function"?queueMicrotask:typeof Qy<"u"?function(e){return Qy.resolve(null).then(e).catch(q1)}:Ky;function q1(e){setTimeout(function(){throw e})}function Fs(e){return e==="head"}function Yy(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Fa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")fl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,fl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[mi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&fl(e.ownerDocument.body);r=h}while(r);Fa(n)}function Xy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function fd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":fd(r),oa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function G1(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[mi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function F1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Bn(e.nextSibling),e===null))return null;return e}function $y(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bn(e.nextSibling),e===null))return null;return e}function dd(e){return e.data==="$?"||e.data==="$~"}function md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function K1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Bn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var pd=null;function Jy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Bn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Zy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Wy(e,n,r){switch(n=fc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function fl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);oa(e)}var Hn=new Map,t_=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ss=it.d;it.d={f:Q1,r:Y1,D:X1,C:$1,L:J1,m:Z1,X:tS,S:W1,M:eS};function Q1(){var e=ss.f(),n=sc();return e||n}function Y1(e){var n=xn(e);n!==null&&n.tag===5&&n.type==="form"?yg(n):ss.r(e)}var Ha=typeof document>"u"?null:document;function e_(e,n,r){var o=Ha;if(o&&typeof n=="string"&&n){var h=cn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),t_.has(h)||(t_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Xe(n,"link",e),Ce(n),o.head.appendChild(n)))}}function X1(e){ss.D(e),e_("dns-prefetch",e,null)}function $1(e,n){ss.C(e,n),e_("preconnect",e,n)}function J1(e,n,r){ss.L(e,n,r);var o=Ha;if(o&&e&&n){var h='link[rel="preload"][as="'+cn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+cn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+cn(r.imageSizes)+'"]')):h+='[href="'+cn(e)+'"]';var f=h;switch(n){case"style":f=qa(e);break;case"script":f=Ga(e)}Hn.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Hn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(dl(f))||n==="script"&&o.querySelector(ml(f))||(n=o.createElement("link"),Xe(n,"link",e),Ce(n),o.head.appendChild(n)))}}function Z1(e,n){ss.m(e,n);var r=Ha;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+cn(o)+'"][href="'+cn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ga(e)}if(!Hn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Hn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ml(f)))return}o=r.createElement("link"),Xe(o,"link",e),Ce(o),r.head.appendChild(o)}}}function W1(e,n,r){ss.S(e,n,r);var o=Ha;if(o&&e){var h=gi(o).hoistableStyles,f=qa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(dl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Hn.get(f))&&gd(e,r);var R=g=o.createElement("link");Ce(R),Xe(R,"link",e),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function tS(e,n){ss.X(e,n);var r=Ha;if(r&&e){var o=gi(r).hoistableScripts,h=Ga(e),f=o.get(h);f||(f=r.querySelector(ml(h)),f||(e=b({src:e,async:!0},n),(n=Hn.get(h))&&yd(e,n),f=r.createElement("script"),Ce(f),Xe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function eS(e,n){ss.M(e,n);var r=Ha;if(r&&e){var o=gi(r).hoistableScripts,h=Ga(e),f=o.get(h);f||(f=r.querySelector(ml(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Hn.get(h))&&yd(e,n),f=r.createElement("script"),Ce(f),Xe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function n_(e,n,r,o){var h=(h=bt.current)?dc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=qa(r.href),r=gi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=qa(r.href);var f=gi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(dl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Hn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Hn.set(e,r),f||nS(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ga(r),r=gi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function qa(e){return'href="'+cn(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function i_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function nS(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Xe(n,"link",r),Ce(n),e.head.appendChild(n))}function Ga(e){return'[src="'+cn(e)+'"]'}function ml(e){return"script[async]"+e}function s_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+cn(r.href)+'"]');if(o)return n.instance=o,Ce(o),o;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ce(o),Xe(o,"style",h),mc(o,r.precedence,e),n.instance=o;case"stylesheet":h=qa(r.href);var f=e.querySelector(dl(h));if(f)return n.state.loading|=4,n.instance=f,Ce(f),f;o=i_(r),(h=Hn.get(h))&&gd(o,h),f=(e.ownerDocument||e).createElement("link"),Ce(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Xe(f,"link",o),n.state.loading|=4,mc(f,r.precedence,e),n.instance=f;case"script":return f=Ga(r.src),(h=e.querySelector(ml(f)))?(n.instance=h,Ce(h),h):(o=r,(h=Hn.get(f))&&(o=b({},r),yd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ce(h),Xe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,mc(o,r.precedence,e));return n.instance}function mc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function r_(e,n,r){if(pc===null){var o=new Map,h=pc=new Map;h.set(r,o)}else h=pc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[mi]||f[Re]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function a_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function iS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function o_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function sS(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=qa(o.href),f=n.querySelector(dl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Ce(f);return}f=n.ownerDocument||n,o=i_(o),(h=Hn.get(h))&&gd(o,h),f=f.createElement("link"),Ce(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Xe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=gc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var _d=0;function rS(e,n){return e.stylesheets&&e.count===0&&_c(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&_d===0&&(_d=62500*z1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>_d?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function _c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(aS,e),yc=null,gc.call(e))}function aS(e,n){if(!(n.state.loading&4)){var r=yc.get(e);if(r)var o=r.get(null);else{r=new Map,yc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var pl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function oS(e,n,r,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function l_(e,n,r,o,h,f,g,E,R,z,G,Y){return e=new oS(e,n,r,g,R,z,G,Y,E),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),e.current=f,f.stateNode=e,n=$h(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},tf(f),e}function u_(e){return e?(e=Ta,e):Ta}function c_(e,n,r,o,h,f){h=u_(h),o.context===null?o.context=h:o.pendingContext=h,o=Vs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=ks(e,o,n),r!==null&&(gn(r,e,n),Qo(r,e,n))}function h_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function vd(e,n){h_(e,n),(e=e.alternate)&&h_(e,n)}function f_(e){if(e.tag===13||e.tag===31){var n=xr(e,67108864);n!==null&&gn(n,e,67108864),vd(e,67108864)}}function d_(e){if(e.tag===13||e.tag===31){var n=Cn();n=vr(n);var r=xr(e,n);r!==null&&gn(r,e,n),vd(e,n)}}var vc=!0;function lS(e,n,r,o){var h=q.T;q.T=null;var f=it.p;try{it.p=2,Ed(e,n,r,o)}finally{it.p=f,q.T=h}}function uS(e,n,r,o){var h=q.T;q.T=null;var f=it.p;try{it.p=8,Ed(e,n,r,o)}finally{it.p=f,q.T=h}}function Ed(e,n,r,o){if(vc){var h=Td(o);if(h===null)ad(e,n,o,Ec,r),p_(e,o);else if(hS(h,e,n,r,o))o.stopPropagation();else if(p_(e,o),n&4&&-1<cS.indexOf(e)){for(;h!==null;){var f=xn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ci(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-Ee(g);E.entanglements[1]|=R,g&=~R}Ni(f),(Qt&6)===0&&(nc=gt()+500,ul(0))}}break;case 31:case 13:E=xr(f,2),E!==null&&gn(E,f,2),sc(),vd(f,2)}if(f=Td(o),f===null&&ad(e,n,o,Ec,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else ad(e,n,o,null,r)}}function Td(e){return e=On(e),Sd(e)}var Ec=null;function Sd(e){if(Ec=null,e=pi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function m_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($t()){case tn:return 2;case Nn:return 8;case _n:case li:return 32;case ze:return 268435456;default:return 32}default:return 32}}var Ad=!1,Ks=null,Qs=null,Ys=null,gl=new Map,yl=new Map,Xs=[],cS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p_(e,n){switch(e){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(n.pointerId)}}function _l(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=xn(n),n!==null&&f_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function hS(e,n,r,o,h){switch(n){case"focusin":return Ks=_l(Ks,e,n,r,o,h),!0;case"dragenter":return Qs=_l(Qs,e,n,r,o,h),!0;case"mouseover":return Ys=_l(Ys,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,_l(gl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,yl.set(f,_l(yl.get(f)||null,e,n,r,o,h)),!0}return!1}function g_(e){var n=pi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Yn(e.priority,function(){d_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Yn(e.priority,function(){d_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Td(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);xo=o,r.target.dispatchEvent(o),xo=null}else return n=xn(r),n!==null&&f_(n),e.blockedOn=r,!1;n.shift()}return!0}function y_(e,n,r){Tc(e)&&r.delete(n)}function fS(){Ad=!1,Ks!==null&&Tc(Ks)&&(Ks=null),Qs!==null&&Tc(Qs)&&(Qs=null),Ys!==null&&Tc(Ys)&&(Ys=null),gl.forEach(y_),yl.forEach(y_)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ad||(Ad=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,fS)))}var Ac=null;function __(e){Ac!==e&&(Ac=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Sd(o||r)===null)continue;break}var f=xn(r);f!==null&&(e.splice(n,3),n-=3,Tf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Fa(e){function n(R){return Sc(R,e)}Ks!==null&&Sc(Ks,e),Qs!==null&&Sc(Qs,e),Ys!==null&&Sc(Ys,e),gl.forEach(n),yl.forEach(n);for(var r=0;r<Xs.length;r++){var o=Xs[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Xs.length&&(r=Xs[0],r.blockedOn===null);)g_(r),r.blockedOn===null&&Xs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[je]||null;if(typeof f=="function")g||__(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[je]||null)E=g.formAction;else if(Sd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),__(r)}}}function v_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function bd(e){this._internalRoot=e}bc.prototype.render=bd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Cn();c_(r,o,e,n,null,null)},bc.prototype.unmount=bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;c_(e.current,2,null,e,null,null),sc(),n[di]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var n=su();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Xs.length&&n!==0&&n<Xs[r].priority;r++);Xs.splice(r,0,e),r===0&&g_(e)}};var E_=t.version;if(E_!=="19.2.4")throw Error(a(527,E_,"19.2.4"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var dS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Kn=wc.inject(dS),Ge=wc}catch{}}return El.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Cg,f=Ig,g=Ng;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=l_(e,1,!1,null,null,r,o,null,h,f,g,v_),e[di]=n.current,rd(e),new bd(n)},El.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Cg,g=Ig,E=Ng,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=l_(e,1,!0,n,r??null,o,h,R,f,g,E,v_),n.context=u_(null),r=n.current,o=Cn(),o=vr(o),h=Vs(o),h.callback=null,ks(r,h,o),r=o,n.current.lanes=r,yr(n,r),Ni(n),e[di]=n.current,rd(e),new bc(n)},El.version="19.2.4",El}var D_;function AS(){if(D_)return Cd.exports;D_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Cd.exports=SS(),Cd.exports}var bS=AS();const m0=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const wS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const RS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const x_=s=>{const t=RS(s);return t.charAt(0).toUpperCase()+t.slice(1)};var CS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const IS=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const NS=Gt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>Gt.createElement("svg",{ref:_,...CS,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:m0("lucide",l),...!c&&!IS(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,S])=>Gt.createElement(y,S)),...Array.isArray(c)?c:[c]]));const ye=(s,t)=>{const i=Gt.forwardRef(({className:a,...l},c)=>Gt.createElement(NS,{ref:c,iconNode:t,className:m0(`lucide-${wS(x_(s))}`,`lucide-${s}`,a),...l}));return i.displayName=x_(s),i};const DS=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],xS=ye("activity",DS);const OS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],MS=ye("award",OS);const VS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kS=ye("check",VS);const LS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],US=ye("chevron-left",LS);const PS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zS=ye("chevron-right",PS);const jS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],BS=ye("circle-check",jS);const HS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],qS=ye("circle-user",HS);const GS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],FS=ye("circle",GS);const KS=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],QS=ye("list-todo",KS);const YS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],XS=ye("lock",YS);const $S=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],JS=ye("log-out",$S);const ZS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],WS=ye("mail",ZS);const tA=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],eA=ye("moon",tA);const nA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],iA=ye("pen",nA);const sA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rA=ye("plus",sA);const aA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],oA=ye("refresh-cw",aA);const lA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],O_=ye("shield-check",lA);const uA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],cA=ye("sun",uA);const hA=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],fA=ye("text-align-start",hA);const dA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xd=ye("trash-2",dA);const mA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],pA=ye("trending-up",mA);const gA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],M_=ye("x",gA),yA=()=>{};var V_={};const p0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},_A=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},g0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,S=c>>2,b=(c&3)<<4|p>>4;let O=(p&15)<<2|y>>6,F=y&63;_||(F=64,d||(O=64)),a.push(i[S],i[b],i[O],i[F])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(p0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):_A(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new vA;const O=c<<2|p>>4;if(a.push(O),y!==64){const F=p<<4&240|y>>2;if(a.push(F),b!==64){const Z=y<<6&192|b;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class vA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EA=function(s){const t=p0(s);return g0.encodeByteArray(t,!0)},qc=function(s){return EA(s).replace(/\./g,"")},y0=function(s){try{return g0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function TA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const SA=()=>TA().__FIREBASE_DEFAULTS__,AA=()=>{if(typeof process>"u"||typeof V_>"u")return;const s=V_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},bA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&y0(s[1]);return t&&JSON.parse(t)},ch=()=>{try{return yA()||SA()||AA()||bA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},_0=s=>ch()?.emulatorHosts?.[s],wA=s=>{const t=_0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},v0=()=>ch()?.config,E0=s=>ch()?.[`_${s}`];class RA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function fo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function T0(s){return(await fetch(s,{credentials:"include"})).ok}function CA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const Il={};function IA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Il))Il[t]?s.emulator.push(t):s.prod.push(t);return s}function NA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let k_=!1;function S0(s,t){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Il[s]===t||Il[s]||k_)return;Il[s]=t;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=IA().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,F){O.setAttribute("width","24"),O.setAttribute("id",F),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{k_=!0,d()},O}function S(O,F){O.setAttribute("id",F),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function b(){const O=NA(a),F=i("text"),Z=document.getElementById(F)||document.createElement("span"),tt=i("learnmore"),W=document.getElementById(tt)||document.createElement("a"),ft=i("preprendIcon"),Et=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const mt=O.element;p(mt),S(W,tt);const xt=y();_(Et,ft),mt.append(Et,Z,W,xt),document.body.appendChild(mt)}c?(Z.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function xA(){const s=ch()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function VA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kA(){const s=an();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function LA(){return!xA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UA(){try{return typeof indexedDB=="object"}catch{return!1}}function PA(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const zA="FirebaseError";class ds extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=zA,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?jA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ds(l,p,a)}}function jA(s,t){return s.replace(BA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const BA=/\{\$([^}]+)}/g;function HA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Yr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(L_(c)&&L_(d)){if(!Yr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function L_(s){return s!==null&&typeof s=="object"}function ql(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Sl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Al(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function qA(s,t){const i=new GA(s,t);return i.subscribe.bind(i)}class GA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");FA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Od),l.error===void 0&&(l.error=Od),l.complete===void 0&&(l.complete=Od);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FA(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Od(){}function on(s){return s&&s._delegate?s._delegate:s}class Xr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Gr="[DEFAULT]";class KA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new RA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(YA(t))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Gr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gr){return this.instances.has(t)}getOptions(t=Gr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:QA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Gr){return this.component?this.component.multipleInstances?t:Gr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QA(s){return s===Gr?void 0:s}function YA(s){return s.instantiationMode==="EAGER"}class XA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new KA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const $A={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},JA=Lt.INFO,ZA={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},WA=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=ZA[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gm{constructor(t){this.name=t,this._logLevel=JA,this._logHandler=WA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$A[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const tb=(s,t)=>t.some(i=>s instanceof i);let U_,P_;function eb(){return U_||(U_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nb(){return P_||(P_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A0=new WeakMap,Gd=new WeakMap,b0=new WeakMap,Md=new WeakMap,ym=new WeakMap;function ib(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(ir(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&A0.set(i,s)}).catch(()=>{}),ym.set(t,s),t}function sb(s){if(Gd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Gd.set(s,t)}let Fd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Gd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||b0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ir(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function rb(s){Fd=s(Fd)}function ab(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Vd(this),t,...i);return b0.set(a,t.sort?t.sort():[t]),ir(a)}:nb().includes(s)?function(...t){return s.apply(Vd(this),t),ir(A0.get(this))}:function(...t){return ir(s.apply(Vd(this),t))}}function ob(s){return typeof s=="function"?ab(s):(s instanceof IDBTransaction&&sb(s),tb(s,eb())?new Proxy(s,Fd):s)}function ir(s){if(s instanceof IDBRequest)return ib(s);if(Md.has(s))return Md.get(s);const t=ob(s);return t!==s&&(Md.set(s,t),ym.set(t,s)),t}const Vd=s=>ym.get(s);function lb(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=ir(d);return a&&d.addEventListener("upgradeneeded",_=>{a(ir(d.result),_.oldVersion,_.newVersion,ir(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const ub=["get","getKey","getAll","getAllKeys","count"],cb=["put","add","delete","clear"],kd=new Map;function z_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(kd.get(t))return kd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=cb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||ub.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return kd.set(t,c),c}rb(s=>({...s,get:(t,i,a)=>z_(t,i)||s.get(t,i,a),has:(t,i)=>!!z_(t,i)||s.has(t,i)}));class hb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(fb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function fb(s){return s.getComponent()?.type==="VERSION"}const Kd="@firebase/app",j_="0.14.7";const us=new gm("@firebase/app"),db="@firebase/app-compat",mb="@firebase/analytics-compat",pb="@firebase/analytics",gb="@firebase/app-check-compat",yb="@firebase/app-check",_b="@firebase/auth",vb="@firebase/auth-compat",Eb="@firebase/database",Tb="@firebase/data-connect",Sb="@firebase/database-compat",Ab="@firebase/functions",bb="@firebase/functions-compat",wb="@firebase/installations",Rb="@firebase/installations-compat",Cb="@firebase/messaging",Ib="@firebase/messaging-compat",Nb="@firebase/performance",Db="@firebase/performance-compat",xb="@firebase/remote-config",Ob="@firebase/remote-config-compat",Mb="@firebase/storage",Vb="@firebase/storage-compat",kb="@firebase/firestore",Lb="@firebase/ai",Ub="@firebase/firestore-compat",Pb="firebase",zb="12.8.0";const Qd="[DEFAULT]",jb={[Kd]:"fire-core",[db]:"fire-core-compat",[pb]:"fire-analytics",[mb]:"fire-analytics-compat",[yb]:"fire-app-check",[gb]:"fire-app-check-compat",[_b]:"fire-auth",[vb]:"fire-auth-compat",[Eb]:"fire-rtdb",[Tb]:"fire-data-connect",[Sb]:"fire-rtdb-compat",[Ab]:"fire-fn",[bb]:"fire-fn-compat",[wb]:"fire-iid",[Rb]:"fire-iid-compat",[Cb]:"fire-fcm",[Ib]:"fire-fcm-compat",[Nb]:"fire-perf",[Db]:"fire-perf-compat",[xb]:"fire-rc",[Ob]:"fire-rc-compat",[Mb]:"fire-gcs",[Vb]:"fire-gcs-compat",[kb]:"fire-fst",[Ub]:"fire-fst-compat",[Lb]:"fire-vertex","fire-js":"fire-js",[Pb]:"fire-js-all"};const Gc=new Map,Bb=new Map,Yd=new Map;function B_(s,t){try{s.container.addComponent(t)}catch(i){us.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function so(s){const t=s.name;if(Yd.has(t))return us.debug(`There were multiple attempts to register component ${t}.`),!1;Yd.set(t,s);for(const i of Gc.values())B_(i,s);for(const i of Bb.values())B_(i,s);return!0}function _m(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function qn(s){return s==null?!1:s.settings!==void 0}const Hb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new Hl("app","Firebase",Hb);class qb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}const mo=zb;function w0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Qd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw sr.create("bad-app-name",{appName:String(l)});if(i||(i=v0()),!i)throw sr.create("no-options");const c=Gc.get(l);if(c){if(Yr(i,c.options)&&Yr(a,c.config))return c;throw sr.create("duplicate-app",{appName:l})}const d=new XA(l);for(const _ of Yd.values())d.addComponent(_);const p=new qb(i,a,d);return Gc.set(l,p),p}function R0(s=Qd){const t=Gc.get(s);if(!t&&s===Qd&&v0())return w0();if(!t)throw sr.create("no-app",{appName:s});return t}function rr(s,t,i){let a=jb[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),us.warn(d.join(" "));return}so(new Xr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const Gb="firebase-heartbeat-database",Fb=1,Vl="firebase-heartbeat-store";let Ld=null;function C0(){return Ld||(Ld=lb(Gb,Fb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Vl)}catch(i){console.warn(i)}}}}).catch(s=>{throw sr.create("idb-open",{originalErrorMessage:s.message})})),Ld}async function Kb(s){try{const i=(await C0()).transaction(Vl),a=await i.objectStore(Vl).get(I0(s));return await i.done,a}catch(t){if(t instanceof ds)us.warn(t.message);else{const i=sr.create("idb-get",{originalErrorMessage:t?.message});us.warn(i.message)}}}async function H_(s,t){try{const a=(await C0()).transaction(Vl,"readwrite");await a.objectStore(Vl).put(t,I0(s)),await a.done}catch(i){if(i instanceof ds)us.warn(i.message);else{const a=sr.create("idb-set",{originalErrorMessage:i?.message});us.warn(a.message)}}}function I0(s){return`${s.name}!${s.options.appId}`}const Qb=1024,Yb=30;class Xb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Jb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=q_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Yb){const l=Zb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){us.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=q_(),{heartbeatsToSend:i,unsentEntries:a}=$b(this._heartbeatsCache.heartbeats),l=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return us.warn(t),""}}}function q_(){return new Date().toISOString().substring(0,10)}function $b(s,t=Qb){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),G_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),G_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Jb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UA()?PA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Kb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return H_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return H_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function G_(s){return qc(JSON.stringify({version:2,heartbeats:s})).length}function Zb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function Wb(s){so(new Xr("platform-logger",t=>new hb(t),"PRIVATE")),so(new Xr("heartbeat",t=>new Xb(t),"PRIVATE")),rr(Kd,j_,s),rr(Kd,j_,"esm2020"),rr("fire-js","")}Wb("");var tw="firebase",ew="12.8.0";rr(tw,ew,"app");function N0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nw=N0,D0=new Hl("auth","Firebase",N0());const Fc=new gm("@firebase/auth");function iw(s,...t){Fc.logLevel<=Lt.WARN&&Fc.warn(`Auth (${mo}): ${s}`,...t)}function Mc(s,...t){Fc.logLevel<=Lt.ERROR&&Fc.error(`Auth (${mo}): ${s}`,...t)}function oi(s,...t){throw vm(s,...t)}function xi(s,...t){return vm(s,...t)}function x0(s,t,i){const a={...nw(),[t]:i};return new Hl("auth","Firebase",a).create(t,{appName:s.name})}function os(s){return x0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return D0.create(s,...t)}function yt(s,t,...i){if(!s)throw vm(t,...i)}function rs(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Mc(t),new Error(t)}function cs(s,t){s||rs(t)}function Xd(){return typeof self<"u"&&self.location?.href||""}function sw(){return F_()==="http:"||F_()==="https:"}function F_(){return typeof self<"u"&&self.location?.protocol||null}function rw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sw()||MA()||"connection"in navigator)?navigator.onLine:!0}function aw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Gl{constructor(t,i){this.shortDelay=t,this.longDelay=i,cs(i>t,"Short delay should be less than long delay!"),this.isMobile=DA()||VA()}get(){return rw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Em(s,t){cs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class O0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ow={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const lw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uw=new Gl(3e4,6e4);function mr(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ms(s,t,i,a,l={}){return M0(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=ql({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return OA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&fo(s.emulatorConfig.host)&&(y.credentials="include"),O0.fetch()(await V0(s,s.config.apiHost,i,p),y)})}async function M0(s,t,i){s._canInitEmulator=!1;const a={...ow,...t};try{const l=new hw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Rc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Rc(s,"user-disabled",d);const S=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw x0(s,S,y);oi(s,S)}}catch(l){if(l instanceof ds)throw l;oi(s,"network-request-failed",{message:String(l)})}}async function Fl(s,t,i,a,l={}){const c=await ms(s,t,i,a,l);return"mfaPendingCredential"in c&&oi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function V0(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Em(s.config,l):`${s.config.apiScheme}://${l}`;return lw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function cw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(xi(this.auth,"network-request-failed")),uw.get())})}}function Rc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=xi(s,t,a);return l.customData._tokenResponse=i,l}function K_(s){return s!==void 0&&s.enterprise!==void 0}class fw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return cw(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dw(s,t){return ms(s,"GET","/v2/recaptchaConfig",mr(s,t))}async function mw(s,t){return ms(s,"POST","/v1/accounts:delete",t)}async function Kc(s,t){return ms(s,"POST","/v1/accounts:lookup",t)}function Nl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function pw(s,t=!1){const i=on(s),a=await i.getIdToken(t),l=Tm(a);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Nl(Ud(l.auth_time)),issuedAtTime:Nl(Ud(l.iat)),expirationTime:Nl(Ud(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ud(s){return Number(s)*1e3}function Tm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const l=y0(i);return l?JSON.parse(l):(Mc("Failed to decode base64 JWT payload"),null)}catch(l){return Mc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Q_(s){const t=Tm(s);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function ro(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ds&&gw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function gw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class yw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $d{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(s){const t=s.auth,i=await s.getIdToken(),a=await ro(s,Kc(t,{idToken:i}));yt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?k0(l.providerUserInfo):[],d=vw(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new $d(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,S)}async function _w(s){const t=on(s);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vw(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function k0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Ew(s,t){const i=await M0(s,{},async()=>{const a=ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await V0(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return s.emulatorConfig&&fo(s.emulatorConfig.host)&&(_.credentials="include"),O0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Tw(s,t){return ms(s,"POST","/v2/accounts:revokeToken",mr(s,t))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Q_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=Q_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Ew(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ja;return a&&(yt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return rs("not implemented")}}function Js(s,t){yt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class si{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new yw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new $d(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await ro(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return pw(this,t)}reload(){return _w(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new si({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(os(this.auth));const t=await this.getIdToken();return await ro(this,mw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:b,emailVerified:O,isAnonymous:F,providerData:Z,stsTokenManager:tt}=i;yt(b&&tt,t,"internal-error");const W=Ja.fromJSON(this.name,tt);yt(typeof b=="string",t,"internal-error"),Js(a,t.name),Js(l,t.name),yt(typeof O=="boolean",t,"internal-error"),yt(typeof F=="boolean",t,"internal-error"),Js(c,t.name),Js(d,t.name),Js(p,t.name),Js(_,t.name),Js(y,t.name),Js(S,t.name);const ft=new si({uid:b,auth:t,email:l,emailVerified:O,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:S});return Z&&Array.isArray(Z)&&(ft.providerData=Z.map(Et=>({...Et}))),_&&(ft._redirectEventId=_),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ja;l.updateFromServerResponse(i);const c=new si({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Qc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?k0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ja;p.updateFromIdToken(a);const _=new si({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new $d(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const Y_=new Map;function as(s){cs(s instanceof Function,"Expected a class definition");let t=Y_.get(s);return t?(cs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Y_.set(s,t),t)}class L0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}L0.type="NONE";const X_=L0;function Vc(s,t,i){return`firebase:${s}:${t}:${i}`}class Za{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Vc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Vc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Kc(this.auth,{idToken:t}).catch(()=>{});return i?si._fromGetAccountInfoResponse(this.auth,i,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Za(as(X_),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||as(X_);const d=Vc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const S=await y._get(d);if(S){let b;if(typeof S=="string"){const O=await Kc(t,{idToken:S}).catch(()=>{});if(!O)break;b=await si._fromGetAccountInfoResponse(t,O,S)}else b=si._fromJSON(t,S);y!==c&&(p=b),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Za(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Za(c,t,a))}}function $_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(j0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(U0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(H0(t))return"Blackberry";if(q0(t))return"Webos";if(P0(t))return"Safari";if((t.includes("chrome/")||z0(t))&&!t.includes("edge/"))return"Chrome";if(B0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function U0(s=an()){return/firefox\//i.test(s)}function P0(s=an()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function z0(s=an()){return/crios\//i.test(s)}function j0(s=an()){return/iemobile/i.test(s)}function B0(s=an()){return/android/i.test(s)}function H0(s=an()){return/blackberry/i.test(s)}function q0(s=an()){return/webos/i.test(s)}function Sm(s=an()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Sw(s=an()){return Sm(s)&&!!window.navigator?.standalone}function Aw(){return kA()&&document.documentMode===10}function G0(s=an()){return Sm(s)||B0(s)||q0(s)||H0(s)||/windows phone/i.test(s)||j0(s)}function F0(s,t=[]){let i;switch(s){case"Browser":i=$_(an());break;case"Worker":i=`${$_(an())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${mo}/${a}`}class bw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function ww(s,t={}){return ms(s,"GET","/v2/passwordPolicy",mr(s,t))}const Rw=6;class Cw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Rw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Iw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J_(this),this.idTokenSubscription=new J_(this),this.beforeStateQueue=new bw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=as(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Kc(this,{idToken:t}),a=await si._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(qn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=aw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(qn(this.app))return Promise.reject(os(this));const i=t?on(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return qn(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ww(this),i=new Cw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Hl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Tw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&as(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[as(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=F0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&iw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ta(s){return on(s)}class J_{constructor(t){this.auth=t,this.observer=null,this.addObserver=qA(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nw(s){hh=s}function K0(s){return hh.loadJS(s)}function Dw(){return hh.recaptchaEnterpriseScript}function xw(){return hh.gapiScript}function Ow(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Mw{constructor(){this.enterprise=new Vw}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class Vw{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const kw="recaptcha-enterprise",Q0="NO_RECAPTCHA";class Lw{constructor(t){this.type=kw,this.auth=ta(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{dw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new fw(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;K_(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(y=>{d(y)}).catch(()=>{d(Q0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Mw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&K_(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=Dw();_.length!==0&&(_+=p),K0(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function Z_(s,t,i,a=!1,l=!1){const c=new Lw(s);let d;if(l)d=Q0;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Jd(s,t,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Z_(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Z_(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function Uw(s,t){const i=_m(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Yr(c,t??{}))return l;oi(l,"already-initialized")}return i.initialize({options:t})}function Pw(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(as);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function zw(s,t,i){const a=ta(s);yt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=Y0(t),{host:d,port:p}=jw(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){yt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),yt(Yr(y,a.config.emulator)&&Yr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,fo(d)?(T0(`${c}//${d}${_}`),S0("Auth",!0)):Bw()}function Y0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function jw(s){const t=Y0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:W_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:W_(d)}}}function W_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Bw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Am{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return rs("not implemented")}_getIdTokenResponse(t){return rs("not implemented")}_linkToIdToken(t,i){return rs("not implemented")}_getReauthenticationResolver(t){return rs("not implemented")}}async function Hw(s,t){return ms(s,"POST","/v1/accounts:signUp",t)}async function qw(s,t){return Fl(s,"POST","/v1/accounts:signInWithPassword",mr(s,t))}async function Gw(s,t){return Fl(s,"POST","/v1/accounts:signInWithEmailLink",mr(s,t))}async function Fw(s,t){return Fl(s,"POST","/v1/accounts:signInWithEmailLink",mr(s,t))}class kl extends Am{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new kl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new kl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jd(t,i,"signInWithPassword",qw);case"emailLink":return Gw(t,{email:this._email,oobCode:this._password});default:oi(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jd(t,a,"signUpPassword",Hw);case"emailLink":return Fw(t,{idToken:i,email:this._email,oobCode:this._password});default:oi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Wa(s,t){return Fl(s,"POST","/v1/accounts:signInWithIdp",mr(s,t))}const Kw="http://localhost";class $r extends Am{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new $r(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):oi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new $r(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Wa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Wa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Wa(t,i)}buildRequest(){const t={requestUri:Kw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ql(i)}return t}}function Qw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yw(s){const t=Sl(Al(s)).link,i=t?Sl(Al(t)).deep_link_id:null,a=Sl(Al(s)).deep_link_id;return(a?Sl(Al(a)).link:null)||a||i||t||s}class bm{constructor(t){const i=Sl(Al(t)),a=i.apiKey??null,l=i.oobCode??null,c=Qw(i.mode??null);yt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=Yw(t);try{return new bm(i)}catch{return null}}}class po{constructor(){this.providerId=po.PROVIDER_ID}static credential(t,i){return kl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=bm.parseLink(i);return yt(a,"argument-error"),kl._fromEmailAndCode(t,a.code,a.tenantId)}}po.PROVIDER_ID="password";po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class X0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Kl extends X0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Zs extends Kl{constructor(){super("facebook.com")}static credential(t){return $r._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";class Ws extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return $r._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ws.credential(i,a)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";class tr extends Kl{constructor(){super("github.com")}static credential(t){return $r._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";class er extends Kl{constructor(){super("twitter.com")}static credential(t,i){return $r._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return er.credential(i,a)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";async function Xw(s,t){return Fl(s,"POST","/v1/accounts:signUp",mr(s,t))}class Jr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await si._fromIdTokenResponse(t,a,l),d=tv(a);return new Jr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=tv(a);return new Jr({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function tv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Yc extends ds{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Yc(t,i,a,l)}}function $0(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(s,c,t,a):c})}async function $w(s,t,i=!1){const a=await ro(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Jr._forOperation(s,"link",a)}async function Jw(s,t,i=!1){const{auth:a}=s;if(qn(a.app))return Promise.reject(os(a));const l="reauthenticate";try{const c=await ro(s,$0(a,l,t,s),i);yt(c.idToken,a,"internal-error");const d=Tm(c.idToken);yt(d,a,"internal-error");const{sub:p}=d;return yt(s.uid===p,a,"user-mismatch"),Jr._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&oi(a,"user-mismatch"),c}}async function J0(s,t,i=!1){if(qn(s.app))return Promise.reject(os(s));const a="signIn",l=await $0(s,a,t),c=await Jr._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function Zw(s,t){return J0(ta(s),t)}async function Z0(s){const t=ta(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ww(s,t,i){if(qn(s.app))return Promise.reject(os(s));const a=ta(s),d=await Jd(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xw).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&Z0(s),_}),p=await Jr._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function t2(s,t,i){return qn(s.app)?Promise.reject(os(s)):Zw(on(s),po.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Z0(s),a})}async function e2(s,t){return ms(s,"POST","/v1/accounts:update",t)}async function n2(s,{displayName:t,photoURL:i}){if(t===void 0&&i===void 0)return;const a=on(s),c={idToken:await a.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},d=await ro(a,e2(a.auth,c));a.displayName=d.displayName||null,a.photoURL=d.photoUrl||null;const p=a.providerData.find(({providerId:_})=>_==="password");p&&(p.displayName=a.displayName,p.photoURL=a.photoURL),await a._updateTokensIfNecessary(d)}function i2(s,t,i,a){return on(s).onIdTokenChanged(t,i,a)}function s2(s,t,i){return on(s).beforeAuthStateChanged(t,i)}function r2(s,t,i,a){return on(s).onAuthStateChanged(t,i,a)}function a2(s){return on(s).signOut()}const Xc="__sak";class W0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const o2=1e3,l2=10;class tE extends W0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=G0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Aw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,l2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},o2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}tE.type="LOCAL";const u2=tE;class eE extends W0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}eE.type="SESSION";const nE=eE;function c2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class fh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new fh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await c2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];function wm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class h2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=wm("",20);l.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const O=b;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Oi(){return window}function f2(s){Oi().location.href=s}function iE(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function d2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function m2(){return navigator?.serviceWorker?.controller||null}function p2(){return iE()?self:null}const sE="firebaseLocalStorageDb",g2=1,$c="firebaseLocalStorage",rE="fbase_key";class Ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function dh(s,t){return s.transaction([$c],t?"readwrite":"readonly").objectStore($c)}function y2(){const s=indexedDB.deleteDatabase(sE);return new Ql(s).toPromise()}function Zd(){const s=indexedDB.open(sE,g2);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore($c,{keyPath:rE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains($c)?t(a):(a.close(),await y2(),t(await Zd()))})})}async function ev(s,t,i){const a=dh(s,!0).put({[rE]:t,value:i});return new Ql(a).toPromise()}async function _2(s,t){const i=dh(s,!1).get(t),a=await new Ql(i).toPromise();return a===void 0?null:a.value}function nv(s,t){const i=dh(s,!0).delete(t);return new Ql(i).toPromise()}const v2=800,E2=3;class aE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>E2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(p2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await d2(),!this.activeServiceWorker)return;this.sender=new h2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||m2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Zd();return await ev(t,Xc,"1"),await nv(t,Xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>ev(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>_2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>nv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=dh(l,!1).getAll();return new Ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),v2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aE.type="LOCAL";const T2=aE;new Gl(3e4,6e4);function S2(s,t){return t?as(t):(yt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Rm extends Am{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Wa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Wa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function A2(s){return J0(s.auth,new Rm(s),s.bypassAuthState)}function b2(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),Jw(i,new Rm(s),s.bypassAuthState)}async function w2(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),$w(i,new Rm(s),s.bypassAuthState)}class oE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return A2;case"linkViaPopup":case"linkViaRedirect":return w2;case"reauthViaPopup":case"reauthViaRedirect":return b2;default:oi(this.auth,"internal-error")}}resolve(t){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const R2=new Gl(2e3,1e4);class $a extends oE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const t=wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,R2.get())};t()}}$a.currentPopupAction=null;const C2="pendingRedirect",kc=new Map;class I2 extends oE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=kc.get(this.auth._key());if(!t){try{const a=await N2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}kc.set(this.auth._key(),t)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N2(s,t){const i=O2(t),a=x2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function D2(s,t){kc.set(s._key(),t)}function x2(s){return as(s._redirectPersistence)}function O2(s){return Vc(C2,s.config.apiKey,s.name)}async function M2(s,t,i=!1){if(qn(s.app))return Promise.reject(os(s));const a=ta(s),l=S2(a,t),d=await new I2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const V2=600*1e3;class k2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!L2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!lE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(xi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=V2&&this.cachedEventUids.clear(),this.cachedEventUids.has(iv(t))}saveEventToCache(t){this.cachedEventUids.add(iv(t)),this.lastProcessedEventTime=Date.now()}}function iv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function lE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function L2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lE(s);default:return!1}}async function U2(s,t={}){return ms(s,"GET","/v1/projects",t)}const P2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z2=/^https?/;async function j2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await U2(s);for(const i of t)try{if(B2(i))return}catch{}oi(s,"unauthorized-domain")}function B2(s){const t=Xd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!z2.test(i))return!1;if(P2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const H2=new Gl(3e4,6e4);function sv(){const s=Oi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function q2(s){return new Promise((t,i)=>{function a(){sv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{sv(),i(xi(s,"network-request-failed"))},timeout:H2.get()})}if(Oi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Oi().gapi?.load)a();else{const l=Ow("iframefcb");return Oi()[l]=()=>{gapi.load?a():i(xi(s,"network-request-failed"))},K0(`${xw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function G2(s){return Lc=Lc||q2(s),Lc}const F2=new Gl(5e3,15e3),K2="__/auth/iframe",Q2="emulator/auth/iframe",Y2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $2(s){const t=s.config;yt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Em(t,Q2):`https://${s.config.authDomain}/${K2}`,a={apiKey:t.apiKey,appName:s.name,v:mo},l=X2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${ql(a).slice(1)}`}async function J2(s){const t=await G2(s),i=Oi().gapi;return yt(i,s,"internal-error"),t.open({where:document.body,url:$2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=xi(s,"network-request-failed"),p=Oi().setTimeout(()=>{c(d)},F2.get());function _(){Oi().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const Z2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},W2=500,tR=600,eR="_blank",nR="http://localhost";class rv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iR(s,t,i,a=W2,l=tR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...Z2,width:a.toString(),height:l.toString(),top:c,left:d},y=an().toLowerCase();i&&(p=z0(y)?eR:i),U0(y)&&(t=t||nR,_.scrollbars="yes");const S=Object.entries(_).reduce((O,[F,Z])=>`${O}${F}=${Z},`,"");if(Sw(y)&&p!=="_self")return sR(t||"",p),new rv(null);const b=window.open(t||"",p,S);yt(b,s,"popup-blocked");try{b.focus()}catch{}return new rv(b)}function sR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const rR="__/auth/handler",aR="emulator/auth/handler",oR=encodeURIComponent("fac");async function av(s,t,i,a,l,c){yt(s.config.authDomain,s,"auth-domain-config-required"),yt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:mo,eventId:l};if(t instanceof X0){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",HA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,b]of Object.entries({}))d[S]=b}if(t instanceof Kl){const S=t.getScopes().filter(b=>b!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const _=await s._getAppCheckToken(),y=_?`#${oR}=${encodeURIComponent(_)}`:"";return`${lR(s)}?${ql(p).slice(1)}${y}`}function lR({config:s}){return s.emulator?Em(s,aR):`https://${s.authDomain}/${rR}`}const Pd="webStorageSupport";class uR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nE,this._completeRedirectFn=M2,this._overrideRedirectResult=D2}async _openPopup(t,i,a,l){cs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await av(t,i,a,Xd(),l);return iR(t,c,wm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await av(t,i,a,Xd(),l);return f2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(cs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await J2(t),a=new k2(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Pd,{type:Pd},l=>{const c=l?.[0]?.[Pd];c!==void 0&&i(!!c),oi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=j2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return G0()||P0()||Sm()}}const cR=uR;var ov="@firebase/auth",lv="1.12.0";class hR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dR(s){so(new Xr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F0(s)},y=new Iw(a,l,c,_);return Pw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),so(new Xr("auth-internal",t=>{const i=ta(t.getProvider("auth").getImmediate());return(a=>new hR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(ov,lv,fR(s)),rr(ov,lv,"esm2020")}const mR=300,pR=E0("authIdTokenMaxAge")||mR;let uv=null;const gR=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>pR)return;const l=i?.token;uv!==l&&(uv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function yR(s=R0()){const t=_m(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Uw(s,{popupRedirectResolver:cR,persistence:[T2,u2,nE]}),a=E0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=gR(c.toString());s2(i,d,()=>d(i.currentUser)),i2(i,p=>d(p))}}const l=_0("auth");return l&&zw(i,`http://${l}`),i}function _R(){return document.getElementsByTagName("head")?.[0]??document}Nw({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=xi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",_R().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dR("Browser");var cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ar,uE;(function(){var s;function t(I,A){function C(){}C.prototype=A.prototype,I.F=A.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(M,N,k){for(var w=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)w[Ft-2]=arguments[Ft];return A.prototype[N].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,A,C){C||(C=0);const M=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)M[N]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(N=0;N<16;++N)M[N]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=I.g[0],C=I.g[1],N=I.g[2];let k=I.g[3],w;w=A+(k^C&(N^k))+M[0]+3614090360&4294967295,A=C+(w<<7&4294967295|w>>>25),w=k+(N^A&(C^N))+M[1]+3905402710&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(C^k&(A^C))+M[2]+606105819&4294967295,N=k+(w<<17&4294967295|w>>>15),w=C+(A^N&(k^A))+M[3]+3250441966&4294967295,C=N+(w<<22&4294967295|w>>>10),w=A+(k^C&(N^k))+M[4]+4118548399&4294967295,A=C+(w<<7&4294967295|w>>>25),w=k+(N^A&(C^N))+M[5]+1200080426&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(C^k&(A^C))+M[6]+2821735955&4294967295,N=k+(w<<17&4294967295|w>>>15),w=C+(A^N&(k^A))+M[7]+4249261313&4294967295,C=N+(w<<22&4294967295|w>>>10),w=A+(k^C&(N^k))+M[8]+1770035416&4294967295,A=C+(w<<7&4294967295|w>>>25),w=k+(N^A&(C^N))+M[9]+2336552879&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(C^k&(A^C))+M[10]+4294925233&4294967295,N=k+(w<<17&4294967295|w>>>15),w=C+(A^N&(k^A))+M[11]+2304563134&4294967295,C=N+(w<<22&4294967295|w>>>10),w=A+(k^C&(N^k))+M[12]+1804603682&4294967295,A=C+(w<<7&4294967295|w>>>25),w=k+(N^A&(C^N))+M[13]+4254626195&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(C^k&(A^C))+M[14]+2792965006&4294967295,N=k+(w<<17&4294967295|w>>>15),w=C+(A^N&(k^A))+M[15]+1236535329&4294967295,C=N+(w<<22&4294967295|w>>>10),w=A+(N^k&(C^N))+M[1]+4129170786&4294967295,A=C+(w<<5&4294967295|w>>>27),w=k+(C^N&(A^C))+M[6]+3225465664&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^C&(k^A))+M[11]+643717713&4294967295,N=k+(w<<14&4294967295|w>>>18),w=C+(k^A&(N^k))+M[0]+3921069994&4294967295,C=N+(w<<20&4294967295|w>>>12),w=A+(N^k&(C^N))+M[5]+3593408605&4294967295,A=C+(w<<5&4294967295|w>>>27),w=k+(C^N&(A^C))+M[10]+38016083&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^C&(k^A))+M[15]+3634488961&4294967295,N=k+(w<<14&4294967295|w>>>18),w=C+(k^A&(N^k))+M[4]+3889429448&4294967295,C=N+(w<<20&4294967295|w>>>12),w=A+(N^k&(C^N))+M[9]+568446438&4294967295,A=C+(w<<5&4294967295|w>>>27),w=k+(C^N&(A^C))+M[14]+3275163606&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^C&(k^A))+M[3]+4107603335&4294967295,N=k+(w<<14&4294967295|w>>>18),w=C+(k^A&(N^k))+M[8]+1163531501&4294967295,C=N+(w<<20&4294967295|w>>>12),w=A+(N^k&(C^N))+M[13]+2850285829&4294967295,A=C+(w<<5&4294967295|w>>>27),w=k+(C^N&(A^C))+M[2]+4243563512&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^C&(k^A))+M[7]+1735328473&4294967295,N=k+(w<<14&4294967295|w>>>18),w=C+(k^A&(N^k))+M[12]+2368359562&4294967295,C=N+(w<<20&4294967295|w>>>12),w=A+(C^N^k)+M[5]+4294588738&4294967295,A=C+(w<<4&4294967295|w>>>28),w=k+(A^C^N)+M[8]+2272392833&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^C)+M[11]+1839030562&4294967295,N=k+(w<<16&4294967295|w>>>16),w=C+(N^k^A)+M[14]+4259657740&4294967295,C=N+(w<<23&4294967295|w>>>9),w=A+(C^N^k)+M[1]+2763975236&4294967295,A=C+(w<<4&4294967295|w>>>28),w=k+(A^C^N)+M[4]+1272893353&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^C)+M[7]+4139469664&4294967295,N=k+(w<<16&4294967295|w>>>16),w=C+(N^k^A)+M[10]+3200236656&4294967295,C=N+(w<<23&4294967295|w>>>9),w=A+(C^N^k)+M[13]+681279174&4294967295,A=C+(w<<4&4294967295|w>>>28),w=k+(A^C^N)+M[0]+3936430074&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^C)+M[3]+3572445317&4294967295,N=k+(w<<16&4294967295|w>>>16),w=C+(N^k^A)+M[6]+76029189&4294967295,C=N+(w<<23&4294967295|w>>>9),w=A+(C^N^k)+M[9]+3654602809&4294967295,A=C+(w<<4&4294967295|w>>>28),w=k+(A^C^N)+M[12]+3873151461&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^C)+M[15]+530742520&4294967295,N=k+(w<<16&4294967295|w>>>16),w=C+(N^k^A)+M[2]+3299628645&4294967295,C=N+(w<<23&4294967295|w>>>9),w=A+(N^(C|~k))+M[0]+4096336452&4294967295,A=C+(w<<6&4294967295|w>>>26),w=k+(C^(A|~N))+M[7]+1126891415&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~C))+M[14]+2878612391&4294967295,N=k+(w<<15&4294967295|w>>>17),w=C+(k^(N|~A))+M[5]+4237533241&4294967295,C=N+(w<<21&4294967295|w>>>11),w=A+(N^(C|~k))+M[12]+1700485571&4294967295,A=C+(w<<6&4294967295|w>>>26),w=k+(C^(A|~N))+M[3]+2399980690&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~C))+M[10]+4293915773&4294967295,N=k+(w<<15&4294967295|w>>>17),w=C+(k^(N|~A))+M[1]+2240044497&4294967295,C=N+(w<<21&4294967295|w>>>11),w=A+(N^(C|~k))+M[8]+1873313359&4294967295,A=C+(w<<6&4294967295|w>>>26),w=k+(C^(A|~N))+M[15]+4264355552&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~C))+M[6]+2734768916&4294967295,N=k+(w<<15&4294967295|w>>>17),w=C+(k^(N|~A))+M[13]+1309151649&4294967295,C=N+(w<<21&4294967295|w>>>11),w=A+(N^(C|~k))+M[4]+4149444226&4294967295,A=C+(w<<6&4294967295|w>>>26),w=k+(C^(A|~N))+M[11]+3174756917&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~C))+M[2]+718787259&4294967295,N=k+(w<<15&4294967295|w>>>17),w=C+(k^(N|~A))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,A){A===void 0&&(A=I.length);const C=A-this.blockSize,M=this.C;let N=this.h,k=0;for(;k<A;){if(N==0)for(;k<=C;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<A;)if(M[N++]=I.charCodeAt(k++),N==this.blockSize){l(this,M),N=0;break}}else for(;k<A;)if(M[N++]=I[k++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)I[A++]=this.g[C]>>>M&255;return I};function c(I,A){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=A(I)}function d(I,A){this.h=A;const C=[];let M=!0;for(let N=I.length-1;N>=0;N--){const k=I[N]|0;M&&k==A||(C[N]=k,M=!1)}this.g=C}var p={};function _(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return W(y(-I));const A=[];let C=1;for(let M=0;I>=C;M++)A[M]=I/C|0,C*=4294967296;return new d(A,0)}function S(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return W(S(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(A,8));let M=b;for(let k=0;k<I.length;k+=8){var N=Math.min(8,I.length-k);const w=parseInt(I.substring(k,k+N),A);N<8?(N=y(Math.pow(A,N)),M=M.j(N).add(y(w))):(M=M.j(C),M=M.add(y(w)))}return M}var b=_(0),O=_(1),F=_(16777216);s=d.prototype,s.m=function(){if(tt(this))return-W(this).m();let I=0,A=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);I+=(M>=0?M:4294967296+M)*A,A*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(tt(this))return"-"+W(this).toString(I);const A=y(Math.pow(I,6));var C=this;let M="";for(;;){const N=xt(C,A).g;C=ft(C,N.j(A));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,Z(C))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function tt(I){return I.h==-1}s.l=function(I){return I=ft(this,I),tt(I)?-1:Z(I)?0:1};function W(I){const A=I.g.length,C=[];for(let M=0;M<A;M++)C[M]=~I.g[M];return new d(C,~I.h).add(O)}s.abs=function(){return tt(this)?W(this):this},s.add=function(I){const A=Math.max(this.g.length,I.g.length),C=[];let M=0;for(let N=0;N<=A;N++){let k=M+(this.i(N)&65535)+(I.i(N)&65535),w=(k>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);M=w>>>16,k&=65535,w&=65535,C[N]=w<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ft(I,A){return I.add(W(A))}s.j=function(I){if(Z(this)||Z(I))return b;if(tt(this))return tt(I)?W(this).j(W(I)):W(W(this).j(I));if(tt(I))return W(this.j(W(I)));if(this.l(F)<0&&I.l(F)<0)return y(this.m()*I.m());const A=this.g.length+I.g.length,C=[];for(var M=0;M<2*A;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<I.g.length;N++){const k=this.i(M)>>>16,w=this.i(M)&65535,Ft=I.i(N)>>>16,_e=I.i(N)&65535;C[2*M+2*N]+=w*_e,Et(C,2*M+2*N),C[2*M+2*N+1]+=k*_e,Et(C,2*M+2*N+1),C[2*M+2*N+1]+=w*Ft,Et(C,2*M+2*N+1),C[2*M+2*N+2]+=k*Ft,Et(C,2*M+2*N+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new d(C,0)};function Et(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function mt(I,A){this.g=I,this.h=A}function xt(I,A){if(Z(A))throw Error("division by zero");if(Z(I))return new mt(b,b);if(tt(I))return A=xt(W(I),A),new mt(W(A.g),W(A.h));if(tt(A))return A=xt(I,W(A)),new mt(W(A.g),A.h);if(I.g.length>30){if(tt(I)||tt(A))throw Error("slowDivide_ only works with positive integers.");for(var C=O,M=A;M.l(I)<=0;)C=re(C),M=re(M);var N=Ot(C,1),k=Ot(M,1);for(M=Ot(M,2),C=Ot(C,2);!Z(M);){var w=k.add(M);w.l(I)<=0&&(N=N.add(C),k=w),M=Ot(M,1),C=Ot(C,1)}return A=ft(I,N.j(A)),new mt(N,A)}for(N=b;I.l(A)>=0;){for(C=Math.max(1,Math.floor(I.m()/A.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=y(C),w=k.j(A);tt(w)||w.l(I)>0;)C-=M,k=y(C),w=k.j(A);Z(k)&&(k=O),N=N.add(k),I=ft(I,w)}return new mt(N,I)}s.B=function(I){return xt(this,I).h},s.and=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)&I.i(M);return new d(C,this.h&I.h)},s.or=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)|I.i(M);return new d(C,this.h|I.h)},s.xor=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)^I.i(M);return new d(C,this.h^I.h)};function re(I){const A=I.g.length+1,C=[];for(let M=0;M<A;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(C,I.h)}function Ot(I,A){const C=A>>5;A%=32;const M=I.g.length-C,N=[];for(let k=0;k<M;k++)N[k]=A>0?I.i(k+C)>>>A|I.i(k+C+1)<<32-A:I.i(k+C);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,uE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,ar=d}).apply(typeof cv<"u"?cv:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cE,bl,hE,Uc,Wd,fE,dE,mE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var nt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)nt[wt-2]=arguments[wt];return m.prototype[U].apply(T,nt)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let nt=0;nt<B;nt++)u[v+nt]=U[nt]}else u.push(U)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const T=mt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new tt(()=>new xt,u=>u.reset());class xt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let re,Ot=!1,I=new Et,A=()=>{const u=Promise.resolve(void 0);re=()=>{u.then(C)}};function C(){for(var u;u=ft();){try{u.h.call(u.g)}catch(v){W(v)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ot=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Ft(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(Ft,N),Ft.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ft.Z.h.call(this)},Ft.prototype.h=function(){Ft.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),q=0;function it(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++q,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function It(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Bt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let B=0;B<Q.length;B++)v=Q[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const nt=bt(u,m,T,U);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new it(m,this.src,B,!!T,U),m.fa=v,u.push(m)),m};function vt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bt(u,m,v,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return U}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),ve={};function ae(u,m,v,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ae(u,m[B],v,T,U);return null}return v=vs(v),u&&u[_e]?u.J(m,v,p(T)?!!T.capture:!1,U):Pi(u,m,v,!1,T,U)}function Pi(u,m,v,T,U,B){if(!m)throw Error("Invalid event type");const nt=p(U)?!!U.capture:!!U;let wt=zi(u);if(wt||(u[Mt]=wt=new st(u)),v=wt.add(m,v,T,nt,B),v.proxy)return v;if(T=ps(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(U=nt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(In(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ps(){function u(v){return m.call(u.src,u.listener,v)}const m=pr;return u}function gs(u,m,v,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)gs(u,m[B],v,T,U);else T=p(T)?!!T.capture:!!T,v=vs(v),u&&u[_e]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=bt(m,v,T,U),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=zi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,v,T,U)),(v=u>-1?m[u]:null)&&ys(v))}function ys(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[_e])vt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(In(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=zi(m))?(vt(v,u),v.h==0&&(v.src=null,m[Mt]=null)):ct(u)}}}function In(u){return u in ve?ve[u]:ve[u]="on"+u}function pr(u,m){if(u.da)u=!0;else{m=new Ft(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ys(u),u=v.call(T,m)}return u}function zi(u){return u=u[Mt],u instanceof st?u:null}var _s="__closure_events_fn_"+(Math.random()*1e9>>>0);function vs(u){return typeof u=="function"?u:(u[_s]||(u[_s]=function(m){return u.handleEvent(m)}),u[_s])}function Yt(){M.call(this),this.i=new st(this),this.M=this,this.G=null}b(Yt,M),Yt.prototype[_e]=!0,Yt.prototype.removeEventListener=function(u,m,v,T){gs(this,u,m,v,T)};function oe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(T,u),et(m,U)}U=!0;let B,nt;if(v)for(nt=v.length-1;nt>=0;nt--)B=m.g=v[nt],U=We(B,T,!0,m)&&U;if(B=m.g=u,U=We(B,T,!0,m)&&U,U=We(B,T,!1,m)&&U,v)for(nt=0;nt<v.length;nt++)B=m.g=v[nt],U=We(B,T,!1,m)&&U}Yt.prototype.N=function(){if(Yt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ct(v[T]);delete u.g[m],u.h--}}this.G=null},Yt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Yt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function We(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const nt=m[B];if(nt&&!nt.da&&nt.capture==v){const wt=nt.listener,Te=nt.ha||nt.src;nt.fa&&vt(u.i,nt),U=wt.call(Te,T)!==!1&&U}}return U&&!T.defaultPrevented}function $(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ut(u){u.g=$(()=>{u.g=null,u.i&&(u.i=!1,ut(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class gt extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ut(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $t(u){M.call(this),this.h=u,this.g={}}b($t,M);var tn=[];function Nn(u){It(u.g,function(m,v){this.g.hasOwnProperty(v)&&ys(m)},u),u.g={}}$t.prototype.N=function(){$t.Z.N.call(this),Nn(this)},$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=d.JSON.stringify,li=d.JSON.parse,ze=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wl(){}function tu(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){N.call(this,"d")}b(Ge,N);function Dn(){N.call(this,"c")}b(Dn,N);var Ee={},eu=null;function ra(){return eu=eu||new Yt}Ee.Ia="serverreachability";function nu(u){N.call(this,Ee.Ia,u)}b(nu,N);function ui(u){const m=ra();oe(m,new nu(m))}Ee.STAT_EVENT="statevent";function gr(u,m){N.call(this,Ee.STAT_EVENT,u),this.stat=m}b(gr,N);function we(u){const m=ra();oe(m,new gr(m,u))}Ee.Ja="timingevent";function ci(u,m){N.call(this,Ee.Ja,u),this.size=m}b(ci,N);function hi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function Ih(u,m,v,T,U,B){u.info(function(){if(u.g)if(B){var nt="",wt=B.split("&");for(let Kt=0;Kt<wt.length;Kt++){var Te=wt[Kt].split("=");if(Te.length>1){const fe=Te[0];Te=Te[1];const Vn=fe.split("_");nt=Vn.length>=2&&Vn[1]=="type"?nt+(fe+"="+Te+"&"):nt+(fe+"=redacted&")}}}else nt=null;else nt=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+nt})}function iu(u,m,v,T,U,B,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+nt})}function fi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Nh(u,v)+(T?" "+T:"")})}function yr(u,m){u.info(function(){return"TIMEOUT: "+m})}Qn.prototype.info=function(){};function Nh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let nt=1;nt<T.length;nt++)T[nt]=""}}}}return _n(B)}catch{return m}}var _r={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},To;function vr(){}b(vr,Wl),vr.prototype.g=function(){return new XMLHttpRequest},To=new vr;function ji(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Yn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new $t(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Re={},je={};function di(u,m,v){u.M=1,u.A=Er(Ie(m)),u.u=v,u.R=!0,aa(u,null)}function aa(u,m){u.F=Date.now(),mi(u),u.B=Ie(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ca(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Xn,u.g=vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new gt(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(tn[0]=U.toString()),U=tn);for(let B=0;B<U.length;B++){const nt=ae(v,U[B],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ui(),Ih(u.i,u.v,u.B,u.l,u.S,u.u)}Yn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Zn(u)==3?m.j():this.Y(u)},Yn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Zn(this.g),Te=this.g.ya(),Kt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Fe(this.g)))){this.K||wt!=4||Te==7||(Te==8||Kt<=0?ui(3):ui(2)),pi(this);var m=this.g.ca();this.X=m;var v=Dh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)fi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,u);else{this.o=!1,this.m=3,we(12),vn(this),xn(this);break t}}if(this.R){u=!0;let fe;for(;!this.K&&this.C<v.length;)if(fe=au(this,v),fe==je){wt==4&&(this.m=4,we(14),u=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==Re){this.m=4,we(15),fi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else fi(this.i,this.l,fe,null),gi(this,fe);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,we(16),u=!1),this.o=this.o&&u,!u)fi(this.i,this.l,v,"[Invalid Chunked Response]"),vn(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Lo(nt),nt.P=!0,we(11))}}else fi(this.i,this.l,v,null),gi(this,v);wt==4&&vn(this),this.o&&!this.K&&(wt==4?pu(this.j,this):(this.o=!1,mi(this)))}else Hi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),vn(this),xn(this)}}}catch{}};function Dh(u){if(!ru(u))return u.g.la();const m=Fe(u.g);if(m==="")return"";let v="";const T=m.length,U=Zn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return vn(u),xn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?je:(v=Number(m.substring(v,T)),isNaN(v)?Re:(T+=1,T+v>m.length?je:(m=m.slice(T,T+v),u.C=T+v,m)))}Yn.prototype.cancel=function(){this.K=!0,vn(this)};function mi(u){u.T=Date.now()+u.H,oa(u,u.H)}function oa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=hi(y(u.aa,u),m)}function pi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Yn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(yr(this.i,this.B),this.M!=2&&(ui(),we(17)),vn(this),this.m=2,xn(this)):oa(this,this.T-u)};function xn(u){u.j.I==0||u.K||pu(u.j,u)}function vn(u){pi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Nn(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function gi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||_i(v.h,u))){if(!u.L&&_i(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)pa(v),Cs(v);else break t;Cr(v),we(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=hi(y(v.Va,v),6e3));yi(v.h)<=1&&v.ta&&(v.ta=void 0)}else bi(v,11)}else if((u.L||v.g==u)&&pa(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Kt=U[m];const fe=Kt[0];if(!(fe<=v.K))if(v.K=fe,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const Vn=Kt[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const wi=Kt[4];wi!=null&&(v.za=wi,v.j.info("SVER="+v.za));const Wn=Kt[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(T=1.5*Wn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ti=u.g;if(ti){const Ir=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var B=T.h;B.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(bo(B,B.h),B.h=null))}if(T.G){const ga=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(T.wa=ga,Jt(T.J,T.G,ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var nt=u;if(T.na=_u(T,T.L?T.ba:null,T.W),nt.L){wo(T.h,nt);var wt=nt,Te=T.O;Te&&(wt.H=Te),wt.D&&(pi(wt),mi(wt)),T.g=nt}else du(T);v.i.length>0&&Ai(v)}else Kt[0]!="stop"&&Kt[0]!="close"||bi(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?bi(v,7):Vo(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}ui(4)}catch{}}var Ce=class{constructor(u,m){this.g=u,this.map=m}};function So(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ao(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yi(u){return u.h?1:u.g?u.g.size:0}function _i(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function bo(u,m){u.g?u.g.add(m):u.h=m}function wo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}So.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ro(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,B=null;T>=0?(U=u[v].substring(0,T),B=u[v].substring(T+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function En(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof En?(this.l=u.l,Be(this,u.j),this.o=u.o,this.g=u.g,Es(this,u.u),this.h=u.h,Co(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,Be(this,m[1]||"",!0),this.o=vi(m[2]||""),this.g=vi(m[3]||"",!0),Es(this,m[4]),this.h=vi(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=vi(m[7]||"")):(this.l=!1,this.i=new Ss(null,this.l))}En.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Tr(m,ua,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Tr(m,ua,!0),"@"),u.push(ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Tr(v,v.charAt(0)=="/"?Io:lu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Tr(v,uu)),u.join("")},En.prototype.resolve=function(u){const m=Ie(this);let v=!!u.j;v?Be(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Es(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let nt=0;nt<U.length;){const wt=U[nt++];wt=="."?T&&nt==U.length&&B.push(""):wt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&nt==U.length&&B.push("")):(B.push(wt),T=!0)}T=B.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?Co(m,hu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ie(u){return new En(u)}function Be(u,m,v){u.j=v?vi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Es(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Co(u,m,v){m instanceof Ss?(u.i=m,ha(u.i,u.l)):(v||(m=Tr(m,Ts)),u.i=new Ss(m,u.l))}function Jt(u,m,v){u.i.set(m,v)}function Er(u){return Jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function vi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Tr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,cn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ua=/[#\/\?@]/g,lu=/[#\?:]/g,Io=/[#\?]/g,Ts=/[#\?@]/g,uu=/#/g;function Ss(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function hn(u){u.g||(u.g=new Map,u.h=0,u.i&&la(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ss.prototype,s.add=function(u,m){hn(this),this.i=null,u=As(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function cu(u,m){hn(u),m=As(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function No(u,m){return hn(u),m=As(u,m),u.g.has(m)}s.forEach=function(u,m){hn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Do(u,m){hn(u);let v=[];if(typeof m=="string")No(u,m)&&(v=v.concat(u.g.get(As(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return hn(this),this.i=null,u=As(this,u),No(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Do(this,u),u.length>0?String(u[0]):m):m};function ca(u,m,v){cu(u,m),v.length>0&&(u.i=null,u.g.set(As(u,m),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=ji(v);v=Do(this,v);for(let B=0;B<v.length;B++){let nt=U;v[B]!==""&&(nt+="="+ji(v[B])),u.push(nt)}}return this.i=u.join("&")};function hu(u){const m=new Ss;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function As(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ha(u,m){m&&!u.j&&(hn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(cu(this,T),ca(this,U,v))},u)),u.j=m}function $n(u,m){const v=new Qn;if(d.Image){const T=new Image;T.onload=S(On,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(On,v,"TestLoadImage: error",!1,m,T),T.onabort=S(On,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(On,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function xo(u,m){const v=new Qn,T=new AbortController,U=setTimeout(()=>{T.abort(),On(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?On(v,"TestPingServer: ok",!0,m):On(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),On(v,"TestPingServer: error",!1,m)})}function On(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function bs(){this.g=new ze}function Ei(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Ei,Wl),Ei.prototype.g=function(){return new Sr(this.i,this.h)};function Sr(u,m){Yt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Sr,Yt),s=Sr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Jn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function fa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ws(this):Jn(this),this.readyState==3&&fa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ws(this))},s.Na=function(u){this.g&&(this.response=u,ws(this))},s.ga=function(){this.g&&ws(this)};function ws(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Jn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mn(u){let m="";return It(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ar(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Mn(v),typeof u=="string"?v!=null&&ji(v):Jt(u,m,v))}function te(u){Yt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(te,Yt);var Ti=/^https?$/i,Oo=["POST","PUT"];s=te.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():To.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){br(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,nt]of v)this.g.setRequestHeader(B,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){br(this,B)}};function br(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Mo(u),Bi(u)}function Mo(u){u.A||(u.A=!0,oe(u,"complete"),oe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,oe(this,"complete"),oe(this,"abort"),Bi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),te.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?wr(this):this.Xa())},s.Xa=function(){wr(this)};function wr(u){if(u.h&&typeof c<"u"){if(u.v&&Zn(u)==4)setTimeout(u.Ca.bind(u),0);else if(oe(u,"readystatechange"),Zn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let nt=String(u.D).match(ou)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),T=!Ti.test(nt?nt.toLowerCase():"")}v=T}if(v)oe(u,"complete"),oe(u,"success");else{u.o=6;try{var U=Zn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Mo(u)}}finally{Bi(u)}}}}function Bi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||oe(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Zn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),li(m)}};function Fe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(u){const m={};u=(u.g&&Zn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=su(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Bt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Rs(u){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,u),this.Za=Si("retryDelaySeedMs",1e4,u),this.Ta=Si("forwardChannelMaxRetries",2,u),this.va=Si("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new So(u&&u.concurrentRequestLimit),this.Ba=new bs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Rs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){we(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=_u(this,null,this.W),Ai(this)};function Vo(u){if(da(u),u.I==3){var m=u.V++,v=Ie(u.J);if(Jt(v,"SID",u.M),Jt(v,"RID",m),Jt(v,"TYPE","terminate"),Rr(u,v),m=new Yn(u,u.j,m),m.M=2,m.A=Er(Ie(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),mi(m)}yu(u)}function Cs(u){u.g&&(Lo(u),u.g.cancel(),u.g=null)}function da(u){Cs(u),u.v&&(d.clearTimeout(u.v),u.v=null),pa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ai(u){if(!Ao(u.h)&&!u.m){u.m=!0;var m=u.Ea;re||A(),Ot||(re(),Ot=!0),I.add(m,u),u.D=0}}function ma(u,m){return yi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=hi(y(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Yn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=x(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=fu(this,U,m),v=Ie(this.J),Jt(v,"RID",u),Jt(v,"CVER",22),this.G&&Jt(v,"X-HTTP-Session-Id",this.G),Rr(this,v),B&&(this.R?m="headers="+ji(Mn(B))+"&"+m:this.u&&Ar(v,this.u,B)),bo(this.h,U),this.Ra&&Jt(v,"TYPE","init"),this.S?(Jt(v,"$req",m),Jt(v,"SID","null"),U.U=!0,di(U,v,null)):di(U,v,m),this.I=2}}else this.I==3&&(u?ko(this,u):this.i.length==0||Ao(this.h)||ko(this))};function ko(u,m){var v;m?v=m.l:v=u.V++;const T=Ie(u.J);Jt(T,"SID",u.M),Jt(T,"RID",v),Jt(T,"AID",u.K),Rr(u,T),u.u&&u.o&&Ar(T,u.u,u.o),v=new Yn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),bo(u.h,v),di(v,T,m)}function Rr(u,m){u.H&&It(u.H,function(v,T){Jt(m,T,v)}),u.l&&It({},function(v,T){Jt(m,T,v)})}function fu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let wt=-1;for(;;){const Te=["count="+v];wt==-1?v>0?(wt=U[0].g,Te.push("ofs="+wt)):wt=0:Te.push("ofs="+wt);let Kt=!0;for(let fe=0;fe<v;fe++){var B=U[fe].g;const Vn=U[fe].map;if(B-=wt,B<0)wt=Math.max(0,U[fe].g-100),Kt=!1;else try{B="req"+B+"_"||"";try{var nt=Vn instanceof Map?Vn:Object.entries(Vn);for(const[wi,Wn]of nt){let ti=Wn;p(Wn)&&(ti=_n(Wn)),Te.push(B+wi+"="+encodeURIComponent(ti))}}catch(wi){throw Te.push(B+"type="+encodeURIComponent("_badmap")),wi}}catch{T&&T(Vn)}}if(Kt){nt=Te.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;re||A(),Ot||(re(),Ot=!0),I.add(m,u),u.A=0}}function Cr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=hi(y(u.Da,u),gu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=hi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),Cs(this),mu(this))};function Lo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new Yn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ie(u.na);Jt(m,"RID","rpc"),Jt(m,"SID",u.M),Jt(m,"AID",u.K),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Jt(m,"TO",u.ia),Jt(m,"TYPE","xmlhttp"),Rr(u,m),u.u&&u.o&&Ar(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Er(Ie(m)),v.u=null,v.R=!0,aa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Cs(this),Cr(this),we(19))};function pa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var v=null;if(u.g==m){pa(u),Lo(u),u.g=null;var T=2}else if(_i(u.h,m))v=m.G,wo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=ra(),oe(T,new ci(T,v)),Ai(u)}else du(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ma(u,m)||T==2&&Cr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:bi(u,5);break;case 4:bi(u,10);break;case 3:bi(u,6);break;default:bi(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function bi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const U=!T;T=new En(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Be(T,"https"),Er(T),U?$n(T.toString(),v):xo(T.toString(),v)}else we(2);u.I=0,u.l&&u.l.pa(m),yu(u),da(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=Ro(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,v){var T=v instanceof En?Ie(v):new En(v);if(T.g!="")m&&(T.g=m+"."+T.g),Es(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new En(null);T&&Be(B,T),m&&(B.g=m),U&&Es(B,U),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Jt(T,v,m),Jt(T,"VER",u.ka),Rr(u,T),T}function vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new te(new Ei({ab:v})):new te(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Is(){}Is.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){Yt.call(this),this.g=new Rs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new qi(this)}b(ln,Yt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Vo(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=_n(u),u=v);m.i.push(new Ce(m.Ya++,u)),m.I==3&&Ai(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,ln.Z.N.call(this)};function Tu(u){Ge.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Tu,Ge);function Su(){Dn.call(this),this.status=1}b(Su,Dn);function qi(u){this.g=u}b(qi,Eu),qi.prototype.ra=function(){oe(this.g,"a")},qi.prototype.qa=function(u){oe(this.g,new Tu(u))},qi.prototype.pa=function(u){oe(this.g,new Su)},qi.prototype.oa=function(){oe(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,mE=function(){return new Is},dE=function(){return ra()},fE=Ee,Wd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,Uc=_r,Eo.COMPLETE="complete",hE=Eo,tu.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Yt.prototype.listen=Yt.prototype.J,bl=tu,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,cE=te}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let go="12.8.0";function vR(s){go=s}const Zr=new gm("@firebase/firestore");function Ka(){return Zr.logLevel}function rt(s,...t){if(Zr.logLevel<=Lt.DEBUG){const i=t.map(Cm);Zr.debug(`Firestore (${go}): ${s}`,...i)}}function hs(s,...t){if(Zr.logLevel<=Lt.ERROR){const i=t.map(Cm);Zr.error(`Firestore (${go}): ${s}`,...i)}}function ao(s,...t){if(Zr.logLevel<=Lt.WARN){const i=t.map(Cm);Zr.warn(`Firestore (${go}): ${s}`,...i)}}function Cm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _t(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,pE(s,a,i)}function pE(s,t,i){let a=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw hs(a),new Error(a)}function Xt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||pE(t,l,a)}function At(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ds{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class gE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ER{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(sn.UNAUTHENTICATED)))}shutdown(){}}class TR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class SR{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Kr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Kr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xt(typeof a.accessToken=="string",31837,{l:a}),new gE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class AR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class bR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new AR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Xt(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new hv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function RR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Im{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=RR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Ut(s,t){return s<t?-1:s>t?1:0}function tm(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return zd(l)===zd(c)?Ut(l,c):zd(l)?1:-1}return Ut(s.length,t.length)}const CR=55296,IR=57343;function zd(s){const t=s.charCodeAt(0);return t>=CR&&t<=IR}function oo(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const fv="__name__";class Di{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&_t(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Di.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const a=Di.isNumericId(t),l=Di.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Di.extractNumericId(t).compare(Di.extractNumericId(i)):tm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ar.fromString(t.substring(4,t.length-2))}}class ce extends Di{construct(t,i,a){return new ce(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ce(i)}static emptyPath(){return new ce([])}}const NR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Di{construct(t,i,a){return new Je(t,i,a)}static isValidIdentifier(t){return NR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fv}static keyField(){return new Je([fv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new lt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new lt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(i)}static emptyPath(){return new Je([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ce.fromString(t))}static fromName(t){return new dt(ce.fromString(t).popFirst(5))}static empty(){return new dt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ce.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ce(t.slice()))}}function yE(s,t,i){if(!i)throw new lt(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function DR(s,t,i,a){if(t===!0&&a===!0)throw new lt(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function dv(s){if(!dt.isDocumentKey(s))throw new lt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function mv(s){if(dt.isDocumentKey(s))throw new lt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function _E(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Nm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function to(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new lt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Nm(s);throw new lt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ve(s,t){const i={typeString:s};return t&&(i.value=t),i}function Yl(s,t){if(!_E(s))throw new lt(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new lt(J.INVALID_ARGUMENT,i);return!0}const pv=-62135596800,gv=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*gv);return new he(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<pv)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gv}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Yl(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-pv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Ve("string",he._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new he(0,0))}static max(){return new Tt(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ll=-1;function xR(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new he(i+1,0):new he(i,a));return new lr(l,dt.empty(),t)}function OR(s){return new lr(s.readTime,s.key,Ll)}class lr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new lr(Tt.min(),dt.empty(),Ll)}static max(){return new lr(Tt.max(),dt.empty(),Ll)}}function MR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,t.documentKey),i!==0?i:Ut(s.largestBatchId,t.largestBatchId))}const VR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function yo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==VR)throw s;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((S=>{d[y]=S,++p,p===c&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function LR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function _o(s){return s.name==="IndexedDbTransactionError"}class mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mh.ce=-1;const Dm=-1;function ph(s){return s==null}function Jc(s){return s===0&&1/s==-1/0}function UR(s){return typeof s=="number"&&Number.isInteger(s)&&!Jc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const vE="";function PR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=yv(t)),t=zR(s.get(i),t);return yv(t)}function zR(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case vE:i+="";break;default:i+=c}}return i}function yv(s){return s+vE+""}function _v(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function ea(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function EE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class me{constructor(t,i){this.comparator=t,this.root=i||$e.EMPTY}insert(t,i){return new me(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??$e.RED,this.left=l??$e.EMPTY,this.right=c??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new $e(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return $e.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new $e(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pe{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new vv(this.data.getIterator())}getIteratorFrom(t){return new vv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Pe(this.comparator);return i.data=t,i}}class vv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ri{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new ri([])}unionWith(t){let i=new Pe(Je.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new ri(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return oo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class TE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new TE("Invalid base64 string: "+c):c}})(t);return new Ze(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ze(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const jR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(s){if(Xt(!!s,39018),typeof s=="string"){let t=0;const i=jR.exec(s);if(Xt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:be(s.seconds),nanos:be(s.nanos)}}function be(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function cr(s){return typeof s=="string"?Ze.fromBase64String(s):Ze.fromUint8Array(s)}const SE="server_timestamp",AE="__type__",bE="__previous_value__",wE="__local_write_time__";function xm(s){return(s?.mapValue?.fields||{})[AE]?.stringValue===SE}function gh(s){const t=s.mapValue.fields[bE];return xm(t)?gh(t):t}function Ul(s){const t=ur(s.mapValue.fields[wE].timestampValue);return new he(t.seconds,t.nanos)}class BR{constructor(t,i,a,l,c,d,p,_,y,S,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=S,this.apiKey=b}}const Zc="(default)";class Pl{constructor(t,i){this.projectId=t,this.database=i||Zc}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof Pl&&t.projectId===this.projectId&&t.database===this.database}}function HR(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new lt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(s.options.projectId,t)}const RE="__type__",qR="__max__",Nc={mapValue:{}},CE="__vector__",Wc="value";function hr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?xm(s)?4:FR(s)?9007199254740991:GR(s)?10:11:_t(28295,{value:s})}function Li(s,t){if(s===t)return!0;const i=hr(s);if(i!==hr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ul(s).isEqual(Ul(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ur(l.timestampValue),p=ur(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return cr(l.bytesValue).isEqual(cr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return be(l.geoPointValue.latitude)===be(c.geoPointValue.latitude)&&be(l.geoPointValue.longitude)===be(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return be(l.integerValue)===be(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=be(l.doubleValue),p=be(c.doubleValue);return d===p?Jc(d)===Jc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return oo(s.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(_v(d)!==_v(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Li(d[_],p[_])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function zl(s,t){return(s.values||[]).find((i=>Li(i,t)))!==void 0}function lo(s,t){if(s===t)return 0;const i=hr(s),a=hr(t);if(i!==a)return Ut(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=be(c.integerValue||c.doubleValue),_=be(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,t);case 3:return Ev(s.timestampValue,t.timestampValue);case 4:return Ev(Ul(s),Ul(t));case 5:return tm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=cr(c),_=cr(d);return p.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const S=Ut(p[y],_[y]);if(S!==0)return S}return Ut(p.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ut(be(c.latitude),be(d.latitude));return p!==0?p:Ut(be(c.longitude),be(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Tv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Wc]?.arrayValue,S=_[Wc]?.arrayValue,b=Ut(y?.values?.length||0,S?.values?.length||0);return b!==0?b:Tv(y,S)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},S=Object.keys(y);_.sort(),S.sort();for(let b=0;b<_.length&&b<S.length;++b){const O=tm(_[b],S[b]);if(O!==0)return O;const F=lo(p[_[b]],y[S[b]]);if(F!==0)return F}return Ut(_.length,S.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function Ev(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ut(s,t);const i=ur(s),a=ur(t),l=Ut(i.seconds,a.seconds);return l!==0?l:Ut(i.nanos,a.nanos)}function Tv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=lo(i[l],a[l]);if(c)return c}return Ut(i.length,a.length)}function uo(s){return em(s)}function em(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=ur(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return cr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=em(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${em(i.fields[d])}`;return l+"}"})(s.mapValue):_t(61005,{value:s})}function Pc(s){switch(hr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(s);return t?16+Pc(t):16;case 5:return 2*s.stringValue.length;case 6:return cr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Pc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return ea(a.fields,((c,d)=>{l+=c.length+Pc(d)})),l})(s.mapValue);default:throw _t(13486,{value:s})}}function nm(s){return!!s&&"integerValue"in s}function Om(s){return!!s&&"arrayValue"in s}function Sv(s){return!!s&&"nullValue"in s}function Av(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function zc(s){return!!s&&"mapValue"in s}function GR(s){return(s?.mapValue?.fields||{})[RE]?.stringValue===CE}function Dl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ea(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Dl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Dl(s.arrayValue.values[i]);return t}return{...s}}function FR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===qR}class Gn{constructor(t){this.value=t}static empty(){return new Gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!zc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dl(i)}setAll(t){let i=Je.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Dl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ea(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Gn(Dl(this.value))}}function IE(s){const t=[];return ea(s.fields,((i,a)=>{const l=new Je([i]);if(zc(a)){const c=IE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new ri(t)}class rn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new rn(t,0,Tt.min(),Tt.min(),Tt.min(),Gn.empty(),0)}static newFoundDocument(t,i,a,l){return new rn(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new rn(t,2,i,Tt.min(),Tt.min(),Gn.empty(),0)}static newUnknownDocument(t,i){return new rn(t,3,i,Tt.min(),Tt.min(),Gn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(t,i){this.position=t,this.inclusive=i}}function bv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=lo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function wv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Li(s.position[i],t.position[i]))return!1;return!0}class eh{constructor(t,i="asc"){this.field=t,this.dir=i}}function KR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class NE{}class Le extends NE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new YR(t,i,a):i==="array-contains"?new JR(t,a):i==="in"?new ZR(t,a):i==="not-in"?new WR(t,a):i==="array-contains-any"?new tC(t,a):new Le(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new XR(t,a):new $R(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(lo(i,this.value)):i!==null&&hr(this.value)===hr(i)&&this.matchesComparison(lo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends NE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ui(t,i)}matches(t){return DE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DE(s){return s.op==="and"}function xE(s){return QR(s)&&DE(s)}function QR(s){for(const t of s.filters)if(t instanceof Ui)return!1;return!0}function im(s){if(s instanceof Le)return s.field.canonicalString()+s.op.toString()+uo(s.value);if(xE(s))return s.filters.map((t=>im(t))).join(",");{const t=s.filters.map((i=>im(i))).join(",");return`${s.op}(${t})`}}function OE(s,t){return s instanceof Le?(function(a,l){return l instanceof Le&&a.op===l.op&&a.field.isEqual(l.field)&&Li(a.value,l.value)})(s,t):s instanceof Ui?(function(a,l){return l instanceof Ui&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&OE(d,l.filters[p])),!0):!1})(s,t):void _t(19439)}function ME(s){return s instanceof Le?(function(i){return`${i.field.canonicalString()} ${i.op} ${uo(i.value)}`})(s):s instanceof Ui?(function(i){return i.op.toString()+" {"+i.getFilters().map(ME).join(" ,")+"}"})(s):"Filter"}class YR extends Le{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class XR extends Le{constructor(t,i){super(t,"in",i),this.keys=VE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class $R extends Le{constructor(t,i){super(t,"not-in",i),this.keys=VE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function VE(s,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class JR extends Le{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Om(i)&&zl(i.arrayValue,this.value)}}class ZR extends Le{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&zl(this.value.arrayValue,i)}}class WR extends Le{constructor(t,i){super(t,"not-in",i)}matches(t){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!zl(this.value.arrayValue,i)}}class tC extends Le{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Om(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>zl(this.value.arrayValue,a)))}}class eC{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Rv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new eC(s,t,i,a,l,c,d)}function Mm(s){const t=At(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>im(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ph(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>uo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>uo(a))).join(",")),t.Te=i}return t.Te}function Vm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!KR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!OE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!wv(s.startAt,t.startAt)&&wv(s.endAt,t.endAt)}function sm(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class yh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function nC(s,t,i,a,l,c,d,p){return new yh(s,t,i,a,l,c,d,p)}function km(s){return new yh(s)}function Cv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function iC(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function sC(s){return s.collectionGroup!==null}function xl(s){const t=At(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Pe(Je.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new eh(c,a))})),i.has(Je.keyField().canonicalString())||t.Ie.push(new eh(Je.keyField(),a))}return t.Ie}function Mi(s){const t=At(s);return t.Ee||(t.Ee=rC(t,xl(s))),t.Ee}function rC(s,t){if(s.limitType==="F")return Rv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new eh(l.field,c)}));const i=s.endAt?new th(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new th(s.startAt.position,s.startAt.inclusive):null;return Rv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function rm(s,t,i){return new yh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function _h(s,t){return Vm(Mi(s),Mi(t))&&s.limitType===t.limitType}function kE(s){return`${Mm(Mi(s))}|lt:${s.limitType}`}function Qa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>ME(l))).join(", ")}]`),ph(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>uo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>uo(l))).join(",")),`Target(${a})`})(Mi(s))}; limitType=${s.limitType})`}function vh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of xl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=bv(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,xl(a),l)||a.endAt&&!(function(d,p,_){const y=bv(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,xl(a),l))})(s,t)}function aC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function LE(s){return(t,i)=>{let a=!1;for(const l of xl(s)){const c=oC(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function oC(s,t,i){const a=s.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?lo(_,y):_t(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _t(19790,{direction:s.dir})}}class na{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ea(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return EE(this.inner)}size(){return this.innerSize}}const lC=new me(dt.comparator);function fs(){return lC}const UE=new me(dt.comparator);function wl(...s){let t=UE;for(const i of s)t=t.insert(i.key,i);return t}function PE(s){let t=UE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Fr(){return Ol()}function zE(){return Ol()}function Ol(){return new na((s=>s.toString()),((s,t)=>s.isEqual(t)))}const uC=new me(dt.comparator),cC=new Pe(dt.comparator);function Pt(...s){let t=cC;for(const i of s)t=t.add(i);return t}const hC=new Pe(Ut);function fC(){return hC}function Lm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(t)?"-0":t}}function jE(s){return{integerValue:""+s}}function dC(s,t){return UR(t)?jE(t):Lm(s,t)}class Eh{constructor(){this._=void 0}}function mC(s,t,i){return s instanceof nh?(function(l,c){const d={fields:{[AE]:{stringValue:SE},[wE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&xm(c)&&(c=gh(c)),c&&(d.fields[bE]=c),{mapValue:d}})(i,t):s instanceof jl?HE(s,t):s instanceof Bl?qE(s,t):(function(l,c){const d=BE(l,c),p=Iv(d)+Iv(l.Ae);return nm(d)&&nm(l.Ae)?jE(p):Lm(l.serializer,p)})(s,t)}function pC(s,t,i){return s instanceof jl?HE(s,t):s instanceof Bl?qE(s,t):i}function BE(s,t){return s instanceof ih?(function(a){return nm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class nh extends Eh{}class jl extends Eh{constructor(t){super(),this.elements=t}}function HE(s,t){const i=GE(t);for(const a of s.elements)i.some((l=>Li(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Bl extends Eh{constructor(t){super(),this.elements=t}}function qE(s,t){let i=GE(t);for(const a of s.elements)i=i.filter((l=>!Li(l,a)));return{arrayValue:{values:i}}}class ih extends Eh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Iv(s){return be(s.integerValue||s.doubleValue)}function GE(s){return Om(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function gC(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof jl&&l instanceof jl||a instanceof Bl&&l instanceof Bl?oo(a.elements,l.elements,Li):a instanceof ih&&l instanceof ih?Li(a.Ae,l.Ae):a instanceof nh&&l instanceof nh})(s.transform,t.transform)}class yC{constructor(t,i){this.version=t,this.transformResults=i}}class ls{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ls}static exists(t){return new ls(void 0,t)}static updateTime(t){return new ls(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Th{}function FE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new QE(s.key,ls.none()):new Xl(s.key,s.data,ls.none());{const i=s.data,a=Gn.empty();let l=new Pe(Je.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ia(s.key,a,new ri(l.toArray()),ls.none())}}function _C(s,t,i){s instanceof Xl?(function(l,c,d){const p=l.value.clone(),_=Dv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof ia?(function(l,c,d){if(!jc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Dv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(KE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ml(s,t,i,a){return s instanceof Xl?(function(c,d,p,_){if(!jc(c.precondition,d))return p;const y=c.value.clone(),S=xv(c.fieldTransforms,_,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof ia?(function(c,d,p,_){if(!jc(c.precondition,d))return p;const y=xv(c.fieldTransforms,_,d),S=d.data;return S.setAll(KE(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,a):(function(c,d,p){return jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function vC(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=BE(a.transform,l||null);c!=null&&(i===null&&(i=Gn.empty()),i.set(a.field,c))}return i||null}function Nv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&oo(a,l,((c,d)=>gC(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Xl extends Th{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ia extends Th{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function KE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Dv(s,t,i){const a=new Map;Xt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,pC(d,p,i[l]))}return a}function xv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,mC(c,d,t))}return a}class QE extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EC extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TC{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&_C(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ml(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ml(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=zE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=FE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&oo(this.mutations,t.mutations,((i,a)=>Nv(i,a)))&&oo(this.baseMutations,t.baseMutations,((i,a)=>Nv(i,a)))}}class Um{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Xt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return uC})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Um(t,i,a,l)}}class SC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AC{constructor(t,i){this.count=t,this.unchangedNames=i}}var Me,jt;function bC(s){switch(s){case J.OK:return _t(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function YE(s){if(s===void 0)return hs("GRPC error has no .code"),J.UNKNOWN;switch(s){case Me.OK:return J.OK;case Me.CANCELLED:return J.CANCELLED;case Me.UNKNOWN:return J.UNKNOWN;case Me.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Me.INTERNAL:return J.INTERNAL;case Me.UNAVAILABLE:return J.UNAVAILABLE;case Me.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Me.NOT_FOUND:return J.NOT_FOUND;case Me.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Me.ABORTED:return J.ABORTED;case Me.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Me.DATA_LOSS:return J.DATA_LOSS;default:return _t(39323,{code:s})}}(jt=Me||(Me={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function wC(){return new TextEncoder}const RC=new ar([4294967295,4294967295],0);function Ov(s){const t=wC().encode(s),i=new uE;return i.update(t),new Uint8Array(i.digest())}function Mv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ar([i,a],0),new ar([l,c],0)]}class Pm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Rl(`Invalid padding: ${i}`);if(a<0)throw new Rl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ar.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(ar.fromNumber(a)));return l.compare(RC)===1&&(l=new ar([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Ov(t),[a,l]=Mv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Pm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Ov(t),[a,l]=Mv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,$l.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Sh(Tt.min(),l,new me(Ut),fs(),Pt())}}class $l{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new $l(a,i,Pt(),Pt(),Pt())}}class Bc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class XE{constructor(t,i){this.targetId=t,this.Ce=i}}class $E{constructor(t,i,a=Ze.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Vv{constructor(){this.ve=0,this.Fe=kv(),this.Me=Ze.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),i=Pt(),a=Pt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:_t(38017,{changeType:c})}})),new $l(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=kv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class CC{constructor(t){this.Ge=t,this.ze=new Map,this.je=fs(),this.He=Dc(),this.Je=Dc(),this.Ze=new me(Ut)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(sm(c))if(a===0){const d=new dt(c.path);this.et(i,d,rn.newNoDocument(d,Tt.min()))}else Xt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=cr(a).toUint8Array()}catch(_){if(_ instanceof TE)return ao("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Pm(d,l,c)}catch(_){return ao(_ instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&sm(p.target)){const _=new dt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,rn.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Pt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Sh(t,i,this.Ze,this.je,a);return this.je=fs(),this.He=Dc(),this.Je=Dc(),this.Ze=new me(Ut),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Vv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Pe(Ut),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Pe(Ut),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Vv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Dc(){return new me(dt.comparator)}function kv(){return new me(dt.comparator)}const IC={asc:"ASCENDING",desc:"DESCENDING"},NC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DC={and:"AND",or:"OR"};class xC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function am(s,t){return s.useProto3Json||ph(t)?t:{value:t}}function sh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function JE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function OC(s,t){return sh(s,t.toTimestamp())}function Vi(s){return Xt(!!s,49232),Tt.fromTimestamp((function(i){const a=ur(i);return new he(a.seconds,a.nanos)})(s))}function zm(s,t){return om(s,t).canonicalString()}function om(s,t){const i=(function(l){return new ce(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function ZE(s){const t=ce.fromString(s);return Xt(iT(t),10190,{key:t.toString()}),t}function lm(s,t){return zm(s.databaseId,t.path)}function jd(s,t){const i=ZE(t);if(i.get(1)!==s.databaseId.projectId)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(tT(i))}function WE(s,t){return zm(s.databaseId,t)}function MC(s){const t=ZE(s);return t.length===4?ce.emptyPath():tT(t)}function um(s){return new ce(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function tT(s){return Xt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Lv(s,t,i){return{name:lm(s,t),fields:i.value.mapValue.fields}}function VC(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(Xt(S===void 0||typeof S=="string",58123),Ze.fromBase64String(S||"")):(Xt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ze.fromUint8Array(S||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const S=y.code===void 0?J.UNKNOWN:YE(y.code);return new lt(S,y.message||"")})(d);i=new $E(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=jd(s,a.document.name),c=Vi(a.document.updateTime),d=a.document.createTime?Vi(a.document.createTime):Tt.min(),p=new Gn({mapValue:{fields:a.document.fields}}),_=rn.newFoundDocument(l,c,d,p),y=a.targetIds||[],S=a.removedTargetIds||[];i=new Bc(y,S,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=jd(s,a.document),c=a.readTime?Vi(a.readTime):Tt.min(),d=rn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Bc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=jd(s,a.document),c=a.removedTargetIds||[];i=new Bc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new AC(l,c),p=a.targetId;i=new XE(p,d)}}return i}function kC(s,t){let i;if(t instanceof Xl)i={update:Lv(s,t.key,t.value)};else if(t instanceof QE)i={delete:lm(s,t.key)};else if(t instanceof ia)i={update:Lv(s,t.key,t.data),updateMask:GC(t.fieldMask)};else{if(!(t instanceof EC))return _t(16599,{dt:t.type});i={verify:lm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ih)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:OC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(s,t.precondition)),i}function LC(s,t){return s&&s.length>0?(Xt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Vi(l.updateTime):Vi(c);return d.isEqual(Tt.min())&&(d=Vi(c)),new yC(d,l.transformResults||[])})(i,t)))):[]}function UC(s,t){return{documents:[WE(s,t.path)]}}function PC(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=WE(s,l);const c=(function(y){if(y.length!==0)return nT(Ui.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(O){return{field:Ya(O.field),direction:BC(O.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=am(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function zC(s){let t=MC(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Xt(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(b){const O=eT(b);return O instanceof Ui&&xE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((O=>(function(Z){return new eh(Xa(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let O;return O=typeof b=="object"?b.value:b,ph(O)?null:O})(i.limit));let _=null;i.startAt&&(_=(function(b){const O=!!b.before,F=b.values||[];return new th(F,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const O=!b.before,F=b.values||[];return new th(F,O)})(i.endAt)),nC(t,l,d,c,p,"F",_,y)}function jC(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function eT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Xa(i.unaryFilter.field);return Le.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Xa(i.unaryFilter.field);return Le.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Xa(i.unaryFilter.field);return Le.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Xa(i.unaryFilter.field);return Le.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Le.create(Xa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ui.create(i.compositeFilter.filters.map((a=>eT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function BC(s){return IC[s]}function HC(s){return NC[s]}function qC(s){return DC[s]}function Ya(s){return{fieldPath:s.canonicalString()}}function Xa(s){return Je.fromServerFormat(s.fieldPath)}function nT(s){return s instanceof Le?(function(i){if(i.op==="=="){if(Av(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NAN"}};if(Sv(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Av(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NAN"}};if(Sv(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(i.field),op:HC(i.op),value:i.value}}})(s):s instanceof Ui?(function(i){const a=i.getFilters().map((l=>nT(l)));return a.length===1?a[0]:{compositeFilter:{op:qC(i.op),filters:a}}})(s):_t(54877,{filter:s})}function GC(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function iT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function sT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class nr{constructor(t,i,a,l,c=Tt.min(),d=Tt.min(),p=Ze.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new nr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class FC{constructor(t){this.yt=t}}function KC(s){const t=zC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?rm(t,t.limit,"L"):t}class QC{constructor(){this.Sn=new YC}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(lr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(lr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class YC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Pe(ce.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Pe(ce.comparator)).toArray()}}const Uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rT=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(rT,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class co{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new co(0)}static ar(){return new co(-1)}}const Pv="LruGarbageCollector",XC=1048576;function zv([s,t],[i,a]){const l=Ut(s,i);return l===0?Ut(t,a):l}class $C{constructor(t){this.Pr=t,this.buffer=new Pe(zv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();zv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class JC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){rt(Pv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){_o(i)?rt(Pv,"Ignoring IndexedDB error during garbage collection: ",i):await yo(i)}await this.Ar(3e5)}))}}class ZC{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(mh.ce);const a=new $C(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Uv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,_,y;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(y=Date.now(),Ka()<=Lt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(y-_)+`ms
Total Duration: ${y-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function WC(s,t){return new ZC(s,t)}class tI{constructor(){this.changes=new na((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class nI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ml(a.mutation,l,ri.empty(),he.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Pt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Pt()){const l=Fr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=wl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Fr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Pt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=fs();const d=Ol(),p=(function(){return Ol()})();return i.forEach(((_,y)=>{const S=a.get(y.key);l.has(y.key)&&(S===void 0||S.mutation instanceof ia)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),Ml(S.mutation,y,S.mutation.getFieldMask(),he.now())):d.set(y.key,ri.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>p.set(y,new eI(S,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Ol();let l=new me(((d,p)=>d-p)),c=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let S=a.get(_)||ri.empty();S=p.applyToLocalView(y,S),a.set(_,S);const b=(l.get(p.batchId)||Pt()).add(_);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,S=_.value,b=zE();S.forEach((O=>{if(!c.has(O)){const F=FE(i.get(O),a.get(O));F!==null&&b.set(O,F),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return iC(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):sC(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Fr());let p=Ll,_=c;return d.next((y=>X.forEach(y,((S,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(t,S).next((O=>{_=_.insert(S,O)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Pt()))).next((S=>({batchId:p,changes:PE(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=wl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=wl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(b,O){return new yh(O,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((S=>{S.forEach(((b,O)=>{d=d.insert(b,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,rn.newInvalidDocument(S)))}));let p=wl();return d.forEach(((_,y)=>{const S=c.get(_);S!==void 0&&Ml(S.mutation,y,ri.empty(),he.now()),vh(i,y)&&(p=p.insert(_,y))})),p}))}}class iI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Vi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:KC(l.bundledQuery),readTime:Vi(l.readTime)}})(i)),X.resolve()}}class sI{constructor(){this.overlays=new me(dt.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Fr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Fr(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new me(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let S=c.get(y.largestBatchId);S===null&&(S=Fr(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const p=Fr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,S)=>p.set(y,S))),!(p.size()>=l)););return X.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new SC(i,a));let c=this.Lr.get(i);c===void 0&&(c=Pt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class rI{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class jm{constructor(){this.kr=new Pe(qe.Kr),this.qr=new Pe(qe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new qe(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new qe(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new dt(new ce([])),a=new qe(i,t),l=new qe(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new dt(new ce([])),a=new qe(i,t),l=new qe(i,t+1);let c=Pt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new qe(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class qe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return dt.comparator(t.key,i.key)||Ut(t.Hr,i.Hr)}static Ur(t,i){return Ut(t.Hr,i.Hr)||dt.comparator(t.key,i.key)}}class aI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Pe(qe.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new TC(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new qe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Dm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new qe(i,0),l=new qe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Pe(Ut);return i.forEach((l=>{const c=new qe(l,0),d=new qe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new qe(new dt(c),0);let p=new Pe(Ut);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),X.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Xt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new qe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new qe(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class oI{constructor(t){this.ti=t,this.docs=(function(){return new me(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(t,i){let a=fs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():rn.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=fs();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:S}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||MR(OR(S),a)<=0||(l.has(S.key)||vh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){_t(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new lI(this)}getSize(t){return X.resolve(this.size)}}class lI extends tI{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class uI{constructor(t){this.persistence=t,this.ri=new na((i=>Mm(i)),Vm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new jm,this.targetCount=0,this.oi=co._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new co(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class aT{constructor(t,i){this._i={},this.overlays={},this.ai=new mh(0),this.ui=!1,this.ui=!0,this.ci=new rI,this.referenceDelegate=t(this),this.li=new uI(this),this.indexManager=new QC,this.remoteDocumentCache=(function(l){return new oI(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new FC(i),this.Pi=new iI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new sI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new aI(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new cI(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class cI extends kR{constructor(t){super(),this.currentSequenceNumber=t}}class Bm{constructor(t){this.persistence=t,this.Ri=new jm,this.Ai=null}static Vi(t){return new Bm(t)}get di(){if(this.Ai)return this.Ai;throw _t(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=dt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class rh{constructor(t,i){this.persistence=t,this.fi=new na((a=>PR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=WC(this,i)}static Vi(t,i){return new rh(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Hm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Pt(),l=Pt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Hm(t,i.fromCache,a,l)}}class hI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class fI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return LA()?8:LR(an())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new hI;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Ka()<=Lt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Ka()<=Lt.DEBUG&&rt("QueryEngine","Query:",Qa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ka()<=Lt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(i))):X.resolve())}gs(t,i){if(Cv(i))return X.resolve(null);let a=Mi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=rm(i,null,"F"),a=Mi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Pt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(t,rm(i,null,"F")):this.Ds(t,y,i,_)}))))})))))}ps(t,i,a,l){return Cv(i)||l.isEqual(Tt.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(Ka()<=Lt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(i)),this.Ds(t,d,i,xR(l,Ll)).next((p=>p)))}))}bs(t,i){let a=new Pe(LE(t));return i.forEach(((l,c)=>{vh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Ka()<=Lt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Qa(i)),this.fs.getDocumentsMatchingQuery(t,i,lr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const qm="LocalStore",dI=3e8;class mI{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new me(Ut),this.Fs=new na((c=>Mm(c)),Vm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function pI(s,t,i,a){return new mI(s,t,i,a)}async function oT(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Pt();for(const y of l){d.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}for(const y of c){p.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function gI(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,S){const b=y.batch,O=b.keys();let F=X.resolve();return O.forEach((Z=>{F=F.next((()=>S.getEntry(_,Z))).next((tt=>{const W=y.docVersions.get(Z);Xt(W!==null,48541),tt.version.compareTo(W)<0&&(b.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),S.addEntry(tt)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(_,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Pt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function lT(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function yI(s,t){const i=At(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((S,b)=>{const O=l.get(b);if(!O)return;p.push(i.li.removeMatchingKeys(c,S.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,b))));let F=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?F=F.withResumeToken(Ze.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):S.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(S.resumeToken,a)),l=l.insert(b,F),(function(tt,W,ft){return tt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=dI?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(O,F,S)&&p.push(i.li.updateTargetData(c,F))}));let _=fs(),y=Pt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(_I(c,d,t.documentUpdates).next((S=>{_=S.Bs,y=S.Ls}))),!a.isEqual(Tt.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(S)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function _I(s,t,i){let a=Pt(),l=Pt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=fs();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(Tt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):rt(qm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function vI(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Dm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function EI(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new nr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function cm(s,t,i){const a=At(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!_o(d))throw d;rt(qm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function jv(s,t,i){const a=At(s);let l=Tt.min(),c=Pt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,S){const b=At(_),O=b.Fs.get(S);return O!==void 0?X.resolve(b.vs.get(O)):b.li.getTargetData(y,S)})(a,d,Mi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:Pt()))).next((p=>(TI(a,aC(t),p),{documents:p,ks:c})))))}function TI(s,t,i){let a=s.Ms.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class Bv{constructor(){this.activeTargetIds=fC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SI{constructor(){this.vo=new Bv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Bv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class AI{Mo(t){}shutdown(){}}const Hv="ConnectivityMonitor";class qv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){rt(Hv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){rt(Hv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xc=null;function hm(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}const Bd="RestConnection",bI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class wI{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Zc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=hm(),p=this.Qo(t,i.toUriEncodedString());rt(Bd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),S=fo(y);return this.zo(t,p,_,a,S).then((b=>(rt(Bd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw ao(Bd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+go})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=bI[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class RI{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const nn="WebChannelConnection",Tl=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class eo extends wI{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!eo.c_){const t=dE();Tl(t,fE.STAT_EVENT,(i=>{i.stat===Wd.PROXY?rt(nn,"STAT_EVENT: detected buffering proxy"):i.stat===Wd.NOPROXY&&rt(nn,"STAT_EVENT: detected no buffering proxy")})),eo.c_=!0}}zo(t,i,a,l,c){const d=hm();return new Promise(((p,_)=>{const y=new cE;y.setWithCredentials(!0),y.listenOnce(hE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Uc.NO_ERROR:const b=y.getResponseJson();rt(nn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Uc.TIMEOUT:rt(nn,`RPC '${t}' ${d} timed out`),_(new lt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const O=y.getStatus();if(rt(nn,`RPC '${t}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F?.error;if(Z&&Z.status&&Z.message){const tt=(function(ft){const Et=ft.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Et)>=0?Et:J.UNKNOWN})(Z.status);_(new lt(tt,Z.message))}else _(new lt(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new lt(J.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(nn,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);rt(nn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=hm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");rt(nn,`Creating RPC '${t}' stream ${l}: ${y}`,p);const S=d.createWebChannel(y,p);this.I_(S);let b=!1,O=!1;const F=new RI({Ho:Z=>{O?rt(nn,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(b||(rt(nn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),b=!0),rt(nn,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Jo:()=>S.close()});return Tl(S,bl.EventType.OPEN,(()=>{O||(rt(nn,`RPC '${t}' stream ${l} transport opened.`),F.i_())})),Tl(S,bl.EventType.CLOSE,(()=>{O||(O=!0,rt(nn,`RPC '${t}' stream ${l} transport closed`),F.o_(),this.E_(S))})),Tl(S,bl.EventType.ERROR,(Z=>{O||(O=!0,ao(nn,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),F.o_(new lt(J.UNAVAILABLE,"The operation could not be completed")))})),Tl(S,bl.EventType.MESSAGE,(Z=>{if(!O){const tt=Z.data[0];Xt(!!tt,16349);const W=tt,ft=W?.error||W[0]?.error;if(ft){rt(nn,`RPC '${t}' stream ${l} received error:`,ft);const Et=ft.status;let mt=(function(Ot){const I=Me[Ot];if(I!==void 0)return YE(I)})(Et),xt=ft.message;mt===void 0&&(mt=J.INTERNAL,xt="Unknown error status: "+Et+" with message "+ft.message),O=!0,F.o_(new lt(mt,xt)),S.close()}else rt(nn,`RPC '${t}' stream ${l} received:`,tt),F.__(tt)}})),eo.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return mE()}}function CI(s){return new eo(s)}function Hd(){return typeof document<"u"?document:null}function Ah(s){return new xC(s,!0)}eo.c_=!1;class uT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Gv="PersistentStream";class cT{constructor(t,i,a,l,c,d,p,_){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(hs(i.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new lt(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(Gv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(rt(Gv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class II extends cT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=VC(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Vi(d.readTime):Tt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=um(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=sm(_)?{documents:UC(c,_)}:{query:PC(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=JE(c,d.resumeToken);const y=am(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=sh(c,d.snapshotVersion.toTimestamp());const y=am(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=jC(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=um(this.serializer),i.removeTarget=t,this.K_(i)}}class NI extends cT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=LC(t.writeResults,t.commitTime),a=Vi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=um(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>kC(this.serializer,a)))};this.K_(i)}}class DI{}class xI extends DI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,om(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(J.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,om(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function OI(s,t,i,a){return new xI(s,t,i,a)}class MI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hs(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Wr="RemoteStore";class VI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{sa(this)&&(rt(Wr,"Restarting streams for network reachability change."),await(async function(_){const y=At(_);y.Ea.add(4),await Jl(y),y.Va.set("Unknown"),y.Ea.delete(4),await bh(y)})(this))}))})),this.Va=new MI(a,l)}}async function bh(s){if(sa(s))for(const t of s.Ra)await t(!0)}async function Jl(s){for(const t of s.Ra)await t(!1)}function hT(s,t){const i=At(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Qm(i)?Km(i):vo(i).O_()&&Fm(i,t))}function Gm(s,t){const i=At(s),a=vo(i);i.Ia.delete(t),a.O_()&&fT(i,t),i.Ia.size===0&&(a.O_()?a.L_():sa(i)&&i.Va.set("Unknown"))}function Fm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}vo(s).Z_(t)}function fT(s,t){s.da.$e(t),vo(s).X_(t)}function Km(s){s.da=new CC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),vo(s).start(),s.Va.ua()}function Qm(s){return sa(s)&&!vo(s).x_()&&s.Ia.size>0}function sa(s){return At(s).Ea.size===0}function dT(s){s.da=void 0}async function kI(s){s.Va.set("Online")}async function LI(s){s.Ia.forEach(((t,i)=>{Fm(s,t)}))}async function UI(s,t){dT(s),Qm(s)?(s.Va.ha(t),Km(s)):s.Va.set("Unknown")}async function PI(s,t,i){if(s.Va.set("Online"),t instanceof $E&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,t)}catch(a){rt(Wr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ah(s,a)}else if(t instanceof Bc?s.da.Xe(t):t instanceof XE?s.da.st(t):s.da.tt(t),!i.isEqual(Tt.min()))try{const a=await lT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(Ze.EMPTY_BYTE_STRING,S.snapshotVersion)),fT(c,_);const b=new nr(S.target,_,y,S.sequenceNumber);Fm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){rt(Wr,"Failed to raise snapshot:",a),await ah(s,a)}}async function ah(s,t,i){if(!_o(t))throw t;s.Ea.add(1),await Jl(s),s.Va.set("Offline"),i||(i=()=>lT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt(Wr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await bh(s)}))}function mT(s,t){return t().catch((i=>ah(s,i,t)))}async function wh(s){const t=At(s),i=fr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Dm;for(;zI(t);)try{const l=await vI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,jI(t,l)}catch(l){await ah(t,l)}pT(t)&&gT(t)}function zI(s){return sa(s)&&s.Ta.length<10}function jI(s,t){s.Ta.push(t);const i=fr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function pT(s){return sa(s)&&!fr(s).x_()&&s.Ta.length>0}function gT(s){fr(s).start()}async function BI(s){fr(s).ra()}async function HI(s){const t=fr(s);for(const i of s.Ta)t.ea(i.mutations)}async function qI(s,t,i){const a=s.Ta.shift(),l=Um.from(a,t,i);await mT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await wh(s)}async function GI(s,t){t&&fr(s).Y_&&await(async function(a,l){if((function(d){return bC(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();fr(a).B_(),await mT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await wh(a)}})(s,t),pT(s)&&gT(s)}async function Fv(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),rt(Wr,"RemoteStore received new credentials");const a=sa(i);i.Ea.add(3),await Jl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await bh(i)}async function FI(s,t){const i=At(s);t?(i.Ea.delete(2),await bh(i)):t||(i.Ea.add(2),await Jl(i),i.Va.set("Unknown"))}function vo(s){return s.ma||(s.ma=(function(i,a,l){const c=At(i);return c.sa(),new II(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:kI.bind(null,s),Yo:LI.bind(null,s),t_:UI.bind(null,s),J_:PI.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Qm(s)?Km(s):s.Va.set("Unknown")):(await s.ma.stop(),dT(s))}))),s.ma}function fr(s){return s.fa||(s.fa=(function(i,a,l){const c=At(i);return c.sa(),new NI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:BI.bind(null,s),t_:GI.bind(null,s),ta:HI.bind(null,s),na:qI.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await wh(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(Wr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Ym{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Ym(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(s,t){if(hs("AsyncQueue",`${t}: ${s}`),_o(s))return new lt(J.UNAVAILABLE,`${t}: ${s}`);throw s}class no{static emptySet(t){return new no(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=wl(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof no)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new no;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Kv{constructor(){this.ga=new me(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class ho{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ho(t,i,no.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_h(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class KI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class QI{constructor(){this.queries=Qv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=Qv(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(a)}))})(this,new lt(J.ABORTED,"Firestore shutting down"))}}function Qv(){return new na((s=>kE(s)),_h)}async function YI(s,t){const i=At(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new KI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Xm(d,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&$m(i)}async function XI(s,t){const i=At(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function $I(s,t){const i=At(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&$m(i)}function JI(s,t,i){const a=At(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function $m(s){s.Ca.forEach((t=>{t.next()}))}var fm,Yv;(Yv=fm||(fm={})).Ma="default",Yv.Cache="cache";class ZI{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new ho(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==fm.Cache}}class yT{constructor(t){this.key=t}}class _T{constructor(t){this.key=t}}class WI{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.eu=LE(t),this.tu=new no(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Kv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,b)=>{const O=l.get(S),F=vh(this.query,b)?b:null,Z=!!O&&this.mutatedKeys.has(O.key),tt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;O&&F?O.data.isEqual(F.data)?Z!==tt&&(a.track({type:3,doc:F}),W=!0):this.su(O,F)||(a.track({type:2,doc:F}),W=!0,(_&&this.eu(F,_)>0||y&&this.eu(F,y)<0)&&(p=!0)):!O&&F?(a.track({type:0,doc:F}),W=!0):O&&!F&&(a.track({type:1,doc:O}),W=!0,(_||y)&&(p=!0)),W&&(F?(d=d.add(F),c=tt?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,b)=>(function(F,Z){const tt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:W})}};return tt(F)-tt(Z)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new ho(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Kv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Pt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new _T(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new yT(a))})),i}cu(t){this.Za=t.ks,this.Ya=Pt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Jm="SyncEngine";class tN{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class eN{constructor(t){this.key=t,this.hu=!1}}class nN{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new na((p=>kE(p)),_h),this.Iu=new Map,this.Eu=new Set,this.Ru=new me(dt.comparator),this.Au=new Map,this.Vu=new jm,this.du={},this.mu=new Map,this.fu=co.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iN(s,t,i=!0){const a=bT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await vT(a,t,i,!0),l}async function sN(s,t){const i=bT(s);await vT(i,t,!0,!1)}async function vT(s,t,i,a){const l=await EI(s.localStore,Mi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await rN(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&hT(s.remoteStore,l),p}async function rN(s,t,i,a,l){s.pu=(b,O,F)=>(async function(tt,W,ft,Et){let mt=W.view.ru(ft);mt.Ss&&(mt=await jv(tt.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,mt))));const xt=Et&&Et.targetChanges.get(W.targetId),re=Et&&Et.targetMismatches.get(W.targetId)!=null,Ot=W.view.applyChanges(mt,tt.isPrimaryClient,xt,re);return $v(tt,W.targetId,Ot.au),Ot.snapshot})(s,b,O,F);const c=await jv(s.localStore,t,!0),d=new WI(t,c.ks),p=d.ru(c.documents),_=$l.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);$v(s,i,y.au);const S=new tN(t,i,d);return s.Tu.set(t,S),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function aN(s,t,i){const a=At(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!_h(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await cm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Gm(a.remoteStore,l.targetId),dm(a,l.targetId)})).catch(yo)):(dm(a,l.targetId),await cm(a.localStore,l.targetId,!0))}async function oN(s,t){const i=At(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Gm(i.remoteStore,a.targetId))}async function lN(s,t,i){const a=pN(s);try{const l=await(function(d,p){const _=At(d),y=he.now(),S=p.reduce(((F,Z)=>F.add(Z.key)),Pt());let b,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let Z=fs(),tt=Pt();return _.xs.getEntries(F,S).next((W=>{Z=W,Z.forEach(((ft,Et)=>{Et.isValidDocument()||(tt=tt.add(ft))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,Z))).next((W=>{b=W;const ft=[];for(const Et of p){const mt=vC(Et,b.get(Et.key).overlayedDocument);mt!=null&&ft.push(new ia(Et.key,mt,IE(mt.value.mapValue),ls.exists(!0)))}return _.mutationQueue.addMutationBatch(F,y,ft,p)})).next((W=>{O=W;const ft=W.applyToLocalDocumentSet(b,tt);return _.documentOverlayCache.saveOverlays(F,W.batchId,ft)}))})).then((()=>({batchId:O.batchId,changes:PE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new me(Ut)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await Zl(a,l.changes),await wh(a.remoteStore)}catch(l){const c=Xm(l,"Failed to persist write");i.reject(c)}}async function ET(s,t){const i=At(s);try{const a=await yI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xt(d.hu,14607):l.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))})),await Zl(i,a,t)}catch(a){await yo(a)}}function Xv(s,t,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=At(d);_.onlineState=p;let y=!1;_.queries.forEach(((S,b)=>{for(const O of b.ba)O.va(p)&&(y=!0)})),y&&$m(_)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function uN(s,t,i){const a=At(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new me(dt.comparator);d=d.insert(c,rn.newNoDocument(c,Tt.min()));const p=Pt().add(c),_=new Sh(Tt.min(),new Map,new me(Ut),d,p);await ET(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(t),Zm(a)}else await cm(a.localStore,t,!1).then((()=>dm(a,t,i))).catch(yo)}async function cN(s,t){const i=At(s),a=t.batch.batchId;try{const l=await gI(i.localStore,t);ST(i,a,null),TT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Zl(i,l)}catch(l){await yo(l)}}async function hN(s,t,i){const a=At(s);try{const l=await(function(d,p){const _=At(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return _.mutationQueue.lookupMutationBatch(y,p).next((b=>(Xt(b!==null,37113),S=b.keys(),_.mutationQueue.removeMutationBatch(y,b)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,S,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>_.localDocuments.getDocuments(y,S)))}))})(a.localStore,t);ST(a,t,i),TT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Zl(a,l)}catch(l){await yo(l)}}function TT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function ST(s,t,i){const a=At(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function dm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||AT(s,a)}))}function AT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Gm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),Zm(s))}function $v(s,t,i){for(const a of i)a instanceof yT?(s.Vu.addReference(a.key,t),fN(s,a)):a instanceof _T?(rt(Jm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||AT(s,a.key)):_t(19791,{wu:a})}function fN(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(rt(Jm,"New document in limbo: "+i),s.Eu.add(a),Zm(s))}function Zm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new dt(ce.fromString(t)),a=s.fu.next();s.Au.set(a,new eN(i)),s.Ru=s.Ru.insert(i,a),hT(s.remoteStore,new nr(Mi(km(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function Zl(s,t,i){const a=At(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(y){l.push(y);const S=Hm.Es(_.targetId,y);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(_,y){const S=At(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(y,(O=>X.forEach(O.Ts,(F=>S.persistence.referenceDelegate.addReference(b,O.targetId,F))).next((()=>X.forEach(O.Is,(F=>S.persistence.referenceDelegate.removeReference(b,O.targetId,F)))))))))}catch(b){if(!_o(b))throw b;rt(qm,"Failed to update sequence numbers: "+b)}for(const b of y){const O=b.targetId;if(!b.fromCache){const F=S.vs.get(O),Z=F.snapshotVersion,tt=F.withLastLimboFreeSnapshotVersion(Z);S.vs=S.vs.insert(O,tt)}}})(a.localStore,c))}async function dN(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){rt(Jm,"User change. New user:",t.toKey());const a=await oT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new lt(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Zl(i,a.Ns)}}function mN(s,t){const i=At(s),a=i.Au.get(t);if(a&&a.hu)return Pt().add(a.key);{let l=Pt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function bT(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=ET.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uN.bind(null,t),t.Pu.J_=$I.bind(null,t.eventManager),t.Pu.yu=JI.bind(null,t.eventManager),t}function pN(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hN.bind(null,t),t}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return pI(this.persistence,new fI,t.initialUser,this.serializer)}Cu(t){return new aT(Bm.Vi,this.serializer)}Du(t){return new SI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class gN extends oh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Xt(this.persistence.referenceDelegate instanceof rh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new JC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new aT((a=>rh.Vi(a,i)),this.serializer)}}class mm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Xv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=dN.bind(null,this.syncEngine),await FI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new QI})()}createDatastore(t){const i=Ah(t.databaseInfo.databaseId),a=CI(t.databaseInfo);return OI(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new VI(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Xv(this.syncEngine,i,0)),(function(){return qv.v()?new qv:new AI})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,S){const b=new nN(l,c,d,p,_,y);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);rt(Wr,"RemoteStore shutting down."),a.Ea.add(5),await Jl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mm.provider={build:()=>new mm};class yN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):hs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const dr="FirestoreClient";class _N{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=sn.UNAUTHENTICATED,this.clientId=Im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(dr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(dr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Xm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function qd(s,t){s.asyncQueue.verifyOperationInProgress(),rt(dr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await oT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Jv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await vN(s);rt(dr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Fv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Fv(t.remoteStore,l))),s._onlineComponents=t}async function vN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(dr,"Using user provided OfflineComponentProvider");try{await qd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ao("Error using user provided cache. Falling back to memory cache: "+i),await qd(s,new oh)}}else rt(dr,"Using default OfflineComponentProvider"),await qd(s,new gN(void 0));return s._offlineComponents}async function wT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(dr,"Using user provided OnlineComponentProvider"),await Jv(s,s._uninitializedComponentsProvider._online)):(rt(dr,"Using default OnlineComponentProvider"),await Jv(s,new mm))),s._onlineComponents}function EN(s){return wT(s).then((t=>t.syncEngine))}async function Zv(s){const t=await wT(s),i=t.eventManager;return i.onListen=iN.bind(null,t.syncEngine),i.onUnlisten=aN.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=sN.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=oN.bind(null,t.syncEngine),i}function TN(s,t,i,a){const l=new yN(a),c=new ZI(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>YI(await Zv(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>XI(await Zv(s),c)))}}function SN(s,t){const i=new Kr;return s.asyncQueue.enqueueAndForget((async()=>lN(await EN(s),t,i))),i.promise}function RT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const AN="ComponentProvider",Wv=new Map;function bN(s,t,i,a,l){return new BR(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,RT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const CT="firestore.googleapis.com",t0=!0;class e0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CT,this.ssl=t0}else this.host=t.host,this.ssl=t.ssl??t0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=rT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<XC)throw new lt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}DR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new ER;switch(a.type){case"firstParty":return new bR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Wv.get(i);a&&(rt(AN,"Removing Datastore"),Wv.delete(i),a.terminate())})(this),Promise.resolve()}}function wN(s,t,i,a={}){s=to(s,Rh);const l=fo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(T0(`https://${p}`),S0("Firestore",!0)),c.host!==CT&&c.host!==p&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!Yr(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,S;if(typeof a.mockUserToken=="string")y=a.mockUserToken,S=sn.MOCK_USER;else{y=CA(a.mockUserToken,s._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new lt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new sn(b)}s._authCredentials=new TR(new gE(y,S))}}class Ch{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ch(this.firestore,t,this._query)}}class Ue{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ue(this.firestore,t,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Yl(i,Ue._jsonSchema))return new Ue(t,a||null,new dt(ce.fromString(i.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:Ve("string",Ue._jsonSchemaVersion),referencePath:Ve("string")};class or extends Ch{constructor(t,i,a){super(t,i,km(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ue(this.firestore,null,new dt(t))}withConverter(t){return new or(this.firestore,t,this._path)}}function n0(s,t,...i){if(s=on(s),yE("collection","path",t),s instanceof Rh){const a=ce.fromString(t,...i);return mv(a),new or(s,null,a)}{if(!(s instanceof Ue||s instanceof or))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ce.fromString(t,...i));return mv(a),new or(s.firestore,null,a)}}function i0(s,t,...i){if(s=on(s),arguments.length===1&&(t=Im.newId()),yE("doc","path",t),s instanceof Rh){const a=ce.fromString(t,...i);return dv(a),new Ue(s,null,new dt(a))}{if(!(s instanceof Ue||s instanceof or))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ce.fromString(t,...i));return dv(a),new Ue(s.firestore,s instanceof or?s.converter:null,new dt(a))}}const s0="AsyncQueue";class r0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uT(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&rt(s0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Kr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!_o(t))throw t;rt(s0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,hs("INTERNAL UNHANDLED ERROR: ",a0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Ym.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:a0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function a0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class lh extends Rh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new r0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new r0(t),this._firestoreClient=void 0,await t}}}function RN(s,t){const i=typeof s=="object"?s:R0(),a=typeof s=="string"?s:Zc,l=_m(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=wA("firestore");c&&wN(l,...c)}return l}function IT(s){if(s._terminated)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||CN(s),s._firestoreClient}function CN(s){const t=s._freezeSettings(),i=bN(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new _N(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn(Ze.fromBase64String(t))}catch(i){throw new lt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Fn(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Yl(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Ve("string",Fn._jsonSchemaVersion),bytes:Ve("string")};class NT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class DT{constructor(t){this._methodName=t}}class ki{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(Yl(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Ve("string",ki._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};class ai{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Yl(t,ai._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ai(t.vectorValues);throw new lt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:Ve("string",ai._jsonSchemaVersion),vectorValues:Ve("object")};const IN=/^__.*__$/;class NN{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ia(t,this.data,this.fieldMask,i,this.fieldTransforms):new Xl(t,this.data,i,this.fieldTransforms)}}function xT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{dataSource:s})}}class Wm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Wm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return uh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(xT(this.dataSource)&&IN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class DN{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Ah(t)}createContext(t,i,a,l=!1){return new Wm({dataSource:t,methodName:i,targetDoc:a,path:Je.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xN(s){const t=s._freezeSettings(),i=Ah(s._databaseId);return new DN(s._databaseId,!!t.ignoreUndefinedProperties,i)}function ON(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);kT("Data must be an object, but it was:",d,a);const p=MT(a,d);let _,y;if(c.merge)_=new ri(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const b of c.mergeFields){const O=tp(t,b,i);if(!d.contains(O))throw new lt(J.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);kN(S,O)||S.push(O)}_=new ri(S),y=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,y=d.fieldTransforms;return new NN(new Gn(p),_,y)}function OT(s,t){if(VT(s=on(s)))return kT("Unsupported field value:",t,s),MT(s,t);if(s instanceof DT)return(function(a,l){if(!xT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=OT(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=on(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return dC(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=he.fromDate(a);return{timestampValue:sh(l.serializer,c)}}if(a instanceof he){const c=new he(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:sh(l.serializer,c)}}if(a instanceof ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Fn)return{bytesValue:JE(l.serializer,a._byteString)};if(a instanceof Ue){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:zm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ai)return(function(d,p){const _=d instanceof ai?d.toArray():d;return{mapValue:{fields:{[RE]:{stringValue:CE},[Wc]:{arrayValue:{values:_.map((S=>{if(typeof S!="number")throw p.createError("VectorValues must only contain numeric values.");return Lm(p.serializer,S)}))}}}}}})(a,l);if(sT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Nm(a)}`)})(s,t)}function MT(s,t){const i={};return EE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ea(s,((a,l)=>{const c=OT(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function VT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof he||s instanceof ki||s instanceof Fn||s instanceof Ue||s instanceof DT||s instanceof ai||sT(s))}function kT(s,t,i){if(!VT(i)||!_E(i)){const a=Nm(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function tp(s,t,i){if((t=on(t))instanceof NT)return t._internalPath;if(typeof t=="string")return VN(s,t);throw uh("Field path arguments must be of type string or ",s,!1,void 0,i)}const MN=new RegExp("[~\\*/\\[\\]]");function VN(s,t,i){if(t.search(MN)>=0)throw uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new NT(...t.split("."))._internalPath}catch{throw uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function uh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new lt(J.INVALID_ARGUMENT,p+s+_)}function kN(s,t){return s.some((i=>i.isEqual(t)))}class LN{convertValue(t,i="none"){switch(hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(cr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ea(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Wc].arrayValue?.values?.map((a=>be(a.doubleValue)));return new ai(i)}convertGeoPoint(t){return new ki(be(t.latitude),be(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=gh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ul(t));default:return null}}convertTimestamp(t){const i=ur(t);return new he(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ce.fromString(t);Xt(iT(a),9688,{name:t});const l=new Pl(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||hs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class LT extends LN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ue(this.firestore,null,i)}}const o0="@firebase/firestore",l0="4.10.0";function u0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class UT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new UN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(tp("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class UN extends UT{data(){return super.data()}}function PN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function zN(s,t,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,a}class Cl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qr extends UT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(tp("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qr._jsonSchema={type:Ve("string",Qr._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Hc extends Qr{data(t={}){return super.data(t)}}class io{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Cl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Hc(this._firestore,this._userDataWriter,a.key,a,new Cl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Cl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Cl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,S=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:jN(p.type),doc:_,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=io._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Im.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function jN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}io._jsonSchemaVersion="firestore/querySnapshot/1.0",io._jsonSchema={type:Ve("string",io._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};function c0(s,t,i){s=to(s,Ue);const a=to(s.firestore,lh),l=zN(s.converter,t,i),c=xN(a);return HN(a,[ON(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,ls.none())])}function BN(s,...t){s=on(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||u0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(u0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Ue)d=to(s.firestore,lh),p=km(s._key.path),c={next:y=>{t[a]&&t[a](qN(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=to(s,Ch);d=to(y.firestore,lh),p=y._query;const S=new LT(d);c={next:b=>{t[a]&&t[a](new io(d,S,y,b))},error:t[a+1],complete:t[a+2]},PN(s._query)}const _=IT(d);return TN(_,p,l,c)}function HN(s,t){const i=IT(s);return SN(i,t)}function qN(s,t,i){const a=i.docs.get(t._key),l=new LT(s);return new Qr(s,l,t._key,a,new Cl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){vR(mo),so(new Xr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new lh(new SR(a.getProvider("auth-internal")),new wR(d,a.getProvider("app-check-internal")),HR(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),rr(o0,l0,t),rr(o0,l0,"esm2020")})();const GN={apiKey:"AIzaSyAGLJLk3wzCmZrfQLSri0cLkZlBJnCIi-0",authDomain:"focusflow-d5411.firebaseapp.com",projectId:"focusflow-d5411",storageBucket:"focusflow-d5411.firebasestorage.app",messagingSenderId:"870983180050",appId:"1:870983180050:web:38a6ecbbd089b9d6bcddcb",measurementId:"G-E3QGBE2B1H"},PT=w0(GN),Oc=yR(PT),h0=RN(PT),f0=typeof __app_id<"u"?__app_id:"default-app-id",d0=({darkMode:s})=>{const[t,i]=Gt.useState(!1),[a,l]=Gt.useState("background.png"),c=()=>{a==="background.png"?l("background.jpg"):i(!0)};return L.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden bg-[#0f0c29]",children:[L.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0f0c29] via-[#302b63] to-[#24243e] opacity-100"}),!t&&L.jsx("img",{src:a,alt:"Background",className:"absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 opacity-80 mix-blend-overlay",onError:c}),L.jsx("div",{className:`absolute inset-0 transition-all duration-700 ${s?"bg-slate-950/70 backdrop-blur-[3px]":"bg-white/60 backdrop-blur-[8px]"}`})]})},FN=({dailyHistory:s,glassClass:t})=>{const[i,a]=Gt.useState(new Date),l=(tt,W)=>new Date(tt,W+1,0).getDate(),c=(tt,W)=>new Date(tt,W,1).getDay(),d=i.getFullYear(),p=i.getMonth(),_=l(d,p),y=c(d,p),S=["January","February","March","April","May","June","July","August","September","October","November","December"],b=()=>a(new Date(d,p-1,1)),O=()=>a(new Date(d,p+1,1)),F=Gt.useMemo(()=>{const tt={};return s.forEach(W=>{tt[W.date]=W.score}),tt},[s]),Z=()=>{const tt=[];for(let W=0;W<y;W++)tt.push(L.jsx("div",{className:"h-10 w-10"},`empty-${W}`));for(let W=1;W<=_;W++){const ft=new Date(d,p,W),Et=ft.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),mt=F[Et];let xt="bg-white/5 hover:bg-white/10 text-slate-400";mt!==void 0&&(mt===100?xt="bg-emerald-600 text-white font-bold shadow-[0_0_15px_rgba(5,150,105,0.5)] border border-emerald-400":mt>=50?xt="bg-emerald-500/40 text-emerald-100 border border-emerald-500/50":xt="bg-emerald-900/30 text-emerald-300/70 border border-emerald-900/30"),new Date().toDateString()===ft.toDateString()&&(xt+=" ring-2 ring-amber-400 ring-offset-2 ring-offset-transparent"),tt.push(L.jsx("div",{className:`h-10 w-10 flex items-center justify-center rounded-xl text-sm cursor-pointer transition-all duration-300 ${xt}`,title:mt!==void 0?`Score: ${mt}%`:"No Data",children:W},W))}return tt};return L.jsxs("div",{className:`p-6 rounded-3xl ${t}`,children:[L.jsxs("div",{className:"flex justify-between items-center mb-6",children:[L.jsx("button",{onClick:b,className:"p-2 rounded-full hover:bg-white/10 transition-colors",children:L.jsx(US,{})}),L.jsxs("h2",{className:"text-xl font-bold tracking-wide bg-gradient-to-r from-emerald-400 to-teal-300 bg-clip-text text-transparent",children:[S[p]," ",d]}),L.jsx("button",{onClick:O,className:"p-2 rounded-full hover:bg-white/10 transition-colors",children:L.jsx(zS,{})})]}),L.jsx("div",{className:"grid grid-cols-7 gap-2 text-center mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(tt=>L.jsx("div",{className:"text-xs font-bold uppercase tracking-wider opacity-60",children:tt},tt))}),L.jsx("div",{className:"grid grid-cols-7 gap-2 place-items-center",children:Z()}),L.jsxs("div",{className:"mt-8 flex justify-center gap-6 text-xs font-medium opacity-80",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.8)]"})," Perfect"]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500/40 border border-emerald-500/50"})," Good"]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-900/30 border border-emerald-900/30"})," Low"]})]})]})},KN=({data:s})=>{const t=s.reduce((a,l)=>a+l.value,0);if(t===0)return L.jsx("div",{className:"flex items-center justify-center h-48 bg-white/5 rounded-full text-xs text-white/40 border border-white/10 backdrop-blur-sm",children:"No Activity "});let i=0;return L.jsx("svg",{viewBox:"0 0 100 100",className:"w-48 h-48 transform -rotate-90 drop-shadow-2xl",children:s.map((a,l)=>{const c=a.value/t*360,d=50+50*Math.cos(Math.PI*i/180),p=50+50*Math.sin(Math.PI*i/180),_=50+50*Math.cos(Math.PI*(i+c)/180),y=50+50*Math.sin(Math.PI*(i+c)/180),S=a.value===t?"M 50 50 m -50, 0 a 50,50 0 1,0 100,0 a 50,50 0 1,0 -100,0":`M 50 50 L ${d} ${p} A 50 50 0 ${c>180?1:0} 1 ${_} ${y} Z`,b=L.jsx("path",{d:S,fill:a.color,className:"transition-all duration-500 hover:opacity-90 stroke-[#1a1a1a] stroke-1"},l);return i+=c,b})})};function QN(){const[s,t]=Gt.useState(!0),[i,a]=Gt.useState(null),[l,c]=Gt.useState(!0),[d,p]=Gt.useState(new Date),[_,y]=Gt.useState("planner"),[S,b]=Gt.useState(!1),[O,F]=Gt.useState([]),[Z,tt]=Gt.useState([]),[W,ft]=Gt.useState([]),[Et,mt]=Gt.useState(""),[xt,re]=Gt.useState(""),[Ot,I]=Gt.useState(""),[A,C]=Gt.useState(""),[M,N]=Gt.useState(""),[k,w]=Gt.useState(""),[Ft,_e]=Gt.useState(!1),[q,it]=Gt.useState(""),[ct,It]=Gt.useState(null),[Bt,x]=Gt.useState("");Gt.useEffect(()=>{const $=r2(Oc,ut=>{a(ut),c(!1)});return()=>$()},[]),Gt.useEffect(()=>{if(!i)return;const $=i0(n0(h0,"artifacts",f0,"users",i.uid,"plannerData"),"daily"),ut=BN($,gt=>{if(gt.exists()){const $t=gt.data();F($t.tasks||[]),tt($t.habits||[]),ft($t.dailyHistory||[]),$t.savedDate&&p(new Date($t.savedDate))}else{const $t={tasks:[],habits:[],dailyHistory:[],savedDate:new Date().toISOString()};c0($,$t)}});return()=>ut()},[i]);const Q=()=>{const $=new Date().getHours(),ut=i?.displayName||i?.email?.split("@")[0]||"Friend";return $<12?`Good Morning, ${ut}`:$<18?`Good Afternoon, ${ut}`:`Good Evening, ${ut}`},et=async($,ut,gt,$t)=>{if(!i)return;const tn=$!==void 0?$:O,Nn=ut!==void 0?ut:Z,_n=gt!==void 0?gt:W,li=$t||d,ze=i0(n0(h0,"artifacts",f0,"users",i.uid,"plannerData"),"daily");await c0(ze,{tasks:tn,habits:Nn,dailyHistory:_n,savedDate:li.toISOString()},{merge:!0})},st=async $=>{$.preventDefault(),it("");try{if(Ft){const ut=await Ww(Oc,A,M);await n2(ut.user,{displayName:k})}else await t2(Oc,A,M);C(""),N(""),w("")}catch(ut){ut.code==="auth/invalid-credential"||ut.code==="auth/wrong-password"||ut.code==="auth/user-not-found"?it("Wrong credentials. Please enter the correct credentials."):it(ut.message.replace("Firebase: ",""))}},vt=()=>a2(Oc),bt=$=>{if($.preventDefault(),!Et.trim())return;const ut=[...O,{id:Date.now(),text:Et,completed:!1}];F(ut),mt(""),et(ut)},Mt=$=>{if($.preventDefault(),!xt.trim())return;const gt=xt.split(`
`).filter(tn=>tn.trim()!=="").map((tn,Nn)=>({id:Date.now()+Nn,text:tn.trim(),completed:!1})),$t=[...O,...gt];F($t),re(""),b(!1),et($t)},ve=$=>{const ut=O.map(gt=>gt.id===$?{...gt,completed:!gt.completed}:gt);F(ut),et(ut)},ae=$=>{const ut=O.filter(gt=>gt.id!==$);F(ut),et(ut)},Pi=$=>{if($.preventDefault(),!Ot.trim())return;const ut=[...Z,{id:Date.now(),text:Ot,streak:0,completedToday:!1,history:[]}];tt(ut),I(""),et(void 0,ut)},ps=$=>{const ut=Z.map(gt=>{if(gt.id===$){const $t=!gt.completedToday,tn=$t?gt.streak+1:Math.max(0,gt.streak-1);return{...gt,completedToday:$t,streak:tn}}return gt});tt(ut),et(void 0,ut)},gs=$=>{const ut=Z.filter(gt=>gt.id!==$);tt(ut),et(void 0,ut)},ys=($,ut)=>{It($),x(ut)},In=($,ut)=>{if(Bt.trim()){{const gt=O.map($t=>$t.id===$?{...$t,text:Bt}:$t);F(gt),et(gt)}It(null),x("")}},pr=()=>{if(confirm("Remove completed tasks?")){const $=O.filter(ut=>!ut.completed);F($),et($)}},zi=()=>{const $=O.length+Z.length,ut=O.filter(ze=>ze.completed).length+Z.filter(ze=>ze.completedToday).length,gt=$===0?0:Math.round(ut/$*100),$t={date:d.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),score:gt},tn=[...W,$t],Nn=Z.map(ze=>({...ze,completedToday:!1,streak:ze.completedToday?ze.streak:0,history:[...ze.history,ze.completedToday?1:0]})),_n=O.filter(ze=>!ze.completed),li=new Date(d);li.setDate(li.getDate()+1),F(_n),tt(Nn),ft(tn),p(li),et(_n,Nn,tn,li)},_s=Gt.useMemo(()=>{const $=O.length+Z.length;if($===0)return 0;const ut=O.filter(gt=>gt.completed).length+Z.filter(gt=>gt.completedToday).length;return Math.round(ut/$*100)},[O,Z]),vs=[{name:"Tasks",value:O.filter($=>$.completed).length,color:"#d946ef"},{name:"Habits",value:Z.filter($=>$.completedToday).length,color:"#8b5cf6"},{name:"Left",value:O.filter($=>!$.completed).length+Z.filter($=>!$.completedToday).length,color:"#64748b"}].filter($=>$.value>0),Yt=`backdrop-blur-xl border transition-all duration-300 ${s?"bg-slate-900/60 border-white/10 shadow-[0_8px_32px_0_rgba(0,0,0,0.37)] text-slate-100":"bg-white/60 border-white/40 shadow-xl text-slate-900"}`,oe=`w-full p-4 rounded-xl border bg-transparent outline-none transition-all placeholder:text-slate-500 font-medium ${s?"border-white/10 focus:border-fuchsia-500 focus:bg-white/5":"border-slate-300 focus:border-violet-500 focus:bg-white/50"}`,We="bg-gradient-to-r from-violet-600 to-fuchsia-600 hover:from-violet-500 hover:to-fuchsia-500 text-white shadow-lg shadow-violet-500/30";return l?L.jsx("div",{className:"min-h-screen bg-[#0f0c29] flex items-center justify-center text-white/50",children:"Loading Portal..."}):i?L.jsxs("div",{className:`font-sans relative min-h-screen ${s?"text-slate-100":"text-slate-900"}`,children:[L.jsx(d0,{darkMode:s}),L.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[L.jsxs("header",{className:`sticky top-0 z-20 backdrop-blur-xl border-b ${s?"bg-black/20 border-white/5":"bg-white/40 border-white/20"}`,children:[L.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-4 flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center gap-8",children:[L.jsxs("div",{children:[L.jsx("h1",{className:"font-bold text-2xl leading-none tracking-tight bg-gradient-to-r from-violet-400 to-fuchsia-400 bg-clip-text text-transparent",children:Q()}),L.jsx("p",{className:"text-xs mt-1 font-medium opacity-60 uppercase tracking-widest hidden sm:block",children:"Stay Consistent"})]}),L.jsx("div",{className:"hidden md:flex items-center p-1 rounded-2xl bg-white/5 border border-white/10 backdrop-blur-md",children:["planner","tracker","calendar","stats"].map($=>L.jsx("button",{onClick:()=>y($),className:`px-5 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all ${_===$?"bg-white/10 text-white shadow-inner border border-white/10":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:$},$))})]}),L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsxs("button",{onClick:zi,className:"hidden sm:flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 hover:bg-emerald-500/20 hover:border-emerald-500/40 hover:shadow-[0_0_15px_rgba(16,185,129,0.3)]",children:["End Day ",L.jsx(oA,{size:14})]}),L.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-white/10",children:[L.jsx("button",{onClick:()=>t(!s),className:`p-2.5 rounded-full transition-all ${s?"bg-white/5 hover:bg-white/10 text-amber-300":"bg-black/5 hover:bg-black/10 text-indigo-600"}`,children:s?L.jsx(cA,{size:20}):L.jsx(eA,{size:20})}),L.jsx("button",{onClick:()=>y("profile"),className:"group relative",children:L.jsx("div",{className:`w-11 h-11 rounded-full flex items-center justify-center text-lg font-bold text-white shadow-lg ring-2 ring-white/20 group-hover:ring-fuchsia-500 transition-all ${We}`,children:(i.displayName||i.email||"U")[0].toUpperCase()})})]})]})]}),L.jsx("div",{className:"md:hidden flex justify-between px-6 pb-4 pt-2 overflow-x-auto",children:["planner","tracker","calendar","stats","profile"].map($=>L.jsx("button",{onClick:()=>y($),className:`px-4 py-2 text-xs font-bold uppercase rounded-lg border transition-all whitespace-nowrap mr-2 ${_===$?"border-fuchsia-500 text-fuchsia-400 bg-fuchsia-500/10":"border-transparent text-slate-500"}`,children:$},$))})]}),L.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-8 space-y-8 flex-1 w-full animate-fadeIn",children:[_==="planner"&&L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{className:`rounded-3xl p-6 ${Yt}`,children:[L.jsxs("div",{className:"flex justify-between items-center mb-6",children:[L.jsxs("h3",{className:"font-bold text-sm opacity-60 uppercase tracking-widest flex items-center gap-2",children:[L.jsx(QS,{className:"text-fuchsia-400"})," Daily Tasks"]}),L.jsxs("div",{className:"flex gap-2",children:[O.some($=>$.completed)&&L.jsxs("button",{onClick:pr,className:"text-xs px-3 py-1.5 rounded-lg bg-red-500/10 text-red-400 hover:bg-red-500/20 border border-red-500/20 flex items-center gap-1 transition-colors",children:[L.jsx(xd,{size:12})," Clear Done"]}),L.jsxs("button",{onClick:()=>b(!S),className:"text-xs px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 flex items-center gap-1 transition-all",children:[L.jsx(fA,{size:12})," ",S?"Single":"Bulk"]})]})]}),S?L.jsxs("form",{onSubmit:Mt,children:[L.jsx("textarea",{value:xt,onChange:$=>re($.target.value),placeholder:"One task per line...",className:`${oe} h-40 mb-4 font-mono text-sm`}),L.jsx("button",{type:"submit",className:`w-full py-3 rounded-xl font-bold uppercase tracking-wide transition-all ${We}`,children:"Add Tasks"})]}):L.jsxs("form",{onSubmit:bt,className:"relative group",children:[L.jsx("input",{type:"text",value:Et,onChange:$=>mt($.target.value),placeholder:"What is your focus today?",className:`${oe} pr-14`}),L.jsx("button",{type:"submit",className:`absolute right-2 top-2 p-2.5 rounded-lg transition-all hover:scale-105 ${We}`,children:L.jsx(rA,{size:20})})]})]}),L.jsxs("div",{className:"space-y-3",children:[O.length===0&&L.jsxs("div",{className:"text-center py-20 opacity-40",children:[L.jsx("p",{className:"text-xl font-light",children:"Your canvas is empty."}),L.jsx("p",{className:"text-sm mt-2",children:"Add a task to begin."})]}),O.map($=>L.jsxs("div",{className:`group flex items-center justify-between p-5 rounded-2xl transition-all duration-300 ${Yt} ${$.completed?"opacity-50 grayscale":"hover:-translate-y-1 hover:border-fuchsia-500/30"}`,children:[L.jsxs("div",{className:"flex items-center gap-5 flex-1",children:[L.jsx("button",{onClick:()=>ve($.id),className:`transition-all duration-300 ${$.completed?"text-emerald-400 scale-110":"text-slate-500 hover:text-fuchsia-400"}`,children:$.completed?L.jsx(BS,{size:26,className:"fill-emerald-500/20"}):L.jsx(FS,{size:26})}),ct===$.id?L.jsxs("div",{className:"flex-1 flex gap-2",children:[L.jsx("input",{autoFocus:!0,type:"text",value:Bt,onChange:ut=>x(ut.target.value),className:"flex-1 bg-transparent border-b border-fuchsia-500 outline-none pb-1"}),L.jsx("button",{onClick:()=>In($.id),className:"text-emerald-400",children:L.jsx(kS,{size:20})}),L.jsx("button",{onClick:()=>It(null),className:"text-red-400",children:L.jsx(M_,{size:20})})]}):L.jsx("span",{className:`text-lg font-medium flex-1 break-all ${$.completed?"line-through decoration-2 decoration-white/20":""}`,children:$.text})]}),L.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-all",children:[L.jsx("button",{onClick:()=>ys($.id,$.text),className:"p-2 opacity-60 hover:opacity-100 hover:text-fuchsia-400",children:L.jsx(iA,{size:18})}),L.jsx("button",{onClick:()=>ae($.id),className:"p-2 opacity-60 hover:opacity-100 hover:text-red-400",children:L.jsx(xd,{size:18})})]})]},$.id))]})]}),_==="tracker"&&L.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[L.jsxs("div",{className:`rounded-3xl p-6 ${Yt}`,children:[L.jsx("div",{className:"flex justify-between items-center mb-6",children:L.jsxs("h3",{className:"font-bold text-sm opacity-60 uppercase tracking-widest flex items-center gap-2",children:[L.jsx(xS,{className:"text-amber-400"})," Habit Tracker"]})}),L.jsxs("form",{onSubmit:Pi,className:"flex gap-3",children:[L.jsx("input",{type:"text",value:Ot,onChange:$=>I($.target.value),placeholder:"New habit to build...",className:`${oe} flex-1`}),L.jsx("button",{type:"submit",className:`px-8 py-2 rounded-xl font-bold uppercase tracking-wide transition-all hover:scale-105 ${We}`,children:"Add"})]})]}),L.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:Z.map($=>L.jsxs("div",{className:`p-6 rounded-3xl transition-all duration-300 relative overflow-hidden group ${Yt} ${$.completedToday?"border-emerald-500/30":""}`,children:[L.jsx("div",{className:`absolute top-0 right-0 p-3 rounded-bl-2xl bg-white/5 backdrop-blur-md transition-all ${$.completedToday?"text-emerald-400":"text-slate-600"}`,children:L.jsx(pA,{size:20})}),L.jsxs("div",{className:"mb-6",children:[L.jsx("h3",{className:"font-bold text-xl",children:$.text}),L.jsxs("p",{className:"text-xs font-mono mt-1 opacity-60 flex items-center gap-1",children:[L.jsx("span",{className:"text-amber-400",children:""})," ",$.streak," Day Streak"]})]}),L.jsxs("div",{className:"flex gap-2",children:[L.jsx("button",{onClick:()=>ps($.id),className:`flex-1 py-3 rounded-xl text-sm font-bold uppercase tracking-wider transition-all ${$.completedToday?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30 shadow-[0_0_15px_rgba(16,185,129,0.2)]":"bg-white/5 hover:bg-white/10 text-slate-400"}`,children:$.completedToday?"Done":"Check In"}),L.jsx("button",{onClick:()=>gs($.id),className:"p-3 rounded-xl bg-white/5 hover:bg-red-500/20 text-slate-500 hover:text-red-400 transition-all",children:L.jsx(xd,{size:18})})]}),L.jsx("div",{className:"mt-4 flex gap-1 justify-center opacity-40",children:[...$.history,$.completedToday?1:0].slice(-7).map((ut,gt)=>L.jsx("div",{className:`h-1.5 flex-1 rounded-full transition-all ${ut?"bg-emerald-500":"bg-slate-700"}`},gt))})]},$.id))})]}),_==="calendar"&&L.jsx("div",{className:"animate-fadeIn",children:L.jsx(FN,{dailyHistory:W,glassClass:Yt})}),_==="stats"&&L.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[L.jsxs("div",{className:`p-8 rounded-3xl flex flex-col items-center ${Yt}`,children:[L.jsx("h2",{className:"text-xl font-bold mb-8 tracking-tight uppercase opacity-80",children:"Daily Breakdown"}),L.jsx(KN,{data:vs}),L.jsx("div",{className:"mt-10 flex gap-8 flex-wrap justify-center",children:vs.map(($,ut)=>L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:"w-4 h-4 rounded-md shadow-lg",style:{backgroundColor:$.color}}),L.jsxs("span",{className:"text-sm font-bold opacity-80",children:[$.name," (",$.value,")"]})]},ut))})]}),L.jsxs("div",{className:`p-8 rounded-3xl ${Yt}`,children:[L.jsxs("div",{className:"flex items-center justify-between mb-4",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx(MS,{className:"text-amber-400",size:28}),L.jsx("h2",{className:"text-xl font-bold",children:"Daily Consistency"})]}),L.jsxs("span",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-400",children:[_s,"%"]})]}),L.jsx("div",{className:"w-full h-4 rounded-full bg-black/40 border border-white/5 overflow-hidden",children:L.jsx("div",{className:"h-full bg-gradient-to-r from-violet-600 via-fuchsia-600 to-amber-500 rounded-full transition-all duration-1000 shadow-[0_0_20px_rgba(192,38,211,0.5)] relative",style:{width:`${_s}%`},children:L.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 bg-white/50 blur-[1px]"})})})]})]}),_==="profile"&&L.jsx("div",{className:`max-w-md mx-auto p-8 rounded-3xl ${Yt} text-center`,children:i&&!i.isAnonymous&&L.jsxs("div",{className:"space-y-8",children:[L.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[L.jsx("div",{className:`w-full h-full rounded-full flex items-center justify-center text-5xl text-white font-black shadow-2xl ring-4 ring-white/10 ${We}`,children:(i.displayName||i.email||"U")[0].toUpperCase()}),L.jsx("div",{className:"absolute bottom-1 right-1 p-2.5 bg-emerald-500 rounded-full border-4 border-slate-900 shadow-lg",children:L.jsx(O_,{size:20,className:"text-white"})})]}),L.jsxs("div",{children:[L.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:i.displayName||"User"}),L.jsx("p",{className:"text-sm font-mono opacity-50 mt-1",children:i.email})]}),L.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[L.jsxs("div",{className:"p-4 rounded-2xl bg-white/5 border border-white/10",children:[L.jsx("p",{className:"text-2xl font-bold text-fuchsia-400",children:O.filter($=>$.completed).length}),L.jsx("p",{className:"text-xs uppercase opacity-50 mt-1",children:"Tasks Done"})]}),L.jsxs("div",{className:"p-4 rounded-2xl bg-white/5 border border-white/10",children:[L.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:Z.filter($=>$.streak>0).length}),L.jsx("p",{className:"text-xs uppercase opacity-50 mt-1",children:"Active Habits"})]})]}),L.jsxs("button",{onClick:vt,className:"flex items-center justify-center gap-2 w-full py-4 rounded-xl border border-red-500/20 text-red-400 hover:bg-red-500/10 hover:border-red-500/40 transition-all font-bold tracking-wide uppercase text-sm",children:[L.jsx(JS,{size:18})," Sign Out"]})]})})]})]})]}):L.jsxs("div",{className:"font-sans min-h-screen flex items-center justify-center relative overflow-hidden",children:[L.jsx(d0,{darkMode:!0}),L.jsxs("div",{className:`relative z-10 w-full max-w-md p-8 rounded-3xl ${Yt} animate-fadeIn border-t border-l border-white/20`,children:[L.jsxs("div",{className:"text-center mb-8",children:[L.jsx("div",{className:`w-20 h-20 rounded-2xl mx-auto flex items-center justify-center shadow-2xl mb-4 ${We}`,children:L.jsx(O_,{size:40,className:"text-white"})}),L.jsx("h1",{className:"text-4xl font-black tracking-tight mb-2 bg-gradient-to-r from-white via-slate-200 to-slate-400 bg-clip-text text-transparent",children:"FocusFlow"}),L.jsx("p",{className:"text-sm font-medium text-slate-400",children:Ft?"Start Your Legacy":"Welcome Back, Achiever"})]}),q&&L.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 text-red-200 text-sm rounded-xl text-center flex items-center justify-center gap-2 backdrop-blur-sm",children:[L.jsx(M_,{size:16})," ",q]}),L.jsxs("form",{onSubmit:st,className:"space-y-5",children:[Ft&&L.jsxs("div",{className:"relative",children:[L.jsx(qS,{className:"absolute left-4 top-4 text-slate-500",size:20}),L.jsx("input",{type:"text",required:!0,value:k,onChange:$=>w($.target.value),placeholder:"Your Name",className:`${oe} pl-12`})]}),L.jsxs("div",{className:"relative",children:[L.jsx(WS,{className:"absolute left-4 top-4 text-slate-500",size:20}),L.jsx("input",{type:"email",required:!0,value:A,onChange:$=>C($.target.value),placeholder:"email@example.com",className:`${oe} pl-12`})]}),L.jsxs("div",{className:"relative",children:[L.jsx(XS,{className:"absolute left-4 top-4 text-slate-500",size:20}),L.jsx("input",{type:"password",required:!0,value:M,onChange:$=>N($.target.value),placeholder:"",className:`${oe} pl-12`})]}),L.jsx("button",{type:"submit",className:`w-full py-4 rounded-xl font-bold tracking-wide transition-all transform hover:scale-[1.02] ${We}`,children:Ft?"Create Account ":"Enter Portal "})]}),L.jsx("div",{className:"mt-8 text-center",children:L.jsx("button",{onClick:()=>_e(!Ft),className:"text-sm font-semibold text-slate-400 hover:text-white transition-colors",children:Ft?"Already have an account? Login":"New here? Create Account"})})]})]})}bS.createRoot(document.getElementById("root")).render(L.jsx(Gt.StrictMode,{children:L.jsx(QN,{})}));
