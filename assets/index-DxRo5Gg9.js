(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Rd={exports:{}},Al={};var S_;function Eb(){if(S_)return Al;S_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Al.Fragment=t,Al.jsx=i,Al.jsxs=i,Al}var A_;function Tb(){return A_||(A_=1,Rd.exports=Eb()),Rd.exports}var S=Tb(),Id={exports:{}},At={};var w_;function bb(){if(w_)return At;w_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function Y(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,Z={};function ct(O,Q,it){this.props=O,this.context=Q,this.refs=Z,this.updater=it||W}ct.prototype.isReactComponent={},ct.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},ct.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ft(){}ft.prototype=ct.prototype;function gt(O,Q,it){this.props=O,this.context=Q,this.refs=Z,this.updater=it||W}var Xt=gt.prototype=new ft;Xt.constructor=gt,st(Xt,ct.prototype),Xt.isPureReactComponent=!0;var oe=Array.isArray;function Et(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(O,Q,it){var rt=it.ref;return{$$typeof:s,type:O,key:Q,ref:rt!==void 0?rt:null,props:it}}function V(O,Q){return C(O.type,Q,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function L(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return Q[it]})}var R=/\/+/g;function Wt(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):Q.toString(36)}function ve(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Et,Et):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,Q,it,rt,yt){var Tt=typeof O;(Tt==="undefined"||Tt==="boolean")&&(O=null);var xt=!1;if(O===null)xt=!0;else switch(Tt){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(O.$$typeof){case s:case t:xt=!0;break;case b:return xt=O._init,F(xt(O._payload),Q,it,rt,yt)}}if(xt)return yt=yt(O),xt=rt===""?"."+Wt(O,0):rt,oe(yt)?(it="",xt!=null&&(it=xt.replace(R,"$&/")+"/"),F(yt,Q,it,"",function(Vn){return Vn})):yt!=null&&(D(yt)&&(yt=V(yt,it+(yt.key==null||O&&O.key===yt.key?"":(""+yt.key).replace(R,"$&/")+"/")+xt)),Q.push(yt)),1;xt=0;var Ft=rt===""?".":rt+":";if(oe(O))for(var re=0;re<O.length;re++)rt=O[re],Tt=Ft+Wt(rt,re),xt+=F(rt,Q,it,Tt,yt);else if(re=Y(O),typeof re=="function")for(O=re.call(O),re=0;!(rt=O.next()).done;)rt=rt.value,Tt=Ft+Wt(rt,re++),xt+=F(rt,Q,it,Tt,yt);else if(Tt==="object"){if(typeof O.then=="function")return F(ve(O),Q,it,rt,yt);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return xt}function nt(O,Q,it){if(O==null)return O;var rt=[],yt=0;return F(O,rt,"","",function(Tt){return Q.call(it,Tt,yt++)}),rt}function ht(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Vt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Nt={map:nt,forEach:function(O,Q,it){nt(O,function(){Q.apply(this,arguments)},it)},count:function(O){var Q=0;return nt(O,function(){Q++}),Q},toArray:function(O){return nt(O,function(Q){return Q})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=w,At.Children=Nt,At.Component=ct,At.Fragment=i,At.Profiler=l,At.PureComponent=gt,At.StrictMode=a,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return x.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,Q,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=st({},O.props),yt=O.key;if(Q!=null)for(Tt in Q.key!==void 0&&(yt=""+Q.key),Q)!A.call(Q,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&Q.ref===void 0||(rt[Tt]=Q[Tt]);var Tt=arguments.length-2;if(Tt===1)rt.children=it;else if(1<Tt){for(var xt=Array(Tt),Ft=0;Ft<Tt;Ft++)xt[Ft]=arguments[Ft+2];rt.children=xt}return C(O.type,yt,rt)},At.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},At.createElement=function(O,Q,it){var rt,yt={},Tt=null;if(Q!=null)for(rt in Q.key!==void 0&&(Tt=""+Q.key),Q)A.call(Q,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(yt[rt]=Q[rt]);var xt=arguments.length-2;if(xt===1)yt.children=it;else if(1<xt){for(var Ft=Array(xt),re=0;re<xt;re++)Ft[re]=arguments[re+2];yt.children=Ft}if(O&&O.defaultProps)for(rt in xt=O.defaultProps,xt)yt[rt]===void 0&&(yt[rt]=xt[rt]);return C(O,Tt,yt)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:g,render:O}},At.isValidElement=D,At.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ht}},At.memo=function(O,Q){return{$$typeof:y,type:O,compare:Q===void 0?null:Q}},At.startTransition=function(O){var Q=x.T,it={};x.T=it;try{var rt=O(),yt=x.S;yt!==null&&yt(it,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Et,Vt)}catch(Tt){Vt(Tt)}finally{Q!==null&&it.types!==null&&(Q.types=it.types),x.T=Q}},At.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},At.use=function(O){return x.H.use(O)},At.useActionState=function(O,Q,it){return x.H.useActionState(O,Q,it)},At.useCallback=function(O,Q){return x.H.useCallback(O,Q)},At.useContext=function(O){return x.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,Q){return x.H.useDeferredValue(O,Q)},At.useEffect=function(O,Q){return x.H.useEffect(O,Q)},At.useEffectEvent=function(O){return x.H.useEffectEvent(O)},At.useId=function(){return x.H.useId()},At.useImperativeHandle=function(O,Q,it){return x.H.useImperativeHandle(O,Q,it)},At.useInsertionEffect=function(O,Q){return x.H.useInsertionEffect(O,Q)},At.useLayoutEffect=function(O,Q){return x.H.useLayoutEffect(O,Q)},At.useMemo=function(O,Q){return x.H.useMemo(O,Q)},At.useOptimistic=function(O,Q){return x.H.useOptimistic(O,Q)},At.useReducer=function(O,Q,it){return x.H.useReducer(O,Q,it)},At.useRef=function(O){return x.H.useRef(O)},At.useState=function(O){return x.H.useState(O)},At.useSyncExternalStore=function(O,Q,it){return x.H.useSyncExternalStore(O,Q,it)},At.useTransition=function(){return x.H.useTransition()},At.version="19.2.4",At}var R_;function ym(){return R_||(R_=1,Id.exports=bb()),Id.exports}var Mt=ym(),Cd={exports:{}},wl={},xd={exports:{}},Nd={};var I_;function Sb(){return I_||(I_=1,(function(s){function t(F,nt){var ht=F.length;F.push(nt);t:for(;0<ht;){var Vt=ht-1>>>1,Nt=F[Vt];if(0<l(Nt,nt))F[Vt]=nt,F[ht]=Nt,ht=Vt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var nt=F[0],ht=F.pop();if(ht!==nt){F[0]=ht;t:for(var Vt=0,Nt=F.length,O=Nt>>>1;Vt<O;){var Q=2*(Vt+1)-1,it=F[Q],rt=Q+1,yt=F[rt];if(0>l(it,ht))rt<Nt&&0>l(yt,it)?(F[Vt]=yt,F[rt]=ht,Vt=rt):(F[Vt]=it,F[Q]=ht,Vt=Q);else if(rt<Nt&&0>l(yt,ht))F[Vt]=yt,F[rt]=ht,Vt=rt;else break t}}return nt}function l(F,nt){var ht=F.sortIndex-nt.sortIndex;return ht!==0?ht:F.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],y=[],b=1,w=null,M=3,Y=!1,W=!1,st=!1,Z=!1,ct=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Xt(F){for(var nt=i(y);nt!==null;){if(nt.callback===null)a(y);else if(nt.startTime<=F)a(y),nt.sortIndex=nt.expirationTime,t(v,nt);else break;nt=i(y)}}function oe(F){if(st=!1,Xt(F),!W)if(i(v)!==null)W=!0,Et||(Et=!0,L());else{var nt=i(y);nt!==null&&ve(oe,nt.startTime-F)}}var Et=!1,x=-1,A=5,C=-1;function V(){return Z?!0:!(s.unstable_now()-C<A)}function D(){if(Z=!1,Et){var F=s.unstable_now();C=F;var nt=!0;try{t:{W=!1,st&&(st=!1,ft(x),x=-1),Y=!0;var ht=M;try{e:{for(Xt(F),w=i(v);w!==null&&!(w.expirationTime>F&&V());){var Vt=w.callback;if(typeof Vt=="function"){w.callback=null,M=w.priorityLevel;var Nt=Vt(w.expirationTime<=F);if(F=s.unstable_now(),typeof Nt=="function"){w.callback=Nt,Xt(F),nt=!0;break e}w===i(v)&&a(v),Xt(F)}else a(v);w=i(v)}if(w!==null)nt=!0;else{var O=i(y);O!==null&&ve(oe,O.startTime-F),nt=!1}}break t}finally{w=null,M=ht,Y=!1}nt=void 0}}finally{nt?L():Et=!1}}}var L;if(typeof gt=="function")L=function(){gt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Wt=R.port2;R.port1.onmessage=D,L=function(){Wt.postMessage(null)}}else L=function(){ct(D,0)};function ve(F,nt){x=ct(function(){F(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(F){switch(M){case 1:case 2:case 3:var nt=3;break;default:nt=M}var ht=M;M=nt;try{return F()}finally{M=ht}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=M;M=F;try{return nt()}finally{M=ht}},s.unstable_scheduleCallback=function(F,nt,ht){var Vt=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Vt+ht:Vt):ht=Vt,F){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=ht+Nt,F={id:b++,callback:nt,priorityLevel:F,startTime:ht,expirationTime:Nt,sortIndex:-1},ht>Vt?(F.sortIndex=ht,t(y,F),i(v)===null&&F===i(y)&&(st?(ft(x),x=-1):st=!0,ve(oe,ht-Vt))):(F.sortIndex=Nt,t(v,F),W||Y||(W=!0,Et||(Et=!0,L()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var nt=M;return function(){var ht=M;M=nt;try{return F.apply(this,arguments)}finally{M=ht}}}})(Nd)),Nd}var C_;function Ab(){return C_||(C_=1,xd.exports=Sb()),xd.exports}var Dd={exports:{}},sn={};var x_;function wb(){if(x_)return sn;x_=1;var s=ym();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:v,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,sn.createPortal=function(v,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,b)},sn.flushSync=function(v){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=b,a.d.f()}},sn.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},sn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},sn.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var b=y.as,w=g(b,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,Y=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:Y}):b==="script"&&a.d.X(v,{crossOrigin:w,integrity:M,fetchPriority:Y,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},sn.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},sn.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,w=g(b,y.crossOrigin);a.d.L(v,b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},sn.preloadModule=function(v,y){if(typeof v=="string")if(y){var b=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},sn.requestFormReset=function(v){a.d.r(v)},sn.unstable_batchedUpdates=function(v,y){return v(y)},sn.useFormState=function(v,y,b){return d.H.useFormState(v,y,b)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.4",sn}var N_;function Rb(){if(N_)return Dd.exports;N_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Dd.exports=wb(),Dd.exports}var D_;function Ib(){if(D_)return wl;D_=1;var s=Ab(),t=ym(),i=Rb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),ft=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Xt=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case ct:return"Profiler";case Z:return"StrictMode";case oe:return"Suspense";case Et:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case gt:return e.displayName||"Context";case ft:return(e._context.displayName||"Context")+".Consumer";case Xt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:Wt(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return Wt(e(n))}catch{}}return null}var ve=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Vt=[],Nt=-1;function O(e){return{current:e}}function Q(e){0>Nt||(e.current=Vt[Nt],Vt[Nt]=null,Nt--)}function it(e,n){Nt++,Vt[Nt]=e.current,e.current=n}var rt=O(null),yt=O(null),Tt=O(null),xt=O(null);function Ft(e,n){switch(it(Tt,n),it(yt,e),it(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ky(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ky(n),e=Qy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(rt),it(rt,e)}function re(){Q(rt),Q(yt),Q(Tt)}function Vn(e){e.memoizedState!==null&&it(xt,e);var n=rt.current,r=Qy(n,e.type);n!==r&&(it(yt,e),it(rt,r))}function zi(e){yt.current===e&&(Q(rt),Q(yt)),xt.current===e&&(Q(xt),El._currentValue=ht)}var ps,gs;function ge(e){if(ps===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ps=n&&n[1]||"",gs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ps+e+gs}var ys=!1;function ji(e,n){if(!e||ys)return"";ys=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var j=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){j=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){j=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var G=`
`+I[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{ys=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ge(r):""}function pr(e,n){switch(e.tag){case 26:case 27:case 5:return ge(e.type);case 16:return ge("Lazy");case 13:return e.child!==n&&n!==null?ge("Suspense Fallback"):ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return ji(e.type,!1);case 11:return ji(e.type.render,!1);case 1:return ji(e.type,!0);case 31:return ge("Activity");default:return""}}function gr(e){try{var n="",r=null;do n+=pr(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ee=Object.prototype.hasOwnProperty,Ae=s.unstable_scheduleCallback,ci=s.unstable_cancelCallback,So=s.unstable_shouldYield,oa=s.unstable_requestPaint,Ye=s.unstable_now,hi=s.unstable_getCurrentPriorityLevel,yr=s.unstable_ImmediatePriority,_r=s.unstable_UserBlockingPriority,fi=s.unstable_NormalPriority,Ao=s.unstable_LowPriority,vr=s.unstable_IdlePriority,Er=s.log,fn=s.unstable_setDisableYieldValue,qe=null,Te=null;function q(e){if(typeof Er=="function"&&fn(e),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(qe,e)}catch{}}var tt=Math.clz32?Math.clz32:le,St=Math.log,Gt=Math.LN2;function le(e){return e>>>=0,e===0?32:31-(St(e)/Gt|0)|0}var ye=256,bn=262144,te=4194304;function ue(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Sn(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ue(o):(p&=E,p!==0?h=ue(p):r||(r=E&~e,r!==0&&(h=ue(r))))):(E=o&~f,E!==0?h=ue(E):p!==0?h=ue(p):r||(r=o&~e,r!==0&&(h=ue(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function dn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function la(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ua(){var e=te;return te<<=1,(te&62914560)===0&&(te=4194304),e}function kn(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Tr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Nh(e,n,r,o,h,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(r=p&~r;0<r;){var G=31-tt(r),X=1<<G;E[G]=0,I[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var H=j[G];H!==null&&(H.lane&=-536870913)}r&=~X}o!==0&&br(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function br(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-tt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function wo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-tt(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Ro(e,n){var r=n&-n;return r=(r&42)!==0?1:Sr(r),(r&(e.suspendedLanes|n))!==0?0:r}function Sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:g_(e.type))}function $n(e,n){var r=nt.p;try{return nt.p=e,n()}finally{nt.p=r}}var Jn=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Jn,Fe="__reactProps$"+Jn,di="__reactContainer$"+Jn,ca="__reactEvents$"+Jn,Dh="__reactListeners$"+Jn,ou="__reactHandles$"+Jn,lu="__reactResources$"+Jn,mi="__reactMarker$"+Jn;function ha(e){delete e[Ne],delete e[Fe],delete e[ca],delete e[Dh],delete e[ou]}function pi(e){var n=e[Ne];if(n)return n;for(var r=e.parentNode;r;){if(n=r[di]||r[Ne]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=t_(e);e!==null;){if(r=e[Ne])return r;e=t_(e)}return n}e=r,r=e.parentNode}return null}function Ln(e){if(e=e[Ne]||e[di]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function An(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function gi(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function De(e){e[mi]=!0}var Io=new Set,Co={};function yi(e,n){_i(e,n),_i(e+"Capture",n)}function _i(e,n){for(Co[e]=n,e=0;e<n.length;e++)Io.add(n[e])}var xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Do={};function uu(e){return Ee.call(Do,e)?!0:Ee.call(No,e)?!1:xo.test(e)?Do[e]=!0:(No[e]=!0,!1)}function fa(e,n,r){if(uu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function wn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Oe(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Ge(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _s(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $t(e){if(!e._valueTracker){var n=_s(e)?"checked":"value";e._valueTracker=Oo(e,n,""+e[n])}}function Ar(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=_s(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var wr=/[\n"\\]/g;function mn(e){return e.replace(wr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function da(e,n,r,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ge(n)):e.value!==""+Ge(n)&&(e.value=""+Ge(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Mo(e,p,Ge(n)):r!=null?Mo(e,p,Ge(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ge(E):e.removeAttribute("name")}function cu(e,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$t(e);return}r=r!=null?""+Ge(r):"",n=n!=null?""+Ge(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),$t(e)}function Mo(e,n,r){n==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function vs(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ge(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function hu(e,n,r){if(n!=null&&(n=""+Ge(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ge(r):""}function Es(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(ve(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ge(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),$t(e)}function pn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||fu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function ko(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Vo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Vo(e,f,n[f])}function ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(e){return Ts.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zn(){}var Lo=null;function Pn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bs=null,Ei=null;function Rr(e){var n=Ln(e);if(n&&(e=n.stateNode)){var r=e[Fe]||null;t:switch(e=n.stateNode,n.type){case"input":if(da(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+mn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Fe]||null;if(!h)throw Error(a(90));da(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Ar(o)}break t;case"textarea":hu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&vs(e,!!r.multiple,n,!1)}}}var ga=!1;function Ss(e,n,r){if(ga)return e(n,r);ga=!0;try{var o=e(n);return o}finally{if(ga=!1,(bs!==null||Ei!==null)&&(ac(),bs&&(n=bs,e=Ei,Ei=bs=null,Rr(n),e)))for(n=0;n<e.length;n++)Rr(e[n])}}function Wn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Fe]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(Un)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{Ir=!1}var Ti=null,Po=null,Cr=null;function Uo(){if(Cr)return Cr;var e,n=Po,r=n.length,o,h="value"in Ti?Ti.value:Ti.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var p=r-e;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return Cr=h.slice(e,1<o?1-o:void 0)}function xr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Hi(){return!0}function ti(){return!1}function Xe(e){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hi:ti,this.isPropagationStopped=ti,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),n}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Xe(qi),As=w({},qi,{view:0,detail:0}),zo=Xe(As),ws,ya,Si,_a=w({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?(ws=e.screenX-Si.screenX,ya=e.screenY-Si.screenY):ya=ws=0,Si=e),ws)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),jo=Xe(_a),Nr=w({},_a,{dataTransfer:0}),mu=Xe(Nr),pu=w({},As,{relatedTarget:0}),Dr=Xe(pu),Bo=w({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=Xe(Bo),va=w({},qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yu=Xe(va),_u=w({},qi,{data:0}),Ai=Xe(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function Rs(){return bu}var un=w({},As,{key:function(e){if(e.key){var n=vu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=xr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(e){return e.type==="keypress"?xr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=Xe(un),Au=w({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=Xe(Au),u=w({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),m=Xe(u),_=w({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Xe(_),P=w({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Xe(P),et=w({},qi,{newState:0,oldState:0}),Rt=Xe(et),we=[9,13,27,32],Kt=Un&&"CompositionEvent"in window,me=null;Un&&"documentMode"in document&&(me=document.documentMode);var zn=Un&&"TextEvent"in window&&!me,wi=Un&&(!Kt||me&&8<me&&11>=me),ei=" ",ni=!1;function Or(e,n){switch(e){case"keyup":return we.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function FT(e,n){switch(e){case"compositionend":return Ea(n);case"keypress":return n.which!==32?null:(ni=!0,ei);case"textInput":return e=n.data,e===ei&&ni?null:e;default:return null}}function GT(e,n){if(Ta)return e==="compositionend"||!Kt&&Or(e,n)?(e=Uo(),Cr=Po=Ti=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wi&&n.locale!=="ko"?null:n.data;default:return null}}var KT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ip(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!KT[e.type]:n==="textarea"}function sp(e,n,r,o){bs?Ei?Ei.push(o):Ei=[o]:bs=o,n=dc(n,"onChange"),0<n.length&&(r=new bi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Ho=null,qo=null;function QT(e){jy(e,0)}function wu(e){var n=An(e);if(Ar(n))return e}function rp(e,n){if(e==="change")return n}var ap=!1;if(Un){var Oh;if(Un){var Mh="oninput"in document;if(!Mh){var op=document.createElement("div");op.setAttribute("oninput","return;"),Mh=typeof op.oninput=="function"}Oh=Mh}else Oh=!1;ap=Oh&&(!document.documentMode||9<document.documentMode)}function lp(){Ho&&(Ho.detachEvent("onpropertychange",up),qo=Ho=null)}function up(e){if(e.propertyName==="value"&&wu(qo)){var n=[];sp(n,qo,e,Pn(e)),Ss(QT,n)}}function YT(e,n,r){e==="focusin"?(lp(),Ho=n,qo=r,Ho.attachEvent("onpropertychange",up)):e==="focusout"&&lp()}function XT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(qo)}function $T(e,n){if(e==="click")return wu(n)}function JT(e,n){if(e==="input"||e==="change")return wu(n)}function ZT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Rn=typeof Object.is=="function"?Object.is:ZT;function Fo(e,n){if(Rn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Ee.call(n,h)||!Rn(e[h],n[h]))return!1}return!0}function cp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hp(e,n){var r=cp(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cp(r)}}function fp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?fp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function dp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=vi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=vi(e.document)}return n}function Vh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var WT=Un&&"documentMode"in document&&11>=document.documentMode,ba=null,kh=null,Go=null,Lh=!1;function mp(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lh||ba==null||ba!==vi(o)||(o=ba,"selectionStart"in o&&Vh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Go&&Fo(Go,o)||(Go=o,o=dc(kh,"onSelect"),0<o.length&&(n=new bi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ba)))}function Mr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Sa={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},Ph={},pp={};Un&&(pp=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Vr(e){if(Ph[e])return Ph[e];if(!Sa[e])return e;var n=Sa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in pp)return Ph[e]=n[r];return e}var gp=Vr("animationend"),yp=Vr("animationiteration"),_p=Vr("animationstart"),t1=Vr("transitionrun"),e1=Vr("transitionstart"),n1=Vr("transitioncancel"),vp=Vr("transitionend"),Ep=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function ii(e,n){Ep.set(e,n),yi(n,[e])}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jn=[],Aa=0,zh=0;function Iu(){for(var e=Aa,n=zh=Aa=0;n<e;){var r=jn[n];jn[n++]=null;var o=jn[n];jn[n++]=null;var h=jn[n];jn[n++]=null;var f=jn[n];if(jn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Tp(r,h,f)}}function Cu(e,n,r,o){jn[Aa++]=e,jn[Aa++]=n,jn[Aa++]=r,jn[Aa++]=o,zh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function jh(e,n,r,o){return Cu(e,n,r,o),xu(e)}function kr(e,n){return Cu(e,null,null,n),xu(e)}function Tp(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-tt(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function xu(e){if(50<dl)throw dl=0,$f=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var wa={};function i1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,n,r,o){return new i1(e,n,r,o)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gi(e,n){var r=e.alternate;return r===null?(r=In(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function bp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,r,o,h,f){var p=0;if(o=e,typeof e=="function")Bh(e)&&(p=1);else if(typeof e=="string")p=lb(e,r,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=In(31,r,n,h),e.elementType=C,e.lanes=f,e;case st:return Lr(r.children,h,f,n);case Z:p=8,h|=24;break;case ct:return e=In(12,r,n,h|2),e.elementType=ct,e.lanes=f,e;case oe:return e=In(13,r,n,h),e.elementType=oe,e.lanes=f,e;case Et:return e=In(19,r,n,h),e.elementType=Et,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:p=10;break t;case ft:p=9;break t;case Xt:p=11;break t;case x:p=14;break t;case A:p=16,o=null;break t}p=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=In(p,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Lr(e,n,r,o){return e=In(7,e,o,n),e.lanes=r,e}function Hh(e,n,r){return e=In(6,e,null,n),e.lanes=r,e}function Sp(e){var n=In(18,null,null,0);return n.stateNode=e,n}function qh(e,n,r){return n=In(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ap=new WeakMap;function Bn(e,n){if(typeof e=="object"&&e!==null){var r=Ap.get(e);return r!==void 0?r:(n={value:e,source:n,stack:gr(n)},Ap.set(e,n),n)}return{value:e,source:n,stack:gr(n)}}var Ra=[],Ia=0,Du=null,Ko=0,Hn=[],qn=0,Is=null,Ri=1,Ii="";function Ki(e,n){Ra[Ia++]=Ko,Ra[Ia++]=Du,Du=e,Ko=n}function wp(e,n,r){Hn[qn++]=Ri,Hn[qn++]=Ii,Hn[qn++]=Is,Is=e;var o=Ri;e=Ii;var h=32-tt(o)-1;o&=~(1<<h),r+=1;var f=32-tt(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ri=1<<32-tt(n)+h|r<<h|o,Ii=f+e}else Ri=1<<f|r<<h|o,Ii=e}function Fh(e){e.return!==null&&(Ki(e,1),wp(e,1,0))}function Gh(e){for(;e===Du;)Du=Ra[--Ia],Ra[Ia]=null,Ko=Ra[--Ia],Ra[Ia]=null;for(;e===Is;)Is=Hn[--qn],Hn[qn]=null,Ii=Hn[--qn],Hn[qn]=null,Ri=Hn[--qn],Hn[qn]=null}function Rp(e,n){Hn[qn++]=Ri,Hn[qn++]=Ii,Hn[qn++]=Is,Ri=n.id,Ii=n.overflow,Is=e}var $e=null,ce=null,jt=!1,Cs=null,Fn=!1,Kh=Error(a(519));function xs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qo(Bn(n,e)),Kh}function Ip(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ne]=e,n[Fe]=o,r){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(r=0;r<pl.length;r++)Ot(pl[r],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),Es(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Fy(n.textContent,r)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=Zn),n=!0):n=!1,n||xs(e,!0)}function Cp(e){for($e=e.return;$e;)switch($e.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:$e=$e.return}}function Ca(e){if(e!==$e)return!1;if(!jt)return Cp(e),jt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||hd(e.type,e.memoizedProps)),r=!r),r&&ce&&xs(e),Cp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ce=Wy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ce=Wy(e)}else n===27?(n=ce,qs(e.type)?(e=gd,gd=null,ce=e):ce=n):ce=$e?Kn(e.stateNode.nextSibling):null;return!0}function Pr(){ce=$e=null,jt=!1}function Qh(){var e=Cs;return e!==null&&(vn===null?vn=e:vn.push.apply(vn,e),Cs=null),e}function Qo(e){Cs===null?Cs=[e]:Cs.push(e)}var Yh=O(null),Ur=null,Qi=null;function Ns(e,n,r){it(Yh,n._currentValue),n._currentValue=r}function Yi(e){e._currentValue=Yh.current,Q(Yh)}function Xh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function $h(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Xh(f.return,r,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Xh(p,r,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function xa(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;Rn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===xt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(El):e=[El])}h=h.return}e!==null&&$h(n,e,r,o),n.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!Rn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zr(e){Ur=e,Qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Je(e){return xp(Ur,e)}function Mu(e,n){return Ur===null&&zr(e),xp(e,n)}function xp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Qi===null){if(e===null)throw Error(a(308));Qi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Qi=Qi.next=n;return r}var s1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},r1=s.unstable_scheduleCallback,a1=s.unstable_NormalPriority,Me={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new s1,data:new Map,refCount:0}}function Yo(e){e.refCount--,e.refCount===0&&r1(a1,function(){e.controller.abort()})}var Xo=null,Zh=0,Na=0,Da=null;function o1(e,n){if(Xo===null){var r=Xo=[];Zh=0,Na=nd(),Da={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Zh++,n.then(Np,Np),n}function Np(){if(--Zh===0&&Xo!==null){Da!==null&&(Da.status="fulfilled");var e=Xo;Xo=null,Na=0,Da=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function l1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Dp=F.S;F.S=function(e,n){my=Ye(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&o1(e,n),Dp!==null&&Dp(e,n)};var jr=O(null);function Wh(){var e=jr.current;return e!==null?e:ae.pooledCache}function Vu(e,n){n===null?it(jr,jr.current):it(jr,n.pool)}function Op(){var e=Wh();return e===null?null:{parent:Me._currentValue,pool:e}}var Oa=Error(a(460)),tf=Error(a(474)),ku=Error(a(542)),Lu={then:function(){}};function Mp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Zn,Zn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lp(e),e;default:if(typeof n.status=="string")n.then(Zn,Zn);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lp(e),e}throw Hr=n,Oa}}function Br(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Hr=r,Oa):r}}var Hr=null;function kp(){if(Hr===null)throw Error(a(459));var e=Hr;return Hr=null,e}function Lp(e){if(e===Oa||e===ku)throw Error(a(483))}var Ma=null,$o=0;function Pu(e){var n=$o;return $o+=1,Ma===null&&(Ma=[]),Vp(Ma,e,n)}function Jo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Pp(e){function n(k,N){if(e){var U=k.deletions;U===null?(k.deletions=[N],k.flags|=16):U.push(N)}}function r(k,N){if(!e)return null;for(;N!==null;)n(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=Gi(k,N),k.index=0,k.sibling=null,k}function f(k,N,U){return k.index=U,e?(U=k.alternate,U!==null?(U=U.index,U<N?(k.flags|=67108866,N):U):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,N,U,K){return N===null||N.tag!==6?(N=Hh(U,k.mode,K),N.return=k,N):(N=h(N,U),N.return=k,N)}function I(k,N,U,K){var dt=U.type;return dt===st?G(k,N,U.props.children,K,U.key):N!==null&&(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Br(dt)===N.type)?(N=h(N,U.props),Jo(N,U),N.return=k,N):(N=Nu(U.type,U.key,U.props,null,k.mode,K),Jo(N,U),N.return=k,N)}function z(k,N,U,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=qh(U,k.mode,K),N.return=k,N):(N=h(N,U.children||[]),N.return=k,N)}function G(k,N,U,K,dt){return N===null||N.tag!==7?(N=Lr(U,k.mode,K,dt),N.return=k,N):(N=h(N,U),N.return=k,N)}function X(k,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Hh(""+N,k.mode,U),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Y:return U=Nu(N.type,N.key,N.props,null,k.mode,U),Jo(U,N),U.return=k,U;case W:return N=qh(N,k.mode,U),N.return=k,N;case A:return N=Br(N),X(k,N,U)}if(ve(N)||L(N))return N=Lr(N,k.mode,U,null),N.return=k,N;if(typeof N.then=="function")return X(k,Pu(N),U);if(N.$$typeof===gt)return X(k,Mu(k,N),U);Uu(k,N)}return null}function j(k,N,U,K){var dt=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return dt!==null?null:E(k,N,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Y:return U.key===dt?I(k,N,U,K):null;case W:return U.key===dt?z(k,N,U,K):null;case A:return U=Br(U),j(k,N,U,K)}if(ve(U)||L(U))return dt!==null?null:G(k,N,U,K,null);if(typeof U.then=="function")return j(k,N,Pu(U),K);if(U.$$typeof===gt)return j(k,N,Mu(k,U),K);Uu(k,U)}return null}function H(k,N,U,K,dt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(U)||null,E(N,k,""+K,dt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Y:return k=k.get(K.key===null?U:K.key)||null,I(N,k,K,dt);case W:return k=k.get(K.key===null?U:K.key)||null,z(N,k,K,dt);case A:return K=Br(K),H(k,N,U,K,dt)}if(ve(K)||L(K))return k=k.get(U)||null,G(N,k,K,dt,null);if(typeof K.then=="function")return H(k,N,U,Pu(K),dt);if(K.$$typeof===gt)return H(k,N,U,Mu(N,K),dt);Uu(N,K)}return null}function ot(k,N,U,K){for(var dt=null,Ht=null,lt=N,Ct=N=0,Lt=null;lt!==null&&Ct<U.length;Ct++){lt.index>Ct?(Lt=lt,lt=null):Lt=lt.sibling;var qt=j(k,lt,U[Ct],K);if(qt===null){lt===null&&(lt=Lt);break}e&&lt&&qt.alternate===null&&n(k,lt),N=f(qt,N,Ct),Ht===null?dt=qt:Ht.sibling=qt,Ht=qt,lt=Lt}if(Ct===U.length)return r(k,lt),jt&&Ki(k,Ct),dt;if(lt===null){for(;Ct<U.length;Ct++)lt=X(k,U[Ct],K),lt!==null&&(N=f(lt,N,Ct),Ht===null?dt=lt:Ht.sibling=lt,Ht=lt);return jt&&Ki(k,Ct),dt}for(lt=o(lt);Ct<U.length;Ct++)Lt=H(lt,k,Ct,U[Ct],K),Lt!==null&&(e&&Lt.alternate!==null&&lt.delete(Lt.key===null?Ct:Lt.key),N=f(Lt,N,Ct),Ht===null?dt=Lt:Ht.sibling=Lt,Ht=Lt);return e&&lt.forEach(function(Ys){return n(k,Ys)}),jt&&Ki(k,Ct),dt}function pt(k,N,U,K){if(U==null)throw Error(a(151));for(var dt=null,Ht=null,lt=N,Ct=N=0,Lt=null,qt=U.next();lt!==null&&!qt.done;Ct++,qt=U.next()){lt.index>Ct?(Lt=lt,lt=null):Lt=lt.sibling;var Ys=j(k,lt,qt.value,K);if(Ys===null){lt===null&&(lt=Lt);break}e&&lt&&Ys.alternate===null&&n(k,lt),N=f(Ys,N,Ct),Ht===null?dt=Ys:Ht.sibling=Ys,Ht=Ys,lt=Lt}if(qt.done)return r(k,lt),jt&&Ki(k,Ct),dt;if(lt===null){for(;!qt.done;Ct++,qt=U.next())qt=X(k,qt.value,K),qt!==null&&(N=f(qt,N,Ct),Ht===null?dt=qt:Ht.sibling=qt,Ht=qt);return jt&&Ki(k,Ct),dt}for(lt=o(lt);!qt.done;Ct++,qt=U.next())qt=H(lt,k,Ct,qt.value,K),qt!==null&&(e&&qt.alternate!==null&&lt.delete(qt.key===null?Ct:qt.key),N=f(qt,N,Ct),Ht===null?dt=qt:Ht.sibling=qt,Ht=qt);return e&&lt.forEach(function(vb){return n(k,vb)}),jt&&Ki(k,Ct),dt}function se(k,N,U,K){if(typeof U=="object"&&U!==null&&U.type===st&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Y:t:{for(var dt=U.key;N!==null;){if(N.key===dt){if(dt=U.type,dt===st){if(N.tag===7){r(k,N.sibling),K=h(N,U.props.children),K.return=k,k=K;break t}}else if(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Br(dt)===N.type){r(k,N.sibling),K=h(N,U.props),Jo(K,U),K.return=k,k=K;break t}r(k,N);break}else n(k,N);N=N.sibling}U.type===st?(K=Lr(U.props.children,k.mode,K,U.key),K.return=k,k=K):(K=Nu(U.type,U.key,U.props,null,k.mode,K),Jo(K,U),K.return=k,k=K)}return p(k);case W:t:{for(dt=U.key;N!==null;){if(N.key===dt)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){r(k,N.sibling),K=h(N,U.children||[]),K.return=k,k=K;break t}else{r(k,N);break}else n(k,N);N=N.sibling}K=qh(U,k.mode,K),K.return=k,k=K}return p(k);case A:return U=Br(U),se(k,N,U,K)}if(ve(U))return ot(k,N,U,K);if(L(U)){if(dt=L(U),typeof dt!="function")throw Error(a(150));return U=dt.call(U),pt(k,N,U,K)}if(typeof U.then=="function")return se(k,N,Pu(U),K);if(U.$$typeof===gt)return se(k,N,Mu(k,U),K);Uu(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(r(k,N.sibling),K=h(N,U),K.return=k,k=K):(r(k,N),K=Hh(U,k.mode,K),K.return=k,k=K),p(k)):r(k,N)}return function(k,N,U,K){try{$o=0;var dt=se(k,N,U,K);return Ma=null,dt}catch(lt){if(lt===Oa||lt===ku)throw lt;var Ht=In(29,lt,null,k.mode);return Ht.lanes=K,Ht.return=k,Ht}}}var qr=Pp(!0),Up=Pp(!1),Ds=!1;function ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Os(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ms(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=xu(e),Tp(e,null,r),n}return Cu(e,o,n,r),xu(e)}function Zo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,wo(e,r)}}function sf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var rf=!1;function Wo(){if(rf){var e=Da;if(e!==null)throw e}}function tl(e,n,r,o){rf=!1;var h=e.updateQueue;Ds=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;p=0,G=z=I=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(kt&j)===j:(o&j)===j){j!==0&&j===Na&&(rf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,pt=E;j=n;var se=r;switch(pt.tag){case 1:if(ot=pt.payload,typeof ot=="function"){X=ot.call(se,X,j);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=pt.payload,j=typeof ot=="function"?ot.call(se,X,j):ot,j==null)break t;X=w({},X,j);break t;case 2:Ds=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,I=X):G=G.next=H,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Us|=p,e.lanes=p,e.memoizedState=X}}function zp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function jp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)zp(r[e],n)}var Va=O(null),zu=O(0);function Bp(e,n){e=is,it(zu,e),it(Va,n),is=e|n.baseLanes}function af(){it(zu,is),it(Va,Va.current)}function of(){is=zu.current,Q(Va),Q(zu)}var Cn=O(null),Gn=null;function Vs(e){var n=e.alternate;it(Re,Re.current&1),it(Cn,e),Gn===null&&(n===null||Va.current!==null||n.memoizedState!==null)&&(Gn=e)}function lf(e){it(Re,Re.current),it(Cn,e),Gn===null&&(Gn=e)}function Hp(e){e.tag===22?(it(Re,Re.current),it(Cn,e),Gn===null&&(Gn=e)):ks()}function ks(){it(Re,Re.current),it(Cn,Cn.current)}function xn(e){Q(Cn),Gn===e&&(Gn=null),Q(Re)}var Re=O(0);function ju(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||md(r)||pd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Xi=0,It=null,ne=null,Ve=null,Bu=!1,ka=!1,Fr=!1,Hu=0,el=0,La=null,u1=0;function be(){throw Error(a(321))}function uf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Rn(e[r],n[r]))return!1;return!0}function cf(e,n,r,o,h,f){return Xi=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?wg:wf,Fr=!1,f=r(o,h),Fr=!1,ka&&(f=Fp(n,r,o,h)),qp(e),f}function qp(e){F.H=sl;var n=ne!==null&&ne.next!==null;if(Xi=0,Ve=ne=It=null,Bu=!1,el=0,La=null,n)throw Error(a(300));e===null||ke||(e=e.dependencies,e!==null&&Ou(e)&&(ke=!0))}function Fp(e,n,r,o){It=e;var h=0;do{if(ka&&(La=null),el=0,ka=!1,25<=h)throw Error(a(301));if(h+=1,Ve=ne=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Rg,f=n(r,o)}while(ka);return f}function c1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?nl(n):n,e=e.useState()[0],(ne!==null?ne.memoizedState:null)!==e&&(It.flags|=1024),n}function hf(){var e=Hu!==0;return Hu=0,e}function ff(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function df(e){if(Bu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Bu=!1}Xi=0,Ve=ne=It=null,ka=!1,el=Hu=0,La=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?It.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Ie(){if(ne===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=ne.next;var n=Ve===null?It.memoizedState:Ve.next;if(n!==null)Ve=n,ne=e;else{if(e===null)throw It.alternate===null?Error(a(467)):Error(a(310));ne=e,e={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Ve===null?It.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var n=el;return el+=1,La===null&&(La=[]),e=Vp(La,e,n),n=It,(Ve===null?n.memoizedState:Ve.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?wg:wf),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===gt)return Je(e)}throw Error(a(438,String(e)))}function mf(e){var n=null,r=It.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=qu(),It.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function $i(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=Ie();return pf(n,ne,e)}function pf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,I=null,z=n,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(kt&X)===X:(Xi&X)===X){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Na&&(G=!0);else if((Xi&j)===j){z=z.next,j===Na&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=X,p=f):I=I.next=X,It.lanes|=j,Us|=j;X=z.action,Fr&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,p=f):I=I.next=j,It.lanes|=X,Us|=X;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=E,!Rn(f,e.memoizedState)&&(ke=!0,G&&(r=Da,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function gf(e){var n=Ie(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);Rn(f,n.memoizedState)||(ke=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Gp(e,n,r){var o=It,h=Ie(),f=jt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!Rn((ne||h).memoizedState,r);if(p&&(h.memoizedState=r,ke=!0),h=h.queue,vf(Yp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ve!==null&&Ve.memoizedState.tag&1){if(o.flags|=2048,Pa(9,{destroy:void 0},Qp.bind(null,o,h,r,n),null),ae===null)throw Error(a(349));f||(Xi&127)!==0||Kp(o,n,r)}return r}function Kp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=It.updateQueue,n===null?(n=qu(),It.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Qp(e,n,r,o){n.value=r,n.getSnapshot=o,Xp(n)&&$p(e)}function Yp(e,n,r){return r(function(){Xp(n)&&$p(e)})}function Xp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Rn(e,r)}catch{return!0}}function $p(e){var n=kr(e,2);n!==null&&En(n,e,2)}function yf(e){var n=cn();if(typeof e=="function"){var r=e;if(e=r(),Fr){q(!0);try{r()}finally{q(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e},n}function Jp(e,n,r,o){return e.baseState=r,pf(e,ne,typeof o=="function"?o:$i)}function h1(e,n,r,o,h){if(Yu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Zp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Zp(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var E=r(h,o),I=F.S;I!==null&&I(p,E),Wp(e,n,E)}catch(z){_f(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=r(h,o),Wp(e,n,f)}catch(z){_f(e,n,z)}}function Wp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){tg(e,n,o)},function(o){return _f(e,n,o)}):tg(e,n,r)}function tg(e,n,r){n.status="fulfilled",n.value=r,eg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Zp(e,r)))}function _f(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,eg(n),n=n.next;while(n!==o)}e.action=null}function eg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ng(e,n){return n}function ig(e,n){if(jt){var r=ae.formState;if(r!==null){t:{var o=It;if(jt){if(ce){e:{for(var h=ce,f=Fn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ce=Kn(h.nextSibling),o=h.data==="F!";break t}}xs(o)}o=!1}o&&(n=r[0])}}return r=cn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ng,lastRenderedState:n},r.queue=o,r=bg.bind(null,It,o),o.dispatch=r,o=yf(!1),f=Af.bind(null,It,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=h1.bind(null,It,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function sg(e){var n=Ie();return rg(n,ne,e)}function rg(e,n,r){if(n=pf(e,n,ng)[0],e=Gu($i)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=nl(n)}catch(p){throw p===Oa?ku:p}else o=n;n=Ie();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(It.flags|=2048,Pa(9,{destroy:void 0},f1.bind(null,h,r),null)),[o,f,e]}function f1(e,n){e.action=n}function ag(e){var n=Ie(),r=ne;if(r!==null)return rg(n,r,e);Ie(),n=n.memoizedState,r=Ie();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Pa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=It.updateQueue,n===null&&(n=qu(),It.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function og(){return Ie().memoizedState}function Ku(e,n,r,o){var h=cn();It.flags|=e,h.memoizedState=Pa(1|n,{destroy:void 0},r,o===void 0?null:o)}function Qu(e,n,r,o){var h=Ie();o=o===void 0?null:o;var f=h.memoizedState.inst;ne!==null&&o!==null&&uf(o,ne.memoizedState.deps)?h.memoizedState=Pa(n,f,r,o):(It.flags|=e,h.memoizedState=Pa(1|n,f,r,o))}function lg(e,n){Ku(8390656,8,e,n)}function vf(e,n){Qu(2048,8,e,n)}function d1(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=qu(),It.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function ug(e){var n=Ie().memoizedState;return d1({ref:n,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function cg(e,n){return Qu(4,2,e,n)}function hg(e,n){return Qu(4,4,e,n)}function fg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function dg(e,n,r){r=r!=null?r.concat([e]):null,Qu(4,4,fg.bind(null,n,e),r)}function Ef(){}function mg(e,n){var r=Ie();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&uf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function pg(e,n){var r=Ie();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&uf(n,o[1]))return o[0];if(o=e(),Fr){q(!0);try{e()}finally{q(!1)}}return r.memoizedState=[o,n],o}function Tf(e,n,r){return r===void 0||(Xi&1073741824)!==0&&(kt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=gy(),It.lanes|=e,Us|=e,r)}function gg(e,n,r,o){return Rn(r,n)?r:Va.current!==null?(e=Tf(e,r,o),Rn(e,n)||(ke=!0),e):(Xi&42)===0||(Xi&1073741824)!==0&&(kt&261930)===0?(ke=!0,e.memoizedState=r):(e=gy(),It.lanes|=e,Us|=e,n)}function yg(e,n,r,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var p=F.T,E={};F.T=E,Af(e,!1,n,r);try{var I=h(),z=F.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=l1(I,o);il(e,n,G,On(e))}else il(e,n,o,On(e))}catch(X){il(e,n,{then:function(){},status:"rejected",reason:X},On())}finally{nt.p=f,p!==null&&E.types!==null&&(p.types=E.types),F.T=p}}function m1(){}function bf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=_g(e).queue;yg(e,h,n,ht,r===null?m1:function(){return vg(e),r(o)})}function _g(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:ht},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function vg(e){var n=_g(e);n.next===null&&(n=e.alternate.memoizedState),il(e,n.next.queue,{},On())}function Sf(){return Je(El)}function Eg(){return Ie().memoizedState}function Tg(){return Ie().memoizedState}function p1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=On();e=Os(r);var o=Ms(n,e,r);o!==null&&(En(o,n,r),Zo(o,n,r)),n={cache:Jh()},e.payload=n;return}n=n.return}}function g1(e,n,r){var o=On();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Yu(e)?Sg(n,r):(r=jh(e,n,r,o),r!==null&&(En(r,e,o),Ag(r,n,o)))}function bg(e,n,r){var o=On();il(e,n,r,o)}function il(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Sg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,Rn(E,p))return Cu(e,n,h,0),ae===null&&Iu(),!1}catch{}if(r=jh(e,n,h,o),r!==null)return En(r,e,o),Ag(r,n,o),!0}return!1}function Af(e,n,r,o){if(o={lane:2,revertLane:nd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(a(479))}else n=jh(e,r,o,2),n!==null&&En(n,e,2)}function Yu(e){var n=e.alternate;return e===It||n!==null&&n===It}function Sg(e,n){ka=Bu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Ag(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,wo(e,r)}}var sl={readContext:Je,use:Fu,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be};sl.useEffectEvent=be;var wg={readContext:Je,use:Fu,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Je,useEffect:lg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Ku(4194308,4,fg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Ku(4194308,4,e,n)},useInsertionEffect:function(e,n){Ku(4,2,e,n)},useMemo:function(e,n){var r=cn();n=n===void 0?null:n;var o=e();if(Fr){q(!0);try{e()}finally{q(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=cn();if(r!==void 0){var h=r(n);if(Fr){q(!0);try{r(n)}finally{q(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=g1.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=yf(e);var n=e.queue,r=bg.bind(null,It,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Ef,useDeferredValue:function(e,n){var r=cn();return Tf(r,e,n)},useTransition:function(){var e=yf(!1);return e=yg.bind(null,It,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=It,h=cn();if(jt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ae===null)throw Error(a(349));(kt&127)!==0||Kp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,lg(Yp.bind(null,o,f,e),[e]),o.flags|=2048,Pa(9,{destroy:void 0},Qp.bind(null,o,f,r,n),null),r},useId:function(){var e=cn(),n=ae.identifierPrefix;if(jt){var r=Ii,o=Ri;r=(o&~(1<<32-tt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Hu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=u1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Sf,useFormState:ig,useActionState:ig,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Af.bind(null,It,!0,r),r.dispatch=n,[e,n]},useMemoCache:mf,useCacheRefresh:function(){return cn().memoizedState=p1.bind(null,It)},useEffectEvent:function(e){var n=cn(),r={impl:e};return n.memoizedState=r,function(){if((Qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},wf={readContext:Je,use:Fu,useCallback:mg,useContext:Je,useEffect:vf,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:hg,useMemo:pg,useReducer:Gu,useRef:og,useState:function(){return Gu($i)},useDebugValue:Ef,useDeferredValue:function(e,n){var r=Ie();return gg(r,ne.memoizedState,e,n)},useTransition:function(){var e=Gu($i)[0],n=Ie().memoizedState;return[typeof e=="boolean"?e:nl(e),n]},useSyncExternalStore:Gp,useId:Eg,useHostTransitionStatus:Sf,useFormState:sg,useActionState:sg,useOptimistic:function(e,n){var r=Ie();return Jp(r,ne,e,n)},useMemoCache:mf,useCacheRefresh:Tg};wf.useEffectEvent=ug;var Rg={readContext:Je,use:Fu,useCallback:mg,useContext:Je,useEffect:vf,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:hg,useMemo:pg,useReducer:gf,useRef:og,useState:function(){return gf($i)},useDebugValue:Ef,useDeferredValue:function(e,n){var r=Ie();return ne===null?Tf(r,e,n):gg(r,ne.memoizedState,e,n)},useTransition:function(){var e=gf($i)[0],n=Ie().memoizedState;return[typeof e=="boolean"?e:nl(e),n]},useSyncExternalStore:Gp,useId:Eg,useHostTransitionStatus:Sf,useFormState:ag,useActionState:ag,useOptimistic:function(e,n){var r=Ie();return ne!==null?Jp(r,ne,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Tg};Rg.useEffectEvent=ug;function Rf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:w({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var If={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=On(),h=Os(o);h.payload=n,r!=null&&(h.callback=r),n=Ms(e,h,o),n!==null&&(En(n,e,o),Zo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=On(),h=Os(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ms(e,h,o),n!==null&&(En(n,e,o),Zo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=On(),o=Os(r);o.tag=2,n!=null&&(o.callback=n),n=Ms(e,o,r),n!==null&&(En(n,e,r),Zo(n,e,r))}};function Ig(e,n,r,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Fo(r,o)||!Fo(h,f):!0}function Cg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&If.enqueueReplaceState(n,n.state,null)}function Gr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=w({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function xg(e){Ru(e)}function Ng(e){console.error(e)}function Dg(e){Ru(e)}function Xu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Og(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(e,n,r){return r=Os(r),r.tag=3,r.payload={element:null},r.callback=function(){Xu(e,n)},r}function Mg(e){return e=Os(e),e.tag=3,e}function Vg(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Og(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Og(n,r,o),typeof h!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function y1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&xa(n,r,h,!0),r=Cn.current,r!==null){switch(r.tag){case 31:case 13:return Gn===null?oc():r.alternate===null&&Se===0&&(Se=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Lu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Wf(e,o,h)),!1;case 22:return r.flags|=65536,o===Lu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Wf(e,o,h)),!1}throw Error(a(435,r.tag))}return Wf(e,o,h),oc(),!1}if(jt)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Kh&&(e=Error(a(422),{cause:o}),Qo(Bn(e,r)))):(o!==Kh&&(n=Error(a(423),{cause:o}),Qo(Bn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Bn(o,r),h=Cf(e.stateNode,o,h),sf(e,h),Se!==4&&(Se=2)),!1;var f=Error(a(520),{cause:o});if(f=Bn(f,r),fl===null?fl=[f]:fl.push(f),Se!==4&&(Se=2),n===null)return!0;o=Bn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Cf(r.stateNode,o,e),sf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zs===null||!zs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Mg(h),Vg(h,e,r,o),sf(r,h),!1}r=r.return}while(r!==null);return!1}var xf=Error(a(461)),ke=!1;function Ze(e,n,r,o){n.child=e===null?Up(n,null,r,o):qr(n,e.child,r,o)}function kg(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return zr(n),o=cf(e,n,r,p,f,h),E=hf(),e!==null&&!ke?(ff(e,n,h),Ji(e,n,h)):(jt&&E&&Fh(n),n.flags|=1,Ze(e,n,o,h),n.child)}function Lg(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Bh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Pg(e,n,f,o,h)):(e=Nu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Pf(e,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Fo,r(p,o)&&e.ref===n.ref)return Ji(e,n,h)}return n.flags|=1,e=Gi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Pg(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Fo(f,o)&&e.ref===n.ref)if(ke=!1,n.pendingProps=o=f,Pf(e,h))(e.flags&131072)!==0&&(ke=!0);else return n.lanes=e.lanes,Ji(e,n,h)}return Nf(e,n,r,o,h)}function Ug(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return zg(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?Bp(n,f):af(),Hp(n);else return o=n.lanes=536870912,zg(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Vu(n,f.cachePool),Bp(n,f),ks(),n.memoizedState=null):(e!==null&&Vu(n,null),af(),ks());return Ze(e,n,h,r),n.child}function rl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function zg(e,n,r,o,h){var f=Wh();return f=f===null?null:{parent:Me._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Vu(n,null),af(),Hp(n),e!==null&&xa(e,n,o,!0),n.childLanes=h,null}function $u(e,n){return n=Zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function jg(e,n,r){return qr(n,e.child,null,r),e=$u(n,n.pendingProps),e.flags|=2,xn(n),n.memoizedState=null,e}function _1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(jt){if(o.mode==="hidden")return e=$u(n,o),n.lanes=536870912,rl(null,e);if(lf(n),(e=ce)?(e=Zy(e,Fn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},r=Sp(e),r.return=n,n.child=r,$e=n,ce=null)):e=null,e===null)throw xs(n);return n.lanes=536870912,null}return $u(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(lf(n),h)if(n.flags&256)n.flags&=-257,n=jg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(ke||xa(e,n,r,!1),h=(r&e.childLanes)!==0,ke||h){if(o=ae,o!==null&&(p=Ro(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,kr(e,p),En(o,e,p),xf;oc(),n=jg(e,n,r)}else e=f.treeContext,ce=Kn(p.nextSibling),$e=n,jt=!0,Cs=null,Fn=!1,e!==null&&Rp(n,e),n=$u(n,o),n.flags|=4096;return n}return e=Gi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ju(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Nf(e,n,r,o,h){return zr(n),r=cf(e,n,r,o,void 0,h),o=hf(),e!==null&&!ke?(ff(e,n,h),Ji(e,n,h)):(jt&&o&&Fh(n),n.flags|=1,Ze(e,n,r,h),n.child)}function Bg(e,n,r,o,h,f){return zr(n),n.updateQueue=null,r=Fp(n,o,r,h),qp(e),o=hf(),e!==null&&!ke?(ff(e,n,f),Ji(e,n,f)):(jt&&o&&Fh(n),n.flags|=1,Ze(e,n,r,f),n.child)}function Hg(e,n,r,o,h){if(zr(n),n.stateNode===null){var f=wa,p=r.contextType;typeof p=="object"&&p!==null&&(f=Je(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ef(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Je(p):wa,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Rf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&If.enqueueReplaceState(f,f.state,null),tl(n,o,f,h),Wo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Gr(r,E);f.props=I;var z=f.context,G=r.contextType;p=wa,typeof G=="object"&&G!==null&&(p=Je(G));var X=r.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Cg(n,f,o,p),Ds=!1;var j=n.memoizedState;f.state=j,tl(n,o,f,h),Wo(),z=n.memoizedState,E||j!==z||Ds?(typeof X=="function"&&(Rf(n,r,X,o),z=n.memoizedState),(I=Ds||Ig(n,r,I,o,j,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,nf(e,n),p=n.memoizedProps,G=Gr(r,p),f.props=G,X=n.pendingProps,j=f.context,z=r.contextType,I=wa,typeof z=="object"&&z!==null&&(I=Je(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||j!==I)&&Cg(n,f,o,I),Ds=!1,j=n.memoizedState,f.state=j,tl(n,o,f,h),Wo();var H=n.memoizedState;p!==X||j!==H||Ds||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof E=="function"&&(Rf(n,r,E,o),H=n.memoizedState),(G=Ds||Ig(n,r,G,o,j,H,I)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=qr(n,e.child,null,h),n.child=qr(n,null,r,h)):Ze(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Ji(e,n,h),e}function qg(e,n,r,o){return Pr(),n.flags|=256,Ze(e,n,r,o),n.child}var Df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(e){return{baseLanes:e,cachePool:Op()}}function Mf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Dn),e}function Fg(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?Vs(n):ks(),(e=ce)?(e=Zy(e,Fn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},r=Sp(e),r.return=n,n.child=r,$e=n,ce=null)):e=null,e===null)throw xs(n);return pd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(ks(),h=n.mode,E=Zu({mode:"hidden",children:E},h),o=Lr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Of(r),o.childLanes=Mf(e,p,r),n.memoizedState=Df,rl(null,o)):(Vs(n),Vf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Vs(n),n.flags&=-257,n=kf(e,n,r)):n.memoizedState!==null?(ks(),n.child=e.child,n.flags|=128,n=null):(ks(),E=o.fallback,h=n.mode,o=Zu({mode:"visible",children:o.children},h),E=Lr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,qr(n,e.child,null,r),o=n.child,o.memoizedState=Of(r),o.childLanes=Mf(e,p,r),n.memoizedState=Df,n=rl(null,o));else if(Vs(n),pd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,Qo({value:o,source:null,stack:null}),n=kf(e,n,r)}else if(ke||xa(e,n,r,!1),p=(r&e.childLanes)!==0,ke||p){if(p=ae,p!==null&&(o=Ro(p,r),o!==0&&o!==I.retryLane))throw I.retryLane=o,kr(e,o),En(p,e,o),xf;md(E)||oc(),n=kf(e,n,r)}else md(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ce=Kn(E.nextSibling),$e=n,jt=!0,Cs=null,Fn=!1,e!==null&&Rp(n,e),n=Vf(n,o.children),n.flags|=4096);return n}return h?(ks(),E=o.fallback,h=n.mode,I=e.child,z=I.sibling,o=Gi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Gi(z,E):(E=Lr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,rl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Of(r):(h=E.cachePool,h!==null?(I=Me._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Op(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Mf(e,p,r),n.memoizedState=Df,rl(e.child,o)):(Vs(n),r=e.child,e=r.sibling,r=Gi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function Vf(e,n){return n=Zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zu(e,n){return e=In(22,e,null,n),e.lanes=0,e}function kf(e,n,r){return qr(n,e.child,null,r),e=Vf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Gg(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Xh(e.return,n,r)}function Lf(e,n,r,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function Kg(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Re.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,it(Re,p),Ze(e,n,o,r),o=jt?Ko:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gg(e,r,n);else if(e.tag===19)Gg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&ju(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Lf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ju(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Lf(n,!0,r,null,f,o);break;case"together":Lf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ji(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Us|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(xa(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Gi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Gi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Pf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function v1(e,n,r){switch(n.tag){case 3:Ft(n,n.stateNode.containerInfo),Ns(n,Me,e.memoizedState.cache),Pr();break;case 27:case 5:Vn(n);break;case 4:Ft(n,n.stateNode.containerInfo);break;case 10:Ns(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Vs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Fg(e,n,r):(Vs(n),e=Ji(e,n,r),e!==null?e.sibling:null);Vs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(xa(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Kg(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Re,Re.current),o)break;return null;case 22:return n.lanes=0,Ug(e,n,r,n.pendingProps);case 24:Ns(n,Me,e.memoizedState.cache)}return Ji(e,n,r)}function Qg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)ke=!0;else{if(!Pf(e,r)&&(n.flags&128)===0)return ke=!1,v1(e,n,r);ke=(e.flags&131072)!==0}else ke=!1,jt&&(n.flags&1048576)!==0&&wp(n,Ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Br(n.elementType),n.type=e,typeof e=="function")Bh(e)?(o=Gr(e,o),n.tag=1,n=Hg(null,n,e,o,r)):(n.tag=0,n=Nf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Xt){n.tag=11,n=kg(null,n,e,o,r);break t}else if(h===x){n.tag=14,n=Lg(null,n,e,o,r);break t}}throw n=Wt(e)||e,Error(a(306,n,""))}}return n;case 0:return Nf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Gr(o,n.pendingProps),Hg(e,n,o,h,r);case 3:t:{if(Ft(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,nf(e,n),tl(n,o,null,r);var p=n.memoizedState;if(o=p.cache,Ns(n,Me,o),o!==f.cache&&$h(n,[Me],r,!0),Wo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=qg(e,n,o,r);break t}else if(o!==h){h=Bn(Error(a(424)),n),Qo(h),n=qg(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ce=Kn(e.firstChild),$e=n,jt=!0,Cs=null,Fn=!0,r=Up(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Pr(),o===h){n=Ji(e,n,r);break t}Ze(e,n,o,r)}n=n.child}return n;case 26:return Ju(e,n),e===null?(r=s_(n.type,null,n.pendingProps,null))?n.memoizedState=r:jt||(r=n.type,e=n.pendingProps,o=mc(Tt.current).createElement(r),o[Ne]=n,o[Fe]=e,We(o,r,e),De(o),n.stateNode=o):n.memoizedState=s_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Vn(n),e===null&&jt&&(o=n.stateNode=e_(n.type,n.pendingProps,Tt.current),$e=n,Fn=!0,h=ce,qs(n.type)?(gd=h,ce=Kn(o.firstChild)):ce=h),Ze(e,n,n.pendingProps.children,r),Ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=o=ce)&&(o=X1(o,n.type,n.pendingProps,Fn),o!==null?(n.stateNode=o,$e=n,ce=Kn(o.firstChild),Fn=!1,h=!0):h=!1),h||xs(n)),Vn(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,hd(h,f)?o=null:p!==null&&hd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=cf(e,n,c1,null,null,r),El._currentValue=h),Ju(e,n),Ze(e,n,o,r),n.child;case 6:return e===null&&jt&&((e=r=ce)&&(r=$1(r,n.pendingProps,Fn),r!==null?(n.stateNode=r,$e=n,ce=null,e=!0):e=!1),e||xs(n)),null;case 13:return Fg(e,n,r);case 4:return Ft(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=qr(n,null,o,r):Ze(e,n,o,r),n.child;case 11:return kg(e,n,n.type,n.pendingProps,r);case 7:return Ze(e,n,n.pendingProps,r),n.child;case 8:return Ze(e,n,n.pendingProps.children,r),n.child;case 12:return Ze(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ns(n,n.type,o.value),Ze(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,zr(n),h=Je(h),o=o(h),n.flags|=1,Ze(e,n,o,r),n.child;case 14:return Lg(e,n,n.type,n.pendingProps,r);case 15:return Pg(e,n,n.type,n.pendingProps,r);case 19:return Kg(e,n,r);case 31:return _1(e,n,r);case 22:return Ug(e,n,r,n.pendingProps);case 24:return zr(n),o=Je(Me),e===null?(h=Wh(),h===null&&(h=ae,f=Jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},ef(n),Ns(n,Me,h)):((e.lanes&r)!==0&&(nf(e,n),tl(n,null,null,r),Wo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ns(n,Me,o)):(o=f.cache,Ns(n,Me,o),o!==h.cache&&$h(n,[Me],r,!0))),Ze(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Zi(e){e.flags|=4}function Uf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ey())e.flags|=8192;else throw Hr=Lu,tf}else e.flags&=-16777217}function Yg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!u_(n))if(Ey())e.flags|=8192;else throw Hr=Lu,tf}function Wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ua():536870912,e.lanes|=n,Ba|=n)}function al(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function he(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function E1(e,n,r){var o=n.pendingProps;switch(Gh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(n),null;case 1:return he(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Yi(Me),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ca(n)?Zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qh())),he(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Zi(n),f!==null?(he(n),Yg(n,f)):(he(n),Uf(n,h,null,o,r))):f?f!==e.memoizedState?(Zi(n),he(n),Yg(n,f)):(he(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Zi(n),he(n),Uf(n,h,e,o,r)),null;case 27:if(zi(n),r=Tt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return he(n),null}e=rt.current,Ca(n)?Ip(n):(e=e_(h,o,r),n.stateNode=e,Zi(n))}return he(n),null;case 5:if(zi(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return he(n),null}if(f=rt.current,Ca(n))Ip(n);else{var p=mc(Tt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ne]=n,f[Fe]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(We(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Zi(n)}}return he(n),Uf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Tt.current,Ca(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=$e,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ne]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Fy(e.nodeValue,r)),e||xs(n,!0)}else e=mc(e).createTextNode(o),e[Ne]=n,n.stateNode=e}return he(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ca(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ne]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),e=!1}else r=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(xn(n),n):(xn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return he(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ca(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ne]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),h=!1}else h=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xn(n),n):(xn(n),null)}return xn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Wu(n,n.updateQueue),he(n),null);case 4:return re(),e===null&&ad(n.stateNode.containerInfo),he(n),null;case 10:return Yi(n.type),he(n),null;case 19:if(Q(Re),o=n.memoizedState,o===null)return he(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)al(o,!1);else{if(Se!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ju(e),f!==null){for(n.flags|=128,al(o,!1),e=f.updateQueue,n.updateQueue=e,Wu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)bp(r,e),r=r.sibling;return it(Re,Re.current&1|2),jt&&Ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ye()>sc&&(n.flags|=128,h=!0,al(o,!1),n.lanes=4194304)}else{if(!h)if(e=ju(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Wu(n,e),al(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!jt)return he(n),null}else 2*Ye()-o.renderingStartTime>sc&&r!==536870912&&(n.flags|=128,h=!0,al(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ye(),e.sibling=null,r=Re.current,it(Re,h?r&1|2:r&1),jt&&Ki(n,o.treeForkCount),e):(he(n),null);case 22:case 23:return xn(n),of(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(he(n),n.subtreeFlags&6&&(n.flags|=8192)):he(n),r=n.updateQueue,r!==null&&Wu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Q(jr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Yi(Me),he(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function T1(e,n){switch(Gh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Yi(Me),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return zi(n),null;case 31:if(n.memoizedState!==null){if(xn(n),n.alternate===null)throw Error(a(340));Pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(xn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(Re),null;case 4:return re(),null;case 10:return Yi(n.type),null;case 22:case 23:return xn(n),of(),e!==null&&Q(jr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Yi(Me),null;case 25:return null;default:return null}}function Xg(e,n){switch(Gh(n),n.tag){case 3:Yi(Me),re();break;case 26:case 27:case 5:zi(n);break;case 4:re();break;case 31:n.memoizedState!==null&&xn(n);break;case 13:xn(n);break;case 19:Q(Re);break;case 10:Yi(n.type);break;case 22:case 23:xn(n),of(),e!==null&&Q(jr);break;case 24:Yi(Me)}}function ol(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){Zt(n,n.return,E)}}function Ls(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=r,z=E;try{z()}catch(G){Zt(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){Zt(n,n.return,G)}}function $g(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{jp(n,r)}catch(o){Zt(e,e.return,o)}}}function Jg(e,n,r){r.props=Gr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Zt(e,n,o)}}function ll(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Zt(e,n,h)}}function Ci(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Zt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Zt(e,n,h)}else r.current=null}function Zg(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Zt(e,e.return,h)}}function zf(e,n,r){try{var o=e.stateNode;q1(o,e.type,r,n),o[Fe]=n}catch(h){Zt(e,e.return,h)}}function Wg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qs(e.type)||e.tag===4}function jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Wg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Zn));else if(o!==4&&(o===27&&qs(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Bf(e,n,r),e=e.sibling;e!==null;)Bf(e,n,r),e=e.sibling}function tc(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&qs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(tc(e,n,r),e=e.sibling;e!==null;)tc(e,n,r),e=e.sibling}function ty(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);We(n,o,r),n[Ne]=e,n[Fe]=r}catch(f){Zt(e,e.return,f)}}var Wi=!1,Le=!1,Hf=!1,ey=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function b1(e,n){if(e=e.containerInfo,ud=Tc,e=dp(e),Vh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,I=-1,z=0,G=0,X=e,j=null;e:for(;;){for(var H;X!==r||h!==0&&X.nodeType!==3||(E=p+h),X!==f||o!==0&&X.nodeType!==3||(I=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(H=X.firstChild)!==null;)j=X,X=H;for(;;){if(X===e)break e;if(j===r&&++z===h&&(E=p),j===f&&++G===o&&(I=p),(H=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=H}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(cd={focusedElem:e,selectionRange:r},Tc=!1,Ke=n;Ke!==null;)if(n=Ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ke=e;else for(;Ke!==null;){switch(n=Ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ot=Gr(r.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Zt(r,r.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)dd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ke=e;break}Ke=n.return}}function ny(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:es(e,r),o&4&&ol(5,r);break;case 1:if(es(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Zt(r,r.return,p)}else{var h=Gr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Zt(r,r.return,p)}}o&64&&$g(r),o&512&&ll(r,r.return);break;case 3:if(es(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{jp(e,n)}catch(p){Zt(r,r.return,p)}}break;case 27:n===null&&o&4&&ty(r);case 26:case 5:es(e,r),n===null&&o&4&&Zg(r),o&512&&ll(r,r.return);break;case 12:es(e,r);break;case 31:es(e,r),o&4&&ry(e,r);break;case 13:es(e,r),o&4&&ay(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=D1.bind(null,r),J1(e,r))));break;case 22:if(o=r.memoizedState!==null||Wi,!o){n=n!==null&&n.memoizedState!==null||Le,h=Wi;var f=Le;Wi=o,(Le=n)&&!f?ns(e,r,(r.subtreeFlags&8772)!==0):es(e,r),Wi=h,Le=f}break;case 30:break;default:es(e,r)}}function iy(e){var n=e.alternate;n!==null&&(e.alternate=null,iy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ha(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,gn=!1;function ts(e,n,r){for(r=r.child;r!==null;)sy(e,n,r),r=r.sibling}function sy(e,n,r){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(qe,r)}catch{}switch(r.tag){case 26:Le||Ci(r,n),ts(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Le||Ci(r,n);var o=pe,h=gn;qs(r.type)&&(pe=r.stateNode,gn=!1),ts(e,n,r),yl(r.stateNode),pe=o,gn=h;break;case 5:Le||Ci(r,n);case 6:if(o=pe,h=gn,pe=null,ts(e,n,r),pe=o,gn=h,pe!==null)if(gn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(r.stateNode)}catch(f){Zt(r,n,f)}else try{pe.removeChild(r.stateNode)}catch(f){Zt(r,n,f)}break;case 18:pe!==null&&(gn?(e=pe,$y(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Xa(e)):$y(pe,r.stateNode));break;case 4:o=pe,h=gn,pe=r.stateNode.containerInfo,gn=!0,ts(e,n,r),pe=o,gn=h;break;case 0:case 11:case 14:case 15:Ls(2,r,n),Le||Ls(4,r,n),ts(e,n,r);break;case 1:Le||(Ci(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Jg(r,n,o)),ts(e,n,r);break;case 21:ts(e,n,r);break;case 22:Le=(o=Le)||r.memoizedState!==null,ts(e,n,r),Le=o;break;default:ts(e,n,r)}}function ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xa(e)}catch(r){Zt(n,n.return,r)}}}function ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xa(e)}catch(r){Zt(n,n.return,r)}}function S1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ey),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ey),n;default:throw Error(a(435,e.tag))}}function ec(e,n){var r=S1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=O1.bind(null,e,o);o.then(h,h)}})}function yn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(qs(E.type)){pe=E.stateNode,gn=!1;break t}break;case 5:pe=E.stateNode,gn=!1;break t;case 3:case 4:pe=E.stateNode.containerInfo,gn=!0;break t}E=E.return}if(pe===null)throw Error(a(160));sy(f,p,h),pe=null,gn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)oy(n,e),n=n.sibling}var si=null;function oy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yn(n,e),_n(e),o&4&&(Ls(3,e,e.return),ol(3,e),Ls(5,e,e.return));break;case 1:yn(n,e),_n(e),o&512&&(Le||r===null||Ci(r,r.return)),o&64&&Wi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=si;if(yn(n,e),_n(e),o&512&&(Le||r===null||Ci(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[mi]||f[Ne]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),We(f,o,r),f[Ne]=e,De(f),o=f;break t;case"link":var p=o_("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),We(f,o,r),h.head.appendChild(f);break;case"meta":if(p=o_("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=h.createElement(o),We(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ne]=e,De(f),o=f}e.stateNode=o}else l_(h,e.type,e.stateNode);else e.stateNode=a_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?l_(h,e.type,e.stateNode):a_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&zf(e,e.memoizedProps,r.memoizedProps)}break;case 27:yn(n,e),_n(e),o&512&&(Le||r===null||Ci(r,r.return)),r!==null&&o&4&&zf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(yn(n,e),_n(e),o&512&&(Le||r===null||Ci(r,r.return)),e.flags&32){h=e.stateNode;try{pn(h,"")}catch(ot){Zt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,zf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Hf=!0);break;case 6:if(yn(n,e),_n(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ot){Zt(e,e.return,ot)}}break;case 3:if(yc=null,h=si,si=pc(n.containerInfo),yn(n,e),si=h,_n(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Xa(n.containerInfo)}catch(ot){Zt(e,e.return,ot)}Hf&&(Hf=!1,ly(e));break;case 4:o=si,si=pc(e.stateNode.containerInfo),yn(n,e),_n(e),si=o;break;case 12:yn(n,e),_n(e);break;case 31:yn(n,e),_n(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 13:yn(n,e),_n(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ic=Ye()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 22:h=e.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,z=Wi,G=Le;if(Wi=z||h,Le=G||I,yn(n,e),Le=G,Wi=z,_n(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||Wi||Le||Kr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Zt(I,I.return,ot)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ot){Zt(I,I.return,ot)}}}else if(n.tag===18){if(r===null){I=n;try{var H=I.stateNode;h?Jy(H,!0):Jy(I.stateNode,!1)}catch(ot){Zt(I,I.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,ec(e,r))));break;case 19:yn(n,e),_n(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 30:break;case 21:break;default:yn(n,e),_n(e)}}function _n(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Wg(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=jf(e);tc(e,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(pn(p,""),r.flags&=-33);var E=jf(e);tc(e,E,p);break;case 3:case 4:var I=r.stateNode.containerInfo,z=jf(e);Bf(e,z,I);break;default:throw Error(a(161))}}catch(G){Zt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ly(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function es(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ny(e,n.alternate,n),n=n.sibling}function Kr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ls(4,n,n.return),Kr(n);break;case 1:Ci(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Jg(n,n.return,r),Kr(n);break;case 27:yl(n.stateNode);case 26:case 5:Ci(n,n.return),Kr(n);break;case 22:n.memoizedState===null&&Kr(n);break;case 30:Kr(n);break;default:Kr(n)}e=e.sibling}}function ns(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ns(h,f,r),ol(4,f);break;case 1:if(ns(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Zt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)zp(I[h],E)}catch(z){Zt(o,o.return,z)}}r&&p&64&&$g(f),ll(f,f.return);break;case 27:ty(f);case 26:case 5:ns(h,f,r),r&&o===null&&p&4&&Zg(f),ll(f,f.return);break;case 12:ns(h,f,r);break;case 31:ns(h,f,r),r&&p&4&&ry(h,f);break;case 13:ns(h,f,r),r&&p&4&&ay(h,f);break;case 22:f.memoizedState===null&&ns(h,f,r),ll(f,f.return);break;case 30:break;default:ns(h,f,r)}n=n.sibling}}function qf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Yo(r))}function Ff(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Yo(e))}function ri(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)uy(e,n,r,o),n=n.sibling}function uy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ri(e,n,r,o),h&2048&&ol(9,n);break;case 1:ri(e,n,r,o);break;case 3:ri(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Yo(e)));break;case 12:if(h&2048){ri(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Zt(n,n.return,I)}}else ri(e,n,r,o);break;case 31:ri(e,n,r,o);break;case 13:ri(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ri(e,n,r,o):ul(e,n):f._visibility&2?ri(e,n,r,o):(f._visibility|=2,Ua(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&qf(p,n);break;case 24:ri(e,n,r,o),h&2048&&Ff(n.alternate,n);break;default:ri(e,n,r,o)}}function Ua(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=r,I=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Ua(f,p,E,I,h),ol(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Ua(f,p,E,I,h):ul(f,p):(G._visibility|=2,Ua(f,p,E,I,h)),h&&z&2048&&qf(p.alternate,p);break;case 24:Ua(f,p,E,I,h),h&&z&2048&&Ff(p.alternate,p);break;default:Ua(f,p,E,I,h)}n=n.sibling}}function ul(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:ul(r,o),h&2048&&qf(o.alternate,o);break;case 24:ul(r,o),h&2048&&Ff(o.alternate,o);break;default:ul(r,o)}n=n.sibling}}var cl=8192;function za(e,n,r){if(e.subtreeFlags&cl)for(e=e.child;e!==null;)cy(e,n,r),e=e.sibling}function cy(e,n,r){switch(e.tag){case 26:za(e,n,r),e.flags&cl&&e.memoizedState!==null&&ub(r,si,e.memoizedState,e.memoizedProps);break;case 5:za(e,n,r);break;case 3:case 4:var o=si;si=pc(e.stateNode.containerInfo),za(e,n,r),si=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=cl,cl=16777216,za(e,n,r),cl=o):za(e,n,r));break;default:za(e,n,r)}}function hy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function hl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ke=o,dy(o,e)}hy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fy(e),e=e.sibling}function fy(e){switch(e.tag){case 0:case 11:case 15:hl(e),e.flags&2048&&Ls(9,e,e.return);break;case 3:hl(e);break;case 12:hl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,nc(e)):hl(e);break;default:hl(e)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ke=o,dy(o,e)}hy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ls(8,n,n.return),nc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,nc(n));break;default:nc(n)}e=e.sibling}}function dy(e,n){for(;Ke!==null;){var r=Ke;switch(r.tag){case 0:case 11:case 15:Ls(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Yo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ke=o;else t:for(r=e;Ke!==null;){o=Ke;var h=o.sibling,f=o.return;if(iy(o),o===r){Ke=null;break t}if(h!==null){h.return=f,Ke=h;break t}Ke=f}}}var A1={getCacheForType:function(e){var n=Je(Me),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Je(Me).controller.signal}},w1=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ae=null,Dt=null,kt=0,Jt=0,Nn=null,Ps=!1,ja=!1,Gf=!1,is=0,Se=0,Us=0,Qr=0,Kf=0,Dn=0,Ba=0,fl=null,vn=null,Qf=!1,ic=0,my=0,sc=1/0,rc=null,zs=null,ze=0,js=null,Ha=null,ss=0,Yf=0,Xf=null,py=null,dl=0,$f=null;function On(){return(Qt&2)!==0&&kt!==0?kt&-kt:F.T!==null?nd():au()}function gy(){if(Dn===0)if((kt&536870912)===0||jt){var e=bn;bn<<=1,(bn&3932160)===0&&(bn=262144),Dn=e}else Dn=536870912;return e=Cn.current,e!==null&&(e.flags|=32),Dn}function En(e,n,r){(e===ae&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(qa(e,0),Bs(e,kt,Dn,!1)),Tr(e,r),((Qt&2)===0||e!==ae)&&(e===ae&&((Qt&2)===0&&(Qr|=r),Se===4&&Bs(e,kt,Dn,!1)),xi(e))}function yy(e,n,r){if((Qt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||dn(e,n),h=o?C1(e,n):Zf(e,n,!0),f=o;do{if(h===0){ja&&!o&&Bs(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!R1(r)){h=Zf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=fl;var I=E.current.memoizedState.isDehydrated;if(I&&(qa(E,p).flags|=256),p=Zf(E,p,!1),p!==2){if(Gf&&!I){E.errorRecoveryDisabledLanes|=f,Qr|=f,h=4;break t}f=vn,vn=h,f!==null&&(vn===null?vn=f:vn.push.apply(vn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){qa(e,0),Bs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Bs(o,n,Dn,!Ps);break t;case 2:vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-Ye(),10<h)){if(Bs(o,n,Dn,!Ps),Sn(o,0,!0)!==0)break t;ss=n,o.timeoutHandle=Yy(_y.bind(null,o,r,vn,rc,Qf,n,Dn,Qr,Ba,Ps,f,"Throttled",-0,0),h);break t}_y(o,r,vn,rc,Qf,n,Dn,Qr,Ba,Ps,f,null,-0,0)}}break}while(!0);xi(e)}function _y(e,n,r,o,h,f,p,E,I,z,G,X,j,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},cy(n,f,X);var ot=(f&62914560)===f?ic-Ye():(f&4194048)===f?my-Ye():0;if(ot=cb(X,ot),ot!==null){ss=f,e.cancelPendingCommit=ot(Ry.bind(null,e,n,f,r,o,h,p,E,I,G,X,null,j,H)),Bs(e,f,p,!z);return}}Ry(e,n,f,r,o,h,p,E,I)}function R1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Rn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bs(e,n,r,o){n&=~Kf,n&=~Qr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-tt(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&br(e,r,n)}function ac(){return(Qt&6)===0?(ml(0),!1):!0}function Jf(){if(Dt!==null){if(Jt===0)var e=Dt.return;else e=Dt,Qi=Ur=null,df(e),Ma=null,$o=0,e=Dt;for(;e!==null;)Xg(e.alternate,e),e=e.return;Dt=null}}function qa(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,K1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ss=0,Jf(),ae=e,Dt=r=Gi(e.current,null),kt=n,Jt=0,Nn=null,Ps=!1,ja=dn(e,n),Gf=!1,Ba=Dn=Kf=Qr=Us=Se=0,vn=fl=null,Qf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-tt(o),f=1<<h;n|=e[h],o&=~f}return is=n,Iu(),r}function vy(e,n){It=null,F.H=sl,n===Oa||n===ku?(n=kp(),Jt=3):n===tf?(n=kp(),Jt=4):Jt=n===xf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,Dt===null&&(Se=1,Xu(e,Bn(n,e.current)))}function Ey(){var e=Cn.current;return e===null?!0:(kt&4194048)===kt?Gn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===Gn:!1}function Ty(){var e=F.H;return F.H=sl,e===null?sl:e}function by(){var e=F.A;return F.A=A1,e}function oc(){Se=4,Ps||(kt&4194048)!==kt&&Cn.current!==null||(ja=!0),(Us&134217727)===0&&(Qr&134217727)===0||ae===null||Bs(ae,kt,Dn,!1)}function Zf(e,n,r){var o=Qt;Qt|=2;var h=Ty(),f=by();(ae!==e||kt!==n)&&(rc=null,qa(e,n)),n=!1;var p=Se;t:do try{if(Jt!==0&&Dt!==null){var E=Dt,I=Nn;switch(Jt){case 8:Jf(),p=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var z=Jt;if(Jt=0,Nn=null,Fa(e,E,I,z),r&&ja){p=0;break t}break;default:z=Jt,Jt=0,Nn=null,Fa(e,E,I,z)}}I1(),p=Se;break}catch(G){vy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Qi=Ur=null,Qt=o,F.H=h,F.A=f,Dt===null&&(ae=null,kt=0,Iu()),p}function I1(){for(;Dt!==null;)Sy(Dt)}function C1(e,n){var r=Qt;Qt|=2;var o=Ty(),h=by();ae!==e||kt!==n?(rc=null,sc=Ye()+500,qa(e,n)):ja=dn(e,n);t:do try{if(Jt!==0&&Dt!==null){n=Dt;var f=Nn;e:switch(Jt){case 1:Jt=0,Nn=null,Fa(e,n,f,1);break;case 2:case 9:if(Mp(f)){Jt=0,Nn=null,Ay(n);break}n=function(){Jt!==2&&Jt!==9||ae!==e||(Jt=7),xi(e)},f.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:Mp(f)?(Jt=0,Nn=null,Ay(n)):(Jt=0,Nn=null,Fa(e,n,f,7));break;case 5:var p=null;switch(Dt.tag){case 26:p=Dt.memoizedState;case 5:case 27:var E=Dt;if(p?u_(p):E.stateNode.complete){Jt=0,Nn=null;var I=E.sibling;if(I!==null)Dt=I;else{var z=E.return;z!==null?(Dt=z,lc(z)):Dt=null}break e}}Jt=0,Nn=null,Fa(e,n,f,5);break;case 6:Jt=0,Nn=null,Fa(e,n,f,6);break;case 8:Jf(),Se=6;break t;default:throw Error(a(462))}}x1();break}catch(G){vy(e,G)}while(!0);return Qi=Ur=null,F.H=o,F.A=h,Qt=r,Dt!==null?0:(ae=null,kt=0,Iu(),Se)}function x1(){for(;Dt!==null&&!So();)Sy(Dt)}function Sy(e){var n=Qg(e.alternate,e,is);e.memoizedProps=e.pendingProps,n===null?lc(e):Dt=n}function Ay(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Bg(r,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=Bg(r,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:df(n);default:Xg(r,n),n=Dt=bp(n,is),n=Qg(r,n,is)}e.memoizedProps=e.pendingProps,n===null?lc(e):Dt=n}function Fa(e,n,r,o){Qi=Ur=null,df(n),Ma=null,$o=0;var h=n.return;try{if(y1(e,h,n,r,kt)){Se=1,Xu(e,Bn(r,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;Se=1,Xu(e,Bn(r,e.current)),Dt=null;return}n.flags&32768?(jt||o===1?e=!0:ja||(kt&536870912)!==0?e=!1:(Ps=e=!0,(o===2||o===9||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),wy(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){wy(n,Ps);return}e=n.return;var r=E1(n.alternate,n,is);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);Se===0&&(Se=5)}function wy(e,n){do{var r=T1(e.alternate,e);if(r!==null){r.flags&=32767,Dt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=r}while(e!==null);Se=6,Dt=null}function Ry(e,n,r,o,h,f,p,E,I){e.cancelPendingCommit=null;do uc();while(ze!==0);if((Qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=zh,Nh(e,r,f,p,E,I),e===ae&&(Dt=ae=null,kt=0),Ha=n,js=e,ss=r,Yf=f,Xf=h,py=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,M1(fi,function(){return Dy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=nt.p,nt.p=2,p=Qt,Qt|=4;try{b1(e,n,r)}finally{Qt=p,nt.p=h,F.T=o}}ze=1,Iy(),Cy(),xy()}}function Iy(){if(ze===1){ze=0;var e=js,n=Ha,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Qt;Qt|=4;try{oy(n,e);var f=cd,p=dp(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&fp(E.ownerDocument.documentElement,E)){if(I!==null&&Vh(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var H=j.getSelection(),ot=E.textContent.length,pt=Math.min(I.start,ot),se=I.end===void 0?pt:Math.min(I.end,ot);!H.extend&&pt>se&&(p=se,se=pt,pt=p);var k=hp(E,pt),N=hp(E,se);if(k&&N&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var U=X.createRange();U.setStart(k.node,k.offset),H.removeAllRanges(),pt>se?(H.addRange(U),H.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),H.addRange(U))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Tc=!!ud,cd=ud=null}finally{Qt=h,nt.p=o,F.T=r}}e.current=n,ze=2}}function Cy(){if(ze===2){ze=0;var e=js,n=Ha,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Qt;Qt|=4;try{ny(e,n.alternate,n)}finally{Qt=h,nt.p=o,F.T=r}}ze=3}}function xy(){if(ze===4||ze===3){ze=0,oa();var e=js,n=Ha,r=ss,o=py;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,Ha=js=null,Ny(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(zs=null),Bi(r),n=n.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(qe,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{F.T=n,nt.p=h}}(ss&3)!==0&&uc(),xi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===$f?dl++:(dl=0,$f=e):dl=0,ml(0)}}function Ny(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Yo(n)))}function uc(){return Iy(),Cy(),xy(),Dy()}function Dy(){if(ze!==5)return!1;var e=js,n=Yf;Yf=0;var r=Bi(ss),o=F.T,h=nt.p;try{nt.p=32>r?32:r,F.T=null,r=Xf,Xf=null;var f=js,p=ss;if(ze=0,Ha=js=null,ss=0,(Qt&6)!==0)throw Error(a(331));var E=Qt;if(Qt|=4,fy(f.current),uy(f,f.current,p,r),Qt=E,ml(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(qe,f)}catch{}return!0}finally{nt.p=h,F.T=o,Ny(e,n)}}function Oy(e,n,r){n=Bn(r,n),n=Cf(e.stateNode,n,2),e=Ms(e,n,2),e!==null&&(Tr(e,2),xi(e))}function Zt(e,n,r){if(e.tag===3)Oy(e,e,r);else for(;n!==null;){if(n.tag===3){Oy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(zs===null||!zs.has(o))){e=Bn(r,e),r=Mg(2),o=Ms(n,r,2),o!==null&&(Vg(r,o,n,e),Tr(o,2),xi(o));break}}n=n.return}}function Wf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new w1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Gf=!0,h.add(r),e=N1.bind(null,e,n,r),n.then(e,e))}function N1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ae===e&&(kt&r)===r&&(Se===4||Se===3&&(kt&62914560)===kt&&300>Ye()-ic?(Qt&2)===0&&qa(e,0):Kf|=r,Ba===kt&&(Ba=0)),xi(e)}function My(e,n){n===0&&(n=ua()),e=kr(e,n),e!==null&&(Tr(e,n),xi(e))}function D1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),My(e,r)}function O1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),My(e,r)}function M1(e,n){return Ae(e,n)}var cc=null,Ga=null,td=!1,hc=!1,ed=!1,Hs=0;function xi(e){e!==Ga&&e.next===null&&(Ga===null?cc=Ga=e:Ga=Ga.next=e),hc=!0,td||(td=!0,k1())}function ml(e,n){if(!ed&&hc){ed=!0;do for(var r=!1,o=cc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-tt(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Py(o,f))}else f=kt,f=Sn(o,o===ae?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||dn(o,f)||(r=!0,Py(o,f));o=o.next}while(r);ed=!1}}function V1(){Vy()}function Vy(){hc=td=!1;var e=0;Hs!==0&&G1()&&(e=Hs);for(var n=Ye(),r=null,o=cc;o!==null;){var h=o.next,f=ky(o,n);f===0?(o.next=null,r===null?cc=h:r.next=h,h===null&&(Ga=r)):(r=o,(e!==0||(f&3)!==0)&&(hc=!0)),o=h}ze!==0&&ze!==5||ml(e),Hs!==0&&(Hs=0)}function ky(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-tt(f),E=1<<p,I=h[p];I===-1?((E&r)===0||(E&o)!==0)&&(h[p]=la(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=ae,r=kt,r=Sn(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ci(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||dn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&ci(o),Bi(r)){case 2:case 8:r=_r;break;case 32:r=fi;break;case 268435456:r=vr;break;default:r=fi}return o=Ly.bind(null,e),r=Ae(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&ci(o),e.callbackPriority=2,e.callbackNode=null,2}function Ly(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(uc()&&e.callbackNode!==r)return null;var o=kt;return o=Sn(e,e===ae?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(yy(e,o,n),ky(e,Ye()),e.callbackNode!=null&&e.callbackNode===r?Ly.bind(null,e):null)}function Py(e,n){if(uc())return null;yy(e,n,!0)}function k1(){Q1(function(){(Qt&6)!==0?Ae(yr,V1):Vy()})}function nd(){if(Hs===0){var e=Na;e===0&&(e=ye,ye<<=1,(ye&261888)===0&&(ye=256)),Hs=e}return Hs}function Uy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pa(""+e)}function zy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function L1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Uy((h[Fe]||null).action),p=o.submitter;p&&(n=(n=p[Fe]||null)?Uy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new bi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hs!==0){var I=p?zy(h,p):new FormData(h);bf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?zy(h,p):new FormData(h),bf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var id=0;id<Uh.length;id++){var sd=Uh[id],P1=sd.toLowerCase(),U1=sd[0].toUpperCase()+sd.slice(1);ii(P1,"on"+U1)}ii(gp,"onAnimationEnd"),ii(yp,"onAnimationIteration"),ii(_p,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(t1,"onTransitionRun"),ii(e1,"onTransitionStart"),ii(n1,"onTransitionCancel"),ii(vp,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function jy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Ru(G)}h.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(E=o[p],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Ru(G)}h.currentTarget=null,f=I}}}}function Ot(e,n){var r=n[ca];r===void 0&&(r=n[ca]=new Set);var o=e+"__bubble";r.has(o)||(By(n,e,2,!1),r.add(o))}function rd(e,n,r){var o=0;n&&(o|=4),By(r,e,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[fc]){e[fc]=!0,Io.forEach(function(r){r!=="selectionchange"&&(z1.has(r)||rd(r,!1,e),rd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fc]||(n[fc]=!0,rd("selectionchange",!1,n))}}function By(e,n,r,o){switch(g_(n)){case 2:var h=db;break;case 8:h=mb;break;default:h=Td}r=h.bind(null,n,r,e),h=void 0,!Ir||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function od(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=pi(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue t}E=E.parentNode}}o=o.return}Ss(function(){var z=f,G=Pn(r),X=[];t:{var j=Ep.get(e);if(j!==void 0){var H=bi,ot=e;switch(e){case"keypress":if(xr(r)===0)break t;case"keydown":case"keyup":H=Su;break;case"focusin":ot="focus",H=Dr;break;case"focusout":ot="blur",H=Dr;break;case"beforeblur":case"afterblur":H=Dr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case gp:case yp:case _p:H=gu;break;case vp:H=T;break;case"scroll":case"scrollend":H=zo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Fi;break;case"toggle":case"beforetoggle":H=Rt}var pt=(n&4)!==0,se=!pt&&(e==="scroll"||e==="scrollend"),k=pt?j!==null?j+"Capture":null:j;pt=[];for(var N=z,U;N!==null;){var K=N;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||k===null||(K=Wn(N,k),K!=null&&pt.push(gl(N,K,U))),se)break;N=N.return}0<pt.length&&(j=new H(j,ot,null,r,G),X.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&r!==Lo&&(ot=r.relatedTarget||r.fromElement)&&(pi(ot)||ot[di]))break t;if((H||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ot=r.relatedTarget||r.toElement,H=z,ot=ot?pi(ot):null,ot!==null&&(se=c(ot),pt=ot.tag,ot!==se||pt!==5&&pt!==27&&pt!==6)&&(ot=null)):(H=null,ot=z),H!==ot)){if(pt=jo,K="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Fi,K="onPointerLeave",k="onPointerEnter",N="pointer"),se=H==null?j:An(H),U=ot==null?j:An(ot),j=new pt(K,N+"leave",H,r,G),j.target=se,j.relatedTarget=U,K=null,pi(G)===z&&(pt=new pt(k,N+"enter",ot,r,G),pt.target=U,pt.relatedTarget=se,K=pt),se=K,H&&ot)e:{for(pt=j1,k=H,N=ot,U=0,K=k;K;K=pt(K))U++;K=0;for(var dt=N;dt;dt=pt(dt))K++;for(;0<U-K;)k=pt(k),U--;for(;0<K-U;)N=pt(N),K--;for(;U--;){if(k===N||N!==null&&k===N.alternate){pt=k;break e}k=pt(k),N=pt(N)}pt=null}else pt=null;H!==null&&Hy(X,j,H,pt,!1),ot!==null&&se!==null&&Hy(X,se,ot,pt,!0)}}t:{if(j=z?An(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Ht=rp;else if(ip(j))if(ap)Ht=JT;else{Ht=XT;var lt=YT}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ma(z.elementType)&&(Ht=rp):Ht=$T;if(Ht&&(Ht=Ht(e,z))){sp(X,Ht,r,G);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Mo(j,"number",j.value)}switch(lt=z?An(z):window,e){case"focusin":(ip(lt)||lt.contentEditable==="true")&&(ba=lt,kh=z,Go=null);break;case"focusout":Go=kh=ba=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,mp(X,r,G);break;case"selectionchange":if(WT)break;case"keydown":case"keyup":mp(X,r,G)}var Ct;if(Kt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Ta?Or(e,r)&&(Lt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Lt="onCompositionStart");Lt&&(wi&&r.locale!=="ko"&&(Ta||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Ta&&(Ct=Uo()):(Ti=G,Po="value"in Ti?Ti.value:Ti.textContent,Ta=!0)),lt=dc(z,Lt),0<lt.length&&(Lt=new Ai(Lt,e,null,r,G),X.push({event:Lt,listeners:lt}),Ct?Lt.data=Ct:(Ct=Ea(r),Ct!==null&&(Lt.data=Ct)))),(Ct=zn?FT(e,r):GT(e,r))&&(Lt=dc(z,"onBeforeInput"),0<Lt.length&&(lt=new Ai("onBeforeInput","beforeinput",null,r,G),X.push({event:lt,listeners:Lt}),lt.data=Ct)),L1(X,e,z,r,G)}jy(X,n)})}function gl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function dc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Wn(e,r),h!=null&&o.unshift(gl(e,h,f)),h=Wn(e,n),h!=null&&o.push(gl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function j1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hy(e,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Wn(r,f),z!=null&&p.unshift(gl(r,z,I))):h||(z=Wn(r,f),z!=null&&p.push(gl(r,z,I)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var B1=/\r\n?/g,H1=/\u0000|\uFFFD/g;function qy(e){return(typeof e=="string"?e:""+e).replace(B1,`
`).replace(H1,"")}function Fy(e,n){return n=qy(n),qy(e)===n}function ie(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||pn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&pn(e,""+o);break;case"className":wn(e,"class",o);break;case"tabIndex":wn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(e,r,o);break;case"style":ko(e,o,f);break;case"data":if(n!=="object"){wn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=pa(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ie(e,n,"name",h.name,h,null),ie(e,n,"formEncType",h.formEncType,h,null),ie(e,n,"formMethod",h.formMethod,h,null),ie(e,n,"formTarget",h.formTarget,h,null)):(ie(e,n,"encType",h.encType,h,null),ie(e,n,"method",h.method,h,null),ie(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=pa(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Zn);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=pa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),fa(e,"popover",o);break;case"xlinkActuate":Oe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Oe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Oe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Oe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Oe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Oe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=du.get(r)||r,fa(e,r,o))}}function ld(e,n,r,o,h,f){switch(r){case"style":ko(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?pn(e,o):(typeof o=="number"||typeof o=="bigint")&&pn(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Fe]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):fa(e,r,o)}}}function We(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ie(e,n,f,p,r,null)}}h&&ie(e,n,"srcSet",r.srcSet,r,null),o&&ie(e,n,"src",r.src,r,null);return;case"input":Ot("invalid",e);var E=f=p=h=null,I=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ie(e,n,o,G,r,null)}}cu(e,f,E,I,z,p,h,!1);return;case"select":Ot("invalid",e),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:ie(e,n,h,E,r,null)}n=f,r=p,e.multiple=!!o,n!=null?vs(e,!!o,n,!1):r!=null&&vs(e,!!o,r,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ie(e,n,p,E,r,null)}Es(e,o,h,f);return;case"option":for(I in r)r.hasOwnProperty(I)&&(o=r[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ie(e,n,I,o,r,null));return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<pl.length;o++)Ot(pl[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ie(e,n,z,o,r,null)}return;default:if(ma(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&ld(e,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&ie(e,n,E,o,r,null))}function q1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,z=null,G=null;for(H in r){var X=r[H];if(r.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:o.hasOwnProperty(H)||ie(e,n,H,null,o,X)}}for(var j in o){var H=o[j];if(X=r[j],o.hasOwnProperty(j)&&(H!=null||X!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&ie(e,n,j,H,o,X)}}da(e,p,E,I,z,G,f,h);return;case"select":H=p=E=j=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||ie(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=r[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&ie(e,n,h,f,o,I)}n=E,r=p,o=H,j!=null?vs(e,!!r,j,!1):!!o!=!!r&&(n!=null?vs(e,!!r,n,!0):vs(e,!!r,r?[]:"",!1));return;case"textarea":H=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ie(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ie(e,n,p,h,o,f)}hu(e,j,H);return;case"option":for(var ot in r)j=r[ot],r.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:ie(e,n,ot,null,o,j));for(I in o)j=o[I],H=r[I],o.hasOwnProperty(I)&&j!==H&&(j!=null||H!=null)&&(I==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":ie(e,n,I,j,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)j=r[pt],r.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&ie(e,n,pt,null,o,j);for(z in o)if(j=o[z],H=r[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:ie(e,n,z,j,o,H)}return;default:if(ma(n)){for(var se in r)j=r[se],r.hasOwnProperty(se)&&j!==void 0&&!o.hasOwnProperty(se)&&ld(e,n,se,void 0,o,j);for(G in o)j=o[G],H=r[G],!o.hasOwnProperty(G)||j===H||j===void 0&&H===void 0||ld(e,n,G,j,o,H);return}}for(var k in r)j=r[k],r.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&ie(e,n,k,null,o,j);for(X in o)j=o[X],H=r[X],!o.hasOwnProperty(X)||j===H||j==null&&H==null||ie(e,n,X,j,o,H)}function Gy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function F1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Gy(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var I=r[o],z=I.startTime;if(z>E)break;var G=I.transferSize,X=I.initiatorType;G&&Gy(X)&&(I=I.responseEnd,p+=G*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ud=null,cd=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function Ky(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function G1(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,K1=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,Q1=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(e){return Xy.resolve(null).then(e).catch(Y1)}:Yy;function Y1(e){setTimeout(function(){throw e})}function qs(e){return e==="head"}function $y(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Xa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")yl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,yl(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[mi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&yl(e.ownerDocument.body);r=h}while(r);Xa(n)}function Jy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":dd(r),ha(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function X1(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[mi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Kn(e.nextSibling),e===null)break}return null}function $1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Kn(e.nextSibling),e===null))return null;return e}function Zy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Kn(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function J1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var gd=null;function Wy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Kn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function t_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function e_(e,n,r){switch(n=mc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function yl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ha(e)}var Qn=new Map,n_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var rs=nt.d;nt.d={f:Z1,r:W1,D:tb,C:eb,L:nb,m:ib,X:rb,S:sb,M:ab};function Z1(){var e=rs.f(),n=ac();return e||n}function W1(e){var n=Ln(e);n!==null&&n.tag===5&&n.type==="form"?vg(n):rs.r(e)}var Ka=typeof document>"u"?null:document;function i_(e,n,r){var o=Ka;if(o&&typeof n=="string"&&n){var h=mn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),n_.has(h)||(n_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),We(n,"link",e),De(n),o.head.appendChild(n)))}}function tb(e){rs.D(e),i_("dns-prefetch",e,null)}function eb(e,n){rs.C(e,n),i_("preconnect",e,n)}function nb(e,n,r){rs.L(e,n,r);var o=Ka;if(o&&e&&n){var h='link[rel="preload"][as="'+mn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+mn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+mn(r.imageSizes)+'"]')):h+='[href="'+mn(e)+'"]';var f=h;switch(n){case"style":f=Qa(e);break;case"script":f=Ya(e)}Qn.has(f)||(e=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Qn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(_l(f))||n==="script"&&o.querySelector(vl(f))||(n=o.createElement("link"),We(n,"link",e),De(n),o.head.appendChild(n)))}}function ib(e,n){rs.m(e,n);var r=Ka;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+mn(o)+'"][href="'+mn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ya(e)}if(!Qn.has(f)&&(e=w({rel:"modulepreload",href:e},n),Qn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(vl(f)))return}o=r.createElement("link"),We(o,"link",e),De(o),r.head.appendChild(o)}}}function sb(e,n,r){rs.S(e,n,r);var o=Ka;if(o&&e){var h=gi(o).hoistableStyles,f=Qa(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(_l(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Qn.get(f))&&yd(e,r);var I=p=o.createElement("link");De(I),We(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function rb(e,n){rs.X(e,n);var r=Ka;if(r&&e){var o=gi(r).hoistableScripts,h=Ya(e),f=o.get(h);f||(f=r.querySelector(vl(h)),f||(e=w({src:e,async:!0},n),(n=Qn.get(h))&&_d(e,n),f=r.createElement("script"),De(f),We(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function ab(e,n){rs.M(e,n);var r=Ka;if(r&&e){var o=gi(r).hoistableScripts,h=Ya(e),f=o.get(h);f||(f=r.querySelector(vl(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Qn.get(h))&&_d(e,n),f=r.createElement("script"),De(f),We(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function s_(e,n,r,o){var h=(h=Tt.current)?pc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Qa(r.href),r=gi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Qa(r.href);var f=gi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(_l(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Qn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Qn.set(e,r),f||ob(h,e,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ya(r),r=gi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Qa(e){return'href="'+mn(e)+'"'}function _l(e){return'link[rel="stylesheet"]['+e+"]"}function r_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function ob(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),We(n,"link",r),De(n),e.head.appendChild(n))}function Ya(e){return'[src="'+mn(e)+'"]'}function vl(e){return"script[async]"+e}function a_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+mn(r.href)+'"]');if(o)return n.instance=o,De(o),o;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),De(o),We(o,"style",h),gc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Qa(r.href);var f=e.querySelector(_l(h));if(f)return n.state.loading|=4,n.instance=f,De(f),f;o=r_(r),(h=Qn.get(h))&&yd(o,h),f=(e.ownerDocument||e).createElement("link"),De(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),We(f,"link",o),n.state.loading|=4,gc(f,r.precedence,e),n.instance=f;case"script":return f=Ya(r.src),(h=e.querySelector(vl(f)))?(n.instance=h,De(h),h):(o=r,(h=Qn.get(f))&&(o=w({},r),_d(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),De(h),We(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,r.precedence,e));return n.instance}function gc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function o_(e,n,r){if(yc===null){var o=new Map,h=yc=new Map;h.set(r,o)}else h=yc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[mi]||f[Ne]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function l_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function lb(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function u_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ub(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Qa(o.href),f=n.querySelector(_l(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_c.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,De(f);return}f=n.ownerDocument||n,o=r_(o),(h=Qn.get(h))&&yd(o,h),f=f.createElement("link"),De(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),We(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=_c.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var vd=0;function cb(e,n){return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&vd===0&&(vd=62500*F1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>vd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function Ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,n.forEach(hb,e),vc=null,_c.call(e))}function hb(e,n){if(!(n.state.loading&4)){var r=vc.get(e);if(r)var o=r.get(null);else{r=new Map,vc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var El={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function fb(e,n,r,o,h,f,p,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kn(0),this.hiddenUpdates=kn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function c_(e,n,r,o,h,f,p,E,I,z,G,X){return e=new fb(e,n,r,p,I,z,G,X,E),n=1,f===!0&&(n|=24),f=In(3,null,null,n),e.current=f,f.stateNode=e,n=Jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},ef(f),e}function h_(e){return e?(e=wa,e):wa}function f_(e,n,r,o,h,f){h=h_(h),o.context===null?o.context=h:o.pendingContext=h,o=Os(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Ms(e,o,n),r!==null&&(En(r,e,n),Zo(r,e,n))}function d_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Ed(e,n){d_(e,n),(e=e.alternate)&&d_(e,n)}function m_(e){if(e.tag===13||e.tag===31){var n=kr(e,67108864);n!==null&&En(n,e,67108864),Ed(e,67108864)}}function p_(e){if(e.tag===13||e.tag===31){var n=On();n=Sr(n);var r=kr(e,n);r!==null&&En(r,e,n),Ed(e,n)}}var Tc=!0;function db(e,n,r,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=2,Td(e,n,r,o)}finally{nt.p=f,F.T=h}}function mb(e,n,r,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=8,Td(e,n,r,o)}finally{nt.p=f,F.T=h}}function Td(e,n,r,o){if(Tc){var h=bd(o);if(h===null)od(e,n,o,bc,r),y_(e,o);else if(gb(h,e,n,r,o))o.stopPropagation();else if(y_(e,o),n&4&&-1<pb.indexOf(e)){for(;h!==null;){var f=Ln(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ue(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-tt(p);E.entanglements[1]|=I,p&=~I}xi(f),(Qt&6)===0&&(sc=Ye()+500,ml(0))}}break;case 31:case 13:E=kr(f,2),E!==null&&En(E,f,2),ac(),Ed(f,2)}if(f=bd(o),f===null&&od(e,n,o,bc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else od(e,n,o,null,r)}}function bd(e){return e=Pn(e),Sd(e)}var bc=null;function Sd(e){if(bc=null,e=pi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return bc=e,null}function g_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hi()){case yr:return 2;case _r:return 8;case fi:case Ao:return 32;case vr:return 268435456;default:return 32}default:return 32}}var Ad=!1,Fs=null,Gs=null,Ks=null,Tl=new Map,bl=new Map,Qs=[],pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(e,n){switch(e){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Tl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(n.pointerId)}}function Sl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ln(n),n!==null&&m_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function gb(e,n,r,o,h){switch(n){case"focusin":return Fs=Sl(Fs,e,n,r,o,h),!0;case"dragenter":return Gs=Sl(Gs,e,n,r,o,h),!0;case"mouseover":return Ks=Sl(Ks,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Tl.set(f,Sl(Tl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,bl.set(f,Sl(bl.get(f)||null,e,n,r,o,h)),!0}return!1}function __(e){var n=pi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,$n(e.priority,function(){p_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,$n(e.priority,function(){p_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=bd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Lo=o,r.target.dispatchEvent(o),Lo=null}else return n=Ln(r),n!==null&&m_(n),e.blockedOn=r,!1;n.shift()}return!0}function v_(e,n,r){Sc(e)&&r.delete(n)}function yb(){Ad=!1,Fs!==null&&Sc(Fs)&&(Fs=null),Gs!==null&&Sc(Gs)&&(Gs=null),Ks!==null&&Sc(Ks)&&(Ks=null),Tl.forEach(v_),bl.forEach(v_)}function Ac(e,n){e.blockedOn===n&&(e.blockedOn=null,Ad||(Ad=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,yb)))}var wc=null;function E_(e){wc!==e&&(wc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Sd(o||r)===null)continue;break}var f=Ln(r);f!==null&&(e.splice(n,3),n-=3,bf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Xa(e){function n(I){return Ac(I,e)}Fs!==null&&Ac(Fs,e),Gs!==null&&Ac(Gs,e),Ks!==null&&Ac(Ks,e),Tl.forEach(n),bl.forEach(n);for(var r=0;r<Qs.length;r++){var o=Qs[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Qs.length&&(r=Qs[0],r.blockedOn===null);)__(r),r.blockedOn===null&&Qs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[Fe]||null;if(typeof f=="function")p||E_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Fe]||null)E=p.formAction;else if(Sd(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),E_(r)}}}function T_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function wd(e){this._internalRoot=e}Rc.prototype.render=wd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=On();f_(r,o,e,n,null,null)},Rc.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;f_(e.current,2,null,e,null,null),ac(),n[di]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=au();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Qs.length&&n!==0&&n<Qs[r].priority;r++);Qs.splice(r,0,e),r===0&&__(e)}};var b_=t.version;if(b_!=="19.2.4")throw Error(a(527,b_,"19.2.4"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var _b={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{qe=Ic.inject(_b),Te=Ic}catch{}}return wl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=xg,f=Ng,p=Dg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=c_(e,1,!1,null,null,r,o,null,h,f,p,T_),e[di]=n.current,ad(e),new wd(n)},wl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=xg,p=Ng,E=Dg,I=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=c_(e,1,!0,n,r??null,o,h,I,f,p,E,T_),n.context=h_(null),r=n.current,o=On(),o=Sr(o),h=Os(o),h.callback=null,Ms(r,h,o),r=o,n.current.lanes=r,Tr(n,r),xi(n),e[di]=n.current,ad(e),new Rc(n)},wl.version="19.2.4",wl}var O_;function Cb(){if(O_)return Cd.exports;O_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Cd.exports=Ib(),Cd.exports}var xb=Cb();const yv=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const Nb=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Db=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const M_=s=>{const t=Db(s);return t.charAt(0).toUpperCase()+t.slice(1)};var Ob={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mb=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const Vb=Mt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},v)=>Mt.createElement("svg",{ref:v,...Ob,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:yv("lucide",l),...!c&&!Mb(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>Mt.createElement(y,b)),...Array.isArray(c)?c:[c]]));const xe=(s,t)=>{const i=Mt.forwardRef(({className:a,...l},c)=>Mt.createElement(Vb,{ref:c,iconNode:t,className:yv(`lucide-${Nb(M_(s))}`,`lucide-${s}`,a),...l}));return i.displayName=M_(s),i};const kb=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Lb=xe("award",kb);const Pb=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Ub=xe("brain",Pb);const zb=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],jb=xe("chart-pie",zb);const Bb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_v=xe("circle-check",Bb);const Hb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],V_=xe("circle-user",Hb);const qb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fb=xe("circle",qb);const Gb=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],Kb=xe("dumbbell",Gb);const Qb=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Yb=xe("layout-dashboard",Qb);const Xb=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],$b=xe("list-todo",Xb);const Jb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Zb=xe("log-out",Jb);const Wb=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],tS=xe("mail",Wb);const eS=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],nS=xe("moon",eS);const iS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sS=xe("plus",iS);const rS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],aS=xe("refresh-cw",rS);const oS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],k_=xe("shield-check",oS);const lS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],uS=xe("sun",lS);const cS=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],hS=xe("text-align-start",cS);const fS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Od=xe("trash-2",fS);const dS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],L_=xe("trending-up",dS);const mS=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Gd=xe("utensils",mS);const pS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gS=xe("x",pS),yS=()=>{};var P_={};const vv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},_S=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,v=l+2<s.length,y=v?s[l+2]:0,b=c>>2,w=(c&3)<<4|g>>4;let M=(g&15)<<2|y>>6,Y=y&63;v||(Y=64,d||(M=64)),a.push(i[b],i[w],i[M],i[Y])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(vv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):_S(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||w==null)throw new vS;const M=c<<2|g>>4;if(a.push(M),y!==64){const Y=g<<4&240|y>>2;if(a.push(Y),w!==64){const W=y<<6&192|w;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class vS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ES=function(s){const t=vv(s);return Ev.encodeByteArray(t,!0)},Gc=function(s){return ES(s).replace(/\./g,"")},Tv=function(s){try{return Ev.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function TS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bS=()=>TS().__FIREBASE_DEFAULTS__,SS=()=>{if(typeof process>"u"||typeof P_>"u")return;const s=P_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},AS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Tv(s[1]);return t&&JSON.parse(t)},fh=()=>{try{return yS()||bS()||SS()||AS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},bv=s=>fh()?.emulatorHosts?.[s],wS=s=>{const t=bv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Sv=()=>fh()?.config,Av=s=>fh()?.[`_${s}`];class RS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function go(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wv(s){return(await fetch(s,{credentials:"include"})).ok}function IS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const Vl={};function CS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Vl))Vl[t]?s.emulator.push(t):s.prod.push(t);return s}function xS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let U_=!1;function Rv(s,t){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||Vl[s]===t||Vl[s]||U_)return;Vl[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=CS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,Y){M.setAttribute("width","24"),M.setAttribute("id",Y),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{U_=!0,d()},M}function b(M,Y){M.setAttribute("id",Y),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=xS(a),Y=i("text"),W=document.getElementById(Y)||document.createElement("span"),st=i("learnmore"),Z=document.getElementById(st)||document.createElement("a"),ct=i("preprendIcon"),ft=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const gt=M.element;g(gt),b(Z,st);const Xt=y();v(ft,ct),gt.append(ft,W,Z,Xt),document.body.appendChild(gt)}c?(W.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function DS(){const s=fh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function VS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kS(){const s=ln();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function LS(){return!DS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PS(){try{return typeof indexedDB=="object"}catch{return!1}}function US(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const zS="FirebaseError";class ms extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=zS,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?jS(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ms(l,g,a)}}function jS(s,t){return s.replace(BS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const BS=/\{\$([^}]+)}/g;function HS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Zr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(z_(c)&&z_(d)){if(!Zr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function z_(s){return s!==null&&typeof s=="object"}function $l(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Cl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function xl(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function qS(s,t){const i=new FS(s,t);return i.subscribe.bind(i)}class FS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");GS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Md),l.error===void 0&&(l.error=Md),l.complete===void 0&&(l.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Md(){}function hn(s){return s&&s._delegate?s._delegate:s}class Wr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Yr="[DEFAULT]";class KS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new RS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(YS(t))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Yr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Yr){return this.instances.has(t)}getOptions(t=Yr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:QS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Yr){return this.component?this.component.multipleInstances?t:Yr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QS(s){return s===Yr?void 0:s}function YS(s){return s.instantiationMode==="EAGER"}class XS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new KS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pt||(Pt={}));const $S={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},JS=Pt.INFO,ZS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},WS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=ZS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _m{constructor(t){this.name=t,this._logLevel=JS,this._logHandler=WS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$S[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const tA=(s,t)=>t.some(i=>s instanceof i);let j_,B_;function eA(){return j_||(j_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nA(){return B_||(B_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Iv=new WeakMap,Kd=new WeakMap,Cv=new WeakMap,Vd=new WeakMap,vm=new WeakMap;function iA(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(er(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Iv.set(i,s)}).catch(()=>{}),vm.set(t,s),t}function sA(s){if(Kd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Kd.set(s,t)}let Qd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Kd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Cv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return er(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function rA(s){Qd=s(Qd)}function aA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(kd(this),t,...i);return Cv.set(a,t.sort?t.sort():[t]),er(a)}:nA().includes(s)?function(...t){return s.apply(kd(this),t),er(Iv.get(this))}:function(...t){return er(s.apply(kd(this),t))}}function oA(s){return typeof s=="function"?aA(s):(s instanceof IDBTransaction&&sA(s),tA(s,eA())?new Proxy(s,Qd):s)}function er(s){if(s instanceof IDBRequest)return iA(s);if(Vd.has(s))return Vd.get(s);const t=oA(s);return t!==s&&(Vd.set(s,t),vm.set(t,s)),t}const kd=s=>vm.get(s);function lA(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=er(d);return a&&d.addEventListener("upgradeneeded",v=>{a(er(d.result),v.oldVersion,v.newVersion,er(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const uA=["get","getKey","getAll","getAllKeys","count"],cA=["put","add","delete","clear"],Ld=new Map;function H_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=cA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||uA.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&v.done]))[0]};return Ld.set(t,c),c}rA(s=>({...s,get:(t,i,a)=>H_(t,i)||s.get(t,i,a),has:(t,i)=>!!H_(t,i)||s.has(t,i)}));class hA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(fA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function fA(s){return s.getComponent()?.type==="VERSION"}const Yd="@firebase/app",q_="0.14.7";const us=new _m("@firebase/app"),dA="@firebase/app-compat",mA="@firebase/analytics-compat",pA="@firebase/analytics",gA="@firebase/app-check-compat",yA="@firebase/app-check",_A="@firebase/auth",vA="@firebase/auth-compat",EA="@firebase/database",TA="@firebase/data-connect",bA="@firebase/database-compat",SA="@firebase/functions",AA="@firebase/functions-compat",wA="@firebase/installations",RA="@firebase/installations-compat",IA="@firebase/messaging",CA="@firebase/messaging-compat",xA="@firebase/performance",NA="@firebase/performance-compat",DA="@firebase/remote-config",OA="@firebase/remote-config-compat",MA="@firebase/storage",VA="@firebase/storage-compat",kA="@firebase/firestore",LA="@firebase/ai",PA="@firebase/firestore-compat",UA="firebase",zA="12.8.0";const Xd="[DEFAULT]",jA={[Yd]:"fire-core",[dA]:"fire-core-compat",[pA]:"fire-analytics",[mA]:"fire-analytics-compat",[yA]:"fire-app-check",[gA]:"fire-app-check-compat",[_A]:"fire-auth",[vA]:"fire-auth-compat",[EA]:"fire-rtdb",[TA]:"fire-data-connect",[bA]:"fire-rtdb-compat",[SA]:"fire-fn",[AA]:"fire-fn-compat",[wA]:"fire-iid",[RA]:"fire-iid-compat",[IA]:"fire-fcm",[CA]:"fire-fcm-compat",[xA]:"fire-perf",[NA]:"fire-perf-compat",[DA]:"fire-rc",[OA]:"fire-rc-compat",[MA]:"fire-gcs",[VA]:"fire-gcs-compat",[kA]:"fire-fst",[PA]:"fire-fst-compat",[LA]:"fire-vertex","fire-js":"fire-js",[UA]:"fire-js-all"};const Kc=new Map,BA=new Map,$d=new Map;function F_(s,t){try{s.container.addComponent(t)}catch(i){us.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function lo(s){const t=s.name;if($d.has(t))return us.debug(`There were multiple attempts to register component ${t}.`),!1;$d.set(t,s);for(const i of Kc.values())F_(i,s);for(const i of BA.values())F_(i,s);return!0}function Em(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Mn(s){return s==null?!1:s.settings!==void 0}const HA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nr=new Xl("app","Firebase",HA);class qA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const yo=zA;function xv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Xd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw nr.create("bad-app-name",{appName:String(l)});if(i||(i=Sv()),!i)throw nr.create("no-options");const c=Kc.get(l);if(c){if(Zr(i,c.options)&&Zr(a,c.config))return c;throw nr.create("duplicate-app",{appName:l})}const d=new XS(l);for(const v of $d.values())d.addComponent(v);const g=new qA(i,a,d);return Kc.set(l,g),g}function Nv(s=Xd){const t=Kc.get(s);if(!t&&s===Xd&&Sv())return xv();if(!t)throw nr.create("no-app",{appName:s});return t}function ir(s,t,i){let a=jA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),us.warn(d.join(" "));return}lo(new Wr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const FA="firebase-heartbeat-database",GA=1,jl="firebase-heartbeat-store";let Pd=null;function Dv(){return Pd||(Pd=lA(FA,GA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(jl)}catch(i){console.warn(i)}}}}).catch(s=>{throw nr.create("idb-open",{originalErrorMessage:s.message})})),Pd}async function KA(s){try{const i=(await Dv()).transaction(jl),a=await i.objectStore(jl).get(Ov(s));return await i.done,a}catch(t){if(t instanceof ms)us.warn(t.message);else{const i=nr.create("idb-get",{originalErrorMessage:t?.message});us.warn(i.message)}}}async function G_(s,t){try{const a=(await Dv()).transaction(jl,"readwrite");await a.objectStore(jl).put(t,Ov(s)),await a.done}catch(i){if(i instanceof ms)us.warn(i.message);else{const a=nr.create("idb-set",{originalErrorMessage:i?.message});us.warn(a.message)}}}function Ov(s){return`${s.name}!${s.options.appId}`}const QA=1024,YA=30;class XA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new JA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=K_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>YA){const l=ZA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){us.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=K_(),{heartbeatsToSend:i,unsentEntries:a}=$A(this._heartbeatsCache.heartbeats),l=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return us.warn(t),""}}}function K_(){return new Date().toISOString().substring(0,10)}function $A(s,t=QA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Q_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Q_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class JA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PS()?US().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await KA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return G_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return G_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Q_(s){return Gc(JSON.stringify({version:2,heartbeats:s})).length}function ZA(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function WA(s){lo(new Wr("platform-logger",t=>new hA(t),"PRIVATE")),lo(new Wr("heartbeat",t=>new XA(t),"PRIVATE")),ir(Yd,q_,s),ir(Yd,q_,"esm2020"),ir("fire-js","")}WA("");var tw="firebase",ew="12.8.0";ir(tw,ew,"app");function Mv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nw=Mv,Vv=new Xl("auth","Firebase",Mv());const Qc=new _m("@firebase/auth");function iw(s,...t){Qc.logLevel<=Pt.WARN&&Qc.warn(`Auth (${yo}): ${s}`,...t)}function kc(s,...t){Qc.logLevel<=Pt.ERROR&&Qc.error(`Auth (${yo}): ${s}`,...t)}function ui(s,...t){throw Tm(s,...t)}function Di(s,...t){return Tm(s,...t)}function kv(s,t,i){const a={...nw(),[t]:i};return new Xl("auth","Firebase",a).create(t,{appName:s.name})}function Oi(s){return kv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Vv.create(s,...t)}function _t(s,t,...i){if(!s)throw Tm(t,...i)}function as(s){const t="INTERNAL ASSERTION FAILED: "+s;throw kc(t),new Error(t)}function cs(s,t){s||as(t)}function Jd(){return typeof self<"u"&&self.location?.href||""}function sw(){return Y_()==="http:"||Y_()==="https:"}function Y_(){return typeof self<"u"&&self.location?.protocol||null}function rw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sw()||MS()||"connection"in navigator)?navigator.onLine:!0}function aw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Jl{constructor(t,i){this.shortDelay=t,this.longDelay=i,cs(i>t,"Short delay should be less than long delay!"),this.isMobile=NS()||VS()}get(){return rw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bm(s,t){cs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Lv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ow={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const lw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uw=new Jl(3e4,6e4);function fr(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function dr(s,t,i,a,l={}){return Pv(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=$l({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:v,...c};return OS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&go(s.emulatorConfig.host)&&(y.credentials="include"),Lv.fetch()(await Uv(s,s.config.apiHost,i,g),y)})}async function Pv(s,t,i){s._canInitEmulator=!1;const a={...ow,...t};try{const l=new hw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Cc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Cc(s,"user-disabled",d);const b=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw kv(s,b,y);ui(s,b)}}catch(l){if(l instanceof ms)throw l;ui(s,"network-request-failed",{message:String(l)})}}async function Zl(s,t,i,a,l={}){const c=await dr(s,t,i,a,l);return"mfaPendingCredential"in c&&ui(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Uv(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?bm(s.config,l):`${s.config.apiScheme}://${l}`;return lw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function cw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Di(this.auth,"network-request-failed")),uw.get())})}}function Cc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Di(s,t,a);return l.customData._tokenResponse=i,l}function X_(s){return s!==void 0&&s.enterprise!==void 0}class fw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return cw(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dw(s,t){return dr(s,"GET","/v2/recaptchaConfig",fr(s,t))}async function mw(s,t){return dr(s,"POST","/v1/accounts:delete",t)}async function Yc(s,t){return dr(s,"POST","/v1/accounts:lookup",t)}function kl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function pw(s,t=!1){const i=hn(s),a=await i.getIdToken(t),l=Sm(a);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:kl(Ud(l.auth_time)),issuedAtTime:kl(Ud(l.iat)),expirationTime:kl(Ud(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ud(s){return Number(s)*1e3}function Sm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Tv(i);return l?JSON.parse(l):(kc("Failed to decode base64 JWT payload"),null)}catch(l){return kc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function $_(s){const t=Sm(s);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Bl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ms&&gw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function gw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class yw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(s){const t=s.auth,i=await s.getIdToken(),a=await Bl(s,Yc(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?zv(l.providerUserInfo):[],d=vw(s.providerData,c),g=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,y=g?v:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function _w(s){const t=hn(s);await Xc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vw(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function zv(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Ew(s,t){const i=await Pv(s,{},async()=>{const a=$l({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Uv(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return s.emulatorConfig&&go(s.emulatorConfig.host)&&(v.credentials="include"),Lv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Tw(s,t){return dr(s,"POST","/v2/accounts:revokeToken",fr(s,t))}class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=$_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Ew(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new eo;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return as("not implemented")}}function Xs(s,t){_t(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ai{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new yw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Zd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Bl(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return pw(this,t)}reload(){return _w(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ai({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Oi(this.auth));const t=await this.getIdToken();return await Bl(this,mw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:Y,providerData:W,stsTokenManager:st}=i;_t(w&&st,t,"internal-error");const Z=eo.fromJSON(this.name,st);_t(typeof w=="string",t,"internal-error"),Xs(a,t.name),Xs(l,t.name),_t(typeof M=="boolean",t,"internal-error"),_t(typeof Y=="boolean",t,"internal-error"),Xs(c,t.name),Xs(d,t.name),Xs(g,t.name),Xs(v,t.name),Xs(y,t.name),Xs(b,t.name);const ct=new ai({uid:w,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:Z,createdAt:y,lastLoginAt:b});return W&&Array.isArray(W)&&(ct.providerData=W.map(ft=>({...ft}))),v&&(ct._redirectEventId=v),ct}static async _fromIdTokenResponse(t,i,a=!1){const l=new eo;l.updateFromServerResponse(i);const c=new ai({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Xc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?zv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new eo;g.updateFromIdToken(a);const v=new ai({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const J_=new Map;function os(s){cs(s instanceof Function,"Expected a class definition");let t=J_.get(s);return t?(cs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,J_.set(s,t),t)}class jv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}jv.type="NONE";const Z_=jv;function Lc(s,t,i){return`firebase:${s}:${t}:${i}`}class no{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Lc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Lc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Yc(this.auth,{idToken:t}).catch(()=>{});return i?ai._fromGetAccountInfoResponse(this.auth,i,t):null}return ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new no(os(Z_),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||os(Z_);const d=Lc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let w;if(typeof b=="string"){const M=await Yc(t,{idToken:b}).catch(()=>{});if(!M)break;w=await ai._fromGetAccountInfoResponse(t,M,b)}else w=ai._fromJSON(t,b);y!==c&&(g=w),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new no(c,t,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new no(c,t,a))}}function W_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Bv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Kv(t))return"Blackberry";if(Qv(t))return"Webos";if(Hv(t))return"Safari";if((t.includes("chrome/")||qv(t))&&!t.includes("edge/"))return"Chrome";if(Gv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Bv(s=ln()){return/firefox\//i.test(s)}function Hv(s=ln()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function qv(s=ln()){return/crios\//i.test(s)}function Fv(s=ln()){return/iemobile/i.test(s)}function Gv(s=ln()){return/android/i.test(s)}function Kv(s=ln()){return/blackberry/i.test(s)}function Qv(s=ln()){return/webos/i.test(s)}function Am(s=ln()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function bw(s=ln()){return Am(s)&&!!window.navigator?.standalone}function Sw(){return kS()&&document.documentMode===10}function Yv(s=ln()){return Am(s)||Gv(s)||Qv(s)||Kv(s)||/windows phone/i.test(s)||Fv(s)}function Xv(s,t=[]){let i;switch(s){case"Browser":i=W_(ln());break;case"Worker":i=`${W_(ln())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${yo}/${a}`}class Aw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function ww(s,t={}){return dr(s,"GET","/v2/passwordPolicy",fr(s,t))}const Rw=6;class Iw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Rw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Cw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t0(this),this.idTokenSubscription=new t0(this),this.beforeStateQueue=new Aw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=os(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await no.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Yc(this,{idToken:t}),a=await ai._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Mn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Xc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=aw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Mn(this.app))return Promise.reject(Oi(this));const i=t?hn(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Mn(this.app)?Promise.reject(Oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ww(this),i=new Iw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Xl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Tw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&os(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[os(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Xv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&iw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function mr(s){return hn(s)}class t0{constructor(t){this.auth=t,this.observer=null,this.addObserver=qS(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xw(s){dh=s}function $v(s){return dh.loadJS(s)}function Nw(){return dh.recaptchaEnterpriseScript}function Dw(){return dh.gapiScript}function Ow(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Mw{constructor(){this.enterprise=new Vw}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class Vw{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const kw="recaptcha-enterprise",Jv="NO_RECAPTCHA";class Lw{constructor(t){this.type=kw,this.auth=mr(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{dw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new fw(v);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(v=>{g(v)})})}function l(c,d,g){const v=window.grecaptcha;X_(v)?v.enterprise.ready(()=>{v.enterprise.execute(c,{action:t}).then(y=>{d(y)}).catch(()=>{d(Jv)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Mw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(g=>{if(!i&&X_(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let v=Nw();v.length!==0&&(v+=g),$v(v).then(()=>{l(g,c,d)}).catch(y=>{d(y)})}}).catch(g=>{d(g)})})}}async function e0(s,t,i,a=!1,l=!1){const c=new Lw(s);let d;if(l)d=Jv;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const v=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const v=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return a?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Wd(s,t,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await e0(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await e0(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function Pw(s,t){const i=Em(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Zr(c,t??{}))return l;ui(l,"already-initialized")}return i.initialize({options:t})}function Uw(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(os);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function zw(s,t,i){const a=mr(s);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=Zv(t),{host:d,port:g}=jw(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(Zr(y,a.config.emulator)&&Zr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,go(d)?(wv(`${c}//${d}${v}`),Rv("Auth",!0)):Bw()}function Zv(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function jw(s){const t=Zv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:n0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:n0(d)}}}function n0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Bw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class wm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return as("not implemented")}_getIdTokenResponse(t){return as("not implemented")}_linkToIdToken(t,i){return as("not implemented")}_getReauthenticationResolver(t){return as("not implemented")}}async function Hw(s,t){return dr(s,"POST","/v1/accounts:signUp",t)}async function qw(s,t){return Zl(s,"POST","/v1/accounts:signInWithPassword",fr(s,t))}async function Fw(s,t){return Zl(s,"POST","/v1/accounts:signInWithEmailLink",fr(s,t))}async function Gw(s,t){return Zl(s,"POST","/v1/accounts:signInWithEmailLink",fr(s,t))}class Hl extends wm{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Hl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Hl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wd(t,i,"signInWithPassword",qw);case"emailLink":return Fw(t,{email:this._email,oobCode:this._password});default:ui(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wd(t,a,"signUpPassword",Hw);case"emailLink":return Gw(t,{idToken:i,email:this._email,oobCode:this._password});default:ui(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function io(s,t){return Zl(s,"POST","/v1/accounts:signInWithIdp",fr(s,t))}const Kw="http://localhost";class ta extends wm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ui("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ta(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return io(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,io(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,io(t,i)}buildRequest(){const t={requestUri:Kw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=$l(i)}return t}}function Qw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yw(s){const t=Cl(xl(s)).link,i=t?Cl(xl(t)).deep_link_id:null,a=Cl(xl(s)).deep_link_id;return(a?Cl(xl(a)).link:null)||a||i||t||s}class Rm{constructor(t){const i=Cl(xl(t)),a=i.apiKey??null,l=i.oobCode??null,c=Qw(i.mode??null);_t(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=Yw(t);try{return new Rm(i)}catch{return null}}}class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(t,i){return Hl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=Rm.parseLink(i);return _t(a,"argument-error"),Hl._fromEmailAndCode(t,a.code,a.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Wv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Wl extends Wv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class $s extends Wl{constructor(){super("facebook.com")}static credential(t){return ta._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $s.credential(t.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";class Js extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ta._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Js.credential(i,a)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";class Zs extends Wl{constructor(){super("github.com")}static credential(t){return ta._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";class Ws extends Wl{constructor(){super("twitter.com")}static credential(t,i){return ta._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Ws.credential(i,a)}catch{return null}}}Ws.TWITTER_SIGN_IN_METHOD="twitter.com";Ws.PROVIDER_ID="twitter.com";async function tE(s,t){return Zl(s,"POST","/v1/accounts:signUp",fr(s,t))}class hs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ai._fromIdTokenResponse(t,a,l),d=i0(a);return new hs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=i0(a);return new hs({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function i0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function Xw(s){if(Mn(s.app))return Promise.reject(Oi(s));const t=mr(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new hs({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await tE(t,{returnSecureToken:!0}),a=await hs._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class $c extends ms{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new $c(t,i,a,l)}}function eE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(s,c,t,a):c})}async function $w(s,t,i=!1){const a=await Bl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return hs._forOperation(s,"link",a)}async function Jw(s,t,i=!1){const{auth:a}=s;if(Mn(a.app))return Promise.reject(Oi(a));const l="reauthenticate";try{const c=await Bl(s,eE(a,l,t,s),i);_t(c.idToken,a,"internal-error");const d=Sm(c.idToken);_t(d,a,"internal-error");const{sub:g}=d;return _t(s.uid===g,a,"user-mismatch"),hs._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ui(a,"user-mismatch"),c}}async function nE(s,t,i=!1){if(Mn(s.app))return Promise.reject(Oi(s));const a="signIn",l=await eE(s,a,t),c=await hs._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function Zw(s,t){return nE(mr(s),t)}async function iE(s){const t=mr(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ww(s,t,i){if(Mn(s.app))return Promise.reject(Oi(s));const a=mr(s),d=await Wd(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tE).catch(v=>{throw v.code==="auth/password-does-not-meet-requirements"&&iE(s),v}),g=await hs._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(g.user),g}function t2(s,t,i){return Mn(s.app)?Promise.reject(Oi(s)):Zw(hn(s),_o.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&iE(s),a})}function e2(s,t,i,a){return hn(s).onIdTokenChanged(t,i,a)}function n2(s,t,i){return hn(s).beforeAuthStateChanged(t,i)}function i2(s,t,i,a){return hn(s).onAuthStateChanged(t,i,a)}function s2(s){return hn(s).signOut()}const Jc="__sak";class sE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const r2=1e3,a2=10;class rE extends sE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Sw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,a2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},r2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}rE.type="LOCAL";const o2=rE;class aE extends sE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}aE.type="SESSION";const oE=aE;function l2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class mh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new mh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await l2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];function Im(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class u2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=Im("",20);l.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const M=w;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Mi(){return window}function c2(s){Mi().location.href=s}function lE(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function h2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f2(){return navigator?.serviceWorker?.controller||null}function d2(){return lE()?self:null}const uE="firebaseLocalStorageDb",m2=1,Zc="firebaseLocalStorage",cE="fbase_key";class tu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(s,t){return s.transaction([Zc],t?"readwrite":"readonly").objectStore(Zc)}function p2(){const s=indexedDB.deleteDatabase(uE);return new tu(s).toPromise()}function tm(){const s=indexedDB.open(uE,m2);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Zc,{keyPath:cE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Zc)?t(a):(a.close(),await p2(),t(await tm()))})})}async function s0(s,t,i){const a=ph(s,!0).put({[cE]:t,value:i});return new tu(a).toPromise()}async function g2(s,t){const i=ph(s,!1).get(t),a=await new tu(i).toPromise();return a===void 0?null:a.value}function r0(s,t){const i=ph(s,!0).delete(t);return new tu(i).toPromise()}const y2=800,_2=3;class hE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>_2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(d2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await h2(),!this.activeServiceWorker)return;this.sender=new u2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||f2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await tm();return await s0(t,Jc,"1"),await r0(t,Jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>s0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>g2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>r0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ph(l,!1).getAll();return new tu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hE.type="LOCAL";const v2=hE;new Jl(3e4,6e4);function E2(s,t){return t?os(t):(_t(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Cm extends wm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return io(t,this._buildIdpRequest())}_linkToIdToken(t,i){return io(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return io(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function T2(s){return nE(s.auth,new Cm(s),s.bypassAuthState)}function b2(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),Jw(i,new Cm(s),s.bypassAuthState)}async function S2(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),$w(i,new Cm(s),s.bypassAuthState)}class fE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return T2;case"linkViaPopup":case"linkViaRedirect":return S2;case"reauthViaPopup":case"reauthViaRedirect":return b2;default:ui(this.auth,"internal-error")}}resolve(t){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const A2=new Jl(2e3,1e4);class to extends fE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const t=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,A2.get())};t()}}to.currentPopupAction=null;const w2="pendingRedirect",Pc=new Map;class R2 extends fE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Pc.get(this.auth._key());if(!t){try{const a=await I2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Pc.set(this.auth._key(),t)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I2(s,t){const i=N2(t),a=x2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function C2(s,t){Pc.set(s._key(),t)}function x2(s){return os(s._redirectPersistence)}function N2(s){return Lc(w2,s.config.apiKey,s.name)}async function D2(s,t,i=!1){if(Mn(s.app))return Promise.reject(Oi(s));const a=mr(s),l=E2(a,t),d=await new R2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const O2=600*1e3;class M2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!V2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!dE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Di(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=O2&&this.cachedEventUids.clear(),this.cachedEventUids.has(a0(t))}saveEventToCache(t){this.cachedEventUids.add(a0(t)),this.lastProcessedEventTime=Date.now()}}function a0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function dE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function V2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dE(s);default:return!1}}async function k2(s,t={}){return dr(s,"GET","/v1/projects",t)}const L2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P2=/^https?/;async function U2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await k2(s);for(const i of t)try{if(z2(i))return}catch{}ui(s,"unauthorized-domain")}function z2(s){const t=Jd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!P2.test(i))return!1;if(L2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const j2=new Jl(3e4,6e4);function o0(){const s=Mi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function B2(s){return new Promise((t,i)=>{function a(){o0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{o0(),i(Di(s,"network-request-failed"))},timeout:j2.get()})}if(Mi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Mi().gapi?.load)a();else{const l=Ow("iframefcb");return Mi()[l]=()=>{gapi.load?a():i(Di(s,"network-request-failed"))},$v(`${Dw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Uc=null,t})}let Uc=null;function H2(s){return Uc=Uc||B2(s),Uc}const q2=new Jl(5e3,15e3),F2="__/auth/iframe",G2="emulator/auth/iframe",K2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y2(s){const t=s.config;_t(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?bm(t,G2):`https://${s.config.authDomain}/${F2}`,a={apiKey:t.apiKey,appName:s.name,v:yo},l=Q2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${$l(a).slice(1)}`}async function X2(s){const t=await H2(s),i=Mi().gapi;return _t(i,s,"internal-error"),t.open({where:document.body,url:Y2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Di(s,"network-request-failed"),g=Mi().setTimeout(()=>{c(d)},q2.get());function v(){Mi().clearTimeout(g),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const $2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},J2=500,Z2=600,W2="_blank",tR="http://localhost";class l0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eR(s,t,i,a=J2,l=Z2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...$2,width:a.toString(),height:l.toString(),top:c,left:d},y=ln().toLowerCase();i&&(g=qv(y)?W2:i),Bv(y)&&(t=t||tR,v.scrollbars="yes");const b=Object.entries(v).reduce((M,[Y,W])=>`${M}${Y}=${W},`,"");if(bw(y)&&g!=="_self")return nR(t||"",g),new l0(null);const w=window.open(t||"",g,b);_t(w,s,"popup-blocked");try{w.focus()}catch{}return new l0(w)}function nR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const iR="__/auth/handler",sR="emulator/auth/handler",rR=encodeURIComponent("fac");async function u0(s,t,i,a,l,c){_t(s.config.authDomain,s,"auth-domain-config-required"),_t(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:yo,eventId:l};if(t instanceof Wv){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",HS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(t instanceof Wl){const b=t.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const v=await s._getAppCheckToken(),y=v?`#${rR}=${encodeURIComponent(v)}`:"";return`${aR(s)}?${$l(g).slice(1)}${y}`}function aR({config:s}){return s.emulator?bm(s,sR):`https://${s.authDomain}/${iR}`}const zd="webStorageSupport";class oR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oE,this._completeRedirectFn=D2,this._overrideRedirectResult=C2}async _openPopup(t,i,a,l){cs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await u0(t,i,a,Jd(),l);return eR(t,c,Im())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await u0(t,i,a,Jd(),l);return c2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(cs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await X2(t),a=new M2(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(zd,{type:zd},l=>{const c=l?.[0]?.[zd];c!==void 0&&i(!!c),ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=U2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Yv()||Hv()||Am()}}const lR=oR;var c0="@firebase/auth",h0="1.12.0";class uR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hR(s){lo(new Wr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xv(s)},y=new Cw(a,l,c,v);return Uw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),lo(new Wr("auth-internal",t=>{const i=mr(t.getProvider("auth").getImmediate());return(a=>new uR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ir(c0,h0,cR(s)),ir(c0,h0,"esm2020")}const fR=300,dR=Av("authIdTokenMaxAge")||fR;let f0=null;const mR=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>dR)return;const l=i?.token;f0!==l&&(f0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function pR(s=Nv()){const t=Em(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Pw(s,{popupRedirectResolver:lR,persistence:[v2,o2,oE]}),a=Av("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=mR(c.toString());n2(i,d,()=>d(i.currentUser)),e2(i,g=>d(g))}}const l=bv("auth");return l&&zw(i,`http://${l}`),i}function gR(){return document.getElementsByTagName("head")?.[0]??document}xw({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Di("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",gR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hR("Browser");var d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sr,mE;(function(){var s;function t(x,A){function C(){}C.prototype=A.prototype,x.F=A.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(V,D,L){for(var R=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)R[Wt-2]=arguments[Wt];return A.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,A,C){C||(C=0);const V=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)V[D]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=x.g[0],C=x.g[1],D=x.g[2];let L=x.g[3],R;R=A+(L^C&(D^L))+V[0]+3614090360&4294967295,A=C+(R<<7&4294967295|R>>>25),R=L+(D^A&(C^D))+V[1]+3905402710&4294967295,L=A+(R<<12&4294967295|R>>>20),R=D+(C^L&(A^C))+V[2]+606105819&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(A^D&(L^A))+V[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=A+(L^C&(D^L))+V[4]+4118548399&4294967295,A=C+(R<<7&4294967295|R>>>25),R=L+(D^A&(C^D))+V[5]+1200080426&4294967295,L=A+(R<<12&4294967295|R>>>20),R=D+(C^L&(A^C))+V[6]+2821735955&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(A^D&(L^A))+V[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=A+(L^C&(D^L))+V[8]+1770035416&4294967295,A=C+(R<<7&4294967295|R>>>25),R=L+(D^A&(C^D))+V[9]+2336552879&4294967295,L=A+(R<<12&4294967295|R>>>20),R=D+(C^L&(A^C))+V[10]+4294925233&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(A^D&(L^A))+V[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=A+(L^C&(D^L))+V[12]+1804603682&4294967295,A=C+(R<<7&4294967295|R>>>25),R=L+(D^A&(C^D))+V[13]+4254626195&4294967295,L=A+(R<<12&4294967295|R>>>20),R=D+(C^L&(A^C))+V[14]+2792965006&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(A^D&(L^A))+V[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=A+(D^L&(C^D))+V[1]+4129170786&4294967295,A=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(A^C))+V[6]+3225465664&4294967295,L=A+(R<<9&4294967295|R>>>23),R=D+(A^C&(L^A))+V[11]+643717713&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^A&(D^L))+V[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=A+(D^L&(C^D))+V[5]+3593408605&4294967295,A=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(A^C))+V[10]+38016083&4294967295,L=A+(R<<9&4294967295|R>>>23),R=D+(A^C&(L^A))+V[15]+3634488961&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^A&(D^L))+V[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=A+(D^L&(C^D))+V[9]+568446438&4294967295,A=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(A^C))+V[14]+3275163606&4294967295,L=A+(R<<9&4294967295|R>>>23),R=D+(A^C&(L^A))+V[3]+4107603335&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^A&(D^L))+V[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=A+(D^L&(C^D))+V[13]+2850285829&4294967295,A=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(A^C))+V[2]+4243563512&4294967295,L=A+(R<<9&4294967295|R>>>23),R=D+(A^C&(L^A))+V[7]+1735328473&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^A&(D^L))+V[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=A+(C^D^L)+V[5]+4294588738&4294967295,A=C+(R<<4&4294967295|R>>>28),R=L+(A^C^D)+V[8]+2272392833&4294967295,L=A+(R<<11&4294967295|R>>>21),R=D+(L^A^C)+V[11]+1839030562&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^A)+V[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=A+(C^D^L)+V[1]+2763975236&4294967295,A=C+(R<<4&4294967295|R>>>28),R=L+(A^C^D)+V[4]+1272893353&4294967295,L=A+(R<<11&4294967295|R>>>21),R=D+(L^A^C)+V[7]+4139469664&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^A)+V[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=A+(C^D^L)+V[13]+681279174&4294967295,A=C+(R<<4&4294967295|R>>>28),R=L+(A^C^D)+V[0]+3936430074&4294967295,L=A+(R<<11&4294967295|R>>>21),R=D+(L^A^C)+V[3]+3572445317&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^A)+V[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=A+(C^D^L)+V[9]+3654602809&4294967295,A=C+(R<<4&4294967295|R>>>28),R=L+(A^C^D)+V[12]+3873151461&4294967295,L=A+(R<<11&4294967295|R>>>21),R=D+(L^A^C)+V[15]+530742520&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^A)+V[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=A+(D^(C|~L))+V[0]+4096336452&4294967295,A=C+(R<<6&4294967295|R>>>26),R=L+(C^(A|~D))+V[7]+1126891415&4294967295,L=A+(R<<10&4294967295|R>>>22),R=D+(A^(L|~C))+V[14]+2878612391&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~A))+V[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=A+(D^(C|~L))+V[12]+1700485571&4294967295,A=C+(R<<6&4294967295|R>>>26),R=L+(C^(A|~D))+V[3]+2399980690&4294967295,L=A+(R<<10&4294967295|R>>>22),R=D+(A^(L|~C))+V[10]+4293915773&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~A))+V[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=A+(D^(C|~L))+V[8]+1873313359&4294967295,A=C+(R<<6&4294967295|R>>>26),R=L+(C^(A|~D))+V[15]+4264355552&4294967295,L=A+(R<<10&4294967295|R>>>22),R=D+(A^(L|~C))+V[6]+2734768916&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~A))+V[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=A+(D^(C|~L))+V[4]+4149444226&4294967295,A=C+(R<<6&4294967295|R>>>26),R=L+(C^(A|~D))+V[11]+3174756917&4294967295,L=A+(R<<10&4294967295|R>>>22),R=D+(A^(L|~C))+V[2]+718787259&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~A))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+L&4294967295}a.prototype.v=function(x,A){A===void 0&&(A=x.length);const C=A-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<A;){if(D==0)for(;L<=C;)l(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<A;)if(V[D++]=x.charCodeAt(L++),D==this.blockSize){l(this,V),D=0;break}}else for(;L<A;)if(V[D++]=x[L++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=A},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)x[A++]=this.g[C]>>>V&255;return x};function c(x,A){var C=g;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=A(x)}function d(x,A){this.h=A;const C=[];let V=!0;for(let D=x.length-1;D>=0;D--){const L=x[D]|0;V&&L==A||(C[D]=L,V=!1)}this.g=C}var g={};function v(x){return-128<=x&&x<128?c(x,function(A){return new d([A|0],A<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return Z(y(-x));const A=[];let C=1;for(let V=0;x>=C;V++)A[V]=x/C|0,C*=4294967296;return new d(A,0)}function b(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return Z(b(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(A,8));let V=w;for(let L=0;L<x.length;L+=8){var D=Math.min(8,x.length-L);const R=parseInt(x.substring(L,L+D),A);D<8?(D=y(Math.pow(A,D)),V=V.j(D).add(y(R))):(V=V.j(C),V=V.add(y(R)))}return V}var w=v(0),M=v(1),Y=v(16777216);s=d.prototype,s.m=function(){if(st(this))return-Z(this).m();let x=0,A=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);x+=(V>=0?V:4294967296+V)*A,A*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(W(this))return"0";if(st(this))return"-"+Z(this).toString(x);const A=y(Math.pow(x,6));var C=this;let V="";for(;;){const D=Xt(C,A).g;C=ct(C,D.j(A));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=D,W(C))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function W(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function st(x){return x.h==-1}s.l=function(x){return x=ct(this,x),st(x)?-1:W(x)?0:1};function Z(x){const A=x.g.length,C=[];for(let V=0;V<A;V++)C[V]=~x.g[V];return new d(C,~x.h).add(M)}s.abs=function(){return st(this)?Z(this):this},s.add=function(x){const A=Math.max(this.g.length,x.g.length),C=[];let V=0;for(let D=0;D<=A;D++){let L=V+(this.i(D)&65535)+(x.i(D)&65535),R=(L>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);V=R>>>16,L&=65535,R&=65535,C[D]=R<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ct(x,A){return x.add(Z(A))}s.j=function(x){if(W(this)||W(x))return w;if(st(this))return st(x)?Z(this).j(Z(x)):Z(Z(this).j(x));if(st(x))return Z(this.j(Z(x)));if(this.l(Y)<0&&x.l(Y)<0)return y(this.m()*x.m());const A=this.g.length+x.g.length,C=[];for(var V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<x.g.length;D++){const L=this.i(V)>>>16,R=this.i(V)&65535,Wt=x.i(D)>>>16,ve=x.i(D)&65535;C[2*V+2*D]+=R*ve,ft(C,2*V+2*D),C[2*V+2*D+1]+=L*ve,ft(C,2*V+2*D+1),C[2*V+2*D+1]+=R*Wt,ft(C,2*V+2*D+1),C[2*V+2*D+2]+=L*Wt,ft(C,2*V+2*D+2)}for(x=0;x<A;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=A;x<2*A;x++)C[x]=0;return new d(C,0)};function ft(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function gt(x,A){this.g=x,this.h=A}function Xt(x,A){if(W(A))throw Error("division by zero");if(W(x))return new gt(w,w);if(st(x))return A=Xt(Z(x),A),new gt(Z(A.g),Z(A.h));if(st(A))return A=Xt(x,Z(A)),new gt(Z(A.g),A.h);if(x.g.length>30){if(st(x)||st(A))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=A;V.l(x)<=0;)C=oe(C),V=oe(V);var D=Et(C,1),L=Et(V,1);for(V=Et(V,2),C=Et(C,2);!W(V);){var R=L.add(V);R.l(x)<=0&&(D=D.add(C),L=R),V=Et(V,1),C=Et(C,1)}return A=ct(x,D.j(A)),new gt(D,A)}for(D=w;x.l(A)>=0;){for(C=Math.max(1,Math.floor(x.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(C),R=L.j(A);st(R)||R.l(x)>0;)C-=V,L=y(C),R=L.j(A);W(L)&&(L=M),D=D.add(L),x=ct(x,R)}return new gt(D,x)}s.B=function(x){return Xt(this,x).h},s.and=function(x){const A=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)&x.i(V);return new d(C,this.h&x.h)},s.or=function(x){const A=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)|x.i(V);return new d(C,this.h|x.h)},s.xor=function(x){const A=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)^x.i(V);return new d(C,this.h^x.h)};function oe(x){const A=x.g.length+1,C=[];for(let V=0;V<A;V++)C[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(C,x.h)}function Et(x,A){const C=A>>5;A%=32;const V=x.g.length-C,D=[];for(let L=0;L<V;L++)D[L]=A>0?x.i(L+C)>>>A|x.i(L+C+1)<<32-A:x.i(L+C);return new d(D,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,mE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,sr=d}).apply(typeof d0<"u"?d0:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pE,Nl,gE,zc,em,yE,_E,vE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in _))break t;_=_[P]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,P,B){for(var et=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)et[Rt-2]=arguments[Rt];return m.prototype[P].apply(T,et)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var _=typeof P;if(_=_!="object"?_:P?Array.isArray(P)?"array":_:"null",_=="array"||_=="object"&&typeof P.length=="number"){_=u.length||0;const B=P.length||0;u.length=_+B;for(let et=0;et<B;et++)u[_+et]=P[et]}else u.push(P)}}class st{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ct(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ft{constructor(){this.h=this.g=null}add(m,_){const T=gt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new st(()=>new Xt,u=>u.reset());class Xt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,Et=!1,x=new ft,A=()=>{const u=Promise.resolve(void 0);oe=()=>{u.then(C)}};function C(){for(var u;u=ct();){try{u.h.call(u.g)}catch(_){Z(_)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Et=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Wt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Wt,D),Wt.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Wt.Z.h.call(this)},Wt.prototype.h=function(){Wt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),F=0;function nt(u,m,_,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=P,this.key=++F,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Vt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Nt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function O(u){const m={};for(const _ in u)m[_]=u[_];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let _,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(_ in T)u[_]=T[_];for(let B=0;B<Q.length;B++)_=Q[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,_,T,P){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=Tt(u,m,T,P);return et>-1?(m=u[et],_||(m.fa=!1)):(m=new nt(m,this.src,B,!!T,P),m.fa=_,u.push(m)),m};function yt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],P=Array.prototype.indexOf.call(T,m,void 0),B;(B=P>=0)&&Array.prototype.splice.call(T,P,1),B&&(ht(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Tt(u,m,_,T){for(let P=0;P<u.length;++P){const B=u[P];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return P}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),Ft={};function re(u,m,_,T,P){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],_,T,P);return null}return _=gr(_),u&&u[ve]?u.J(m,_,g(T)?!!T.capture:!1,P):Vn(u,m,_,!1,T,P)}function Vn(u,m,_,T,P,B){if(!m)throw Error("Invalid event type");const et=g(P)?!!P.capture:!!P;let Rt=ji(u);if(Rt||(u[xt]=Rt=new rt(u)),_=Rt.add(m,_,T,et,B),_.proxy)return _;if(T=zi(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)L||(P=et),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(ge(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function zi(){function u(_){return m.call(u.src,u.listener,_)}const m=ys;return u}function ps(u,m,_,T,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)ps(u,m[B],_,T,P);else T=g(T)?!!T.capture:!!T,_=gr(_),u&&u[ve]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=Tt(m,_,T,P),_>-1&&(ht(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ji(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Tt(m,_,T,P)),(_=u>-1?m[u]:null)&&gs(_))}function gs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ve])yt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(ge(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=ji(m))?(yt(_,u),_.h==0&&(_.src=null,m[xt]=null)):ht(u)}}}function ge(u){return u in Ft?Ft[u]:Ft[u]="on"+u}function ys(u,m){if(u.da)u=!0;else{m=new Wt(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&gs(u),u=_.call(T,m)}return u}function ji(u){return u=u[xt],u instanceof rt?u:null}var pr="__closure_events_fn_"+(Math.random()*1e9>>>0);function gr(u){return typeof u=="function"?u:(u[pr]||(u[pr]=function(m){return u.handleEvent(m)}),u[pr])}function Ee(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}w(Ee,V),Ee.prototype[ve]=!0,Ee.prototype.removeEventListener=function(u,m,_,T){ps(this,u,m,_,T)};function Ae(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(T,u),it(m,P)}P=!0;let B,et;if(_)for(et=_.length-1;et>=0;et--)B=m.g=_[et],P=ci(B,T,!0,m)&&P;if(B=m.g=u,P=ci(B,T,!0,m)&&P,P=ci(B,T,!1,m)&&P,_)for(et=0;et<_.length;et++)B=m.g=_[et],P=ci(B,T,!1,m)&&P}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ht(_[T]);delete u.g[m],u.h--}}this.G=null},Ee.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},Ee.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function ci(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==_){const Rt=et.listener,we=et.ha||et.src;et.fa&&yt(u.i,et),P=Rt.call(we,T)!==!1&&P}}return P&&!T.defaultPrevented}function So(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function oa(u){u.g=So(()=>{u.g=null,u.i&&(u.i=!1,oa(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ye extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:oa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hi(u){V.call(this),this.h=u,this.g={}}w(hi,V);var yr=[];function _r(u){Vt(u.g,function(m,_){this.g.hasOwnProperty(_)&&gs(m)},u),u.g={}}hi.prototype.N=function(){hi.Z.N.call(this),_r(this)},hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fi=d.JSON.stringify,Ao=d.JSON.parse,vr=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Er(){}function fn(){}var qe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Te(){D.call(this,"d")}w(Te,D);function q(){D.call(this,"c")}w(q,D);var tt={},St=null;function Gt(){return St=St||new Ee}tt.Ia="serverreachability";function le(u){D.call(this,tt.Ia,u)}w(le,D);function ye(u){const m=Gt();Ae(m,new le(m))}tt.STAT_EVENT="statevent";function bn(u,m){D.call(this,tt.STAT_EVENT,u),this.stat=m}w(bn,D);function te(u){const m=Gt();Ae(m,new bn(m,u))}tt.Ja="timingevent";function ue(u,m){D.call(this,tt.Ja,u),this.size=m}w(ue,D);function Sn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function dn(){this.g=!0}dn.prototype.ua=function(){this.g=!1};function la(u,m,_,T,P,B){u.info(function(){if(u.g)if(B){var et="",Rt=B.split("&");for(let Kt=0;Kt<Rt.length;Kt++){var we=Rt[Kt].split("=");if(we.length>1){const me=we[0];we=we[1];const zn=me.split("_");et=zn.length>=2&&zn[1]=="type"?et+(me+"="+we+"&"):et+(me+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+_+`
`+et})}function ua(u,m,_,T,P,B,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+_+`
`+B+" "+et})}function kn(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Nh(u,_)+(T?" "+T:"")})}function Tr(u,m){u.info(function(){return"TIMEOUT: "+m})}dn.prototype.info=function(){};function Nh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return fi(B)}catch{return m}}var br={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function Sr(){}w(Sr,Er),Sr.prototype.g=function(){return new XMLHttpRequest},Ro=new Sr;function Bi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function $n(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new hi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var Ne={},Fe={};function di(u,m,_){u.M=1,u.A=Ar(Oe(m)),u.u=_,u.R=!0,ca(u,null)}function ca(u,m){u.F=Date.now(),mi(u),u.B=Oe(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ma(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Jn,u.g=Tu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Ye(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(yr[0]=P.toString()),P=yr);for(let B=0;B<P.length;B++){const et=re(_,P[B],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ye(),la(u.i,u.v,u.B,u.l,u.S,u.u)}$n.prototype.ba=function(u){u=u.target;const m=this.O;m&&ti(u)==3?m.j():this.Y(u)},$n.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=ti(this.g),we=this.g.ya(),Kt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Xe(this.g)))){this.K||Rt!=4||we==7||(we==8||Kt<=0?ye(3):ye(2)),pi(this);var m=this.g.ca();this.X=m;var _=Dh(this);if(this.o=m==200,ua(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)kn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,u);else{this.o=!1,this.m=3,te(12),An(this),Ln(this);break t}}if(this.R){u=!0;let me;for(;!this.K&&this.C<_.length;)if(me=lu(this,_),me==Fe){Rt==4&&(this.m=4,te(14),u=!1),kn(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Ne){this.m=4,te(15),kn(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else kn(this.i,this.l,me,null),gi(this,me);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||_.length!=0||this.h.h||(this.m=1,te(16),u=!1),this.o=this.o&&u,!u)kn(this.i,this.l,_,"[Invalid Chunked Response]"),An(this),Ln(this);else if(_.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Bo(et),et.P=!0,te(11))}}else kn(this.i,this.l,_,null),gi(this,_);Rt==4&&An(this),this.o&&!this.K&&(Rt==4?yu(this.j,this):(this.o=!1,mi(this)))}else qi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,te(12)):(this.m=0,te(13)),An(this),Ln(this)}}}catch{}};function Dh(u){if(!ou(u))return u.g.la();const m=Xe(u.g);if(m==="")return"";let _="";const T=m.length,P=ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return An(u),Ln(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(P&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Fe:(_=Number(m.substring(_,T)),isNaN(_)?Ne:(T+=1,T+_>m.length?Fe:(m=m.slice(T,T+_),u.C=T+_,m)))}$n.prototype.cancel=function(){this.K=!0,An(this)};function mi(u){u.T=Date.now()+u.H,ha(u,u.H)}function ha(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Sn(y(u.aa,u),m)}function pi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}$n.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Tr(this.i,this.B),this.M!=2&&(ye(),te(17)),An(this),this.m=2,Ln(this)):ha(this,this.T-u)};function Ln(u){u.j.I==0||u.K||yu(u.j,u)}function An(u){pi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_r(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function gi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||_i(_.h,u))){if(!u.L&&_i(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)va(_),ws(_);else break t;Dr(_),te(18)}}else _.xa=P[1],0<_.xa-_.K&&P[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Sn(y(_.Va,_),6e3));yi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ai(_,11)}else if((u.L||_.g==u)&&va(_),!R(m))for(P=_.Ba.g.parse(m),m=0;m<P.length;m++){let Kt=P[m];const me=Kt[0];if(!(me<=_.K))if(_.K=me,Kt=Kt[1],_.I==2)if(Kt[0]=="c"){_.M=Kt[1],_.ba=Kt[2];const zn=Kt[3];zn!=null&&(_.ka=zn,_.j.info("VER="+_.ka));const wi=Kt[4];wi!=null&&(_.za=wi,_.j.info("SVER="+_.za));const ei=Kt[5];ei!=null&&typeof ei=="number"&&ei>0&&(T=1.5*ei,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const ni=u.g;if(ni){const Or=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var B=T.h;B.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(xo(B,B.h),B.h=null))}if(T.G){const Ea=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(T.wa=Ea,$t(T.J,T.G,Ea))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var et=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),et.L){No(T.h,et);var Rt=et,we=T.O;we&&(Rt.H=we),Rt.D&&(pi(Rt),mi(Rt)),T.g=et}else pu(T);_.i.length>0&&Si(_)}else Kt[0]!="stop"&&Kt[0]!="close"||Ai(_,7);else _.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Ai(_,7):zo(_):Kt[0]!="noop"&&_.l&&_.l.qa(Kt),_.A=0)}}ye(4)}catch{}}var De=class{constructor(u,m){this.g=u,this.map=m}};function Io(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yi(u){return u.h?1:u.g?u.g.size:0}function _i(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function xo(u,m){u.g?u.g.add(m):u.h=m}function No(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Io.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Do(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return Y(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let P,B=null;T>=0?(P=u[_].substring(0,T),B=u[_].substring(T+1)):P=u[_],m(P,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function wn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof wn?(this.l=u.l,Ge(this,u.j),this.o=u.o,this.g=u.g,_s(this,u.u),this.h=u.h,Oo(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Ge(this,m[1]||"",!0),this.o=vi(m[2]||""),this.g=vi(m[3]||"",!0),_s(this,m[4]),this.h=vi(m[5]||"",!0),Oo(this,m[6]||"",!0),this.m=vi(m[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}wn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(wr(m,da,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(wr(m,da,!0),"@"),u.push(Bi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(wr(_,_.charAt(0)=="/"?Mo:cu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",wr(_,hu)),u.join("")},wn.prototype.resolve=function(u){const m=Oe(this);let _=!!u.j;_?Ge(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)_s(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const B=[];for(let et=0;et<P.length;){const Rt=P[et++];Rt=="."?T&&et==P.length&&B.push(""):Rt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&et==P.length&&B.push("")):(B.push(Rt),T=!0)}T=B.join("/")}else T=P}return _?m.h=T:_=u.i.toString()!=="",_?Oo(m,du(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Oe(u){return new wn(u)}function Ge(u,m,_){u.j=_?vi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function _s(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Oo(u,m,_){m instanceof Es?(u.i=m,pa(u.i,u.l)):(_||(m=wr(m,vs)),u.i=new Es(m,u.l))}function $t(u,m,_){u.i.set(m,_)}function Ar(u){return $t(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function vi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,mn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function mn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var da=/[#\/\?@]/g,cu=/[#\?:]/g,Mo=/[#\?]/g,vs=/[#\?@]/g,hu=/#/g;function Es(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&fa(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=Es.prototype,s.add=function(u,m){pn(this),this.i=null,u=Ts(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function fu(u,m){pn(u),m=Ts(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vo(u,m){return pn(u),m=Ts(u,m),u.g.has(m)}s.forEach=function(u,m){pn(this),this.g.forEach(function(_,T){_.forEach(function(P){u.call(m,P,T,this)},this)},this)};function ko(u,m){pn(u);let _=[];if(typeof m=="string")Vo(u,m)&&(_=_.concat(u.g.get(Ts(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}s.set=function(u,m){return pn(this),this.i=null,u=Ts(this,u),Vo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=ko(this,u),u.length>0?String(u[0]):m):m};function ma(u,m,_){fu(u,m),_.length>0&&(u.i=null,u.g.set(Ts(u,m),Y(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const P=Bi(_);_=ko(this,_);for(let B=0;B<_.length;B++){let et=P;_[B]!==""&&(et+="="+Bi(_[B])),u.push(et)}}return this.i=u.join("&")};function du(u){const m=new Es;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ts(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function pa(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(_,T){const P=T.toLowerCase();T!=P&&(fu(this,T),ma(this,P,_))},u)),u.j=m}function Zn(u,m){const _=new dn;if(d.Image){const T=new Image;T.onload=b(Pn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Pn,_,"TestLoadImage: error",!1,m,T),T.onabort=b(Pn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Pn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Lo(u,m){const _=new dn,T=new AbortController,P=setTimeout(()=>{T.abort(),Pn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(P),B.ok?Pn(_,"TestPingServer: ok",!0,m):Pn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Pn(_,"TestPingServer: error",!1,m)})}function Pn(u,m,_,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(_)}catch{}}function bs(){this.g=new vr}function Ei(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ei,Er),Ei.prototype.g=function(){return new Rr(this.i,this.h)};function Rr(u,m){Ee.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Rr,Ee),s=Rr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Wn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ss(this):Wn(this),this.readyState==3&&ga(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ss(this))},s.Na=function(u){this.g&&(this.response=u,Ss(this))},s.ga=function(){this.g&&Ss(this)};function Ss(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Wn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Un(u){let m="";return Vt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Ir(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Un(_),typeof u=="string"?_!=null&&Bi(_):$t(u,m,_))}function ee(u){Ee.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ee,Ee);var Ti=/^https?$/i,Po=["POST","PUT"];s=ee.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Cr(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)_.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Po,m,void 0)>=0)||T||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of _)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Cr(this,B)}};function Cr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Uo(u),Hi(u)}function Uo(u){u.A||(u.A=!0,Ae(u,"complete"),Ae(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ae(this,"complete"),Ae(this,"abort"),Hi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),ee.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?xr(this):this.Xa())},s.Xa=function(){xr(this)};function xr(u){if(u.h&&typeof c<"u"){if(u.v&&ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ae(u,"readystatechange"),ti(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let et=String(u.D).match(uu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!Ti.test(et?et.toLowerCase():"")}_=T}if(_)Ae(u,"complete"),Ae(u,"success");else{u.o=6;try{var P=ti(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Uo(u)}}finally{Hi(u)}}}}function Hi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ae(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ao(m)}};function Xe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(u){const m={};u=(u.g&&ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var _=au(u[T]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[P]||[];m[P]=B,B.push(_)}Nt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function As(u){this.za=0,this.i=[],this.j=new dn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,u),this.Za=bi("retryDelaySeedMs",1e4,u),this.Ta=bi("forwardChannelMaxRetries",2,u),this.va=bi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(u&&u.concurrentRequestLimit),this.Ba=new bs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=As.prototype,s.ka=8,s.I=1,s.connect=function(u,m,_,T){te(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),Si(this)};function zo(u){if(ya(u),u.I==3){var m=u.V++,_=Oe(u.J);if($t(_,"SID",u.M),$t(_,"RID",m),$t(_,"TYPE","terminate"),Nr(u,_),m=new $n(u,u.j,m),m.M=2,m.A=Ar(Oe(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),mi(m)}vu(u)}function ws(u){u.g&&(Bo(u),u.g.cancel(),u.g=null)}function ya(u){ws(u),u.v&&(d.clearTimeout(u.v),u.v=null),va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Si(u){if(!Co(u.h)&&!u.m){u.m=!0;var m=u.Ea;oe||A(),Et||(oe(),Et=!0),x.add(m,u),u.D=0}}function _a(u,m){return yi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Sn(y(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new $n(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(P.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=mu(this,P,m),_=Oe(this.J),$t(_,"RID",u),$t(_,"CVER",22),this.G&&$t(_,"X-HTTP-Session-Id",this.G),Nr(this,_),B&&(this.R?m="headers="+Bi(Un(B))+"&"+m:this.u&&Ir(_,this.u,B)),xo(this.h,P),this.Ra&&$t(_,"TYPE","init"),this.S?($t(_,"$req",m),$t(_,"SID","null"),P.U=!0,di(P,_,null)):di(P,_,m),this.I=2}}else this.I==3&&(u?jo(this,u):this.i.length==0||Co(this.h)||jo(this))};function jo(u,m){var _;m?_=m.l:_=u.V++;const T=Oe(u.J);$t(T,"SID",u.M),$t(T,"RID",_),$t(T,"AID",u.K),Nr(u,T),u.u&&u.o&&Ir(T,u.u,u.o),_=new $n(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),xo(u.h,_),di(_,T,m)}function Nr(u,m){u.H&&Vt(u.H,function(_,T){$t(m,T,_)}),u.l&&Vt({},function(_,T){$t(m,T,_)})}function mu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let Rt=-1;for(;;){const we=["count="+_];Rt==-1?_>0?(Rt=P[0].g,we.push("ofs="+Rt)):Rt=0:we.push("ofs="+Rt);let Kt=!0;for(let me=0;me<_;me++){var B=P[me].g;const zn=P[me].map;if(B-=Rt,B<0)Rt=Math.max(0,P[me].g-100),Kt=!1;else try{B="req"+B+"_"||"";try{var et=zn instanceof Map?zn:Object.entries(zn);for(const[wi,ei]of et){let ni=ei;g(ei)&&(ni=fi(ei)),we.push(B+wi+"="+encodeURIComponent(ni))}}catch(wi){throw we.push(B+"type="+encodeURIComponent("_badmap")),wi}}catch{T&&T(zn)}}if(Kt){et=we.join("&");break t}}et=void 0}return u=u.i.splice(0,_),m.G=u,et}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;oe||A(),Et||(oe(),Et=!0),x.add(m,u),u.A=0}}function Dr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Sn(y(u.Da,u),_u(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Sn(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,te(10),ws(this),gu(this))};function Bo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new $n(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Oe(u.na);$t(m,"RID","rpc"),$t(m,"SID",u.M),$t(m,"AID",u.K),$t(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$t(m,"TO",u.ia),$t(m,"TYPE","xmlhttp"),Nr(u,m),u.u&&u.o&&Ir(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Ar(Oe(m)),_.u=null,_.R=!0,ca(_,u)}s.Va=function(){this.C!=null&&(this.C=null,ws(this),Dr(this),te(19))};function va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var _=null;if(u.g==m){va(u),Bo(u),u.g=null;var T=2}else if(_i(u.h,m))_=m.G,No(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Gt(),Ae(T,new ue(T,_)),Si(u)}else pu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&_a(u,m)||T==2&&Dr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),P){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function _u(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const P=!T;T=new wn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ge(T,"https"),Ar(T),P?Zn(T.toString(),_):Lo(T.toString(),_)}else te(2);u.I=0,u.l&&u.l.pa(m),vu(u),ya(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=Do(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,_){var T=_ instanceof wn?Oe(_):new wn(_);if(T.g!="")m&&(T.g=m+"."+T.g),_s(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const B=new wn(null);T&&Ge(B,T),m&&(B.g=m),P&&_s(B,P),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&$t(T,_,m),$t(T,"VER",u.ka),Nr(u,T),T}function Tu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ee(new Ei({ab:_})):new ee(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}s=bu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Rs(){}Rs.prototype.g=function(u,m){return new un(u,m)};function un(u,m){Ee.call(this),this.g=new As(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Fi(this)}w(un,Ee),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){zo(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=fi(u),u=_);m.i.push(new De(m.Ya++,u)),m.I==3&&Si(m)},un.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,un.Z.N.call(this)};function Su(u){Te.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Su,Te);function Au(){q.call(this),this.status=1}w(Au,q);function Fi(u){this.g=u}w(Fi,bu),Fi.prototype.ra=function(){Ae(this.g,"a")},Fi.prototype.qa=function(u){Ae(this.g,new Su(u))},Fi.prototype.pa=function(u){Ae(this.g,new Au)},Fi.prototype.oa=function(){Ae(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,vE=function(){return new Rs},_E=function(){return Gt()},yE=tt,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,zc=br,wo.COMPLETE="complete",gE=wo,fn.EventType=qe,qe.OPEN="a",qe.CLOSE="b",qe.ERROR="c",qe.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,Nl=fn,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,pE=ee}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let vo="12.8.0";function yR(s){vo=s}const ea=new _m("@firebase/firestore");function $a(){return ea.logLevel}function at(s,...t){if(ea.logLevel<=Pt.DEBUG){const i=t.map(xm);ea.debug(`Firestore (${vo}): ${s}`,...i)}}function fs(s,...t){if(ea.logLevel<=Pt.ERROR){const i=t.map(xm);ea.error(`Firestore (${vo}): ${s}`,...i)}}function uo(s,...t){if(ea.logLevel<=Pt.WARN){const i=t.map(xm);ea.warn(`Firestore (${vo}): ${s}`,...i)}}function xm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function vt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,EE(s,a,i)}function EE(s,t,i){let a=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw fs(a),new Error(a)}function Yt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||EE(t,l,a)}function wt(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends ms{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class TE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _R{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class vR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ER{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $r,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},g=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $r)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string",31837,{l:a}),new TE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class TR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=an.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class bR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new TR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class m0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new m0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new m0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function AR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Nm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=AR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Ut(s,t){return s<t?-1:s>t?1:0}function nm(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return jd(l)===jd(c)?Ut(l,c):jd(l)?1:-1}return Ut(s.length,t.length)}const wR=55296,RR=57343;function jd(s){const t=s.charCodeAt(0);return t>=wR&&t<=RR}function co(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const p0="__name__";class Ni{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ni.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ni?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ni.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const a=Ni.isNumericId(t),l=Ni.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ni.extractNumericId(t).compare(Ni.extractNumericId(i)):nm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return sr.fromString(t.substring(4,t.length-2))}}class fe extends Ni{construct(t,i,a){return new fe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new fe(i)}static emptyPath(){return new fe([])}}const IR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Ni{construct(t,i,a){return new en(t,i,a)}static isValidIdentifier(t){return IR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p0}static keyField(){return new en([p0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(i)}static emptyPath(){return new en([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(fe.fromString(t))}static fromName(t){return new mt(fe.fromString(t).popFirst(5))}static empty(){return new mt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return fe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new fe(t.slice()))}}function bE(s,t,i){if(!i)throw new ut(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function CR(s,t,i,a){if(t===!0&&a===!0)throw new ut(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function g0(s){if(!mt.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function y0(s){if(mt.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function SE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Dm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function so(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dm(s);throw new ut(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ue(s,t){const i={typeString:s};return t&&(i.value=t),i}function eu(s,t){if(!SE(s))throw new ut(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ut(J.INVALID_ARGUMENT,i);return!0}const _0=-62135596800,v0=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*v0);return new de(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<_0)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v0}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(eu(t,de._jsonSchema))return new de(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-_0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:Ue("string",de._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new de(0,0))}static max(){return new bt(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ql=-1;function xR(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(a===1e9?new de(i+1,0):new de(i,a));return new ar(l,mt.empty(),t)}function NR(s){return new ar(s.readTime,s.key,ql)}class ar{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new ar(bt.min(),mt.empty(),ql)}static max(){return new ar(bt.max(),mt.empty(),ql)}}function DR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(s.documentKey,t.documentKey),i!==0?i:Ut(s.largestBatchId,t.largestBatchId))}const OR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Eo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==OR)throw s;at("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((b=>{d[y]=b,++g,g===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function VR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function To(s){return s.name==="IndexedDbTransactionError"}class gh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}gh.ce=-1;const Om=-1;function yh(s){return s==null}function Wc(s){return s===0&&1/s==-1/0}function kR(s){return typeof s=="number"&&Number.isInteger(s)&&!Wc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const AE="";function LR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=E0(t)),t=PR(s.get(i),t);return E0(t)}function PR(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case AE:i+="";break;default:i+=c}}return i}function E0(s){return s+AE+""}function T0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function ia(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function wE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class _e{constructor(t,i){this.comparator=t,this.root=i||tn.EMPTY}insert(t,i){return new _e(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new _e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??tn.RED,this.left=l??tn.EMPTY,this.right=c??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new tn(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return tn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new tn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(t){this.comparator=t,this.data=new _e(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new b0(this.data.getIterator())}getIteratorFrom(t){return new b0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new He(this.comparator);return i.data=t,i}}class b0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class oi{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new oi([])}unionWith(t){let i=new He(en.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new oi(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return co(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class RE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new RE("Invalid base64 string: "+c):c}})(t);return new nn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new nn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const UR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(s){if(Yt(!!s,39018),typeof s=="string"){let t=0;const i=UR.exec(s);if(Yt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ce(s.seconds),nanos:Ce(s.nanos)}}function Ce(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function lr(s){return typeof s=="string"?nn.fromBase64String(s):nn.fromUint8Array(s)}const IE="server_timestamp",CE="__type__",xE="__previous_value__",NE="__local_write_time__";function Mm(s){return(s?.mapValue?.fields||{})[CE]?.stringValue===IE}function _h(s){const t=s.mapValue.fields[xE];return Mm(t)?_h(t):t}function Fl(s){const t=or(s.mapValue.fields[NE].timestampValue);return new de(t.seconds,t.nanos)}class zR{constructor(t,i,a,l,c,d,g,v,y,b,w){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=w}}const th="(default)";class Gl{constructor(t,i){this.projectId=t,this.database=i||th}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===th}isEqual(t){return t instanceof Gl&&t.projectId===this.projectId&&t.database===this.database}}function jR(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(s.options.projectId,t)}const DE="__type__",BR="__max__",Dc={mapValue:{}},OE="__vector__",eh="value";function ur(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Mm(s)?4:qR(s)?9007199254740991:HR(s)?10:11:vt(28295,{value:s})}function Pi(s,t){if(s===t)return!0;const i=ur(s);if(i!==ur(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Fl(s).isEqual(Fl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=or(l.timestampValue),g=or(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return lr(l.bytesValue).isEqual(lr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ce(l.geoPointValue.latitude)===Ce(c.geoPointValue.latitude)&&Ce(l.geoPointValue.longitude)===Ce(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ce(l.integerValue)===Ce(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ce(l.doubleValue),g=Ce(c.doubleValue);return d===g?Wc(d)===Wc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return co(s.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(T0(d)!==T0(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Pi(d[v],g[v])))return!1;return!0})(s,t);default:return vt(52216,{left:s})}}function Kl(s,t){return(s.values||[]).find((i=>Pi(i,t)))!==void 0}function ho(s,t){if(s===t)return 0;const i=ur(s),a=ur(t);if(i!==a)return Ut(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Ce(c.integerValue||c.doubleValue),v=Ce(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(s,t);case 3:return S0(s.timestampValue,t.timestampValue);case 4:return S0(Fl(s),Fl(t));case 5:return nm(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=lr(c),v=lr(d);return g.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const b=Ut(g[y],v[y]);if(b!==0)return b}return Ut(g.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Ut(Ce(c.latitude),Ce(d.latitude));return g!==0?g:Ut(Ce(c.longitude),Ce(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return A0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[eh]?.arrayValue,b=v[eh]?.arrayValue,w=Ut(y?.values?.length||0,b?.values?.length||0);return w!==0?w:A0(y,b)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},b=Object.keys(y);v.sort(),b.sort();for(let w=0;w<v.length&&w<b.length;++w){const M=nm(v[w],b[w]);if(M!==0)return M;const Y=ho(g[v[w]],y[b[w]]);if(Y!==0)return Y}return Ut(v.length,b.length)})(s.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function S0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ut(s,t);const i=or(s),a=or(t),l=Ut(i.seconds,a.seconds);return l!==0?l:Ut(i.nanos,a.nanos)}function A0(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=ho(i[l],a[l]);if(c)return c}return Ut(i.length,a.length)}function fo(s){return im(s)}function im(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=or(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return lr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return mt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=im(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${im(i.fields[d])}`;return l+"}"})(s.mapValue):vt(61005,{value:s})}function jc(s){switch(ur(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_h(s);return t?16+jc(t):16;case 5:return 2*s.stringValue.length;case 6:return lr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+jc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return ia(a.fields,((c,d)=>{l+=c.length+jc(d)})),l})(s.mapValue);default:throw vt(13486,{value:s})}}function sm(s){return!!s&&"integerValue"in s}function Vm(s){return!!s&&"arrayValue"in s}function w0(s){return!!s&&"nullValue"in s}function R0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Bc(s){return!!s&&"mapValue"in s}function HR(s){return(s?.mapValue?.fields||{})[DE]?.stringValue===OE}function Ll(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ia(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Ll(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ll(s.arrayValue.values[i]);return t}return{...s}}function qR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===BR}class Yn{constructor(t){this.value=t}static empty(){return new Yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Bc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ll(i)}setAll(t){let i=en.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Ll(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Pi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ia(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Yn(Ll(this.value))}}function ME(s){const t=[];return ia(s.fields,((i,a)=>{const l=new en([i]);if(Bc(a)){const c=ME(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new oi(t)}class on{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new on(t,0,bt.min(),bt.min(),bt.min(),Yn.empty(),0)}static newFoundDocument(t,i,a,l){return new on(t,1,i,bt.min(),a,l,0)}static newNoDocument(t,i){return new on(t,2,i,bt.min(),bt.min(),Yn.empty(),0)}static newUnknownDocument(t,i){return new on(t,3,i,bt.min(),bt.min(),Yn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(t,i){this.position=t,this.inclusive=i}}function I0(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=ho(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function C0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Pi(s.position[i],t.position[i]))return!1;return!0}class ih{constructor(t,i="asc"){this.field=t,this.dir=i}}function FR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class VE{}class je extends VE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new KR(t,i,a):i==="array-contains"?new XR(t,a):i==="in"?new $R(t,a):i==="not-in"?new JR(t,a):i==="array-contains-any"?new ZR(t,a):new je(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new QR(t,a):new YR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ho(i,this.value)):i!==null&&ur(this.value)===ur(i)&&this.matchesComparison(ho(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends VE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ui(t,i)}matches(t){return kE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kE(s){return s.op==="and"}function LE(s){return GR(s)&&kE(s)}function GR(s){for(const t of s.filters)if(t instanceof Ui)return!1;return!0}function rm(s){if(s instanceof je)return s.field.canonicalString()+s.op.toString()+fo(s.value);if(LE(s))return s.filters.map((t=>rm(t))).join(",");{const t=s.filters.map((i=>rm(i))).join(",");return`${s.op}(${t})`}}function PE(s,t){return s instanceof je?(function(a,l){return l instanceof je&&a.op===l.op&&a.field.isEqual(l.field)&&Pi(a.value,l.value)})(s,t):s instanceof Ui?(function(a,l){return l instanceof Ui&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&PE(d,l.filters[g])),!0):!1})(s,t):void vt(19439)}function UE(s){return s instanceof je?(function(i){return`${i.field.canonicalString()} ${i.op} ${fo(i.value)}`})(s):s instanceof Ui?(function(i){return i.op.toString()+" {"+i.getFilters().map(UE).join(" ,")+"}"})(s):"Filter"}class KR extends je{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class QR extends je{constructor(t,i){super(t,"in",i),this.keys=zE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class YR extends je{constructor(t,i){super(t,"not-in",i),this.keys=zE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function zE(s,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class XR extends je{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Vm(i)&&Kl(i.arrayValue,this.value)}}class $R extends je{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Kl(this.value.arrayValue,i)}}class JR extends je{constructor(t,i){super(t,"not-in",i)}matches(t){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Kl(this.value.arrayValue,i)}}class ZR extends je{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Kl(this.value.arrayValue,a)))}}class WR{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function x0(s,t=null,i=[],a=[],l=null,c=null,d=null){return new WR(s,t,i,a,l,c,d)}function km(s){const t=wt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>rm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),yh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>fo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>fo(a))).join(",")),t.Te=i}return t.Te}function Lm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!FR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!PE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!C0(s.startAt,t.startAt)&&C0(s.endAt,t.endAt)}function am(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class vh{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function tI(s,t,i,a,l,c,d,g){return new vh(s,t,i,a,l,c,d,g)}function Pm(s){return new vh(s)}function N0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function eI(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function nI(s){return s.collectionGroup!==null}function Pl(s){const t=wt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new He(en.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ih(c,a))})),i.has(en.keyField().canonicalString())||t.Ie.push(new ih(en.keyField(),a))}return t.Ie}function Vi(s){const t=wt(s);return t.Ee||(t.Ee=iI(t,Pl(s))),t.Ee}function iI(s,t){if(s.limitType==="F")return x0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ih(l.field,c)}));const i=s.endAt?new nh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new nh(s.startAt.position,s.startAt.inclusive):null;return x0(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function om(s,t,i){return new vh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Eh(s,t){return Lm(Vi(s),Vi(t))&&s.limitType===t.limitType}function jE(s){return`${km(Vi(s))}|lt:${s.limitType}`}function Ja(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>UE(l))).join(", ")}]`),yh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>fo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>fo(l))).join(",")),`Target(${a})`})(Vi(s))}; limitType=${s.limitType})`}function Th(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):mt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Pl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,v){const y=I0(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,Pl(a),l)||a.endAt&&!(function(d,g,v){const y=I0(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,Pl(a),l))})(s,t)}function sI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function BE(s){return(t,i)=>{let a=!1;for(const l of Pl(s)){const c=rI(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function rI(s,t,i){const a=s.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?ho(v,y):vt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:s.dir})}}class sa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ia(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return wE(this.inner)}size(){return this.innerSize}}const aI=new _e(mt.comparator);function ds(){return aI}const HE=new _e(mt.comparator);function Dl(...s){let t=HE;for(const i of s)t=t.insert(i.key,i);return t}function qE(s){let t=HE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Xr(){return Ul()}function FE(){return Ul()}function Ul(){return new sa((s=>s.toString()),((s,t)=>s.isEqual(t)))}const oI=new _e(mt.comparator),lI=new He(mt.comparator);function zt(...s){let t=lI;for(const i of s)t=t.add(i);return t}const uI=new He(Ut);function cI(){return uI}function Um(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(t)?"-0":t}}function GE(s){return{integerValue:""+s}}function hI(s,t){return kR(t)?GE(t):Um(s,t)}class bh{constructor(){this._=void 0}}function fI(s,t,i){return s instanceof sh?(function(l,c){const d={fields:{[CE]:{stringValue:IE},[NE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Mm(c)&&(c=_h(c)),c&&(d.fields[xE]=c),{mapValue:d}})(i,t):s instanceof Ql?QE(s,t):s instanceof Yl?YE(s,t):(function(l,c){const d=KE(l,c),g=D0(d)+D0(l.Ae);return sm(d)&&sm(l.Ae)?GE(g):Um(l.serializer,g)})(s,t)}function dI(s,t,i){return s instanceof Ql?QE(s,t):s instanceof Yl?YE(s,t):i}function KE(s,t){return s instanceof rh?(function(a){return sm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class sh extends bh{}class Ql extends bh{constructor(t){super(),this.elements=t}}function QE(s,t){const i=XE(t);for(const a of s.elements)i.some((l=>Pi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Yl extends bh{constructor(t){super(),this.elements=t}}function YE(s,t){let i=XE(t);for(const a of s.elements)i=i.filter((l=>!Pi(l,a)));return{arrayValue:{values:i}}}class rh extends bh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function D0(s){return Ce(s.integerValue||s.doubleValue)}function XE(s){return Vm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function mI(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Ql&&l instanceof Ql||a instanceof Yl&&l instanceof Yl?co(a.elements,l.elements,Pi):a instanceof rh&&l instanceof rh?Pi(a.Ae,l.Ae):a instanceof sh&&l instanceof sh})(s.transform,t.transform)}class pI{constructor(t,i){this.version=t,this.transformResults=i}}class ls{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ls}static exists(t){return new ls(void 0,t)}static updateTime(t){return new ls(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Sh{}function $E(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new ZE(s.key,ls.none()):new nu(s.key,s.data,ls.none());{const i=s.data,a=Yn.empty();let l=new He(en.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ra(s.key,a,new oi(l.toArray()),ls.none())}}function gI(s,t,i){s instanceof nu?(function(l,c,d){const g=l.value.clone(),v=M0(l.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof ra?(function(l,c,d){if(!Hc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=M0(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(JE(l)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function zl(s,t,i,a){return s instanceof nu?(function(c,d,g,v){if(!Hc(c.precondition,d))return g;const y=c.value.clone(),b=V0(c.fieldTransforms,v,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof ra?(function(c,d,g,v){if(!Hc(c.precondition,d))return g;const y=V0(c.fieldTransforms,v,d),b=d.data;return b.setAll(JE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,t,i,a):(function(c,d,g){return Hc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function yI(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=KE(a.transform,l||null);c!=null&&(i===null&&(i=Yn.empty()),i.set(a.field,c))}return i||null}function O0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&co(a,l,((c,d)=>mI(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class nu extends Sh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ra extends Sh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function JE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function M0(s,t,i){const a=new Map;Yt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,dI(d,g,i[l]))}return a}function V0(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,fI(c,d,t))}return a}class ZE extends Sh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _I extends Sh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vI{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&gI(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=zl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=zl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=FE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const v=$E(d,g);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(bt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&co(this.mutations,t.mutations,((i,a)=>O0(i,a)))&&co(this.baseMutations,t.baseMutations,((i,a)=>O0(i,a)))}}class zm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Yt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return oI})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new zm(t,i,a,l)}}class EI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TI{constructor(t,i){this.count=t,this.unchangedNames=i}}var Pe,Bt;function bI(s){switch(s){case J.OK:return vt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function WE(s){if(s===void 0)return fs("GRPC error has no .code"),J.UNKNOWN;switch(s){case Pe.OK:return J.OK;case Pe.CANCELLED:return J.CANCELLED;case Pe.UNKNOWN:return J.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return J.INTERNAL;case Pe.UNAVAILABLE:return J.UNAVAILABLE;case Pe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Pe.NOT_FOUND:return J.NOT_FOUND;case Pe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Pe.ABORTED:return J.ABORTED;case Pe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Pe.DATA_LOSS:return J.DATA_LOSS;default:return vt(39323,{code:s})}}(Bt=Pe||(Pe={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function SI(){return new TextEncoder}const AI=new sr([4294967295,4294967295],0);function k0(s){const t=SI().encode(s),i=new mE;return i.update(t),new Uint8Array(i.digest())}function L0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new sr([i,a],0),new sr([l,c],0)]}class jm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ol(`Invalid padding: ${i}`);if(a<0)throw new Ol(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=sr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(sr.fromNumber(a)));return l.compare(AI)===1&&(l=new sr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=k0(t),[a,l]=L0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new jm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=k0(t),[a,l]=L0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,iu.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Ah(bt.min(),l,new _e(Ut),ds(),zt())}}class iu{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new iu(a,i,zt(),zt(),zt())}}class qc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class tT{constructor(t,i){this.targetId=t,this.Ce=i}}class eT{constructor(t,i,a=nn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class P0{constructor(){this.ve=0,this.Fe=U0(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:vt(38017,{changeType:c})}})),new iu(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=U0()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class wI{constructor(t){this.Ge=t,this.ze=new Map,this.je=ds(),this.He=Oc(),this.Je=Oc(),this.Ze=new _e(Ut)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(am(c))if(a===0){const d=new mt(c.path);this.et(i,d,on.newNoDocument(d,bt.min()))}else Yt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=lr(a).toUint8Array()}catch(v){if(v instanceof RE)return uo("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new jm(d,l,c)}catch(v){return uo(v instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&am(g.target)){const v=new mt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,on.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=zt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ah(t,i,this.Ze,this.je,a);return this.je=ds(),this.He=Oc(),this.Je=Oc(),this.Ze=new _e(Ut),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new P0,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new He(Ut),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new He(Ut),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new P0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Oc(){return new _e(mt.comparator)}function U0(){return new _e(mt.comparator)}const RI={asc:"ASCENDING",desc:"DESCENDING"},II={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CI={and:"AND",or:"OR"};class xI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(s,t){return s.useProto3Json||yh(t)?t:{value:t}}function ah(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function NI(s,t){return ah(s,t.toTimestamp())}function ki(s){return Yt(!!s,49232),bt.fromTimestamp((function(i){const a=or(i);return new de(a.seconds,a.nanos)})(s))}function Bm(s,t){return um(s,t).canonicalString()}function um(s,t){const i=(function(l){return new fe(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function iT(s){const t=fe.fromString(s);return Yt(lT(t),10190,{key:t.toString()}),t}function cm(s,t){return Bm(s.databaseId,t.path)}function Bd(s,t){const i=iT(t);if(i.get(1)!==s.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new mt(rT(i))}function sT(s,t){return Bm(s.databaseId,t)}function DI(s){const t=iT(s);return t.length===4?fe.emptyPath():rT(t)}function hm(s){return new fe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function rT(s){return Yt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function z0(s,t,i){return{name:cm(s,t),fields:i.value.mapValue.fields}}function OI(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Yt(b===void 0||typeof b=="string",58123),nn.fromBase64String(b||"")):(Yt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),nn.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?J.UNKNOWN:WE(y.code);return new ut(b,y.message||"")})(d);i=new eT(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Bd(s,a.document.name),c=ki(a.document.updateTime),d=a.document.createTime?ki(a.document.createTime):bt.min(),g=new Yn({mapValue:{fields:a.document.fields}}),v=on.newFoundDocument(l,c,d,g),y=a.targetIds||[],b=a.removedTargetIds||[];i=new qc(y,b,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Bd(s,a.document),c=a.readTime?ki(a.readTime):bt.min(),d=on.newNoDocument(l,c),g=a.removedTargetIds||[];i=new qc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Bd(s,a.document),c=a.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new TI(l,c),g=a.targetId;i=new tT(g,d)}}return i}function MI(s,t){let i;if(t instanceof nu)i={update:z0(s,t.key,t.value)};else if(t instanceof ZE)i={delete:cm(s,t.key)};else if(t instanceof ra)i={update:z0(s,t.key,t.data),updateMask:HI(t.fieldMask)};else{if(!(t instanceof _I))return vt(16599,{dt:t.type});i={verify:cm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof sh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ql)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Yl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof rh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:NI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(s,t.precondition)),i}function VI(s,t){return s&&s.length>0?(Yt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?ki(l.updateTime):ki(c);return d.isEqual(bt.min())&&(d=ki(c)),new pI(d,l.transformResults||[])})(i,t)))):[]}function kI(s,t){return{documents:[sT(s,t.path)]}}function LI(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=sT(s,l);const c=(function(y){if(y.length!==0)return oT(Ui.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(M){return{field:Za(M.field),direction:zI(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=lm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function PI(s){let t=DI(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Yt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(w){const M=aT(w);return M instanceof Ui&&LE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(W){return new ih(Wa(W.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let M;return M=typeof w=="object"?w.value:w,yh(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(w){const M=!!w.before,Y=w.values||[];return new nh(Y,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const M=!w.before,Y=w.values||[];return new nh(Y,M)})(i.endAt)),tI(t,l,d,c,g,"F",v,y)}function UI(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function aT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Wa(i.unaryFilter.field);return je.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Wa(i.unaryFilter.field);return je.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Wa(i.unaryFilter.field);return je.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Wa(i.unaryFilter.field);return je.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return je.create(Wa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ui.create(i.compositeFilter.filters.map((a=>aT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(s):vt(30097,{filter:s})}function zI(s){return RI[s]}function jI(s){return II[s]}function BI(s){return CI[s]}function Za(s){return{fieldPath:s.canonicalString()}}function Wa(s){return en.fromServerFormat(s.fieldPath)}function oT(s){return s instanceof je?(function(i){if(i.op==="=="){if(R0(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NAN"}};if(w0(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(R0(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NOT_NAN"}};if(w0(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(i.field),op:jI(i.op),value:i.value}}})(s):s instanceof Ui?(function(i){const a=i.getFilters().map((l=>oT(l)));return a.length===1?a[0]:{compositeFilter:{op:BI(i.op),filters:a}}})(s):vt(54877,{filter:s})}function HI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function lT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function uT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class tr{constructor(t,i,a,l,c=bt.min(),d=bt.min(),g=nn.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new tr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class qI{constructor(t){this.yt=t}}function FI(s){const t=PI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?om(t,t.limit,"L"):t}class GI{constructor(){this.Sn=new KI}addToCollectionParentIndex(t,i){return this.Sn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(ar.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(ar.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class KI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new He(fe.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new He(fe.comparator)).toArray()}}const j0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cT=41943040;class Tn{static withCacheSize(t){return new Tn(t,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(cT,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class mo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new mo(0)}static ar(){return new mo(-1)}}const B0="LruGarbageCollector",QI=1048576;function H0([s,t],[i,a]){const l=Ut(s,i);return l===0?Ut(t,a):l}class YI{constructor(t){this.Pr=t,this.buffer=new He(H0),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();H0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class XI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(B0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){To(i)?at(B0,"Ignoring IndexedDB error during garbage collection: ",i):await Eo(i)}await this.Ar(3e5)}))}}class $I{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(gh.ce);const a=new YI(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(j0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j0):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,g,v,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,g=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(y=Date.now(),$a()<=Pt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${w} documents in `+(y-v)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function JI(s,t){return new $I(s,t)}class ZI{constructor(){this.changes=new sa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class WI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class tC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&zl(a.mutation,l,oi.empty(),de.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const l=Xr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Dl();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Xr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=ds();const d=Ul(),g=(function(){return Ul()})();return i.forEach(((v,y)=>{const b=a.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof ra)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),zl(b.mutation,y,b.mutation.getFieldMask(),de.now())):d.set(y.key,oi.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new WI(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Ul();let l=new _e(((d,g)=>d-g)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let b=a.get(v)||oi.empty();b=g.applyToLocalView(y,b),a.set(v,b);const w=(l.get(g.batchId)||zt()).add(v);l=l.insert(g.batchId,w)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,b=v.value,w=FE();b.forEach((M=>{if(!c.has(M)){const Y=$E(i.get(M),a.get(M));Y!==null&&w.set(M,Y),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,w))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return eI(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):nI(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Xr());let g=ql,v=c;return d.next((y=>$.forEach(y,((b,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{v=v.insert(b,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,zt()))).next((b=>({batchId:g,changes:qE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let l=Dl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Dl();return this.indexManager.getCollectionParents(t,c).next((g=>$.forEach(g,(v=>{const y=(function(w,M){return new vh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((b=>{b.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,on.newInvalidDocument(b)))}));let g=Dl();return d.forEach(((v,y)=>{const b=c.get(v);b!==void 0&&zl(b.mutation,y,oi.empty(),de.now()),Th(i,y)&&(g=g.insert(v,y))})),g}))}}class eC{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ki(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:FI(l.bundledQuery),readTime:ki(l.readTime)}})(i)),$.resolve()}}class nC{constructor(){this.overlays=new _e(mt.comparator),this.Lr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Xr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Xr(),c=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new _e(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=Xr(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=Xr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=l)););return $.resolve(g)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new EI(i,a));let c=this.Lr.get(i);c===void 0&&(c=zt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class iC{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Hm{constructor(){this.kr=new He(Qe.Kr),this.qr=new He(Qe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Qe(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Qe(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new mt(new fe([])),a=new Qe(i,t),l=new Qe(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new mt(new fe([])),a=new Qe(i,t),l=new Qe(i,t+1);let c=zt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Qe(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Qe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return mt.comparator(t.key,i.key)||Ut(t.Hr,i.Hr)}static Ur(t,i){return Ut(t.Hr,i.Hr)||mt.comparator(t.key,i.key)}}class sC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new He(Qe.Kr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vI(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new Qe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Om:this.Yn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Qe(i,0),l=new Qe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new He(Ut);return i.forEach((l=>{const c=new Qe(l,0),d=new Qe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;mt.isDocumentKey(c)||(c=c.child(""));const d=new Qe(new mt(c),0);let g=new He(Ut);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(v.Hr)),!0)}),d),$.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Yt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(l=>{const c=new Qe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Qe(i,0),l=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class rC{constructor(t){this.ti=t,this.docs=(function(){return new _e(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():on.newInvalidDocument(i))}getEntries(t,i){let a=ds();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():on.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ds();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:b}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||DR(NR(b),a)<=0||(l.has(b.key)||Th(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){vt(9500)}ni(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new aC(this)}getSize(t){return $.resolve(this.size)}}class aC extends ZI{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class oC{constructor(t){this.persistence=t,this.ri=new sa((i=>km(i)),Lm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.ii=0,this.si=new Hm,this.targetCount=0,this.oi=mo._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new mo(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.lr(i),$.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this.si.containsKey(i))}}class hT{constructor(t,i){this._i={},this.overlays={},this.ai=new gh(0),this.ui=!1,this.ui=!0,this.ci=new iC,this.referenceDelegate=t(this),this.li=new oC(this),this.indexManager=new GI,this.remoteDocumentCache=(function(l){return new rC(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new qI(i),this.Pi=new eC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new nC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new sC(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const l=new lC(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class lC extends MR{constructor(t){super(),this.currentSequenceNumber=t}}class qm{constructor(t){this.persistence=t,this.Ri=new Hm,this.Ai=null}static Vi(t){return new qm(t)}get di(){if(this.Ai)return this.Ai;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const l=mt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,bt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class oh{constructor(t,i){this.persistence=t,this.fi=new sa((a=>LR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=JI(this,i)}static Vi(t,i){return new oh(t,i)}Ti(){}Ii(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return $.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(a++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=jc(t.data.value)),i}wr(t,i,a){return $.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Fm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=zt(),l=zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Fm(t,i.fromCache,a,l)}}class uC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class cC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return LS()?8:VR(ln())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new uC;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?($a()<=Pt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):($a()<=Pt.DEBUG&&at("QueryEngine","Query:",Ja(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?($a()<=Pt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vi(i))):$.resolve())}gs(t,i){if(N0(i))return $.resolve(null);let a=Vi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=om(i,null,"F"),a=Vi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=zt(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,g);return this.Ss(i,y,d,v.readTime)?this.gs(t,om(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,l){return N0(i)||l.isEqual(bt.min())?$.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?$.resolve(null):($a()<=Pt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ja(i)),this.Ds(t,d,i,xR(l,ql)).next((g=>g)))}))}bs(t,i){let a=new He(BE(t));return i.forEach(((l,c)=>{Th(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return $a()<=Pt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ja(i)),this.fs.getDocumentsMatchingQuery(t,i,ar.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Gm="LocalStore",hC=3e8;class fC{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new _e(Ut),this.Fs=new sa((c=>km(c)),Lm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function dC(s,t,i,a){return new fC(s,t,i,a)}async function fT(s,t){const i=wt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=zt();for(const y of l){d.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function mC(s,t){const i=wt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,b){const w=y.batch,M=w.keys();let Y=$.resolve();return M.forEach((W=>{Y=Y.next((()=>b.getEntry(v,W))).next((st=>{const Z=y.docVersions.get(W);Yt(Z!==null,48541),st.version.compareTo(Z)<0&&(w.applyToRemoteDocument(st,y),st.isValidDocument()&&(st.setReadTime(y.commitVersion),b.addEntry(st)))}))})),Y.next((()=>g.mutationQueue.removeMutationBatch(v,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=zt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function dT(s){const t=wt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function pC(s,t){const i=wt(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];t.targetChanges.forEach(((b,w)=>{const M=l.get(w);if(!M)return;g.push(i.li.removeMatchingKeys(c,b.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,w))));let Y=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?Y=Y.withResumeToken(nn.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):b.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(b.resumeToken,a)),l=l.insert(w,Y),(function(st,Z,ct){return st.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=hC?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(M,Y,b)&&g.push(i.li.updateTargetData(c,Y))}));let v=ds(),y=zt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(gC(c,d,t.documentUpdates).next((b=>{v=b.Bs,y=b.Ls}))),!a.isEqual(bt.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=l,c)))}function gC(s,t,i){let a=zt(),l=zt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=ds();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(bt.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):at(Gm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function yC(s,t){const i=wt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Om),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function _C(s,t){const i=wt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new tr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function fm(s,t,i){const a=wt(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!To(d))throw d;at(Gm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function q0(s,t,i){const a=wt(s);let l=bt.min(),c=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,b){const w=wt(v),M=w.Fs.get(b);return M!==void 0?$.resolve(w.vs.get(M)):w.li.getTargetData(y,b)})(a,d,Vi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:bt.min(),i?c:zt()))).next((g=>(vC(a,sI(t),g),{documents:g,ks:c})))))}function vC(s,t,i){let a=s.Ms.get(t)||bt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class F0{constructor(){this.activeTargetIds=cI()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class EC{constructor(){this.vo=new F0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new F0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class TC{Mo(t){}shutdown(){}}const G0="ConnectivityMonitor";class K0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(G0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(G0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function dm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const Hd="RestConnection",bC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class SC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===th?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=dm(),g=this.Qo(t,i.toUriEncodedString());at(Hd,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:y}=new URL(g),b=go(y);return this.zo(t,g,v,a,b).then((w=>(at(Hd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw uo(Hd,`RPC '${t}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=bC[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class AC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const rn="WebChannelConnection",Rl=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class ro extends SC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!ro.c_){const t=_E();Rl(t,yE.STAT_EVENT,(i=>{i.stat===em.PROXY?at(rn,"STAT_EVENT: detected buffering proxy"):i.stat===em.NOPROXY&&at(rn,"STAT_EVENT: detected no buffering proxy")})),ro.c_=!0}}zo(t,i,a,l,c){const d=dm();return new Promise(((g,v)=>{const y=new pE;y.setWithCredentials(!0),y.listenOnce(gE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case zc.NO_ERROR:const w=y.getResponseJson();at(rn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),g(w);break;case zc.TIMEOUT:at(rn,`RPC '${t}' ${d} timed out`),v(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const M=y.getStatus();if(at(rn,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let Y=y.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const W=Y?.error;if(W&&W.status&&W.message){const st=(function(ct){const ft=ct.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ft)>=0?ft:J.UNKNOWN})(W.status);v(new ut(st,W.message))}else v(new ut(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ut(J.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(rn,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);at(rn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=dm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");at(rn,`Creating RPC '${t}' stream ${l}: ${y}`,g);const b=d.createWebChannel(y,g);this.I_(b);let w=!1,M=!1;const Y=new AC({Ho:W=>{M?at(rn,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(w||(at(rn,`Opening RPC '${t}' stream ${l} transport.`),b.open(),w=!0),at(rn,`RPC '${t}' stream ${l} sending:`,W),b.send(W))},Jo:()=>b.close()});return Rl(b,Nl.EventType.OPEN,(()=>{M||(at(rn,`RPC '${t}' stream ${l} transport opened.`),Y.i_())})),Rl(b,Nl.EventType.CLOSE,(()=>{M||(M=!0,at(rn,`RPC '${t}' stream ${l} transport closed`),Y.o_(),this.E_(b))})),Rl(b,Nl.EventType.ERROR,(W=>{M||(M=!0,uo(rn,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),Y.o_(new ut(J.UNAVAILABLE,"The operation could not be completed")))})),Rl(b,Nl.EventType.MESSAGE,(W=>{if(!M){const st=W.data[0];Yt(!!st,16349);const Z=st,ct=Z?.error||Z[0]?.error;if(ct){at(rn,`RPC '${t}' stream ${l} received error:`,ct);const ft=ct.status;let gt=(function(Et){const x=Pe[Et];if(x!==void 0)return WE(x)})(ft),Xt=ct.message;gt===void 0&&(gt=J.INTERNAL,Xt="Unknown error status: "+ft+" with message "+ct.message),M=!0,Y.o_(new ut(gt,Xt)),b.close()}else at(rn,`RPC '${t}' stream ${l} received:`,st),Y.__(st)}})),ro.u_(),setTimeout((()=>{Y.s_()}),0),Y}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return vE()}}function wC(s){return new ro(s)}function qd(){return typeof document<"u"?document:null}function wh(s){return new xI(s,!0)}ro.c_=!1;class mT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Q0="PersistentStream";class pT{constructor(t,i,a,l,c,d,g,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(fs(i.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ut(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Q0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(at(Q0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RC extends pT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=OI(this.serializer,t),a=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?ki(d.readTime):bt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=am(v)?{documents:kI(c,v)}:{query:LI(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=nT(c,d.resumeToken);const y=lm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(bt.min())>0){g.readTime=ah(c,d.snapshotVersion.toTimestamp());const y=lm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=UI(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=hm(this.serializer),i.removeTarget=t,this.K_(i)}}class IC extends pT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=VI(t.writeResults,t.commitTime),a=ki(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=hm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>MI(this.serializer,a)))};this.K_(i)}}class CC{}class xC extends CC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,um(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(J.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,um(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function NC(s,t,i,a){return new xC(s,t,i,a)}class DC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class OC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{aa(this)&&(at(na,"Restarting streams for network reachability change."),await(async function(v){const y=wt(v);y.Ea.add(4),await su(y),y.Va.set("Unknown"),y.Ea.delete(4),await Rh(y)})(this))}))})),this.Va=new DC(a,l)}}async function Rh(s){if(aa(s))for(const t of s.Ra)await t(!0)}async function su(s){for(const t of s.Ra)await t(!1)}function gT(s,t){const i=wt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Xm(i)?Ym(i):bo(i).O_()&&Qm(i,t))}function Km(s,t){const i=wt(s),a=bo(i);i.Ia.delete(t),a.O_()&&yT(i,t),i.Ia.size===0&&(a.O_()?a.L_():aa(i)&&i.Va.set("Unknown"))}function Qm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}bo(s).Z_(t)}function yT(s,t){s.da.$e(t),bo(s).X_(t)}function Ym(s){s.da=new wI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),bo(s).start(),s.Va.ua()}function Xm(s){return aa(s)&&!bo(s).x_()&&s.Ia.size>0}function aa(s){return wt(s).Ea.size===0}function _T(s){s.da=void 0}async function MC(s){s.Va.set("Online")}async function VC(s){s.Ia.forEach(((t,i)=>{Qm(s,t)}))}async function kC(s,t){_T(s),Xm(s)?(s.Va.ha(t),Ym(s)):s.Va.set("Unknown")}async function LC(s,t,i){if(s.Va.set("Online"),t instanceof eT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,t)}catch(a){at(na,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await lh(s,a)}else if(t instanceof qc?s.da.Xe(t):t instanceof tT?s.da.st(t):s.da.tt(t),!i.isEqual(bt.min()))try{const a=await dT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const b=c.Ia.get(v);if(!b)return;c.Ia.set(v,b.withResumeToken(nn.EMPTY_BYTE_STRING,b.snapshotVersion)),yT(c,v);const w=new tr(b.target,v,y,b.sequenceNumber);Qm(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){at(na,"Failed to raise snapshot:",a),await lh(s,a)}}async function lh(s,t,i){if(!To(t))throw t;s.Ea.add(1),await su(s),s.Va.set("Offline"),i||(i=()=>dT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(na,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Rh(s)}))}function vT(s,t){return t().catch((i=>lh(s,i,t)))}async function Ih(s){const t=wt(s),i=cr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Om;for(;PC(t);)try{const l=await yC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,UC(t,l)}catch(l){await lh(t,l)}ET(t)&&TT(t)}function PC(s){return aa(s)&&s.Ta.length<10}function UC(s,t){s.Ta.push(t);const i=cr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function ET(s){return aa(s)&&!cr(s).x_()&&s.Ta.length>0}function TT(s){cr(s).start()}async function zC(s){cr(s).ra()}async function jC(s){const t=cr(s);for(const i of s.Ta)t.ea(i.mutations)}async function BC(s,t,i){const a=s.Ta.shift(),l=zm.from(a,t,i);await vT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ih(s)}async function HC(s,t){t&&cr(s).Y_&&await(async function(a,l){if((function(d){return bI(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();cr(a).B_(),await vT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ih(a)}})(s,t),ET(s)&&TT(s)}async function Y0(s,t){const i=wt(s);i.asyncQueue.verifyOperationInProgress(),at(na,"RemoteStore received new credentials");const a=aa(i);i.Ea.add(3),await su(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Rh(i)}async function qC(s,t){const i=wt(s);t?(i.Ea.delete(2),await Rh(i)):t||(i.Ea.add(2),await su(i),i.Va.set("Unknown"))}function bo(s){return s.ma||(s.ma=(function(i,a,l){const c=wt(i);return c.sa(),new RC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:MC.bind(null,s),Yo:VC.bind(null,s),t_:kC.bind(null,s),J_:LC.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Xm(s)?Ym(s):s.Va.set("Unknown")):(await s.ma.stop(),_T(s))}))),s.ma}function cr(s){return s.fa||(s.fa=(function(i,a,l){const c=wt(i);return c.sa(),new IC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:zC.bind(null,s),t_:HC.bind(null,s),ta:jC.bind(null,s),na:BC.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Ih(s)):(await s.fa.stop(),s.Ta.length>0&&(at(na,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class $m{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new $m(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(s,t){if(fs("AsyncQueue",`${t}: ${s}`),To(s))return new ut(J.UNAVAILABLE,`${t}: ${s}`);throw s}class ao{static emptySet(t){return new ao(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=Dl(),this.sortedSet=new _e(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ao)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new ao;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class X0{constructor(){this.ga=new _e(mt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class po{constructor(t,i,a,l,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new po(t,i,ao.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class FC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class GC{constructor(){this.queries=$0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=wt(i),c=l.queries;l.queries=$0(),c.forEach(((d,g)=>{for(const v of g.ba)v.onError(a)}))})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function $0(){return new sa((s=>jE(s)),Eh)}async function KC(s,t){const i=wt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new FC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Jm(d,`Initialization of query '${Ja(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Zm(i)}async function QC(s,t){const i=wt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function YC(s,t){const i=wt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(a=!0);d.wa=l}}a&&Zm(i)}function XC(s,t,i){const a=wt(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function Zm(s){s.Ca.forEach((t=>{t.next()}))}var mm,J0;(J0=mm||(mm={})).Ma="default",J0.Cache="cache";class $C{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new po(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=po.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mm.Cache}}class bT{constructor(t){this.key=t}}class ST{constructor(t){this.key=t}}class JC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=zt(),this.mutatedKeys=zt(),this.eu=BE(t),this.tu=new ao(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new X0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,w)=>{const M=l.get(b),Y=Th(this.query,w)?w:null,W=!!M&&this.mutatedKeys.has(M.key),st=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let Z=!1;M&&Y?M.data.isEqual(Y.data)?W!==st&&(a.track({type:3,doc:Y}),Z=!0):this.su(M,Y)||(a.track({type:2,doc:Y}),Z=!0,(v&&this.eu(Y,v)>0||y&&this.eu(Y,y)<0)&&(g=!0)):!M&&Y?(a.track({type:0,doc:Y}),Z=!0):M&&!Y&&(a.track({type:1,doc:M}),Z=!0,(v||y)&&(g=!0)),Z&&(Y?(d=d.add(Y),c=st?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,w)=>(function(Y,W){const st=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:Z})}};return st(Y)-st(W)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new po(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new X0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new ST(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new bT(a))})),i}cu(t){this.Za=t.ks,this.Ya=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Wm="SyncEngine";class ZC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class WC{constructor(t){this.key=t,this.hu=!1}}class tx{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new sa((g=>jE(g)),Eh),this.Iu=new Map,this.Eu=new Set,this.Ru=new _e(mt.comparator),this.Au=new Map,this.Vu=new Hm,this.du={},this.mu=new Map,this.fu=mo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ex(s,t,i=!0){const a=xT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await AT(a,t,i,!0),l}async function nx(s,t){const i=xT(s);await AT(i,t,!0,!1)}async function AT(s,t,i,a){const l=await _C(s.localStore,Vi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await ix(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&gT(s.remoteStore,l),g}async function ix(s,t,i,a,l){s.pu=(w,M,Y)=>(async function(st,Z,ct,ft){let gt=Z.view.ru(ct);gt.Ss&&(gt=await q0(st.localStore,Z.query,!1).then((({documents:x})=>Z.view.ru(x,gt))));const Xt=ft&&ft.targetChanges.get(Z.targetId),oe=ft&&ft.targetMismatches.get(Z.targetId)!=null,Et=Z.view.applyChanges(gt,st.isPrimaryClient,Xt,oe);return W0(st,Z.targetId,Et.au),Et.snapshot})(s,w,M,Y);const c=await q0(s.localStore,t,!0),d=new JC(t,c.ks),g=d.ru(c.documents),v=iu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,v);W0(s,i,y.au);const b=new ZC(t,i,d);return s.Tu.set(t,b),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function sx(s,t,i){const a=wt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Eh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await fm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Km(a.remoteStore,l.targetId),pm(a,l.targetId)})).catch(Eo)):(pm(a,l.targetId),await fm(a.localStore,l.targetId,!0))}async function rx(s,t){const i=wt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Km(i.remoteStore,a.targetId))}async function ax(s,t,i){const a=dx(s);try{const l=await(function(d,g){const v=wt(d),y=de.now(),b=g.reduce(((Y,W)=>Y.add(W.key)),zt());let w,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let W=ds(),st=zt();return v.xs.getEntries(Y,b).next((Z=>{W=Z,W.forEach(((ct,ft)=>{ft.isValidDocument()||(st=st.add(ct))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Y,W))).next((Z=>{w=Z;const ct=[];for(const ft of g){const gt=yI(ft,w.get(ft.key).overlayedDocument);gt!=null&&ct.push(new ra(ft.key,gt,ME(gt.value.mapValue),ls.exists(!0)))}return v.mutationQueue.addMutationBatch(Y,y,ct,g)})).next((Z=>{M=Z;const ct=Z.applyToLocalDocumentSet(w,st);return v.documentOverlayCache.saveOverlays(Y,Z.batchId,ct)}))})).then((()=>({batchId:M.batchId,changes:qE(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,v){let y=d.du[d.currentUser.toKey()];y||(y=new _e(Ut)),y=y.insert(g,v),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await ru(a,l.changes),await Ih(a.remoteStore)}catch(l){const c=Jm(l,"Failed to persist write");i.reject(c)}}async function wT(s,t){const i=wt(s);try{const a=await pC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Yt(d.hu,14607):l.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await ru(i,a,t)}catch(a){await Eo(a)}}function Z0(s,t,i){const a=wt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const v=wt(d);v.onlineState=g;let y=!1;v.queries.forEach(((b,w)=>{for(const M of w.ba)M.va(g)&&(y=!0)})),y&&Zm(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function ox(s,t,i){const a=wt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new _e(mt.comparator);d=d.insert(c,on.newNoDocument(c,bt.min()));const g=zt().add(c),v=new Ah(bt.min(),new Map,new _e(Ut),d,g);await wT(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),tp(a)}else await fm(a.localStore,t,!1).then((()=>pm(a,t,i))).catch(Eo)}async function lx(s,t){const i=wt(s),a=t.batch.batchId;try{const l=await mC(i.localStore,t);IT(i,a,null),RT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await ru(i,l)}catch(l){await Eo(l)}}async function ux(s,t,i){const a=wt(s);try{const l=await(function(d,g){const v=wt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return v.mutationQueue.lookupMutationBatch(y,g).next((w=>(Yt(w!==null,37113),b=w.keys(),v.mutationQueue.removeMutationBatch(y,w)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>v.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);IT(a,t,i),RT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await ru(a,l)}catch(l){await Eo(l)}}function RT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function IT(s,t,i){const a=wt(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function pm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||CT(s,a)}))}function CT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Km(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),tp(s))}function W0(s,t,i){for(const a of i)a instanceof bT?(s.Vu.addReference(a.key,t),cx(s,a)):a instanceof ST?(at(Wm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||CT(s,a.key)):vt(19791,{wu:a})}function cx(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(at(Wm,"New document in limbo: "+i),s.Eu.add(a),tp(s))}function tp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new mt(fe.fromString(t)),a=s.fu.next();s.Au.set(a,new WC(i)),s.Ru=s.Ru.insert(i,a),gT(s.remoteStore,new tr(Vi(Pm(i.path)),a,"TargetPurposeLimboResolution",gh.ce))}}async function ru(s,t,i){const a=wt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Fm.Es(v.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,y){const b=wt(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(y,(M=>$.forEach(M.Ts,(Y=>b.persistence.referenceDelegate.addReference(w,M.targetId,Y))).next((()=>$.forEach(M.Is,(Y=>b.persistence.referenceDelegate.removeReference(w,M.targetId,Y)))))))))}catch(w){if(!To(w))throw w;at(Gm,"Failed to update sequence numbers: "+w)}for(const w of y){const M=w.targetId;if(!w.fromCache){const Y=b.vs.get(M),W=Y.snapshotVersion,st=Y.withLastLimboFreeSnapshotVersion(W);b.vs=b.vs.insert(M,st)}}})(a.localStore,c))}async function hx(s,t){const i=wt(s);if(!i.currentUser.isEqual(t)){at(Wm,"User change. New user:",t.toKey());const a=await fT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new ut(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await ru(i,a.Ns)}}function fx(s,t){const i=wt(s),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let l=zt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function xT(s){const t=wt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=wT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ox.bind(null,t),t.Pu.J_=YC.bind(null,t.eventManager),t.Pu.yu=XC.bind(null,t.eventManager),t}function dx(s){const t=wt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ux.bind(null,t),t}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return dC(this.persistence,new cC,t.initialUser,this.serializer)}Cu(t){return new hT(qm.Vi,this.serializer)}Du(t){return new EC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class mx extends uh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof oh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new XI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new hT((a=>oh.Vi(a,i)),this.serializer)}}class gm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Z0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=hx.bind(null,this.syncEngine),await qC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new GC})()}createDatastore(t){const i=wh(t.databaseInfo.databaseId),a=wC(t.databaseInfo);return NC(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new OC(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Z0(this.syncEngine,i,0)),(function(){return K0.v()?new K0:new TC})())}createSyncEngine(t,i){return(function(l,c,d,g,v,y,b){const w=new tx(l,c,d,g,v,y);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=wt(i);at(na,"RemoteStore shutting down."),a.Ea.add(5),await su(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class px{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):fs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const hr="FirestoreClient";class gx{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=an.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(hr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(hr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Jm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Fd(s,t){s.asyncQueue.verifyOperationInProgress(),at(hr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await fT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function tv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await yx(s);at(hr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Y0(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Y0(t.remoteStore,l))),s._onlineComponents=t}async function yx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(hr,"Using user provided OfflineComponentProvider");try{await Fd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;uo("Error using user provided cache. Falling back to memory cache: "+i),await Fd(s,new uh)}}else at(hr,"Using default OfflineComponentProvider"),await Fd(s,new mx(void 0));return s._offlineComponents}async function NT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(hr,"Using user provided OnlineComponentProvider"),await tv(s,s._uninitializedComponentsProvider._online)):(at(hr,"Using default OnlineComponentProvider"),await tv(s,new gm))),s._onlineComponents}function _x(s){return NT(s).then((t=>t.syncEngine))}async function ev(s){const t=await NT(s),i=t.eventManager;return i.onListen=ex.bind(null,t.syncEngine),i.onUnlisten=sx.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=nx.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=rx.bind(null,t.syncEngine),i}function vx(s,t,i,a){const l=new px(a),c=new $C(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>KC(await ev(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>QC(await ev(s),c)))}}function Ex(s,t){const i=new $r;return s.asyncQueue.enqueueAndForget((async()=>ax(await _x(s),t,i))),i.promise}function DT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const Tx="ComponentProvider",nv=new Map;function bx(s,t,i,a,l){return new zR(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,DT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const OT="firestore.googleapis.com",iv=!0;class sv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OT,this.ssl=iv}else this.host=t.host,this.ssl=t.ssl??iv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<QI)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ch{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new _R;switch(a.type){case"firstParty":return new bR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=nv.get(i);a&&(at(Tx,"Removing Datastore"),nv.delete(i),a.terminate())})(this),Promise.resolve()}}function Sx(s,t,i,a={}){s=so(s,Ch);const l=go(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(wv(`https://${g}`),Rv("Firestore",!0)),c.host!==OT&&c.host!==g&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:l,emulatorOptions:a};if(!Zr(v,d)&&(s._setSettings(v),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=an.MOCK_USER;else{y=IS(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ut(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new an(w)}s._authCredentials=new vR(new TE(y,b))}}class xh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new xh(this.firestore,t,this._query)}}class Be{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Be(this.firestore,t,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(eu(i,Be._jsonSchema))return new Be(t,a||null,new mt(fe.fromString(i.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:Ue("string",Be._jsonSchemaVersion),referencePath:Ue("string")};class rr extends xh{constructor(t,i,a){super(t,i,Pm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new mt(t))}withConverter(t){return new rr(this.firestore,t,this._path)}}function rv(s,t,...i){if(s=hn(s),bE("collection","path",t),s instanceof Ch){const a=fe.fromString(t,...i);return y0(a),new rr(s,null,a)}{if(!(s instanceof Be||s instanceof rr))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(fe.fromString(t,...i));return y0(a),new rr(s.firestore,null,a)}}function av(s,t,...i){if(s=hn(s),arguments.length===1&&(t=Nm.newId()),bE("doc","path",t),s instanceof Ch){const a=fe.fromString(t,...i);return g0(a),new Be(s,null,new mt(a))}{if(!(s instanceof Be||s instanceof rr))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(fe.fromString(t,...i));return g0(a),new Be(s.firestore,s instanceof rr?s.converter:null,new mt(a))}}const ov="AsyncQueue";class lv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mT(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&at(ov,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new $r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!To(t))throw t;at(ov,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",uv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=$m.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:uv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function uv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class ch extends Ch{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new lv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new lv(t),this._firestoreClient=void 0,await t}}}function Ax(s,t){const i=typeof s=="object"?s:Nv(),a=typeof s=="string"?s:th,l=Em(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=wS("firestore");c&&Sx(l,...c)}return l}function MT(s){if(s._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||wx(s),s._firestoreClient}function wx(s){const t=s._freezeSettings(),i=bx(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new gx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xn(nn.fromBase64String(t))}catch(i){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Xn(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(eu(t,Xn._jsonSchema))return Xn.fromBase64String(t.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Ue("string",Xn._jsonSchemaVersion),bytes:Ue("string")};class VT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class kT{constructor(t){this._methodName=t}}class Li{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(t){if(eu(t,Li._jsonSchema))return new Li(t.latitude,t.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:Ue("string",Li._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};class li{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(eu(t,li._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new li(t.vectorValues);throw new ut(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:Ue("string",li._jsonSchemaVersion),vectorValues:Ue("object")};const Rx=/^__.*__$/;class Ix{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ra(t,this.data,this.fieldMask,i,this.fieldTransforms):new nu(t,this.data,i,this.fieldTransforms)}}function LT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{dataSource:s})}}class ep{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new ep({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return hh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(LT(this.dataSource)&&Rx.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Cx{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||wh(t)}createContext(t,i,a,l=!1){return new ep({dataSource:t,methodName:i,targetDoc:a,path:en.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xx(s){const t=s._freezeSettings(),i=wh(s._databaseId);return new Cx(s._databaseId,!!t.ignoreUndefinedProperties,i)}function Nx(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);jT("Data must be an object, but it was:",d,a);const g=UT(a,d);let v,y;if(c.merge)v=new oi(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const w of c.mergeFields){const M=np(t,w,i);if(!d.contains(M))throw new ut(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);Mx(b,M)||b.push(M)}v=new oi(b),y=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,y=d.fieldTransforms;return new Ix(new Yn(g),v,y)}function PT(s,t){if(zT(s=hn(s)))return jT("Unsupported field value:",t,s),UT(s,t);if(s instanceof kT)return(function(a,l){if(!LT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let v=PT(g,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return hI(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=de.fromDate(a);return{timestampValue:ah(l.serializer,c)}}if(a instanceof de){const c=new de(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ah(l.serializer,c)}}if(a instanceof Li)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Xn)return{bytesValue:nT(l.serializer,a._byteString)};if(a instanceof Be){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Bm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof li)return(function(d,g){const v=d instanceof li?d.toArray():d;return{mapValue:{fields:{[DE]:{stringValue:OE},[eh]:{arrayValue:{values:v.map((b=>{if(typeof b!="number")throw g.createError("VectorValues must only contain numeric values.");return Um(g.serializer,b)}))}}}}}})(a,l);if(uT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Dm(a)}`)})(s,t)}function UT(s,t){const i={};return wE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ia(s,((a,l)=>{const c=PT(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function zT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof de||s instanceof Li||s instanceof Xn||s instanceof Be||s instanceof kT||s instanceof li||uT(s))}function jT(s,t,i){if(!zT(i)||!SE(i)){const a=Dm(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function np(s,t,i){if((t=hn(t))instanceof VT)return t._internalPath;if(typeof t=="string")return Ox(s,t);throw hh("Field path arguments must be of type string or ",s,!1,void 0,i)}const Dx=new RegExp("[~\\*/\\[\\]]");function Ox(s,t,i){if(t.search(Dx)>=0)throw hh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new VT(...t.split("."))._internalPath}catch{throw hh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function hh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new ut(J.INVALID_ARGUMENT,g+s+v)}function Mx(s,t){return s.some((i=>i.isEqual(t)))}class Vx{convertValue(t,i="none"){switch(ur(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ia(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[eh].arrayValue?.values?.map((a=>Ce(a.doubleValue)));return new li(i)}convertGeoPoint(t){return new Li(Ce(t.latitude),Ce(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=_h(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Fl(t));default:return null}}convertTimestamp(t){const i=or(t);return new de(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=fe.fromString(t);Yt(lT(a),9688,{name:t});const l=new Gl(a.get(1),a.get(3)),c=new mt(a.popFirst(5));return l.isEqual(i)||fs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class BT extends Vx{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,i)}}const cv="@firebase/firestore",hv="4.10.0";function fv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class HT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new kx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(np("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class kx extends HT{data(){return super.data()}}function Lx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Px(s,t,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,a}class Ml{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Jr extends HT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(np("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Jr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jr._jsonSchema={type:Ue("string",Jr._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class Fc extends Jr{data(t={}){return super.data(t)}}class oo{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ml(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Fc(this._firestore,this._userDataWriter,a.key,a,new Ml(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const v=new Fc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ml(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new Fc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ml(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:Ux(g.type),doc:v,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=oo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Ux(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}oo._jsonSchemaVersion="firestore/querySnapshot/1.0",oo._jsonSchema={type:Ue("string",oo._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};function dv(s,t,i){s=so(s,Be);const a=so(s.firestore,ch),l=Px(s.converter,t,i),c=xx(a);return jx(a,[Nx(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,ls.none())])}function zx(s,...t){s=hn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||fv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(fv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Be)d=so(s.firestore,ch),g=Pm(s._key.path),c={next:y=>{t[a]&&t[a](Bx(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=so(s,xh);d=so(y.firestore,ch),g=y._query;const b=new BT(d);c={next:w=>{t[a]&&t[a](new oo(d,b,y,w))},error:t[a+1],complete:t[a+2]},Lx(s._query)}const v=MT(d);return vx(v,g,l,c)}function jx(s,t){const i=MT(s);return Ex(i,t)}function Bx(s,t,i){const a=i.docs.get(t._key),l=new BT(s);return new Jr(s,l,t._key,a,new Ml(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){yR(yo),lo(new Wr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new ch(new ER(a.getProvider("auth-internal")),new SR(d,a.getProvider("app-check-internal")),jR(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),ir(cv,hv,t),ir(cv,hv,"esm2020")})();const Hx={apiKey:"AIzaSyAGLJLk3wzCmZrfQLSri0cLkZlBJnCIi-0",authDomain:"focusflow-d5411.firebaseapp.com",projectId:"focusflow-d5411",storageBucket:"focusflow-d5411.firebasestorage.app",messagingSenderId:"870983180050",appId:"1:870983180050:web:38a6ecbbd089b9d6bcddcb",measurementId:"G-E3QGBE2B1H"},qT=xv(Hx),Il=pR(qT),mv=Ax(qT),pv=typeof __app_id<"u"?__app_id:"default-app-id",Vc={Monday:{type:"Veg ",meals:{Breakfast:"100g paneer + 50g oats + 5 almonds + 1 fruit",Lunch:"2 rotis + dal + mixed veg + salad",Snacks:"Sprouts bowl + buttermilk",Dinner:"2 rotis + veg curry + curd"},backup:null},Tuesday:{type:"Non-Veg ",meals:{Breakfast:"3 whole eggs + 2 whites + oats",Lunch:"150g chicken + 2 rotis + veg",Snacks:"2 boiled eggs / whey",Dinner:"150g fish + stir fry veg"},backup:{Breakfast:"100g paneer + oats",Lunch:"150g paneer + 1 cup dal + 2 rotis",Snacks:"Whey / roasted chana",Dinner:"Tofu/paneer + veg + curd"}},Wednesday:{type:"Non-Veg ",meals:{Breakfast:"Eggs + oats",Lunch:"200g chicken + salad",Snacks:"Roasted chana",Dinner:"150g chicken + veg"},backup:{Breakfast:"Paneer + oats",Lunch:"Rajma + paneer + salad",Snacks:"Roasted chana",Dinner:"Soy chunks + veg"}},Thursday:{type:"Non-Veg ",meals:{Breakfast:"Eggs + oats",Lunch:"Fish + small rice + veg",Snacks:"Whey + almonds",Dinner:"Chicken + veg"},backup:{Breakfast:"Paneer + oats",Lunch:"Dal + tofu + small rice",Snacks:"Whey + almonds",Dinner:"Paneer bhurji + veg"}},Friday:{type:"Non-Veg ",meals:{Breakfast:"Eggs + oats",Lunch:"Chicken + 2 rotis + veg",Snacks:"Boiled eggs",Dinner:"Fish + veg"},backup:{Breakfast:"Paneer + oats",Lunch:"Chole + 2 rotis + paneer",Snacks:"Sprouts",Dinner:"Tofu + veg + curd"}},Saturday:{type:"Veg ",meals:{Breakfast:"Paneer + oats",Lunch:"Dal + 2 rotis + veg + curd",Snacks:"Sprouts + fruit",Dinner:"Veg soup + paneer"},backup:null},Sunday:{type:"Mix ",meals:{Breakfast:"Eggs + oats",Lunch:"Chicken + dal + 2 rotis",Snacks:"Fruit + nuts",Dinner:"Veg meal + curd"},backup:null},Notes:` Protein Target:
- Non-veg days: 140150g
- Veg fallback days: 125135g
- Veg only days: 115125g

 To Maintain Protein on Veg Days:
If needed, add 1 scoop whey (25g protein) OR 50g extra paneer.`},qx=()=>S.jsx("style",{children:`
      @keyframes pourEffect {
        0% { top: -20px; height: 0%; opacity: 0; }
        15% { top: -20px; height: 100%; opacity: 1; }
        85% { top: -20px; height: 100%; opacity: 1; }
        100% { top: 100%; height: 0%; opacity: 0; }
      }
      .animate-pour {
        animation: pourEffect 0.8s ease-in-out forwards;
      }
    `}),gv=({darkMode:s})=>{const[t,i]=Mt.useState(!1),[a,l]=Mt.useState("background.png"),c=()=>{a==="background.png"?l("background.jpg"):i(!0)};return S.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden bg-slate-900",children:[S.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${s?"from-slate-900 via-indigo-950 to-purple-950":"from-indigo-50 via-purple-50 to-white"} opacity-100`}),!t&&S.jsx("img",{src:a,alt:"Background",className:"absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 opacity-80",onError:c}),S.jsx("div",{className:`absolute inset-0 transition-all duration-700 ${s?"bg-slate-900/75 backdrop-blur-[2px]":"bg-white/60 backdrop-blur-[3px]"}`})]})},Fx=({data:s})=>{const t=s.reduce((a,l)=>a+l.value,0);let i=0;return t===0?S.jsx("div",{className:"flex items-center justify-center h-48 w-48 rounded-full border border-white/10 bg-white/5 backdrop-blur-sm text-xs opacity-50",children:"No Data "}):S.jsx("svg",{viewBox:"0 0 100 100",className:"w-48 h-48 transform -rotate-90 drop-shadow-xl",children:s.map((a,l)=>{const c=a.value/t*360,d=50+50*Math.cos(Math.PI*i/180),g=50+50*Math.sin(Math.PI*i/180),v=50+50*Math.cos(Math.PI*(i+c)/180),y=50+50*Math.sin(Math.PI*(i+c)/180),b=a.value===t?"M 50 50 m -50, 0 a 50,50 0 1,0 100,0 a 50,50 0 1,0 -100,0":`M 50 50 L ${d} ${g} A 50 50 0 ${c>180?1:0} 1 ${v} ${y} Z`,w=S.jsx("path",{d:b,fill:a.color,className:"transition-all duration-500 hover:opacity-90 stroke-white/5 stroke-1"},l);return i+=c,w})})},Gx=({data:s,label:t,color:i})=>{const d=Math.PI*2/5,g=b=>b.map((w,M)=>{const Y=w/100*80,W=100+Y*Math.cos(M*d-Math.PI/2),st=100+Y*Math.sin(M*d-Math.PI/2);return`${W},${st}`}).join(" "),v=["Energy","Focus","Mood","Health","Sleep"],y=g(s);return S.jsxs("div",{className:"flex flex-col items-center animate-fadeIn",children:[S.jsxs("h4",{className:"text-sm font-bold uppercase tracking-widest mb-4",style:{color:i},children:[t," Benefits"]}),S.jsxs("svg",{width:200,height:200,className:"overflow-visible",children:[[25,50,75,100].map(b=>S.jsx("polygon",{points:g([b,b,b,b,b]),fill:"none",stroke:"currentColor",strokeOpacity:"0.1"},b)),[0,1,2,3,4].map(b=>{const w=100+80*Math.cos(b*d-Math.PI/2),M=100+80*Math.sin(b*d-Math.PI/2);return S.jsxs("g",{children:[S.jsx("line",{x1:100,y1:100,x2:w,y2:M,stroke:"currentColor",strokeOpacity:"0.1"}),S.jsx("text",{x:w*1.15-100*.15,y:M*1.15-100*.15,fontSize:"10",textAnchor:"middle",fill:"currentColor",className:"opacity-60 uppercase font-bold",children:v[b]})]},b)}),S.jsx("polygon",{points:y,fill:i,fillOpacity:"0.4",stroke:i,strokeWidth:"2"}),s.map((b,w)=>{const M=b/100*80,Y=100+M*Math.cos(w*d-Math.PI/2),W=100+M*Math.sin(w*d-Math.PI/2);return S.jsx("circle",{cx:Y,cy:W,r:"3",fill:i},w)})]}),S.jsxs("p",{className:"text-xs mt-4 opacity-60 text-center max-w-[200px]",children:["Adopting this habit significantly boosts your ",S.jsx("span",{className:"font-bold",children:"Focus"})," and ",S.jsx("span",{className:"font-bold",children:"Health"})," metrics."]})]})},Kx=({glassClass:s,darkMode:t})=>{const[i,a]=Mt.useState(null),l=[{id:"mental",title:"Mental Well-being",icon:S.jsx(Ub,{size:20}),color:"#8b5cf6",graphData:[60,95,90,70,85],tips:["Meditate 10m daily","Journal thoughts","Digital detox after 9 PM"]},{id:"food",title:"Food Habits",icon:S.jsx(Gd,{size:20}),color:"#10b981",graphData:[90,80,75,95,70],tips:["Prioritize protein","Hydrate (3L/day)","Avoid processed sugar"]},{id:"exercise",title:"Exercise Routine",icon:S.jsx(Kb,{size:20}),color:"#f59e0b",graphData:[95,85,80,100,90],tips:["30m Zone 2 cardio","Strength training 3x/week","Daily stretching"]}];return S.jsxs("div",{className:`p-6 rounded-3xl mt-6 ${s} transition-all`,children:[S.jsx("div",{className:"flex justify-between items-center mb-6",children:S.jsx("h3",{className:"font-bold text-lg flex items-center gap-2",children:" Wellness Hub"})}),i?S.jsxs("div",{className:"relative",children:[S.jsx("button",{onClick:()=>a(null),className:"absolute -top-12 right-0 text-xs font-bold uppercase tracking-wider opacity-60 hover:opacity-100 transition-opacity",children:"Close "}),S.jsx(Gx,{data:i.graphData,label:i.title,color:i.color}),S.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10",children:[S.jsx("h5",{className:"font-bold text-sm mb-3",children:"Actionable Tips:"}),S.jsx("ul",{className:"space-y-2",children:i.tips.map((c,d)=>S.jsxs("li",{className:"flex items-center gap-2 text-sm opacity-80",children:[S.jsx(_v,{size:14,style:{color:i.color}})," ",c]},d))})]})]}):S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:l.map(c=>S.jsxs("button",{onClick:()=>a(c),className:`p-4 rounded-2xl border transition-all flex flex-col items-center text-center gap-3 hover:scale-105 ${t?"bg-white/5 border-white/10 hover:bg-white/10":"bg-black/5 border-black/10 hover:bg-black/10"}`,children:[S.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-white/10 to-transparent shadow-sm",style:{color:c.color,borderColor:c.color,borderWidth:1},children:c.icon}),S.jsx("span",{className:"text-xs font-bold",children:c.title})]},c.id))})]})};function Qx(){const[s,t]=Mt.useState(!0),[i,a]=Mt.useState(null),[l,c]=Mt.useState(!1),[d,g]=Mt.useState(!0),[v,y]=Mt.useState(new Date),[b,w]=Mt.useState(new Date),[M,Y]=Mt.useState("planner"),[W,st]=Mt.useState(!1),[Z,ct]=Mt.useState([]),[ft,gt]=Mt.useState([]),[Xt,oe]=Mt.useState([]),[Et,x]=Mt.useState(Vc),[A,C]=Mt.useState(0),[V,D]=Mt.useState(null),[L,R]=Mt.useState(""),[Wt,ve]=Mt.useState(""),[F,nt]=Mt.useState(""),[ht,Vt]=Mt.useState(""),[Nt,O]=Mt.useState(!1),[Q,it]=Mt.useState(!1),[rt,yt]=Mt.useState(""),[Tt,xt]=Mt.useState(""),[Ft,re]=Mt.useState(!1),[Vn,zi]=Mt.useState(""),ps=[{id:"planner",label:"Planner ",icon:S.jsx($b,{size:16})},{id:"tracker",label:"Tracker ",icon:S.jsx(L_,{size:16})},{id:"diet",label:"Diet ",icon:S.jsx(Gd,{size:16})},{id:"stats",label:"Stats ",icon:S.jsx(jb,{size:16})},{id:"profile",label:"Profile ",icon:S.jsx(V_,{size:16})}];Mt.useEffect(()=>{const q=setInterval(()=>w(new Date),1e3);return()=>clearInterval(q)},[]),Mt.useEffect(()=>{const q=i2(Il,tt=>{tt?(a(tt),c(!1),g(!1)):Xw(Il).then(()=>{g(!1)}).catch(St=>{console.warn("Guest login unavailable:",St.message),c(!0);const Gt=localStorage.getItem("focusFlowData");if(Gt){const le=JSON.parse(Gt);ct(le.tasks||[]),gt(le.habits||[]),oe(le.dailyHistory||[]),x(le.dietPlan||Vc),C(le.waterIntake||0)}g(!1)})});return()=>q()},[]),Mt.useEffect(()=>{if(!i)return;const q=av(rv(mv,"artifacts",pv,"users",i.uid,"plannerData"),"daily"),tt=zx(q,St=>{if(St.exists()){const Gt=St.data();ct(Gt.tasks||[]),gt(Gt.habits||[]),oe(Gt.dailyHistory||[]),x(Gt.dietPlan||Vc),C(Gt.waterIntake||0),Gt.savedDate&&y(new Date(Gt.savedDate))}else{const Gt={tasks:[{id:1,text:"Welcome! Add your first task. ",completed:!1,category:"General"}],habits:[{id:1,text:"Check App ",streak:0,completedToday:!1,history:[]}],dietPlan:Vc,waterIntake:0,dailyHistory:[],savedDate:new Date().toISOString()};dv(q,Gt)}});return()=>tt()},[i]);const gs=()=>{const q=b.getHours(),tt=i?.displayName||i?.email?.split("@")[0]||"Friend";return q<12?`Good morning, ${tt}`:q<18?`Good afternoon, ${tt}`:`Good evening, ${tt}`},ge=async(q,tt,St,Gt,le,ye)=>{const bn=q!==void 0?q:Z,te=tt!==void 0?tt:ft,ue=St!==void 0?St:Xt,Sn=Gt||v,dn=le!==void 0?le:Et,la=ye!==void 0?ye:A,ua={tasks:bn,habits:te,dailyHistory:ue,savedDate:Sn,dietPlan:dn,waterIntake:la};if(localStorage.setItem("focusFlowData",JSON.stringify(ua)),i){const kn=av(rv(mv,"artifacts",pv,"users",i.uid,"plannerData"),"daily");await dv(kn,{tasks:bn,habits:te,dailyHistory:ue,savedDate:Sn.toISOString(),dietPlan:dn,waterIntake:la},{merge:!0})}},ys=async q=>{q.preventDefault(),zi("");try{Ft?await Ww(Il,rt,Tt):await t2(Il,rt,Tt),yt(""),xt("")}catch(tt){zi(tt.message.replace("Firebase: ",""))}},ji=()=>s2(Il),pr=q=>{if(q.preventDefault(),!Wt.trim())return;const tt=[...Z,{id:Date.now(),text:Wt,completed:!1,category:"General"}];ct(tt),ve(""),ge(tt)},gr=q=>{if(q.preventDefault(),!F.trim())return;const St=F.split(`
`).filter(le=>le.trim()!=="").map((le,ye)=>({id:Date.now()+ye,text:le.trim(),completed:!1,category:"General"})),Gt=[...Z,...St];ct(Gt),nt(""),st(!1),ge(Gt)},Ee=q=>{const tt=Z.map(St=>St.id===q?{...St,completed:!St.completed}:St);ct(tt),ge(tt)},Ae=q=>{const tt=Z.filter(St=>St.id!==q);ct(tt),ge(tt)},ci=()=>{if(confirm("Remove completed tasks? ")){const q=Z.filter(tt=>!tt.completed);ct(q),ge(q)}},So=q=>{if(q.preventDefault(),!ht.trim())return;const tt=[...ft,{id:Date.now(),text:ht,streak:0,completedToday:!1,history:[]}];gt(tt),Vt(""),ge(void 0,tt)},oa=q=>{const tt=ft.map(St=>{if(St.id===q){const Gt=!St.completedToday,le=Gt?St.streak+1:Math.max(0,St.streak-1);return{...St,completedToday:Gt,streak:le}}return St});gt(tt),ge(void 0,tt)},Ye=q=>{const tt=ft.filter(St=>St.id!==q);gt(tt),ge(void 0,tt)},hi=(q,tt,St,Gt)=>{x(le=>{const ye={...le[q]};return tt==="backup"&&!ye.backup&&(ye.backup={Breakfast:"",Lunch:"",Snacks:"",Dinner:""}),{...le,[q]:{...ye,[tt]:{...ye[tt],[St]:Gt}}}})},yr=()=>{O(!1),ge(void 0,void 0,void 0,void 0,Et,void 0)},_r=()=>{A>=6||Q||(it(!0),setTimeout(()=>{const q=A+1;C(q),ge(void 0,void 0,void 0,void 0,void 0,q)},250),setTimeout(()=>{it(!1)},800))},fi=q=>{q.stopPropagation();const tt=Math.max(0,A-1);C(tt),ge(void 0,void 0,void 0,void 0,void 0,tt)},Ao=()=>{const q=Z.length+ft.length,tt=Z.filter(ue=>ue.completed).length+ft.filter(ue=>ue.completedToday).length,St=q===0?0:Math.round(tt/q*100),Gt={date:v.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),score:St},le=[...Xt,Gt],ye=ft.map(ue=>({...ue,completedToday:!1,streak:ue.completedToday?ue.streak:0,history:[...ue.history,ue.completedToday?1:0]})),bn=Z.filter(ue=>!ue.completed),te=new Date(v);te.setDate(te.getDate()+1),ct(bn),gt(ye),oe(le),y(te),C(0),ge(bn,ye,le,te,Et,0)},vr=Mt.useMemo(()=>{const q=Z.length+ft.length;if(q===0)return 0;const tt=Z.filter(St=>St.completed).length+ft.filter(St=>St.completedToday).length;return Math.round(tt/q*100)},[Z,ft]),Er=[{name:"Tasks ",value:Z.filter(q=>q.completed).length,color:"#8b5cf6"},{name:"Habits ",value:ft.filter(q=>q.completedToday).length,color:"#ec4899"},{name:"Left ",value:Z.filter(q=>!q.completed).length+ft.filter(q=>!q.completedToday).length,color:s?"#334155":"#cbd5e1"}].filter(q=>q.value>0),fn=`backdrop-blur-xl border border-white/20 shadow-xl transition-all duration-300 ${s?"bg-slate-900/60 text-slate-100":"bg-white/70 text-slate-900"}`,qe=`w-full p-4 rounded-xl border outline-none transition-all placeholder:text-slate-400 font-medium ${s?"bg-black/20 border-white/10 focus:border-indigo-500":"bg-white/50 border-slate-200 focus:border-indigo-600"}`,Te="bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white shadow-lg shadow-indigo-500/30 transition-all transform hover:-translate-y-0.5";return d?S.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center text-indigo-400 font-bold tracking-widest uppercase animate-pulse",children:"Loading FocusFlow..."}):i?S.jsxs("div",{className:`font-sans relative min-h-screen overflow-x-hidden ${s?"text-slate-100":"text-slate-900"}`,children:[S.jsx(qx,{}),S.jsx(gv,{darkMode:s}),S.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[S.jsx("header",{className:`sticky top-0 z-30 backdrop-blur-md border-b ${s?"bg-slate-900/50 border-white/5":"bg-white/50 border-white/20"}`,children:S.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`p-2 rounded-xl backdrop-blur-sm ${s?"bg-indigo-500/20 text-indigo-400":"bg-indigo-100/80 text-indigo-600"}`,children:S.jsx(Yb,{size:24})}),S.jsxs("div",{children:[S.jsxs("h1",{className:"font-bold text-lg sm:text-xl leading-none drop-shadow-sm tracking-tight",children:[gs()," ",b.getHours()<12?"":b.getHours()<18?"":""]}),S.jsx("p",{className:`text-xs mt-1 font-medium ${s?"text-slate-300":"text-slate-600"}`,children:"Welcome to FocusFlow "})]})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsxs("div",{className:"hidden sm:flex flex-col items-end mr-1 text-right",children:[S.jsx("span",{className:"font-bold text-sm leading-none drop-shadow-sm",children:b.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),S.jsxs("span",{className:`text-[10px] font-medium mt-1 uppercase tracking-wider ${s?"text-slate-400":"text-slate-500"}`,children:[b.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})," "]})]}),S.jsxs("button",{onClick:Ao,className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all hidden md:flex backdrop-blur-sm ${s?"bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20 border border-emerald-500/20":"bg-emerald-50/80 text-emerald-700 hover:bg-emerald-100 border border-emerald-200"}`,title:"Finish today and start tomorrow",children:[S.jsx(aS,{size:14})," End Day "]}),S.jsx("button",{onClick:()=>t(!s),className:`p-2 rounded-lg transition-colors backdrop-blur-sm hidden sm:block ${s?"hover:bg-slate-800/50 text-slate-300":"hover:bg-white/50 text-slate-600"}`,children:s?S.jsx(uS,{size:20}):S.jsx(nS,{size:20})}),S.jsx("button",{onClick:()=>Y("profile"),className:"w-10 h-10 ml-1 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-lg ring-2 ring-white/20 hover:scale-105 transition-transform",title:"My Profile",children:(i?.displayName||i?.email||"U")[0].toUpperCase()})]})]})}),S.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-8 space-y-8 flex-1 w-full",children:[S.jsx("div",{className:`flex p-1 rounded-xl overflow-x-auto backdrop-blur-md shadow-sm ${s?"bg-slate-800/60 border border-slate-700/50":"bg-slate-200/60 border border-slate-200/50"}`,children:ps.map(q=>S.jsxs("button",{onClick:()=>Y(q.id),className:`flex-1 flex items-center justify-center gap-2 py-2.5 px-4 text-sm font-medium rounded-lg transition-all capitalize whitespace-nowrap ${M===q.id?s?"bg-indigo-600 text-white shadow-lg shadow-black/20":"bg-indigo-500 text-white shadow-sm":s?"text-slate-400 hover:text-slate-200 hover:bg-white/5":"text-slate-500 hover:text-slate-700 hover:bg-black/5"}`,children:[q.icon,q.label]},q.id))}),M==="planner"&&S.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[S.jsxs("div",{className:`rounded-xl p-4 transition-all ${fn}`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("h3",{className:"font-medium text-sm opacity-80",children:"Daily Tasks "}),S.jsxs("div",{className:"flex gap-2",children:[Z.some(q=>q.completed)&&S.jsxs("button",{onClick:ci,className:"text-xs px-2 py-1 rounded hover:bg-red-500/10 text-red-400 flex items-center gap-1 transition-colors",children:[S.jsx(Od,{size:12})," Clear Done "]}),S.jsxs("button",{onClick:()=>st(!W),className:"text-xs px-2 py-1 rounded hover:bg-indigo-100 dark:hover:bg-indigo-900/30 text-indigo-500 flex items-center gap-1",children:[S.jsx(hS,{size:12})," ",W?"Single Add ":"Bulk Add "]})]})]}),W?S.jsxs("form",{onSubmit:gr,children:[S.jsx("textarea",{value:F,onChange:q=>nt(q.target.value),placeholder:"Enter multiple tasks, one per line... ",className:`${qe} h-32 mb-3`}),S.jsx("button",{type:"submit",className:`w-full py-3 rounded-xl font-bold uppercase tracking-wide transition-all ${Te}`,children:"Add All Tasks "})]}):S.jsxs("form",{onSubmit:pr,className:"relative",children:[S.jsx("input",{type:"text",value:Wt,onChange:q=>ve(q.target.value),placeholder:"What needs to be done today? ",className:`${qe} pr-12`}),S.jsx("button",{type:"submit",className:"absolute right-2 top-2 p-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg transition-colors shadow-lg shadow-indigo-500/20",children:S.jsx(sS,{size:20})})]})]}),S.jsxs("div",{className:"space-y-3",children:[Z.length===0&&S.jsx("div",{className:`text-center py-12 border-2 border-dashed rounded-xl backdrop-blur-sm ${s?"border-slate-700/50 text-slate-500 bg-slate-800/30":"border-slate-300/50 text-slate-400 bg-white/30"}`,children:S.jsx("p",{children:"No tasks yet. Start planning your day! "})}),Z.map(q=>S.jsxs("div",{className:`group flex items-center justify-between p-4 rounded-xl border transition-all duration-200 backdrop-blur-sm ${q.completed?s?"bg-slate-800/40 border-slate-700/50 opacity-75":"bg-slate-50/60 border-slate-200/50 text-slate-500":s?"bg-slate-800/80 border-slate-700/80 hover:border-indigo-500/50":"bg-white/80 border-slate-200 hover:border-indigo-300 hover:shadow-sm"}`,children:[S.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[S.jsx("button",{onClick:()=>Ee(q.id),className:`flex-shrink-0 transition-colors ${q.completed?"text-emerald-500":s?"text-slate-500 hover:text-indigo-400":"text-slate-300 hover:text-indigo-500"}`,children:q.completed?S.jsx(_v,{size:24,className:"fill-emerald-500/10"}):S.jsx(Fb,{size:24})}),S.jsx("span",{className:`text-base flex-1 break-all ${q.completed?"line-through":""}`,children:q.text})]}),S.jsx("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:S.jsx("button",{onClick:()=>Ae(q.id),className:`p-2 rounded-lg transition-all ${s?"text-slate-500 hover:text-red-400 hover:bg-red-400/10":"text-slate-400 hover:text-red-500 hover:bg-red-50"}`,children:S.jsx(Od,{size:18})})})]},q.id))]})]}),M==="tracker"&&S.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[S.jsxs("div",{className:`p-8 rounded-3xl ${fn} flex flex-col items-center`,children:[S.jsxs("div",{className:"text-center mb-6",children:[S.jsx("h3",{className:"font-black text-2xl uppercase tracking-widest text-indigo-400",children:"Hydration Protocol "}),S.jsx("p",{className:"text-xs font-bold uppercase tracking-widest opacity-60 mt-1",children:"Goal: 3000ml / Day"})]}),S.jsxs("div",{className:"relative w-40 h-64 sm:w-48 sm:h-72 mx-auto cursor-pointer group",onClick:_r,children:[S.jsxs("div",{className:`absolute inset-0 rounded-b-xl border-4 border-t-0 shadow-[inset_0_-10px_20px_rgba(0,0,0,0.1)] overflow-hidden ${s?"border-white/30 bg-white/5":"border-slate-300 bg-slate-200/40"}`,style:{clipPath:"polygon(10% 0%, 90% 0%, 80% 100%, 20% 100%)"},children:[S.jsxs("div",{className:"absolute inset-0 flex justify-evenly opacity-30 pointer-events-none mix-blend-overlay",children:[S.jsx("div",{className:`w-px h-full ${s?"bg-white":"bg-slate-400"}`}),S.jsx("div",{className:`w-px h-full ${s?"bg-white":"bg-slate-400"}`}),S.jsx("div",{className:`w-px h-full ${s?"bg-white":"bg-slate-400"}`})]}),S.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-blue-600/90 to-blue-400/80 transition-all duration-[800ms] ease-out shadow-[0_-5px_15px_rgba(59,130,246,0.4)]",style:{height:`${A/6*100}%`},children:S.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-blue-200/60 rounded-full blur-[1px]"})}),S.jsx("div",{className:"absolute inset-0 flex flex-col-reverse justify-between py-[16.66%] pointer-events-none",children:[1,2,3,4,5].map(q=>S.jsx("div",{className:"w-full h-[1px] bg-white/30 dark:bg-white/20 flex items-center px-2",children:S.jsxs("span",{className:`text-[9px] font-bold ${s?"text-white/60":"text-slate-500"}`,children:[q*500,"ml"]})},q))})]}),Q&&S.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 w-4 bg-blue-400/80 rounded-full animate-pour z-10 blur-[1px]"}),S.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-20",children:S.jsx("div",{className:"bg-black/60 text-white text-xs font-bold px-4 py-2 rounded-full backdrop-blur-sm shadow-xl",children:A>=6?"Fully Hydrated! ":"Click to Drink "})})]}),S.jsxs("div",{className:"mt-8 text-center relative",children:[S.jsxs("p",{className:"text-4xl font-black text-indigo-400",children:[A*500," ",S.jsx("span",{className:"text-sm font-semibold opacity-60 text-slate-500",children:"/ 3000 ml"})]}),A>0&&S.jsx("button",{onClick:fi,className:"absolute -right-12 top-2 text-xs font-bold opacity-40 hover:opacity-100 transition-opacity flex items-center gap-1 text-slate-500",children:"Undo "})]})]}),S.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-500/20",children:[S.jsxs("form",{onSubmit:So,className:"flex gap-2",children:[S.jsx("input",{type:"text",value:ht,onChange:q=>Vt(q.target.value),placeholder:"New habit to track... ",className:`${qe} flex-1`}),S.jsx("button",{type:"submit",className:`px-6 py-2 font-bold uppercase tracking-wider rounded-xl ${Te}`,children:"Add "})]}),S.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:ft.map(q=>S.jsxs("div",{className:`p-5 rounded-2xl border transition-all backdrop-blur-sm ${q.completedToday?s?"bg-indigo-900/40 border-indigo-500/30":"bg-indigo-50/80 border-indigo-200":s?"bg-slate-800/80 border-slate-700/80":"bg-white/80 border-slate-200"}`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[S.jsx("div",{className:`p-2 rounded-lg ${q.completedToday?"bg-indigo-500 text-white":s?"bg-slate-700 text-slate-400":"bg-slate-100 text-slate-400"}`,children:S.jsx(L_,{size:20})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h3",{className:`font-semibold ${q.completedToday?s?"text-indigo-300":"text-indigo-900":""}`,children:q.text}),S.jsxs("p",{className:`text-xs ${s?"text-slate-400":"text-slate-500"}`,children:[q.streak," day streak "]})]})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>oa(q.id),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all ${q.completedToday?"bg-indigo-500 text-white shadow-lg shadow-indigo-500/30 hover:bg-indigo-600":s?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:q.completedToday?"Done ":"Mark "}),S.jsx("button",{onClick:()=>Ye(q.id),className:`p-2 rounded-full transition-all ${s?"text-slate-600 hover:bg-red-900/20 hover:text-red-400":"text-slate-400 hover:bg-red-50 hover:text-red-500"}`,children:S.jsx(Od,{size:16})})]})]}),S.jsx("div",{className:"flex gap-1 justify-end",children:[...q.history,q.completedToday?1:0].slice(-7).map((tt,St)=>S.jsx("div",{className:`w-2 h-6 rounded-sm ${tt?"bg-indigo-500":s?"bg-slate-700":"bg-slate-200"}`},St))})]},q.id))})]})]}),M==="diet"&&S.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[S.jsxs("div",{className:`p-5 rounded-2xl flex justify-between items-center ${fn}`,children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`p-2 rounded-lg ${s?"bg-indigo-500/20 text-indigo-400":"bg-indigo-100 text-indigo-600"}`,children:S.jsx(Gd,{size:24})}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-xl font-bold",children:"My Diet Plan "}),S.jsx("p",{className:`text-xs font-medium ${s?"text-slate-400":"text-slate-500"}`,children:"Weekly overview & protein targets "})]})]}),S.jsx("button",{onClick:()=>{Nt?yr():O(!0)},className:`px-4 py-2 rounded-xl text-sm font-bold transition-all shadow-sm flex items-center gap-1 ${Nt?"bg-indigo-500 text-white hover:bg-indigo-600":s?"bg-slate-700 text-white hover:bg-slate-600":"bg-slate-200 text-slate-800 hover:bg-slate-300"}`,children:Nt?"Save Plan ":"Edit Plan "})]}),S.jsx("div",{className:"grid gap-6",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(q=>S.jsxs("div",{className:`p-5 rounded-2xl ${fn}`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-slate-500/20 pb-3",children:[S.jsxs("h3",{className:`font-bold text-lg ${s?"text-indigo-400":"text-indigo-600"}`,children:[q," "]}),S.jsx("span",{className:`text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider ${Et[q].type.includes("Veg")?"bg-emerald-500/10 text-emerald-500 border border-emerald-500/20":"bg-orange-500/10 text-orange-500 border border-orange-500/20"}`,children:Et[q].type})]}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsx("h4",{className:`font-semibold text-sm ${s?"text-slate-300":"text-slate-600"} border-b border-dashed border-slate-500/30 pb-1`,children:"Main Plan "}),["Breakfast","Lunch","Snacks","Dinner"].map(tt=>S.jsxs("div",{children:[S.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider block mb-1 ${s?"text-slate-500":"text-slate-400"}`,children:tt}),Nt?S.jsx("input",{type:"text",value:Et[q].meals[tt],onChange:St=>hi(q,"meals",tt,St.target.value),className:`w-full p-2 text-sm rounded border bg-transparent ${s?"border-slate-600 focus:border-indigo-500 text-white":"border-slate-300 focus:border-indigo-500 text-black"}`}):S.jsx("p",{className:"text-sm font-medium leading-relaxed",children:Et[q].meals[tt]})]},tt))]}),(Et[q].backup||Nt)&&S.jsxs("div",{className:`space-y-4 p-4 rounded-xl border ${s?"bg-emerald-500/5 border-emerald-500/10":"bg-emerald-50 border-emerald-100"}`,children:[S.jsx("h4",{className:"font-semibold text-sm text-emerald-600 border-b border-dashed border-emerald-500/30 pb-1",children:"Veg Backup Option "}),["Breakfast","Lunch","Snacks","Dinner"].map(tt=>S.jsxs("div",{children:[S.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-600/60 block mb-1",children:tt}),Nt?S.jsx("input",{type:"text",value:Et[q].backup?.[tt]||"",onChange:St=>hi(q,"backup",tt,St.target.value),placeholder:"Add veg alternative...",className:`w-full p-2 text-sm rounded border bg-transparent ${s?"border-emerald-500/30 focus:border-emerald-500 text-white":"border-emerald-200 focus:border-emerald-500 text-black"}`}):S.jsx("p",{className:"text-sm font-medium leading-relaxed text-emerald-800 dark:text-emerald-200",children:Et[q].backup?.[tt]||"-"})]},tt))]})]})]},q))}),S.jsxs("div",{className:`p-6 rounded-2xl border backdrop-blur-md ${s?"bg-amber-900/10 border-amber-500/20":"bg-amber-50/80 border-amber-200/80"}`,children:[S.jsx("h3",{className:"font-bold text-lg text-amber-600 mb-4 flex items-center gap-2",children:" Important Notes"}),Nt?S.jsx("textarea",{value:Et.Notes,onChange:q=>x({...Et,Notes:q.target.value}),className:`w-full h-40 p-3 text-sm rounded-xl border bg-transparent ${s?"border-amber-500/30 text-amber-100 focus:border-amber-500":"border-amber-300 text-amber-900 focus:border-amber-500"}`}):S.jsx("div",{className:`whitespace-pre-line text-sm leading-relaxed font-medium ${s?"text-amber-100/80":"text-amber-900/80"}`,children:Et.Notes})]})]}),M==="stats"&&S.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[S.jsxs("div",{className:`p-6 rounded-2xl flex flex-col items-center ${fn}`,children:[S.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Today's Breakdown "}),S.jsx(Fx,{data:Er}),S.jsx("div",{className:"mt-8 flex gap-6 flex-wrap justify-center",children:Er.map((q,tt)=>S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:q.color}}),S.jsxs("span",{className:`text-sm ${s?"text-slate-300":"text-slate-600"}`,children:[q.name," (",q.value,")"]})]},tt))})]}),S.jsxs("div",{className:`p-6 rounded-2xl border ${fn}`,children:[S.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[S.jsx(Lb,{className:"text-amber-500"}),S.jsx("h2",{className:"text-lg font-semibold",children:"Consistency Score "})]}),S.jsxs("div",{className:"flex items-end gap-2",children:[S.jsxs("span",{className:"text-4xl font-bold",children:[vr,"%"]}),S.jsx("span",{className:"text-slate-500 mb-1",children:"completed today "})]}),S.jsx("div",{className:`w-full h-2 mt-4 rounded-full ${s?"bg-slate-700":"bg-slate-200"}`,children:S.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all duration-1000 shadow-lg shadow-indigo-500/50",style:{width:`${vr}%`}})})]}),S.jsx(Kx,{glassClass:fn,darkMode:s})]}),M==="profile"&&S.jsx("div",{className:`max-w-md mx-auto p-6 rounded-2xl ${fn} animate-fadeIn`,children:i&&!i.isAnonymous?S.jsxs("div",{className:"text-center space-y-6",children:[S.jsxs("div",{className:"relative w-24 h-24 mx-auto",children:[S.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-3xl text-white font-bold shadow-lg shadow-indigo-500/30",children:(i.email||"U")[0].toUpperCase()}),S.jsx("div",{className:"absolute bottom-0 right-0 p-2 bg-emerald-500 rounded-full border-4 border-slate-800",children:S.jsx(k_,{size:16,className:"text-white"})})]}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-xl font-bold",children:i.email}),S.jsx("p",{className:"text-slate-500 text-sm",children:"Account Verified "})]}),S.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-4",children:[S.jsxs("div",{className:"p-3 bg-indigo-500/10 rounded-lg",children:[S.jsx("p",{className:"text-lg font-bold text-indigo-500",children:Z.filter(q=>q.completed).length}),S.jsx("p",{className:"text-[10px] uppercase opacity-70",children:"Tasks"})]}),S.jsxs("div",{className:"p-3 bg-emerald-500/10 rounded-lg",children:[S.jsx("p",{className:"text-lg font-bold text-emerald-500",children:ft.filter(q=>q.completedToday).length}),S.jsx("p",{className:"text-[10px] uppercase opacity-70",children:"Habits"})]}),S.jsxs("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:[S.jsxs("p",{className:"text-lg font-bold text-blue-500",children:[A*500,S.jsx("span",{className:"text-xs",children:"ml"})]}),S.jsx("p",{className:"text-[10px] uppercase opacity-70",children:"Water"})]})]}),S.jsxs("button",{onClick:ji,className:"flex items-center justify-center gap-2 w-full py-3 rounded-xl border border-red-200 text-red-600 hover:bg-red-50/50 transition-colors",children:[S.jsx(Zb,{size:18})," Sign Out "]})]}):S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("h2",{className:"text-2xl font-bold mb-2",children:Ft?"Create Account ":"Welcome Back "}),S.jsx("p",{className:"text-slate-500 text-sm",children:Ft?"Start tracking your journey today. ":"Login to sync your data across devices. "}),l&&S.jsx("div",{className:"mt-2 p-2 bg-amber-500/20 text-amber-300 text-xs rounded border border-amber-500/30",children:"Note: Running in offline mode. Tasks are saved to this device only. "})]}),Vn&&S.jsx("div",{className:"p-3 bg-red-50/90 text-red-600 text-sm rounded-lg border border-red-100",children:Vn}),S.jsxs("form",{onSubmit:ys,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-semibold uppercase text-slate-500 mb-1",children:"Email "}),S.jsx("input",{type:"email",required:!0,value:rt,onChange:q=>yt(q.target.value),className:`w-full p-3 rounded-lg border bg-transparent ${s?"border-slate-600 text-white":"border-slate-300 text-slate-900"}`})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-semibold uppercase text-slate-500 mb-1",children:"Password "}),S.jsx("input",{type:"password",required:!0,value:Tt,onChange:q=>xt(q.target.value),className:`w-full p-3 rounded-lg border bg-transparent ${s?"border-slate-600 text-white":"border-slate-300 text-slate-900"}`})]}),S.jsx("button",{type:"submit",className:`w-full py-3 font-bold rounded-xl transition-all ${Te}`,children:Ft?"Sign Up ":"Login "})]}),S.jsx("div",{className:"text-center",children:S.jsx("button",{onClick:()=>re(!Ft),className:"text-sm text-indigo-500 hover:underline",children:Ft?"Already have an account? Login ":"Need an account? Sign Up "})})]})})]})]})]}):S.jsxs("div",{className:`font-sans min-h-screen flex items-center justify-center relative overflow-hidden ${s?"bg-slate-900":"bg-slate-50"}`,children:[S.jsx(gv,{darkMode:s}),S.jsxs("div",{className:`relative z-10 w-full max-w-md p-10 ${fn} rounded-3xl`,children:[S.jsxs("div",{className:"text-center mb-10",children:[S.jsx("div",{className:"w-16 h-16 mx-auto flex items-center justify-center shadow-lg mb-6 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl",children:S.jsx(k_,{size:32,className:"text-white"})}),S.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"FocusFlow"}),S.jsx("p",{className:"text-xs font-bold tracking-widest opacity-60 uppercase",children:Ft?"Begin Journey":"Welcome Back"})]}),Vn&&S.jsxs("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/30 text-red-200 text-sm rounded-xl text-center flex items-center justify-center gap-2",children:[S.jsx(gS,{size:14})," ",Vn]}),S.jsxs("form",{onSubmit:ys,className:"space-y-5",children:[Ft&&S.jsxs("div",{className:"relative group",children:[S.jsx(V_,{className:"absolute left-4 top-4 opacity-50",size:20}),S.jsx("input",{type:"text",required:!0,value:name,onChange:q=>setName(q.target.value),placeholder:"Name",className:`${qe} pl-12`})]}),S.jsxs("div",{className:"relative group",children:[S.jsx(tS,{className:"absolute left-4 top-4 opacity-50",size:20}),S.jsx("input",{type:"email",required:!0,value:rt,onChange:q=>yt(q.target.value),placeholder:"Email",className:`${qe} pl-12`})]}),S.jsxs("div",{className:"relative group",children:[S.jsx(Lock,{className:"absolute left-4 top-4 opacity-50",size:20}),S.jsx("input",{type:"password",required:!0,value:Tt,onChange:q=>xt(q.target.value),placeholder:"Password",className:`${qe} pl-12`})]}),S.jsx("button",{type:"submit",className:`w-full py-4 font-bold tracking-wide rounded-xl ${Te}`,children:Ft?"Sign Up":"Login"})]}),S.jsx("div",{className:"mt-8 text-center",children:S.jsx("button",{onClick:()=>re(!Ft),className:"text-xs font-bold opacity-60 hover:opacity-100 uppercase tracking-widest transition-colors",children:Ft?"Login instead":"Create Account"})})]})]})}xb.createRoot(document.getElementById("root")).render(S.jsx(Mt.StrictMode,{children:S.jsx(Qx,{})}));
