(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var wd={exports:{}},vl={};var E_;function _b(){if(E_)return vl;E_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return vl.Fragment=t,vl.jsx=i,vl.jsxs=i,vl}var T_;function vb(){return T_||(T_=1,wd.exports=_b()),wd.exports}var O=vb(),Rd={exports:{}},bt={};var b_;function Eb(){if(b_)return bt;b_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function K(x){return x===null||typeof x!="object"?null:(x=M&&x[M]||x["@@iterator"],typeof x=="function"?x:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,W={};function ft(x,Y,et){this.props=x,this.context=Y,this.refs=W,this.updater=et||Z}ft.prototype.isReactComponent={},ft.prototype.setState=function(x,Y){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Y,"setState")},ft.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Et(){}Et.prototype=ft.prototype;function mt(x,Y,et){this.props=x,this.context=Y,this.refs=W,this.updater=et||Z}var xt=mt.prototype=new Et;xt.constructor=mt,tt(xt,ft.prototype),xt.isPureReactComponent=!0;var se=Array.isArray;function Ot(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(x,Y,et){var rt=et.ref;return{$$typeof:r,type:x,key:Y,ref:rt!==void 0?rt:null,props:et}}function V(x,Y){return C(x.type,Y,x.props)}function N(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function L(x){var Y={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(et){return Y[et]})}var w=/\/+/g;function Gt(x,Y){return typeof x=="object"&&x!==null&&x.key!=null?L(""+x.key):Y.toString(36)}function ye(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Ot,Ot):(x.status="pending",x.then(function(Y){x.status==="pending"&&(x.status="fulfilled",x.value=Y)},function(Y){x.status==="pending"&&(x.status="rejected",x.reason=Y)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function q(x,Y,et,rt,vt){var At=typeof x;(At==="undefined"||At==="boolean")&&(x=null);var Mt=!1;if(x===null)Mt=!0;else switch(At){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(x.$$typeof){case r:case t:Mt=!0;break;case b:return Mt=x._init,q(Mt(x._payload),Y,et,rt,vt)}}if(Mt)return vt=vt(x),Mt=rt===""?"."+Gt(x,0):rt,se(vt)?(et="",Mt!=null&&(et=Mt.replace(w,"$&/")+"/"),q(vt,Y,et,"",function(Pi){return Pi})):vt!=null&&(N(vt)&&(vt=V(vt,et+(vt.key==null||x&&x.key===vt.key?"":(""+vt.key).replace(w,"$&/")+"/")+Mt)),Y.push(vt)),1;Mt=0;var _e=rt===""?".":rt+":";if(se(x))for(var ae=0;ae<x.length;ae++)rt=x[ae],At=_e+Gt(rt,ae),Mt+=q(rt,Y,et,At,vt);else if(ae=K(x),typeof ae=="function")for(x=ae.call(x),ae=0;!(rt=x.next()).done;)rt=rt.value,At=_e+Gt(rt,ae++),Mt+=q(rt,Y,et,At,vt);else if(At==="object"){if(typeof x.then=="function")return q(ye(x),Y,et,rt,vt);throw Y=String(x),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function it(x,Y,et){if(x==null)return x;var rt=[],vt=0;return q(x,rt,"","",function(At){return Y.call(et,At,vt++)}),rt}function ct(x){if(x._status===-1){var Y=x._result;Y=Y(),Y.then(function(et){(x._status===0||x._status===-1)&&(x._status=1,x._result=et)},function(et){(x._status===0||x._status===-1)&&(x._status=2,x._result=et)}),x._status===-1&&(x._status=0,x._result=Y)}if(x._status===1)return x._result.default;throw x._result}var It=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Bt={map:it,forEach:function(x,Y,et){it(x,function(){Y.apply(this,arguments)},et)},count:function(x){var Y=0;return it(x,function(){Y++}),Y},toArray:function(x){return it(x,function(Y){return Y})||[]},only:function(x){if(!N(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return bt.Activity=A,bt.Children=Bt,bt.Component=ft,bt.Fragment=i,bt.Profiler=l,bt.PureComponent=mt,bt.StrictMode=a,bt.Suspense=_,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,bt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return I.H.useMemoCache(x)}},bt.cache=function(x){return function(){return x.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(x,Y,et){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var rt=tt({},x.props),vt=x.key;if(Y!=null)for(At in Y.key!==void 0&&(vt=""+Y.key),Y)!S.call(Y,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Y.ref===void 0||(rt[At]=Y[At]);var At=arguments.length-2;if(At===1)rt.children=et;else if(1<At){for(var Mt=Array(At),_e=0;_e<At;_e++)Mt[_e]=arguments[_e+2];rt.children=Mt}return C(x.type,vt,rt)},bt.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},bt.createElement=function(x,Y,et){var rt,vt={},At=null;if(Y!=null)for(rt in Y.key!==void 0&&(At=""+Y.key),Y)S.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(vt[rt]=Y[rt]);var Mt=arguments.length-2;if(Mt===1)vt.children=et;else if(1<Mt){for(var _e=Array(Mt),ae=0;ae<Mt;ae++)_e[ae]=arguments[ae+2];vt.children=_e}if(x&&x.defaultProps)for(rt in Mt=x.defaultProps,Mt)vt[rt]===void 0&&(vt[rt]=Mt[rt]);return C(x,At,vt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(x){return{$$typeof:p,render:x}},bt.isValidElement=N,bt.lazy=function(x){return{$$typeof:b,_payload:{_status:-1,_result:x},_init:ct}},bt.memo=function(x,Y){return{$$typeof:y,type:x,compare:Y===void 0?null:Y}},bt.startTransition=function(x){var Y=I.T,et={};I.T=et;try{var rt=x(),vt=I.S;vt!==null&&vt(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ot,It)}catch(At){It(At)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),I.T=Y}},bt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},bt.use=function(x){return I.H.use(x)},bt.useActionState=function(x,Y,et){return I.H.useActionState(x,Y,et)},bt.useCallback=function(x,Y){return I.H.useCallback(x,Y)},bt.useContext=function(x){return I.H.useContext(x)},bt.useDebugValue=function(){},bt.useDeferredValue=function(x,Y){return I.H.useDeferredValue(x,Y)},bt.useEffect=function(x,Y){return I.H.useEffect(x,Y)},bt.useEffectEvent=function(x){return I.H.useEffectEvent(x)},bt.useId=function(){return I.H.useId()},bt.useImperativeHandle=function(x,Y,et){return I.H.useImperativeHandle(x,Y,et)},bt.useInsertionEffect=function(x,Y){return I.H.useInsertionEffect(x,Y)},bt.useLayoutEffect=function(x,Y){return I.H.useLayoutEffect(x,Y)},bt.useMemo=function(x,Y){return I.H.useMemo(x,Y)},bt.useOptimistic=function(x,Y){return I.H.useOptimistic(x,Y)},bt.useReducer=function(x,Y,et){return I.H.useReducer(x,Y,et)},bt.useRef=function(x){return I.H.useRef(x)},bt.useState=function(x){return I.H.useState(x)},bt.useSyncExternalStore=function(x,Y,et){return I.H.useSyncExternalStore(x,Y,et)},bt.useTransition=function(){return I.H.useTransition()},bt.version="19.2.4",bt}var S_;function mm(){return S_||(S_=1,Rd.exports=Eb()),Rd.exports}var Ft=mm(),Cd={exports:{}},El={},Id={exports:{}},Nd={};var A_;function Tb(){return A_||(A_=1,(function(r){function t(q,it){var ct=q.length;q.push(it);t:for(;0<ct;){var It=ct-1>>>1,Bt=q[It];if(0<l(Bt,it))q[It]=it,q[ct]=Bt,ct=It;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var it=q[0],ct=q.pop();if(ct!==it){q[0]=ct;t:for(var It=0,Bt=q.length,x=Bt>>>1;It<x;){var Y=2*(It+1)-1,et=q[Y],rt=Y+1,vt=q[rt];if(0>l(et,ct))rt<Bt&&0>l(vt,et)?(q[It]=vt,q[rt]=ct,It=rt):(q[It]=et,q[Y]=ct,It=Y);else if(rt<Bt&&0>l(vt,ct))q[It]=vt,q[rt]=ct,It=rt;else break t}}return it}function l(q,it){var ct=q.sortIndex-it.sortIndex;return ct!==0?ct:q.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],b=1,A=null,M=3,K=!1,Z=!1,tt=!1,W=!1,ft=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function xt(q){for(var it=i(y);it!==null;){if(it.callback===null)a(y);else if(it.startTime<=q)a(y),it.sortIndex=it.expirationTime,t(_,it);else break;it=i(y)}}function se(q){if(tt=!1,xt(q),!Z)if(i(_)!==null)Z=!0,Ot||(Ot=!0,L());else{var it=i(y);it!==null&&ye(se,it.startTime-q)}}var Ot=!1,I=-1,S=5,C=-1;function V(){return W?!0:!(r.unstable_now()-C<S)}function N(){if(W=!1,Ot){var q=r.unstable_now();C=q;var it=!0;try{t:{Z=!1,tt&&(tt=!1,Et(I),I=-1),K=!0;var ct=M;try{e:{for(xt(q),A=i(_);A!==null&&!(A.expirationTime>q&&V());){var It=A.callback;if(typeof It=="function"){A.callback=null,M=A.priorityLevel;var Bt=It(A.expirationTime<=q);if(q=r.unstable_now(),typeof Bt=="function"){A.callback=Bt,xt(q),it=!0;break e}A===i(_)&&a(_),xt(q)}else a(_);A=i(_)}if(A!==null)it=!0;else{var x=i(y);x!==null&&ye(se,x.startTime-q),it=!1}}break t}finally{A=null,M=ct,K=!1}it=void 0}}finally{it?L():Ot=!1}}}var L;if(typeof mt=="function")L=function(){mt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Gt=w.port2;w.port1.onmessage=N,L=function(){Gt.postMessage(null)}}else L=function(){ft(N,0)};function ye(q,it){I=ft(function(){q(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(q){switch(M){case 1:case 2:case 3:var it=3;break;default:it=M}var ct=M;M=it;try{return q()}finally{M=ct}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(q,it){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ct=M;M=q;try{return it()}finally{M=ct}},r.unstable_scheduleCallback=function(q,it,ct){var It=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?It+ct:It):ct=It,q){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=ct+Bt,q={id:b++,callback:it,priorityLevel:q,startTime:ct,expirationTime:Bt,sortIndex:-1},ct>It?(q.sortIndex=ct,t(y,q),i(_)===null&&q===i(y)&&(tt?(Et(I),I=-1):tt=!0,ye(se,ct-It))):(q.sortIndex=Bt,t(_,q),Z||K||(Z=!0,Ot||(Ot=!0,L()))),q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(q){var it=M;return function(){var ct=M;M=it;try{return q.apply(this,arguments)}finally{M=ct}}}})(Nd)),Nd}var w_;function bb(){return w_||(w_=1,Id.exports=Tb()),Id.exports}var Dd={exports:{}},tn={};var R_;function Sb(){if(R_)return tn;R_=1;var r=mm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,tn.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,b)},tn.flushSync=function(_){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=b,a.d.f()}},tn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},tn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},tn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,A=p(b,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,K=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:K}):b==="script"&&a.d.X(_,{crossOrigin:A,integrity:M,fetchPriority:K,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},tn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},tn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=p(b,y.crossOrigin);a.d.L(_,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},tn.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},tn.requestFormReset=function(_){a.d.r(_)},tn.unstable_batchedUpdates=function(_,y){return _(y)},tn.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.2.4",tn}var C_;function Ab(){if(C_)return Dd.exports;C_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Dd.exports=Sb(),Dd.exports}var I_;function wb(){if(I_)return El;I_=1;var r=bb(),t=mm(),i=Ab();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Gt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case ft:return"Profiler";case W:return"StrictMode";case se:return"Suspense";case Ot:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case mt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case xt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Gt(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Gt(e(n))}catch{}}return null}var ye=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},It=[],Bt=-1;function x(e){return{current:e}}function Y(e){0>Bt||(e.current=It[Bt],It[Bt]=null,Bt--)}function et(e,n){Bt++,It[Bt]=e.current,e.current=n}var rt=x(null),vt=x(null),At=x(null),Mt=x(null);function _e(e,n){switch(et(At,n),et(vt,e),et(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?qy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=qy(n),e=Fy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),et(rt,e)}function ae(){Y(rt),Y(vt),Y(At)}function Pi(e){e.memoizedState!==null&&et(Mt,e);var n=rt.current,s=Fy(n,e.type);n!==s&&(et(vt,e),et(rt,s))}function gr(e){vt.current===e&&(Y(rt),Y(vt)),Mt.current===e&&(Y(Mt),pl._currentValue=ct)}var yr,_r;function Cn(e){if(yr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);yr=n&&n[1]||"",_r=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yr+e+_r}var ps=!1;function zi(e,n){if(!e||ps)return"";ps=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var j=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){j=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){j=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{ps=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Cn(s):""}function vr(e,n){switch(e.tag){case 26:case 27:case 5:return Cn(e.type);case 16:return Cn("Lazy");case 13:return e.child!==n&&n!==null?Cn("Suspense Fallback"):Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 15:return zi(e.type,!1);case 11:return zi(e.type.render,!1);case 1:return zi(e.type,!0);case 31:return Cn("Activity");default:return""}}function ji(e){try{var n="",s=null;do n+=vr(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Kt=Object.prototype.hasOwnProperty,oe=r.unstable_scheduleCallback,In=r.unstable_cancelCallback,G=r.unstable_shouldYield,ut=r.unstable_requestPaint,gt=r.unstable_now,$t=r.unstable_getCurrentPriorityLevel,We=r.unstable_ImmediatePriority,Nn=r.unstable_UserBlockingPriority,yn=r.unstable_NormalPriority,li=r.unstable_LowPriority,Pe=r.unstable_IdlePriority,Wl=r.log,tu=r.unstable_setDisableYieldValue,Kn=null,qe=null;function Dn(e){if(typeof Wl=="function"&&tu(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Kn,e)}catch{}}var ve=Math.clz32?Math.clz32:nu,eu=Math.log,sa=Math.LN2;function nu(e){return e>>>=0,e===0?32:31-(eu(e)/sa|0)|0}var ui=256,gs=262144,Ae=4194304;function ci(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hi(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ci(o):(g&=E,g!==0?h=ci(g):s||(s=E&~e,s!==0&&(h=ci(s))))):(E=o&~f,E!==0?h=ci(E):g!==0?h=ci(g):s||(s=o&~e,s!==0&&(h=ci(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ih(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function fi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ys(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Nh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-ve(s),X=1<<F;E[F]=0,R[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var H=j[F];H!==null&&(H.lane&=-536870913)}s&=~X}o!==0&&_s(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function _s(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ve(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function Eo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ve(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function To(e,n){var s=n&-n;return s=(s&42)!==0?1:vs(s),(s&(e.suspendedLanes|n))!==0?0:s}function vs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:d_(e.type))}function Yn(e,n){var s=it.p;try{return it.p=e,n()}finally{it.p=s}}var Xn=Math.random().toString(36).slice(2),we="__reactFiber$"+Xn,ze="__reactProps$"+Xn,di="__reactContainer$"+Xn,aa="__reactEvents$"+Xn,Dh="__reactListeners$"+Xn,su="__reactHandles$"+Xn,au="__reactResources$"+Xn,mi="__reactMarker$"+Xn;function oa(e){delete e[we],delete e[ze],delete e[aa],delete e[Dh],delete e[su]}function pi(e){var n=e[we];if(n)return n;for(var s=e.parentNode;s;){if(n=s[di]||s[we]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Jy(e);e!==null;){if(s=e[we])return s;e=Jy(e)}return n}e=s,s=e.parentNode}return null}function xn(e){if(e=e[we]||e[di]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function _n(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function gi(e){var n=e[au];return n||(n=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Re(e){e[mi]=!0}var bo=new Set,So={};function yi(e,n){_i(e,n),_i(e+"Capture",n)}function _i(e,n){for(So[e]=n,e=0;e<n.length;e++)bo.add(n[e])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},Ro={};function ou(e){return Kt.call(Ro,e)?!0:Kt.call(wo,e)?!1:Ao.test(e)?Ro[e]=!0:(wo[e]=!0,!1)}function la(e,n,s){if(ou(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function vn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ce(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Er(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jt(e){if(!e._valueTracker){var n=Er(e)?"checked":"value";e._valueTracker=Co(e,n,""+e[n])}}function Es(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=Er(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ts=/[\n"\\]/g;function un(e){return e.replace(Ts,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ua(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+je(n)):e.value!==""+je(n)&&(e.value=""+je(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Io(e,g,je(n)):s!=null?Io(e,g,je(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+je(E):e.removeAttribute("name")}function lu(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Jt(e);return}s=s!=null?""+je(s):"",n=n!=null?""+je(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Jt(e)}function Io(e,n,s){n==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Tr(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+je(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function uu(e,n,s){if(n!=null&&(n=""+je(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+je(s):""}function br(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ye(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=je(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Jt(e)}function cn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||cu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Do(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&No(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&No(e,f,n[f])}function ca(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(e){return Sr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var xo=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ar=null,Ei=null;function bs(e){var n=xn(e);if(n&&(e=n.stateNode)){var s=e[ze]||null;t:switch(e=n.stateNode,n.type){case"input":if(ua(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+un(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[ze]||null;if(!h)throw Error(a(90));ua(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Es(o)}break t;case"textarea":uu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Tr(e,!!s.multiple,n,!1)}}}var fa=!1;function wr(e,n,s){if(fa)return e(n,s);fa=!0;try{var o=e(n);return o}finally{if(fa=!1,(Ar!==null||Ei!==null)&&(rc(),Ar&&(n=Ar,e=Ei,Ei=Ar=null,bs(n),e)))for(n=0;n<e.length;n++)bs(e[n])}}function Jn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[ze]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ss=!1;if(Mn)try{var te={};Object.defineProperty(te,"passive",{get:function(){Ss=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{Ss=!1}var Ti=null,Oo=null,As=null;function Mo(){if(As)return As;var e,n=Oo,s=n.length,o,h="value"in Ti?Ti.value:Ti.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return As=h.slice(e,1<o?1-o:void 0)}function ws(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Hi(){return!0}function Zn(){return!1}function Fe(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hi:Zn,this.isPropagationStopped=Zn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),n}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Fe(qi),Rr=A({},qi,{view:0,detail:0}),Vo=Fe(Rr),Cr,da,Si,ma=A({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?(Cr=e.screenX-Si.screenX,da=e.screenY-Si.screenY):da=Cr=0,Si=e),Cr)},movementY:function(e){return"movementY"in e?e.movementY:da}}),ko=Fe(ma),Rs=A({},ma,{dataTransfer:0}),fu=Fe(Rs),du=A({},Rr,{relatedTarget:0}),Cs=Fe(du),Lo=A({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=Fe(Lo),pa=A({},qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=Fe(pa),gu=A({},qi,{data:0}),Ai=Fe(gu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vu[e])?!!n[e]:!1}function Ir(){return Eu}var on=A({},Rr,{key:function(e){if(e.key){var n=yu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(e){return e.type==="keypress"?ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tu=Fe(on),bu=A({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=Fe(bu),u=A({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),m=Fe(u),v=A({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Fe(v),U=A({},ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Fe(U),nt=A({},qi,{newState:0,oldState:0}),wt=Fe(nt),Ee=[9,13,27,32],Qt=Mn&&"CompositionEvent"in window,fe=null;Mn&&"documentMode"in document&&(fe=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!fe,wi=Mn&&(!Qt||fe&&8<fe&&11>=fe),Wn=" ",ti=!1;function Is(e,n){switch(e){case"keyup":return Ee.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ya=!1;function HT(e,n){switch(e){case"compositionend":return ga(n);case"keypress":return n.which!==32?null:(ti=!0,Wn);case"textInput":return e=n.data,e===Wn&&ti?null:e;default:return null}}function qT(e,n){if(ya)return e==="compositionend"||!Qt&&Is(e,n)?(e=Mo(),As=Oo=Ti=null,ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wi&&n.locale!=="ko"?null:n.data;default:return null}}var FT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!FT[e.type]:n==="textarea"}function ep(e,n,s,o){Ar?Ei?Ei.push(o):Ei=[o]:Ar=o,n=hc(n,"onChange"),0<n.length&&(s=new bi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Uo=null,Po=null;function GT(e){Uy(e,0)}function Su(e){var n=_n(e);if(Es(n))return e}function np(e,n){if(e==="change")return n}var ip=!1;if(Mn){var xh;if(Mn){var Oh="oninput"in document;if(!Oh){var rp=document.createElement("div");rp.setAttribute("oninput","return;"),Oh=typeof rp.oninput=="function"}xh=Oh}else xh=!1;ip=xh&&(!document.documentMode||9<document.documentMode)}function sp(){Uo&&(Uo.detachEvent("onpropertychange",ap),Po=Uo=null)}function ap(e){if(e.propertyName==="value"&&Su(Po)){var n=[];ep(n,Po,e,On(e)),wr(GT,n)}}function KT(e,n,s){e==="focusin"?(sp(),Uo=n,Po=s,Uo.attachEvent("onpropertychange",ap)):e==="focusout"&&sp()}function QT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(Po)}function YT(e,n){if(e==="click")return Su(n)}function XT(e,n){if(e==="input"||e==="change")return Su(n)}function $T(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var En=typeof Object.is=="function"?Object.is:$T;function zo(e,n){if(En(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Kt.call(n,h)||!En(e[h],n[h]))return!1}return!0}function op(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lp(e,n){var s=op(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=op(s)}}function up(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?up(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function cp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=vi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=vi(e.document)}return n}function Mh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var JT=Mn&&"documentMode"in document&&11>=document.documentMode,_a=null,Vh=null,jo=null,kh=!1;function hp(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;kh||_a==null||_a!==vi(o)||(o=_a,"selectionStart"in o&&Mh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jo&&zo(jo,o)||(jo=o,o=hc(Vh,"onSelect"),0<o.length&&(n=new bi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=_a)))}function Ns(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var va={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},Lh={},fp={};Mn&&(fp=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Ds(e){if(Lh[e])return Lh[e];if(!va[e])return e;var n=va[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in fp)return Lh[e]=n[s];return e}var dp=Ds("animationend"),mp=Ds("animationiteration"),pp=Ds("animationstart"),ZT=Ds("transitionrun"),WT=Ds("transitionstart"),t1=Ds("transitioncancel"),gp=Ds("transitionend"),yp=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function ei(e,n){yp.set(e,n),yi(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kn=[],Ea=0,Ph=0;function wu(){for(var e=Ea,n=Ph=Ea=0;n<e;){var s=kn[n];kn[n++]=null;var o=kn[n];kn[n++]=null;var h=kn[n];kn[n++]=null;var f=kn[n];if(kn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&_p(s,h,f)}}function Ru(e,n,s,o){kn[Ea++]=e,kn[Ea++]=n,kn[Ea++]=s,kn[Ea++]=o,Ph|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function zh(e,n,s,o){return Ru(e,n,s,o),Cu(e)}function xs(e,n){return Ru(e,null,null,n),Cu(e)}function _p(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ve(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Cu(e){if(50<ll)throw ll=0,Xf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ta={};function e1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,n,s,o){return new e1(e,n,s,o)}function jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gi(e,n){var s=e.alternate;return s===null?(s=Tn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function vp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")jh(e)&&(g=1);else if(typeof e=="string")g=ab(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Tn(31,s,n,h),e.elementType=C,e.lanes=f,e;case tt:return Os(s.children,h,f,n);case W:g=8,h|=24;break;case ft:return e=Tn(12,s,n,h|2),e.elementType=ft,e.lanes=f,e;case se:return e=Tn(13,s,n,h),e.elementType=se,e.lanes=f,e;case Ot:return e=Tn(19,s,n,h),e.elementType=Ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case Et:g=9;break t;case xt:g=11;break t;case I:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Tn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Os(e,n,s,o){return e=Tn(7,e,o,n),e.lanes=s,e}function Bh(e,n,s){return e=Tn(6,e,null,n),e.lanes=s,e}function Ep(e){var n=Tn(18,null,null,0);return n.stateNode=e,n}function Hh(e,n,s){return n=Tn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Tp=new WeakMap;function Ln(e,n){if(typeof e=="object"&&e!==null){var s=Tp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ji(n)},Tp.set(e,n),n)}return{value:e,source:n,stack:ji(n)}}var ba=[],Sa=0,Nu=null,Bo=0,Un=[],Pn=0,Nr=null,Ri=1,Ci="";function Ki(e,n){ba[Sa++]=Bo,ba[Sa++]=Nu,Nu=e,Bo=n}function bp(e,n,s){Un[Pn++]=Ri,Un[Pn++]=Ci,Un[Pn++]=Nr,Nr=e;var o=Ri;e=Ci;var h=32-ve(o)-1;o&=~(1<<h),s+=1;var f=32-ve(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ri=1<<32-ve(n)+h|s<<h|o,Ci=f+e}else Ri=1<<f|s<<h|o,Ci=e}function qh(e){e.return!==null&&(Ki(e,1),bp(e,1,0))}function Fh(e){for(;e===Nu;)Nu=ba[--Sa],ba[Sa]=null,Bo=ba[--Sa],ba[Sa]=null;for(;e===Nr;)Nr=Un[--Pn],Un[Pn]=null,Ci=Un[--Pn],Un[Pn]=null,Ri=Un[--Pn],Un[Pn]=null}function Sp(e,n){Un[Pn++]=Ri,Un[Pn++]=Ci,Un[Pn++]=Nr,Ri=n.id,Ci=n.overflow,Nr=e}var Ge=null,le=null,zt=!1,Dr=null,zn=!1,Gh=Error(a(519));function xr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(Ln(n,e)),Gh}function Ap(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[we]=e,n[ze]=o,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<cl.length;s++)Dt(cl[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),lu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),br(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||By(n.textContent,s)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=$n),n=!0):n=!1,n||xr(e,!0)}function wp(e){for(Ge=e.return;Ge;)switch(Ge.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ge=Ge.return}}function Aa(e){if(e!==Ge)return!1;if(!zt)return wp(e),zt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||cd(e.type,e.memoizedProps)),s=!s),s&&le&&xr(e),wp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));le=$y(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));le=$y(e)}else n===27?(n=le,Gr(e.type)?(e=pd,pd=null,le=e):le=n):le=Ge?Bn(e.stateNode.nextSibling):null;return!0}function Ms(){le=Ge=null,zt=!1}function Kh(){var e=Dr;return e!==null&&(mn===null?mn=e:mn.push.apply(mn,e),Dr=null),e}function Ho(e){Dr===null?Dr=[e]:Dr.push(e)}var Qh=x(null),Vs=null,Qi=null;function Or(e,n,s){et(Qh,n._currentValue),n._currentValue=s}function Yi(e){e._currentValue=Qh.current,Y(Qh)}function Yh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Xh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Yh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Yh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function wa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;En(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Mt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(pl):e=[pl])}h=h.return}e!==null&&Xh(n,e,s,o),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ks(e){Vs=e,Qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return Rp(Vs,e)}function xu(e,n){return Vs===null&&ks(e),Rp(e,n)}function Rp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Qi===null){if(e===null)throw Error(a(308));Qi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Qi=Qi.next=n;return s}var n1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},i1=r.unstable_scheduleCallback,r1=r.unstable_NormalPriority,Ie={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new n1,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&i1(r1,function(){e.controller.abort()})}var Fo=null,Jh=0,Ra=0,Ca=null;function s1(e,n){if(Fo===null){var s=Fo=[];Jh=0,Ra=ed(),Ca={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Jh++,n.then(Cp,Cp),n}function Cp(){if(--Jh===0&&Fo!==null){Ca!==null&&(Ca.status="fulfilled");var e=Fo;Fo=null,Ra=0,Ca=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function a1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Ip=q.S;q.S=function(e,n){hy=gt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&s1(e,n),Ip!==null&&Ip(e,n)};var Ls=x(null);function Zh(){var e=Ls.current;return e!==null?e:re.pooledCache}function Ou(e,n){n===null?et(Ls,Ls.current):et(Ls,n.pool)}function Np(){var e=Zh();return e===null?null:{parent:Ie._currentValue,pool:e}}var Ia=Error(a(460)),Wh=Error(a(474)),Mu=Error(a(542)),Vu={then:function(){}};function Dp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then($n,$n),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Mp(e),e;default:if(typeof n.status=="string")n.then($n,$n);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Mp(e),e}throw Ps=n,Ia}}function Us(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ps=s,Ia):s}}var Ps=null;function Op(){if(Ps===null)throw Error(a(459));var e=Ps;return Ps=null,e}function Mp(e){if(e===Ia||e===Mu)throw Error(a(483))}var Na=null,Go=0;function ku(e){var n=Go;return Go+=1,Na===null&&(Na=[]),xp(Na,e,n)}function Ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Vp(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Gi(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,Q){return D===null||D.tag!==6?(D=Bh(P,k.mode,Q),D.return=k,D):(D=h(D,P),D.return=k,D)}function R(k,D,P,Q){var ht=P.type;return ht===tt?F(k,D,P.props.children,Q,P.key):D!==null&&(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&Us(ht)===D.type)?(D=h(D,P.props),Ko(D,P),D.return=k,D):(D=Iu(P.type,P.key,P.props,null,k.mode,Q),Ko(D,P),D.return=k,D)}function z(k,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Hh(P,k.mode,Q),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function F(k,D,P,Q,ht){return D===null||D.tag!==7?(D=Os(P,k.mode,Q,ht),D.return=k,D):(D=h(D,P),D.return=k,D)}function X(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Bh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case K:return P=Iu(D.type,D.key,D.props,null,k.mode,P),Ko(P,D),P.return=k,P;case Z:return D=Hh(D,k.mode,P),D.return=k,D;case S:return D=Us(D),X(k,D,P)}if(ye(D)||L(D))return D=Os(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return X(k,ku(D),P);if(D.$$typeof===mt)return X(k,xu(k,D),P);Lu(k,D)}return null}function j(k,D,P,Q){var ht=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ht!==null?null:E(k,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case K:return P.key===ht?R(k,D,P,Q):null;case Z:return P.key===ht?z(k,D,P,Q):null;case S:return P=Us(P),j(k,D,P,Q)}if(ye(P)||L(P))return ht!==null?null:F(k,D,P,Q,null);if(typeof P.then=="function")return j(k,D,ku(P),Q);if(P.$$typeof===mt)return j(k,D,xu(k,P),Q);Lu(k,P)}return null}function H(k,D,P,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(D,k,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case K:return k=k.get(Q.key===null?P:Q.key)||null,R(D,k,Q,ht);case Z:return k=k.get(Q.key===null?P:Q.key)||null,z(D,k,Q,ht);case S:return Q=Us(Q),H(k,D,P,Q,ht)}if(ye(Q)||L(Q))return k=k.get(P)||null,F(D,k,Q,ht,null);if(typeof Q.then=="function")return H(k,D,P,ku(Q),ht);if(Q.$$typeof===mt)return H(k,D,P,xu(D,Q),ht);Lu(D,Q)}return null}function at(k,D,P,Q){for(var ht=null,Ht=null,ot=D,Ct=D=0,kt=null;ot!==null&&Ct<P.length;Ct++){ot.index>Ct?(kt=ot,ot=null):kt=ot.sibling;var qt=j(k,ot,P[Ct],Q);if(qt===null){ot===null&&(ot=kt);break}e&&ot&&qt.alternate===null&&n(k,ot),D=f(qt,D,Ct),Ht===null?ht=qt:Ht.sibling=qt,Ht=qt,ot=kt}if(Ct===P.length)return s(k,ot),zt&&Ki(k,Ct),ht;if(ot===null){for(;Ct<P.length;Ct++)ot=X(k,P[Ct],Q),ot!==null&&(D=f(ot,D,Ct),Ht===null?ht=ot:Ht.sibling=ot,Ht=ot);return zt&&Ki(k,Ct),ht}for(ot=o(ot);Ct<P.length;Ct++)kt=H(ot,k,Ct,P[Ct],Q),kt!==null&&(e&&kt.alternate!==null&&ot.delete(kt.key===null?Ct:kt.key),D=f(kt,D,Ct),Ht===null?ht=kt:Ht.sibling=kt,Ht=kt);return e&&ot.forEach(function($r){return n(k,$r)}),zt&&Ki(k,Ct),ht}function pt(k,D,P,Q){if(P==null)throw Error(a(151));for(var ht=null,Ht=null,ot=D,Ct=D=0,kt=null,qt=P.next();ot!==null&&!qt.done;Ct++,qt=P.next()){ot.index>Ct?(kt=ot,ot=null):kt=ot.sibling;var $r=j(k,ot,qt.value,Q);if($r===null){ot===null&&(ot=kt);break}e&&ot&&$r.alternate===null&&n(k,ot),D=f($r,D,Ct),Ht===null?ht=$r:Ht.sibling=$r,Ht=$r,ot=kt}if(qt.done)return s(k,ot),zt&&Ki(k,Ct),ht;if(ot===null){for(;!qt.done;Ct++,qt=P.next())qt=X(k,qt.value,Q),qt!==null&&(D=f(qt,D,Ct),Ht===null?ht=qt:Ht.sibling=qt,Ht=qt);return zt&&Ki(k,Ct),ht}for(ot=o(ot);!qt.done;Ct++,qt=P.next())qt=H(ot,k,Ct,qt.value,Q),qt!==null&&(e&&qt.alternate!==null&&ot.delete(qt.key===null?Ct:qt.key),D=f(qt,D,Ct),Ht===null?ht=qt:Ht.sibling=qt,Ht=qt);return e&&ot.forEach(function(yb){return n(k,yb)}),zt&&Ki(k,Ct),ht}function ie(k,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===tt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case K:t:{for(var ht=P.key;D!==null;){if(D.key===ht){if(ht=P.type,ht===tt){if(D.tag===7){s(k,D.sibling),Q=h(D,P.props.children),Q.return=k,k=Q;break t}}else if(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&Us(ht)===D.type){s(k,D.sibling),Q=h(D,P.props),Ko(Q,P),Q.return=k,k=Q;break t}s(k,D);break}else n(k,D);D=D.sibling}P.type===tt?(Q=Os(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Iu(P.type,P.key,P.props,null,k.mode,Q),Ko(Q,P),Q.return=k,k=Q)}return g(k);case Z:t:{for(ht=P.key;D!==null;){if(D.key===ht)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),Q=h(D,P.children||[]),Q.return=k,k=Q;break t}else{s(k,D);break}else n(k,D);D=D.sibling}Q=Hh(P,k.mode,Q),Q.return=k,k=Q}return g(k);case S:return P=Us(P),ie(k,D,P,Q)}if(ye(P))return at(k,D,P,Q);if(L(P)){if(ht=L(P),typeof ht!="function")throw Error(a(150));return P=ht.call(P),pt(k,D,P,Q)}if(typeof P.then=="function")return ie(k,D,ku(P),Q);if(P.$$typeof===mt)return ie(k,D,xu(k,P),Q);Lu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),Q=h(D,P),Q.return=k,k=Q):(s(k,D),Q=Bh(P,k.mode,Q),Q.return=k,k=Q),g(k)):s(k,D)}return function(k,D,P,Q){try{Go=0;var ht=ie(k,D,P,Q);return Na=null,ht}catch(ot){if(ot===Ia||ot===Mu)throw ot;var Ht=Tn(29,ot,null,k.mode);return Ht.lanes=Q,Ht.return=k,Ht}}}var zs=Vp(!0),kp=Vp(!1),Mr=!1;function tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function kr(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Yt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Cu(e),_p(e,null,s),n}return Ru(e,o,n,s),Cu(e)}function Qo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Eo(e,s)}}function nf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var rf=!1;function Yo(){if(rf){var e=Ca;if(e!==null)throw e}}function Xo(e,n,s,o){rf=!1;var h=e.updateQueue;Mr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;g=0,F=z=R=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Vt&j)===j:(o&j)===j){j!==0&&j===Ra&&(rf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,pt=E;j=n;var ie=s;switch(pt.tag){case 1:if(at=pt.payload,typeof at=="function"){X=at.call(ie,X,j);break t}X=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=pt.payload,j=typeof at=="function"?at.call(ie,X,j):at,j==null)break t;X=A({},X,j);break t;case 2:Mr=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=H,R=X):F=F.next=H,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(R=X),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),jr|=g,e.lanes=g,e.memoizedState=X}}function Lp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Up(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Lp(s[e],n)}var Da=x(null),Uu=x(0);function Pp(e,n){e=ir,et(Uu,e),et(Da,n),ir=e|n.baseLanes}function sf(){et(Uu,ir),et(Da,Da.current)}function af(){ir=Uu.current,Y(Da),Y(Uu)}var bn=x(null),jn=null;function Lr(e){var n=e.alternate;et(Te,Te.current&1),et(bn,e),jn===null&&(n===null||Da.current!==null||n.memoizedState!==null)&&(jn=e)}function of(e){et(Te,Te.current),et(bn,e),jn===null&&(jn=e)}function zp(e){e.tag===22?(et(Te,Te.current),et(bn,e),jn===null&&(jn=e)):Ur()}function Ur(){et(Te,Te.current),et(bn,bn.current)}function Sn(e){Y(bn),jn===e&&(jn=null),Y(Te)}var Te=x(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||dd(s)||md(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Xi=0,Rt=null,ee=null,Ne=null,zu=!1,xa=!1,js=!1,ju=0,$o=0,Oa=null,o1=0;function pe(){throw Error(a(321))}function lf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!En(e[s],n[s]))return!1;return!0}function uf(e,n,s,o,h,f){return Xi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?bg:Af,js=!1,f=s(o,h),js=!1,xa&&(f=Bp(n,s,o,h)),jp(e),f}function jp(e){q.H=Wo;var n=ee!==null&&ee.next!==null;if(Xi=0,Ne=ee=Rt=null,zu=!1,$o=0,Oa=null,n)throw Error(a(300));e===null||De||(e=e.dependencies,e!==null&&Du(e)&&(De=!0))}function Bp(e,n,s,o){Rt=e;var h=0;do{if(xa&&(Oa=null),$o=0,xa=!1,25<=h)throw Error(a(301));if(h+=1,Ne=ee=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Sg,f=n(s,o)}while(xa);return f}function l1(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?Jo(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Rt.flags|=1024),n}function cf(){var e=ju!==0;return ju=0,e}function hf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function ff(e){if(zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zu=!1}Xi=0,Ne=ee=Rt=null,xa=!1,$o=ju=0,Oa=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?Rt.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function be(){if(ee===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=Ne===null?Rt.memoizedState:Ne.next;if(n!==null)Ne=n,ee=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ne===null?Rt.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var n=$o;return $o+=1,Oa===null&&(Oa=[]),e=xp(Oa,e,n),n=Rt,(Ne===null?n.memoizedState:Ne.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?bg:Af),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===mt)return Ke(e)}throw Error(a(438,String(e)))}function df(e){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Bu(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function $i(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=be();return mf(n,ee,e)}function mf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,F=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Vt&X)===X:(Xi&X)===X){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ra&&(F=!0);else if((Xi&j)===j){z=z.next,j===Ra&&(F=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=X,g=f):R=R.next=X,Rt.lanes|=j,jr|=j;X=z.action,js&&s(f,X),f=z.hasEagerState?z.eagerState:s(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,g=f):R=R.next=j,Rt.lanes|=X,jr|=X;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!En(f,e.memoizedState)&&(De=!0,F&&(s=Ca,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function pf(e){var n=be(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);En(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Hp(e,n,s){var o=Rt,h=be(),f=zt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!En((ee||h).memoizedState,s);if(g&&(h.memoizedState=s,De=!0),h=h.queue,_f(Gp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ne!==null&&Ne.memoizedState.tag&1){if(o.flags|=2048,Ma(9,{destroy:void 0},Fp.bind(null,o,h,s,n),null),re===null)throw Error(a(349));f||(Xi&127)!==0||qp(o,n,s)}return s}function qp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=Bu(),Rt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Fp(e,n,s,o){n.value=s,n.getSnapshot=o,Kp(n)&&Qp(e)}function Gp(e,n,s){return s(function(){Kp(n)&&Qp(e)})}function Kp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!En(e,s)}catch{return!0}}function Qp(e){var n=xs(e,2);n!==null&&pn(n,e,2)}function gf(e){var n=ln();if(typeof e=="function"){var s=e;if(e=s(),js){Dn(!0);try{s()}finally{Dn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e},n}function Yp(e,n,s,o){return e.baseState=s,mf(e,ee,typeof o=="function"?o:$i)}function u1(e,n,s,o,h){if(Ku(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Xp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Xp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var E=s(h,o),R=q.S;R!==null&&R(g,E),$p(e,n,E)}catch(z){yf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=s(h,o),$p(e,n,f)}catch(z){yf(e,n,z)}}function $p(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Jp(e,n,o)},function(o){return yf(e,n,o)}):Jp(e,n,s)}function Jp(e,n,s){n.status="fulfilled",n.value=s,Zp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Xp(e,s)))}function yf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Zp(n),n=n.next;while(n!==o)}e.action=null}function Zp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Wp(e,n){return n}function tg(e,n){if(zt){var s=re.formState;if(s!==null){t:{var o=Rt;if(zt){if(le){e:{for(var h=le,f=zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){le=Bn(h.nextSibling),o=h.data==="F!";break t}}xr(o)}o=!1}o&&(n=s[0])}}return s=ln(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wp,lastRenderedState:n},s.queue=o,s=vg.bind(null,Rt,o),o.dispatch=s,o=gf(!1),f=Sf.bind(null,Rt,!1,o.queue),o=ln(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=u1.bind(null,Rt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function eg(e){var n=be();return ng(n,ee,e)}function ng(e,n,s){if(n=mf(e,n,Wp)[0],e=qu($i)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Jo(n)}catch(g){throw g===Ia?Mu:g}else o=n;n=be();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,Ma(9,{destroy:void 0},c1.bind(null,h,s),null)),[o,f,e]}function c1(e,n){e.action=n}function ig(e){var n=be(),s=ee;if(s!==null)return ng(n,s,e);be(),n=n.memoizedState,s=be();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ma(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Bu(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function rg(){return be().memoizedState}function Fu(e,n,s,o){var h=ln();Rt.flags|=e,h.memoizedState=Ma(1|n,{destroy:void 0},s,o===void 0?null:o)}function Gu(e,n,s,o){var h=be();o=o===void 0?null:o;var f=h.memoizedState.inst;ee!==null&&o!==null&&lf(o,ee.memoizedState.deps)?h.memoizedState=Ma(n,f,s,o):(Rt.flags|=e,h.memoizedState=Ma(1|n,f,s,o))}function sg(e,n){Fu(8390656,8,e,n)}function _f(e,n){Gu(2048,8,e,n)}function h1(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Bu(),Rt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function ag(e){var n=be().memoizedState;return h1({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function og(e,n){return Gu(4,2,e,n)}function lg(e,n){return Gu(4,4,e,n)}function ug(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function cg(e,n,s){s=s!=null?s.concat([e]):null,Gu(4,4,ug.bind(null,n,e),s)}function vf(){}function hg(e,n){var s=be();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&lf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function fg(e,n){var s=be();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&lf(n,o[1]))return o[0];if(o=e(),js){Dn(!0);try{e()}finally{Dn(!1)}}return s.memoizedState=[o,n],o}function Ef(e,n,s){return s===void 0||(Xi&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=dy(),Rt.lanes|=e,jr|=e,s)}function dg(e,n,s,o){return En(s,n)?s:Da.current!==null?(e=Ef(e,s,o),En(e,n)||(De=!0),e):(Xi&42)===0||(Xi&1073741824)!==0&&(Vt&261930)===0?(De=!0,e.memoizedState=s):(e=dy(),Rt.lanes|=e,jr|=e,n)}function mg(e,n,s,o,h){var f=it.p;it.p=f!==0&&8>f?f:8;var g=q.T,E={};q.T=E,Sf(e,!1,n,s);try{var R=h(),z=q.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=a1(R,o);Zo(e,n,F,Rn(e))}else Zo(e,n,o,Rn(e))}catch(X){Zo(e,n,{then:function(){},status:"rejected",reason:X},Rn())}finally{it.p=f,g!==null&&E.types!==null&&(g.types=E.types),q.T=g}}function f1(){}function Tf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=pg(e).queue;mg(e,h,n,ct,s===null?f1:function(){return gg(e),s(o)})}function pg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function gg(e){var n=pg(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},Rn())}function bf(){return Ke(pl)}function yg(){return be().memoizedState}function _g(){return be().memoizedState}function d1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Rn();e=Vr(s);var o=kr(n,e,s);o!==null&&(pn(o,n,s),Qo(o,n,s)),n={cache:$h()},e.payload=n;return}n=n.return}}function m1(e,n,s){var o=Rn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Eg(n,s):(s=zh(e,n,s,o),s!==null&&(pn(s,e,o),Tg(s,n,o)))}function vg(e,n,s){var o=Rn();Zo(e,n,s,o)}function Zo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Eg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,En(E,g))return Ru(e,n,h,0),re===null&&wu(),!1}catch{}if(s=zh(e,n,h,o),s!==null)return pn(s,e,o),Tg(s,n,o),!0}return!1}function Sf(e,n,s,o){if(o={lane:2,revertLane:ed(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(a(479))}else n=zh(e,s,o,2),n!==null&&pn(n,e,2)}function Ku(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Eg(e,n){xa=zu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Tg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Eo(e,s)}}var Wo={readContext:Ke,use:Hu,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};Wo.useEffectEvent=pe;var bg={readContext:Ke,use:Hu,useCallback:function(e,n){return ln().memoizedState=[e,n===void 0?null:n],e},useContext:Ke,useEffect:sg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Fu(4194308,4,ug.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var s=ln();n=n===void 0?null:n;var o=e();if(js){Dn(!0);try{e()}finally{Dn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=ln();if(s!==void 0){var h=s(n);if(js){Dn(!0);try{s(n)}finally{Dn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=m1.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=ln();return e={current:e},n.memoizedState=e},useState:function(e){e=gf(e);var n=e.queue,s=vg.bind(null,Rt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:vf,useDeferredValue:function(e,n){var s=ln();return Ef(s,e,n)},useTransition:function(){var e=gf(!1);return e=mg.bind(null,Rt,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Rt,h=ln();if(zt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),re===null)throw Error(a(349));(Vt&127)!==0||qp(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,sg(Gp.bind(null,o,f,e),[e]),o.flags|=2048,Ma(9,{destroy:void 0},Fp.bind(null,o,f,s,n),null),s},useId:function(){var e=ln(),n=re.identifierPrefix;if(zt){var s=Ci,o=Ri;s=(o&~(1<<32-ve(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ju++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=o1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:bf,useFormState:tg,useActionState:tg,useOptimistic:function(e){var n=ln();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Sf.bind(null,Rt,!0,s),s.dispatch=n,[e,n]},useMemoCache:df,useCacheRefresh:function(){return ln().memoizedState=d1.bind(null,Rt)},useEffectEvent:function(e){var n=ln(),s={impl:e};return n.memoizedState=s,function(){if((Yt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Af={readContext:Ke,use:Hu,useCallback:hg,useContext:Ke,useEffect:_f,useImperativeHandle:cg,useInsertionEffect:og,useLayoutEffect:lg,useMemo:fg,useReducer:qu,useRef:rg,useState:function(){return qu($i)},useDebugValue:vf,useDeferredValue:function(e,n){var s=be();return dg(s,ee.memoizedState,e,n)},useTransition:function(){var e=qu($i)[0],n=be().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:Hp,useId:yg,useHostTransitionStatus:bf,useFormState:eg,useActionState:eg,useOptimistic:function(e,n){var s=be();return Yp(s,ee,e,n)},useMemoCache:df,useCacheRefresh:_g};Af.useEffectEvent=ag;var Sg={readContext:Ke,use:Hu,useCallback:hg,useContext:Ke,useEffect:_f,useImperativeHandle:cg,useInsertionEffect:og,useLayoutEffect:lg,useMemo:fg,useReducer:pf,useRef:rg,useState:function(){return pf($i)},useDebugValue:vf,useDeferredValue:function(e,n){var s=be();return ee===null?Ef(s,e,n):dg(s,ee.memoizedState,e,n)},useTransition:function(){var e=pf($i)[0],n=be().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:Hp,useId:yg,useHostTransitionStatus:bf,useFormState:ig,useActionState:ig,useOptimistic:function(e,n){var s=be();return ee!==null?Yp(s,ee,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:df,useCacheRefresh:_g};Sg.useEffectEvent=ag;function wf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Rf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Rn(),h=Vr(o);h.payload=n,s!=null&&(h.callback=s),n=kr(e,h,o),n!==null&&(pn(n,e,o),Qo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Rn(),h=Vr(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=kr(e,h,o),n!==null&&(pn(n,e,o),Qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Rn(),o=Vr(s);o.tag=2,n!=null&&(o.callback=n),n=kr(e,o,s),n!==null&&(pn(n,e,s),Qo(n,e,s))}};function Ag(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!zo(s,o)||!zo(h,f):!0}function wg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Rf.enqueueReplaceState(n,n.state,null)}function Bs(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Rg(e){Au(e)}function Cg(e){console.error(e)}function Ig(e){Au(e)}function Qu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Ng(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(e,n,s){return s=Vr(s),s.tag=3,s.payload={element:null},s.callback=function(){Qu(e,n)},s}function Dg(e){return e=Vr(e),e.tag=3,e}function xg(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Ng(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Ng(n,s,o),typeof h!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function p1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&wa(n,s,h,!0),s=bn.current,s!==null){switch(s.tag){case 31:case 13:return jn===null?sc():s.alternate===null&&ge===0&&(ge=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Zf(e,o,h)),!1;case 22:return s.flags|=65536,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Zf(e,o,h)),!1}throw Error(a(435,s.tag))}return Zf(e,o,h),sc(),!1}if(zt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Gh&&(e=Error(a(422),{cause:o}),Ho(Ln(e,s)))):(o!==Gh&&(n=Error(a(423),{cause:o}),Ho(Ln(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Ln(o,s),h=Cf(e.stateNode,o,h),nf(e,h),ge!==4&&(ge=2)),!1;var f=Error(a(520),{cause:o});if(f=Ln(f,s),ol===null?ol=[f]:ol.push(f),ge!==4&&(ge=2),n===null)return!0;o=Ln(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Cf(s.stateNode,o,e),nf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Br===null||!Br.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Dg(h),xg(h,e,s,o),nf(s,h),!1}s=s.return}while(s!==null);return!1}var If=Error(a(461)),De=!1;function Qe(e,n,s,o){n.child=e===null?kp(n,null,s,o):zs(n,e.child,s,o)}function Og(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return ks(n),o=uf(e,n,s,g,f,h),E=cf(),e!==null&&!De?(hf(e,n,h),Ji(e,n,h)):(zt&&E&&qh(n),n.flags|=1,Qe(e,n,o,h),n.child)}function Mg(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!jh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Vg(e,n,f,o,h)):(e=Iu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Lf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:zo,s(g,o)&&e.ref===n.ref)return Ji(e,n,h)}return n.flags|=1,e=Gi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Vg(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(zo(f,o)&&e.ref===n.ref)if(De=!1,n.pendingProps=o=f,Lf(e,h))(e.flags&131072)!==0&&(De=!0);else return n.lanes=e.lanes,Ji(e,n,h)}return Nf(e,n,s,o,h)}function kg(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Lg(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Pp(n,f):sf(),zp(n);else return o=n.lanes=536870912,Lg(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Ou(n,f.cachePool),Pp(n,f),Ur(),n.memoizedState=null):(e!==null&&Ou(n,null),sf(),Ur());return Qe(e,n,h,s),n.child}function tl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Lg(e,n,s,o,h){var f=Zh();return f=f===null?null:{parent:Ie._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ou(n,null),sf(),zp(n),e!==null&&wa(e,n,o,!0),n.childLanes=h,null}function Yu(e,n){return n=$u({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ug(e,n,s){return zs(n,e.child,null,s),e=Yu(n,n.pendingProps),e.flags|=2,Sn(n),n.memoizedState=null,e}function g1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(zt){if(o.mode==="hidden")return e=Yu(n,o),n.lanes=536870912,tl(null,e);if(of(n),(e=le)?(e=Xy(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Nr!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},s=Ep(e),s.return=n,n.child=s,Ge=n,le=null)):e=null,e===null)throw xr(n);return n.lanes=536870912,null}return Yu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(of(n),h)if(n.flags&256)n.flags&=-257,n=Ug(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(De||wa(e,n,s,!1),h=(s&e.childLanes)!==0,De||h){if(o=re,o!==null&&(g=To(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,xs(e,g),pn(o,e,g),If;sc(),n=Ug(e,n,s)}else e=f.treeContext,le=Bn(g.nextSibling),Ge=n,zt=!0,Dr=null,zn=!1,e!==null&&Sp(n,e),n=Yu(n,o),n.flags|=4096;return n}return e=Gi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Nf(e,n,s,o,h){return ks(n),s=uf(e,n,s,o,void 0,h),o=cf(),e!==null&&!De?(hf(e,n,h),Ji(e,n,h)):(zt&&o&&qh(n),n.flags|=1,Qe(e,n,s,h),n.child)}function Pg(e,n,s,o,h,f){return ks(n),n.updateQueue=null,s=Bp(n,o,s,h),jp(e),o=cf(),e!==null&&!De?(hf(e,n,f),Ji(e,n,f)):(zt&&o&&qh(n),n.flags|=1,Qe(e,n,s,f),n.child)}function zg(e,n,s,o,h){if(ks(n),n.stateNode===null){var f=Ta,g=s.contextType;typeof g=="object"&&g!==null&&(f=Ke(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},tf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Ke(g):Ta,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(wf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Rf.enqueueReplaceState(f,f.state,null),Xo(n,o,f,h),Yo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Bs(s,E);f.props=R;var z=f.context,F=s.contextType;g=Ta,typeof F=="object"&&F!==null&&(g=Ke(F));var X=s.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&wg(n,f,o,g),Mr=!1;var j=n.memoizedState;f.state=j,Xo(n,o,f,h),Yo(),z=n.memoizedState,E||j!==z||Mr?(typeof X=="function"&&(wf(n,s,X,o),z=n.memoizedState),(R=Mr||Ag(n,s,R,o,j,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ef(e,n),g=n.memoizedProps,F=Bs(s,g),f.props=F,X=n.pendingProps,j=f.context,z=s.contextType,R=Ta,typeof z=="object"&&z!==null&&(R=Ke(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||j!==R)&&wg(n,f,o,R),Mr=!1,j=n.memoizedState,f.state=j,Xo(n,o,f,h),Yo();var H=n.memoizedState;g!==X||j!==H||Mr||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof E=="function"&&(wf(n,s,E,o),H=n.memoizedState),(F=Mr||Ag(n,s,F,o,j,H,R)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Xu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=zs(n,e.child,null,h),n.child=zs(n,null,s,h)):Qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Ji(e,n,h),e}function jg(e,n,s,o){return Ms(),n.flags|=256,Qe(e,n,s,o),n.child}var Df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(e){return{baseLanes:e,cachePool:Np()}}function Of(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=wn),e}function Bg(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(h?Lr(n):Ur(),(e=le)?(e=Xy(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Nr!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},s=Ep(e),s.return=n,n.child=s,Ge=n,le=null)):e=null,e===null)throw xr(n);return md(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ur(),h=n.mode,E=$u({mode:"hidden",children:E},h),o=Os(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=xf(s),o.childLanes=Of(e,g,s),n.memoizedState=Df,tl(null,o)):(Lr(n),Mf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Lr(n),n.flags&=-257,n=Vf(e,n,s)):n.memoizedState!==null?(Ur(),n.child=e.child,n.flags|=128,n=null):(Ur(),E=o.fallback,h=n.mode,o=$u({mode:"visible",children:o.children},h),E=Os(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,zs(n,e.child,null,s),o=n.child,o.memoizedState=xf(s),o.childLanes=Of(e,g,s),n.memoizedState=Df,n=tl(null,o));else if(Lr(n),md(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Ho({value:o,source:null,stack:null}),n=Vf(e,n,s)}else if(De||wa(e,n,s,!1),g=(s&e.childLanes)!==0,De||g){if(g=re,g!==null&&(o=To(g,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,xs(e,o),pn(g,e,o),If;dd(E)||sc(),n=Vf(e,n,s)}else dd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,le=Bn(E.nextSibling),Ge=n,zt=!0,Dr=null,zn=!1,e!==null&&Sp(n,e),n=Mf(n,o.children),n.flags|=4096);return n}return h?(Ur(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Gi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Gi(z,E):(E=Os(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,tl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=xf(s):(h=E.cachePool,h!==null?(R=Ie._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Np(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Of(e,g,s),n.memoizedState=Df,tl(e.child,o)):(Lr(n),s=e.child,e=s.sibling,s=Gi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Mf(e,n){return n=$u({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $u(e,n){return e=Tn(22,e,null,n),e.lanes=0,e}function Vf(e,n,s){return zs(n,e.child,null,s),e=Mf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Hg(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Yh(e.return,n,s)}function kf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function qg(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Te.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(Te,g),Qe(e,n,o,s),o=zt?Bo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hg(e,s,n);else if(e.tag===19)Hg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Pu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),kf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}kf(n,!0,s,null,f,o);break;case"together":kf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ji(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),jr|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(wa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Gi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Gi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Lf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function y1(e,n,s){switch(n.tag){case 3:_e(n,n.stateNode.containerInfo),Or(n,Ie,e.memoizedState.cache),Ms();break;case 27:case 5:Pi(n);break;case 4:_e(n,n.stateNode.containerInfo);break;case 10:Or(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,of(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Lr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Bg(e,n,s):(Lr(n),e=Ji(e,n,s),e!==null?e.sibling:null);Lr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(wa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return qg(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Te,Te.current),o)break;return null;case 22:return n.lanes=0,kg(e,n,s,n.pendingProps);case 24:Or(n,Ie,e.memoizedState.cache)}return Ji(e,n,s)}function Fg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)De=!0;else{if(!Lf(e,s)&&(n.flags&128)===0)return De=!1,y1(e,n,s);De=(e.flags&131072)!==0}else De=!1,zt&&(n.flags&1048576)!==0&&bp(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Us(n.elementType),n.type=e,typeof e=="function")jh(e)?(o=Bs(e,o),n.tag=1,n=zg(null,n,e,o,s)):(n.tag=0,n=Nf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===xt){n.tag=11,n=Og(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=Mg(null,n,e,o,s);break t}}throw n=Gt(e)||e,Error(a(306,n,""))}}return n;case 0:return Nf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Bs(o,n.pendingProps),zg(e,n,o,h,s);case 3:t:{if(_e(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,ef(e,n),Xo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Or(n,Ie,o),o!==f.cache&&Xh(n,[Ie],s,!0),Yo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=jg(e,n,o,s);break t}else if(o!==h){h=Ln(Error(a(424)),n),Ho(h),n=jg(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,le=Bn(e.firstChild),Ge=n,zt=!0,Dr=null,zn=!0,s=kp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ms(),o===h){n=Ji(e,n,s);break t}Qe(e,n,o,s)}n=n.child}return n;case 26:return Xu(e,n),e===null?(s=e_(n.type,null,n.pendingProps,null))?n.memoizedState=s:zt||(s=n.type,e=n.pendingProps,o=fc(At.current).createElement(s),o[we]=n,o[ze]=e,Ye(o,s,e),Re(o),n.stateNode=o):n.memoizedState=e_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Pi(n),e===null&&zt&&(o=n.stateNode=Zy(n.type,n.pendingProps,At.current),Ge=n,zn=!0,h=le,Gr(n.type)?(pd=h,le=Bn(o.firstChild)):le=h),Qe(e,n,n.pendingProps.children,s),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((h=o=le)&&(o=Q1(o,n.type,n.pendingProps,zn),o!==null?(n.stateNode=o,Ge=n,le=Bn(o.firstChild),zn=!1,h=!0):h=!1),h||xr(n)),Pi(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,cd(h,f)?o=null:g!==null&&cd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=uf(e,n,l1,null,null,s),pl._currentValue=h),Xu(e,n),Qe(e,n,o,s),n.child;case 6:return e===null&&zt&&((e=s=le)&&(s=Y1(s,n.pendingProps,zn),s!==null?(n.stateNode=s,Ge=n,le=null,e=!0):e=!1),e||xr(n)),null;case 13:return Bg(e,n,s);case 4:return _e(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=zs(n,null,o,s):Qe(e,n,o,s),n.child;case 11:return Og(e,n,n.type,n.pendingProps,s);case 7:return Qe(e,n,n.pendingProps,s),n.child;case 8:return Qe(e,n,n.pendingProps.children,s),n.child;case 12:return Qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Or(n,n.type,o.value),Qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ks(n),h=Ke(h),o=o(h),n.flags|=1,Qe(e,n,o,s),n.child;case 14:return Mg(e,n,n.type,n.pendingProps,s);case 15:return Vg(e,n,n.type,n.pendingProps,s);case 19:return qg(e,n,s);case 31:return g1(e,n,s);case 22:return kg(e,n,s,n.pendingProps);case 24:return ks(n),o=Ke(Ie),e===null?(h=Zh(),h===null&&(h=re,f=$h(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},tf(n),Or(n,Ie,h)):((e.lanes&s)!==0&&(ef(e,n),Xo(n,null,null,s),Yo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Or(n,Ie,o)):(o=f.cache,Or(n,Ie,o),o!==h.cache&&Xh(n,[Ie],s,!0))),Qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Zi(e){e.flags|=4}function Uf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(yy())e.flags|=8192;else throw Ps=Vu,Wh}else e.flags&=-16777217}function Gg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!a_(n))if(yy())e.flags|=8192;else throw Ps=Vu,Wh}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?iu():536870912,e.lanes|=n,Ua|=n)}function el(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ue(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function _1(e,n,s){var o=n.pendingProps;switch(Fh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(n),null;case 1:return ue(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Yi(Ie),ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Aa(n)?Zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kh())),ue(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Zi(n),f!==null?(ue(n),Gg(n,f)):(ue(n),Uf(n,h,null,o,s))):f?f!==e.memoizedState?(Zi(n),ue(n),Gg(n,f)):(ue(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Zi(n),ue(n),Uf(n,h,e,o,s)),null;case 27:if(gr(n),s=At.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ue(n),null}e=rt.current,Aa(n)?Ap(n):(e=Zy(h,o,s),n.stateNode=e,Zi(n))}return ue(n),null;case 5:if(gr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ue(n),null}if(f=rt.current,Aa(n))Ap(n);else{var g=fc(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[we]=n,f[ze]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ye(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Zi(n)}}return ue(n),Uf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=At.current,Aa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ge,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[we]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||By(e.nodeValue,s)),e||xr(n,!0)}else e=fc(e).createTextNode(o),e[we]=n,n.stateNode=e}return ue(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Aa(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[we]=n}else Ms(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),e=!1}else s=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Sn(n),n):(Sn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ue(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Aa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[we]=n}else Ms(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),h=!1}else h=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Sn(n),n):(Sn(n),null)}return Sn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Ju(n,n.updateQueue),ue(n),null);case 4:return ae(),e===null&&sd(n.stateNode.containerInfo),ue(n),null;case 10:return Yi(n.type),ue(n),null;case 19:if(Y(Te),o=n.memoizedState,o===null)return ue(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)el(o,!1);else{if(ge!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Pu(e),f!==null){for(n.flags|=128,el(o,!1),e=f.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)vp(s,e),s=s.sibling;return et(Te,Te.current&1|2),zt&&Ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&gt()>nc&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304)}else{if(!h)if(e=Pu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),el(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!zt)return ue(n),null}else 2*gt()-o.renderingStartTime>nc&&s!==536870912&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=gt(),e.sibling=null,s=Te.current,et(Te,h?s&1|2:s&1),zt&&Ki(n,o.treeForkCount),e):(ue(n),null);case 22:case 23:return Sn(n),af(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ue(n),n.subtreeFlags&6&&(n.flags|=8192)):ue(n),s=n.updateQueue,s!==null&&Ju(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(Ls),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Yi(Ie),ue(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function v1(e,n){switch(Fh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Yi(Ie),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return gr(n),null;case 31:if(n.memoizedState!==null){if(Sn(n),n.alternate===null)throw Error(a(340));Ms()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Sn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ms()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Te),null;case 4:return ae(),null;case 10:return Yi(n.type),null;case 22:case 23:return Sn(n),af(),e!==null&&Y(Ls),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Yi(Ie),null;case 25:return null;default:return null}}function Kg(e,n){switch(Fh(n),n.tag){case 3:Yi(Ie),ae();break;case 26:case 27:case 5:gr(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&Sn(n);break;case 13:Sn(n);break;case 19:Y(Te);break;case 10:Yi(n.type);break;case 22:case 23:Sn(n),af(),e!==null&&Y(Ls);break;case 24:Yi(Ie)}}function nl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Wt(n,n.return,E)}}function Pr(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,z=E;try{z()}catch(F){Wt(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){Wt(n,n.return,F)}}function Qg(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Up(n,s)}catch(o){Wt(e,e.return,o)}}}function Yg(e,n,s){s.props=Bs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Wt(e,n,o)}}function il(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Wt(e,n,h)}}function Ii(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Wt(e,n,h)}else s.current=null}function Xg(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Wt(e,e.return,h)}}function Pf(e,n,s){try{var o=e.stateNode;B1(o,e.type,s,n),o[ze]=n}catch(h){Wt(e,e.return,h)}}function $g(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gr(e.type)||e.tag===4}function zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||$g(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=$n));else if(o!==4&&(o===27&&Gr(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(jf(e,n,s),e=e.sibling;e!==null;)jf(e,n,s),e=e.sibling}function Zu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Gr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Zu(e,n,s),e=e.sibling;e!==null;)Zu(e,n,s),e=e.sibling}function Jg(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ye(n,o,s),n[we]=e,n[ze]=s}catch(f){Wt(e,e.return,f)}}var Wi=!1,xe=!1,Bf=!1,Zg=typeof WeakSet=="function"?WeakSet:Set,Be=null;function E1(e,n){if(e=e.containerInfo,ld=vc,e=cp(e),Mh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,z=0,F=0,X=e,j=null;e:for(;;){for(var H;X!==s||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(R=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)j=X,X=H;for(;;){if(X===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++F===o&&(R=g),(H=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=H}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(ud={focusedElem:e,selectionRange:s},vc=!1,Be=n;Be!==null;)if(n=Be,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Be=e;else for(;Be!==null;){switch(n=Be,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=Bs(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Wt(s,s.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)fd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Be=e;break}Be=n.return}}function Wg(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:er(e,s),o&4&&nl(5,s);break;case 1:if(er(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Wt(s,s.return,g)}else{var h=Bs(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Wt(s,s.return,g)}}o&64&&Qg(s),o&512&&il(s,s.return);break;case 3:if(er(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Up(e,n)}catch(g){Wt(s,s.return,g)}}break;case 27:n===null&&o&4&&Jg(s);case 26:case 5:er(e,s),n===null&&o&4&&Xg(s),o&512&&il(s,s.return);break;case 12:er(e,s);break;case 31:er(e,s),o&4&&ny(e,s);break;case 13:er(e,s),o&4&&iy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=N1.bind(null,s),X1(e,s))));break;case 22:if(o=s.memoizedState!==null||Wi,!o){n=n!==null&&n.memoizedState!==null||xe,h=Wi;var f=xe;Wi=o,(xe=n)&&!f?nr(e,s,(s.subtreeFlags&8772)!==0):er(e,s),Wi=h,xe=f}break;case 30:break;default:er(e,s)}}function ty(e){var n=e.alternate;n!==null&&(e.alternate=null,ty(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&oa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var de=null,hn=!1;function tr(e,n,s){for(s=s.child;s!==null;)ey(e,n,s),s=s.sibling}function ey(e,n,s){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Kn,s)}catch{}switch(s.tag){case 26:xe||Ii(s,n),tr(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:xe||Ii(s,n);var o=de,h=hn;Gr(s.type)&&(de=s.stateNode,hn=!1),tr(e,n,s),fl(s.stateNode),de=o,hn=h;break;case 5:xe||Ii(s,n);case 6:if(o=de,h=hn,de=null,tr(e,n,s),de=o,hn=h,de!==null)if(hn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(s.stateNode)}catch(f){Wt(s,n,f)}else try{de.removeChild(s.stateNode)}catch(f){Wt(s,n,f)}break;case 18:de!==null&&(hn?(e=de,Qy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ga(e)):Qy(de,s.stateNode));break;case 4:o=de,h=hn,de=s.stateNode.containerInfo,hn=!0,tr(e,n,s),de=o,hn=h;break;case 0:case 11:case 14:case 15:Pr(2,s,n),xe||Pr(4,s,n),tr(e,n,s);break;case 1:xe||(Ii(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Yg(s,n,o)),tr(e,n,s);break;case 21:tr(e,n,s);break;case 22:xe=(o=xe)||s.memoizedState!==null,tr(e,n,s),xe=o;break;default:tr(e,n,s)}}function ny(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ga(e)}catch(s){Wt(n,n.return,s)}}}function iy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ga(e)}catch(s){Wt(n,n.return,s)}}function T1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Zg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Zg),n;default:throw Error(a(435,e.tag))}}function Wu(e,n){var s=T1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=D1.bind(null,e,o);o.then(h,h)}})}function fn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Gr(E.type)){de=E.stateNode,hn=!1;break t}break;case 5:de=E.stateNode,hn=!1;break t;case 3:case 4:de=E.stateNode.containerInfo,hn=!0;break t}E=E.return}if(de===null)throw Error(a(160));ey(f,g,h),de=null,hn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ry(n,e),n=n.sibling}var ni=null;function ry(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(n,e),dn(e),o&4&&(Pr(3,e,e.return),nl(3,e),Pr(5,e,e.return));break;case 1:fn(n,e),dn(e),o&512&&(xe||s===null||Ii(s,s.return)),o&64&&Wi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ni;if(fn(n,e),dn(e),o&512&&(xe||s===null||Ii(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[mi]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ye(f,o,s),f[we]=e,Re(f),o=f;break t;case"link":var g=r_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Ye(f,o,s),h.head.appendChild(f);break;case"meta":if(g=r_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Ye(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[we]=e,Re(f),o=f}e.stateNode=o}else s_(h,e.type,e.stateNode);else e.stateNode=i_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?s_(h,e.type,e.stateNode):i_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Pf(e,e.memoizedProps,s.memoizedProps)}break;case 27:fn(n,e),dn(e),o&512&&(xe||s===null||Ii(s,s.return)),s!==null&&o&4&&Pf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(fn(n,e),dn(e),o&512&&(xe||s===null||Ii(s,s.return)),e.flags&32){h=e.stateNode;try{cn(h,"")}catch(at){Wt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Pf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Bf=!0);break;case 6:if(fn(n,e),dn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){Wt(e,e.return,at)}}break;case 3:if(pc=null,h=ni,ni=dc(n.containerInfo),fn(n,e),ni=h,dn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ga(n.containerInfo)}catch(at){Wt(e,e.return,at)}Bf&&(Bf=!1,sy(e));break;case 4:o=ni,ni=dc(e.stateNode.containerInfo),fn(n,e),dn(e),ni=o;break;case 12:fn(n,e),dn(e);break;case 31:fn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 13:fn(n,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ec=gt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=Wi,F=xe;if(Wi=z||h,xe=F||R,fn(n,e),xe=F,Wi=z,dn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||Wi||xe||Hs(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Wt(R,R.return,at)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Wt(R,R.return,at)}}}else if(n.tag===18){if(s===null){R=n;try{var H=R.stateNode;h?Yy(H,!0):Yy(R.stateNode,!1)}catch(at){Wt(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Wu(e,s))));break;case 19:fn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 30:break;case 21:break;default:fn(n,e),dn(e)}}function dn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if($g(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=zf(e);Zu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(cn(g,""),s.flags&=-33);var E=zf(e);Zu(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,z=zf(e);jf(e,z,R);break;default:throw Error(a(161))}}catch(F){Wt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function sy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;sy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function er(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Wg(e,n.alternate,n),n=n.sibling}function Hs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Pr(4,n,n.return),Hs(n);break;case 1:Ii(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Yg(n,n.return,s),Hs(n);break;case 27:fl(n.stateNode);case 26:case 5:Ii(n,n.return),Hs(n);break;case 22:n.memoizedState===null&&Hs(n);break;case 30:Hs(n);break;default:Hs(n)}e=e.sibling}}function nr(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:nr(h,f,s),nl(4,f);break;case 1:if(nr(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Wt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Lp(R[h],E)}catch(z){Wt(o,o.return,z)}}s&&g&64&&Qg(f),il(f,f.return);break;case 27:Jg(f);case 26:case 5:nr(h,f,s),s&&o===null&&g&4&&Xg(f),il(f,f.return);break;case 12:nr(h,f,s);break;case 31:nr(h,f,s),s&&g&4&&ny(h,f);break;case 13:nr(h,f,s),s&&g&4&&iy(h,f);break;case 22:f.memoizedState===null&&nr(h,f,s),il(f,f.return);break;case 30:break;default:nr(h,f,s)}n=n.sibling}}function Hf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&qo(s))}function qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e))}function ii(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ay(e,n,s,o),n=n.sibling}function ay(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ii(e,n,s,o),h&2048&&nl(9,n);break;case 1:ii(e,n,s,o);break;case 3:ii(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){ii(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Wt(n,n.return,R)}}else ii(e,n,s,o);break;case 31:ii(e,n,s,o);break;case 13:ii(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ii(e,n,s,o):rl(e,n):f._visibility&2?ii(e,n,s,o):(f._visibility|=2,Va(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Hf(g,n);break;case 24:ii(e,n,s,o),h&2048&&qf(n.alternate,n);break;default:ii(e,n,s,o)}}function Va(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Va(f,g,E,R,h),nl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Va(f,g,E,R,h):rl(f,g):(F._visibility|=2,Va(f,g,E,R,h)),h&&z&2048&&Hf(g.alternate,g);break;case 24:Va(f,g,E,R,h),h&&z&2048&&qf(g.alternate,g);break;default:Va(f,g,E,R,h)}n=n.sibling}}function rl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:rl(s,o),h&2048&&Hf(o.alternate,o);break;case 24:rl(s,o),h&2048&&qf(o.alternate,o);break;default:rl(s,o)}n=n.sibling}}var sl=8192;function ka(e,n,s){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)oy(e,n,s),e=e.sibling}function oy(e,n,s){switch(e.tag){case 26:ka(e,n,s),e.flags&sl&&e.memoizedState!==null&&ob(s,ni,e.memoizedState,e.memoizedProps);break;case 5:ka(e,n,s);break;case 3:case 4:var o=ni;ni=dc(e.stateNode.containerInfo),ka(e,n,s),ni=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=sl,sl=16777216,ka(e,n,s),sl=o):ka(e,n,s));break;default:ka(e,n,s)}}function ly(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function al(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Be=o,cy(o,e)}ly(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)uy(e),e=e.sibling}function uy(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&Pr(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):al(e);break;default:al(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Be=o,cy(o,e)}ly(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Pr(8,n,n.return),tc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function cy(e,n){for(;Be!==null;){var s=Be;switch(s.tag){case 0:case 11:case 15:Pr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Be=o;else t:for(s=e;Be!==null;){o=Be;var h=o.sibling,f=o.return;if(ty(o),o===s){Be=null;break t}if(h!==null){h.return=f,Be=h;break t}Be=f}}}var b1={getCacheForType:function(e){var n=Ke(Ie),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ke(Ie).controller.signal}},S1=typeof WeakMap=="function"?WeakMap:Map,Yt=0,re=null,Nt=null,Vt=0,Zt=0,An=null,zr=!1,La=!1,Ff=!1,ir=0,ge=0,jr=0,qs=0,Gf=0,wn=0,Ua=0,ol=null,mn=null,Kf=!1,ec=0,hy=0,nc=1/0,ic=null,Br=null,Ve=0,Hr=null,Pa=null,rr=0,Qf=0,Yf=null,fy=null,ll=0,Xf=null;function Rn(){return(Yt&2)!==0&&Vt!==0?Vt&-Vt:q.T!==null?ed():ru()}function dy(){if(wn===0)if((Vt&536870912)===0||zt){var e=gs;gs<<=1,(gs&3932160)===0&&(gs=262144),wn=e}else wn=536870912;return e=bn.current,e!==null&&(e.flags|=32),wn}function pn(e,n,s){(e===re&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(za(e,0),qr(e,Vt,wn,!1)),ys(e,s),((Yt&2)===0||e!==re)&&(e===re&&((Yt&2)===0&&(qs|=s),ge===4&&qr(e,Vt,wn,!1)),Ni(e))}function my(e,n,s){if((Yt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Qn(e,n),h=o?R1(e,n):Jf(e,n,!0),f=o;do{if(h===0){La&&!o&&qr(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!A1(s)){h=Jf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=ol;var R=E.current.memoizedState.isDehydrated;if(R&&(za(E,g).flags|=256),g=Jf(E,g,!1),g!==2){if(Ff&&!R){E.errorRecoveryDisabledLanes|=f,qs|=f,h=4;break t}f=mn,mn=h,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){za(e,0),qr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:qr(o,n,wn,!zr);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ec+300-gt(),10<h)){if(qr(o,n,wn,!zr),hi(o,0,!0)!==0)break t;rr=n,o.timeoutHandle=Gy(py.bind(null,o,s,mn,ic,Kf,n,wn,qs,Ua,zr,f,"Throttled",-0,0),h);break t}py(o,s,mn,ic,Kf,n,wn,qs,Ua,zr,f,null,-0,0)}}break}while(!0);Ni(e)}function py(e,n,s,o,h,f,g,E,R,z,F,X,j,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},oy(n,f,X);var at=(f&62914560)===f?ec-gt():(f&4194048)===f?hy-gt():0;if(at=lb(X,at),at!==null){rr=f,e.cancelPendingCommit=at(Sy.bind(null,e,n,f,s,o,h,g,E,R,F,X,null,j,H)),qr(e,f,g,!z);return}}Sy(e,n,f,s,o,h,g,E,R)}function A1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!En(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qr(e,n,s,o){n&=~Gf,n&=~qs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ve(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&_s(e,s,n)}function rc(){return(Yt&6)===0?(ul(0),!1):!0}function $f(){if(Nt!==null){if(Zt===0)var e=Nt.return;else e=Nt,Qi=Vs=null,ff(e),Na=null,Go=0,e=Nt;for(;e!==null;)Kg(e.alternate,e),e=e.return;Nt=null}}function za(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,F1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),rr=0,$f(),re=e,Nt=s=Gi(e.current,null),Vt=n,Zt=0,An=null,zr=!1,La=Qn(e,n),Ff=!1,Ua=wn=Gf=qs=jr=ge=0,mn=ol=null,Kf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ve(o),f=1<<h;n|=e[h],o&=~f}return ir=n,wu(),s}function gy(e,n){Rt=null,q.H=Wo,n===Ia||n===Mu?(n=Op(),Zt=3):n===Wh?(n=Op(),Zt=4):Zt=n===If?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,Nt===null&&(ge=1,Qu(e,Ln(n,e.current)))}function yy(){var e=bn.current;return e===null?!0:(Vt&4194048)===Vt?jn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===jn:!1}function _y(){var e=q.H;return q.H=Wo,e===null?Wo:e}function vy(){var e=q.A;return q.A=b1,e}function sc(){ge=4,zr||(Vt&4194048)!==Vt&&bn.current!==null||(La=!0),(jr&134217727)===0&&(qs&134217727)===0||re===null||qr(re,Vt,wn,!1)}function Jf(e,n,s){var o=Yt;Yt|=2;var h=_y(),f=vy();(re!==e||Vt!==n)&&(ic=null,za(e,n)),n=!1;var g=ge;t:do try{if(Zt!==0&&Nt!==null){var E=Nt,R=An;switch(Zt){case 8:$f(),g=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var z=Zt;if(Zt=0,An=null,ja(e,E,R,z),s&&La){g=0;break t}break;default:z=Zt,Zt=0,An=null,ja(e,E,R,z)}}w1(),g=ge;break}catch(F){gy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Qi=Vs=null,Yt=o,q.H=h,q.A=f,Nt===null&&(re=null,Vt=0,wu()),g}function w1(){for(;Nt!==null;)Ey(Nt)}function R1(e,n){var s=Yt;Yt|=2;var o=_y(),h=vy();re!==e||Vt!==n?(ic=null,nc=gt()+500,za(e,n)):La=Qn(e,n);t:do try{if(Zt!==0&&Nt!==null){n=Nt;var f=An;e:switch(Zt){case 1:Zt=0,An=null,ja(e,n,f,1);break;case 2:case 9:if(Dp(f)){Zt=0,An=null,Ty(n);break}n=function(){Zt!==2&&Zt!==9||re!==e||(Zt=7),Ni(e)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Dp(f)?(Zt=0,An=null,Ty(n)):(Zt=0,An=null,ja(e,n,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var E=Nt;if(g?a_(g):E.stateNode.complete){Zt=0,An=null;var R=E.sibling;if(R!==null)Nt=R;else{var z=E.return;z!==null?(Nt=z,ac(z)):Nt=null}break e}}Zt=0,An=null,ja(e,n,f,5);break;case 6:Zt=0,An=null,ja(e,n,f,6);break;case 8:$f(),ge=6;break t;default:throw Error(a(462))}}C1();break}catch(F){gy(e,F)}while(!0);return Qi=Vs=null,q.H=o,q.A=h,Yt=s,Nt!==null?0:(re=null,Vt=0,wu(),ge)}function C1(){for(;Nt!==null&&!G();)Ey(Nt)}function Ey(e){var n=Fg(e.alternate,e,ir);e.memoizedProps=e.pendingProps,n===null?ac(e):Nt=n}function Ty(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Pg(s,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=Pg(s,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:ff(n);default:Kg(s,n),n=Nt=vp(n,ir),n=Fg(s,n,ir)}e.memoizedProps=e.pendingProps,n===null?ac(e):Nt=n}function ja(e,n,s,o){Qi=Vs=null,ff(n),Na=null,Go=0;var h=n.return;try{if(p1(e,h,n,s,Vt)){ge=1,Qu(e,Ln(s,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;ge=1,Qu(e,Ln(s,e.current)),Nt=null;return}n.flags&32768?(zt||o===1?e=!0:La||(Vt&536870912)!==0?e=!1:(zr=e=!0,(o===2||o===9||o===3||o===6)&&(o=bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),by(n,e)):ac(n)}function ac(e){var n=e;do{if((n.flags&32768)!==0){by(n,zr);return}e=n.return;var s=_1(n.alternate,n,ir);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);ge===0&&(ge=5)}function by(e,n){do{var s=v1(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);ge=6,Nt=null}function Sy(e,n,s,o,h,f,g,E,R){e.cancelPendingCommit=null;do oc();while(Ve!==0);if((Yt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Ph,Nh(e,s,f,g,E,R),e===re&&(Nt=re=null,Vt=0),Pa=n,Hr=e,rr=s,Qf=f,Yf=h,fy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,x1(yn,function(){return Iy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=it.p,it.p=2,g=Yt,Yt|=4;try{E1(e,n,s)}finally{Yt=g,it.p=h,q.T=o}}Ve=1,Ay(),wy(),Ry()}}function Ay(){if(Ve===1){Ve=0;var e=Hr,n=Pa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var o=it.p;it.p=2;var h=Yt;Yt|=4;try{ry(n,e);var f=ud,g=cp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&up(E.ownerDocument.documentElement,E)){if(R!==null&&Mh(E)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var H=j.getSelection(),at=E.textContent.length,pt=Math.min(R.start,at),ie=R.end===void 0?pt:Math.min(R.end,at);!H.extend&&pt>ie&&(g=ie,ie=pt,pt=g);var k=lp(E,pt),D=lp(E,ie);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=X.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),pt>ie?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}vc=!!ld,ud=ld=null}finally{Yt=h,it.p=o,q.T=s}}e.current=n,Ve=2}}function wy(){if(Ve===2){Ve=0;var e=Hr,n=Pa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var o=it.p;it.p=2;var h=Yt;Yt|=4;try{Wg(e,n.alternate,n)}finally{Yt=h,it.p=o,q.T=s}}Ve=3}}function Ry(){if(Ve===4||Ve===3){Ve=0,ut();var e=Hr,n=Pa,s=rr,o=fy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,Pa=Hr=null,Cy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Br=null),Bi(s),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Kn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=it.p,it.p=2,q.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{q.T=n,it.p=h}}(rr&3)!==0&&oc(),Ni(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Xf?ll++:(ll=0,Xf=e):ll=0,ul(0)}}function Cy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qo(n)))}function oc(){return Ay(),wy(),Ry(),Iy()}function Iy(){if(Ve!==5)return!1;var e=Hr,n=Qf;Qf=0;var s=Bi(rr),o=q.T,h=it.p;try{it.p=32>s?32:s,q.T=null,s=Yf,Yf=null;var f=Hr,g=rr;if(Ve=0,Pa=Hr=null,rr=0,(Yt&6)!==0)throw Error(a(331));var E=Yt;if(Yt|=4,uy(f.current),ay(f,f.current,g,s),Yt=E,ul(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Kn,f)}catch{}return!0}finally{it.p=h,q.T=o,Cy(e,n)}}function Ny(e,n,s){n=Ln(s,n),n=Cf(e.stateNode,n,2),e=kr(e,n,2),e!==null&&(ys(e,2),Ni(e))}function Wt(e,n,s){if(e.tag===3)Ny(e,e,s);else for(;n!==null;){if(n.tag===3){Ny(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Br===null||!Br.has(o))){e=Ln(s,e),s=Dg(2),o=kr(n,s,2),o!==null&&(xg(s,o,n,e),ys(o,2),Ni(o));break}}n=n.return}}function Zf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new S1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Ff=!0,h.add(s),e=I1.bind(null,e,n,s),n.then(e,e))}function I1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,re===e&&(Vt&s)===s&&(ge===4||ge===3&&(Vt&62914560)===Vt&&300>gt()-ec?(Yt&2)===0&&za(e,0):Gf|=s,Ua===Vt&&(Ua=0)),Ni(e)}function Dy(e,n){n===0&&(n=iu()),e=xs(e,n),e!==null&&(ys(e,n),Ni(e))}function N1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Dy(e,s)}function D1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Dy(e,s)}function x1(e,n){return oe(e,n)}var lc=null,Ba=null,Wf=!1,uc=!1,td=!1,Fr=0;function Ni(e){e!==Ba&&e.next===null&&(Ba===null?lc=Ba=e:Ba=Ba.next=e),uc=!0,Wf||(Wf=!0,M1())}function ul(e,n){if(!td&&uc){td=!0;do for(var s=!1,o=lc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ve(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Vy(o,f))}else f=Vt,f=hi(o,o===re?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Qn(o,f)||(s=!0,Vy(o,f));o=o.next}while(s);td=!1}}function O1(){xy()}function xy(){uc=Wf=!1;var e=0;Fr!==0&&q1()&&(e=Fr);for(var n=gt(),s=null,o=lc;o!==null;){var h=o.next,f=Oy(o,n);f===0?(o.next=null,s===null?lc=h:s.next=h,h===null&&(Ba=s)):(s=o,(e!==0||(f&3)!==0)&&(uc=!0)),o=h}Ve!==0&&Ve!==5||ul(e),Fr!==0&&(Fr=0)}function Oy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ve(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Ih(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=re,s=Vt,s=hi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&In(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Qn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&In(o),Bi(s)){case 2:case 8:s=Nn;break;case 32:s=yn;break;case 268435456:s=Pe;break;default:s=yn}return o=My.bind(null,e),s=oe(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&In(o),e.callbackPriority=2,e.callbackNode=null,2}function My(e,n){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(oc()&&e.callbackNode!==s)return null;var o=Vt;return o=hi(e,e===re?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(my(e,o,n),Oy(e,gt()),e.callbackNode!=null&&e.callbackNode===s?My.bind(null,e):null)}function Vy(e,n){if(oc())return null;my(e,n,!0)}function M1(){G1(function(){(Yt&6)!==0?oe(We,O1):xy()})}function ed(){if(Fr===0){var e=Ra;e===0&&(e=ui,ui<<=1,(ui&261888)===0&&(ui=256)),Fr=e}return Fr}function ky(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ha(""+e)}function Ly(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function V1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=ky((h[ze]||null).action),g=o.submitter;g&&(n=(n=g[ze]||null)?ky(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new bi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fr!==0){var R=g?Ly(h,g):new FormData(h);Tf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Ly(h,g):new FormData(h),Tf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var nd=0;nd<Uh.length;nd++){var id=Uh[nd],k1=id.toLowerCase(),L1=id[0].toUpperCase()+id.slice(1);ei(k1,"on"+L1)}ei(dp,"onAnimationEnd"),ei(mp,"onAnimationIteration"),ei(pp,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(ZT,"onTransitionRun"),ei(WT,"onTransitionStart"),ei(t1,"onTransitionCancel"),ei(gp,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function Uy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Au(F)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Au(F)}h.currentTarget=null,f=R}}}}function Dt(e,n){var s=n[aa];s===void 0&&(s=n[aa]=new Set);var o=e+"__bubble";s.has(o)||(Py(n,e,2,!1),s.add(o))}function rd(e,n,s){var o=0;n&&(o|=4),Py(s,e,o,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function sd(e){if(!e[cc]){e[cc]=!0,bo.forEach(function(s){s!=="selectionchange"&&(U1.has(s)||rd(s,!1,e),rd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,rd("selectionchange",!1,n))}}function Py(e,n,s,o){switch(d_(n)){case 2:var h=hb;break;case 8:h=fb;break;default:h=Ed}s=h.bind(null,n,s,e),h=void 0,!Ss||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ad(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=pi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}wr(function(){var z=f,F=On(s),X=[];t:{var j=yp.get(e);if(j!==void 0){var H=bi,at=e;switch(e){case"keypress":if(ws(s)===0)break t;case"keydown":case"keyup":H=Tu;break;case"focusin":at="focus",H=Cs;break;case"focusout":at="blur",H=Cs;break;case"beforeblur":case"afterblur":H=Cs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case dp:case mp:case pp:H=mu;break;case gp:H=T;break;case"scroll":case"scrollend":H=Vo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Fi;break;case"toggle":case"beforetoggle":H=wt}var pt=(n&4)!==0,ie=!pt&&(e==="scroll"||e==="scrollend"),k=pt?j!==null?j+"Capture":null:j;pt=[];for(var D=z,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=Jn(D,k),Q!=null&&pt.push(hl(D,Q,P))),ie)break;D=D.return}0<pt.length&&(j=new H(j,at,null,s,F),X.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&s!==xo&&(at=s.relatedTarget||s.fromElement)&&(pi(at)||at[di]))break t;if((H||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,H?(at=s.relatedTarget||s.toElement,H=z,at=at?pi(at):null,at!==null&&(ie=c(at),pt=at.tag,at!==ie||pt!==5&&pt!==27&&pt!==6)&&(at=null)):(H=null,at=z),H!==at)){if(pt=ko,Q="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Fi,Q="onPointerLeave",k="onPointerEnter",D="pointer"),ie=H==null?j:_n(H),P=at==null?j:_n(at),j=new pt(Q,D+"leave",H,s,F),j.target=ie,j.relatedTarget=P,Q=null,pi(F)===z&&(pt=new pt(k,D+"enter",at,s,F),pt.target=P,pt.relatedTarget=ie,Q=pt),ie=Q,H&&at)e:{for(pt=P1,k=H,D=at,P=0,Q=k;Q;Q=pt(Q))P++;Q=0;for(var ht=D;ht;ht=pt(ht))Q++;for(;0<P-Q;)k=pt(k),P--;for(;0<Q-P;)D=pt(D),Q--;for(;P--;){if(k===D||D!==null&&k===D.alternate){pt=k;break e}k=pt(k),D=pt(D)}pt=null}else pt=null;H!==null&&zy(X,j,H,pt,!1),at!==null&&ie!==null&&zy(X,ie,at,pt,!0)}}t:{if(j=z?_n(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Ht=np;else if(tp(j))if(ip)Ht=XT;else{Ht=QT;var ot=KT}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ca(z.elementType)&&(Ht=np):Ht=YT;if(Ht&&(Ht=Ht(e,z))){ep(X,Ht,s,F);break t}ot&&ot(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Io(j,"number",j.value)}switch(ot=z?_n(z):window,e){case"focusin":(tp(ot)||ot.contentEditable==="true")&&(_a=ot,Vh=z,jo=null);break;case"focusout":jo=Vh=_a=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,hp(X,s,F);break;case"selectionchange":if(JT)break;case"keydown":case"keyup":hp(X,s,F)}var Ct;if(Qt)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else ya?Is(e,s)&&(kt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(kt="onCompositionStart");kt&&(wi&&s.locale!=="ko"&&(ya||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&ya&&(Ct=Mo()):(Ti=F,Oo="value"in Ti?Ti.value:Ti.textContent,ya=!0)),ot=hc(z,kt),0<ot.length&&(kt=new Ai(kt,e,null,s,F),X.push({event:kt,listeners:ot}),Ct?kt.data=Ct:(Ct=ga(s),Ct!==null&&(kt.data=Ct)))),(Ct=Vn?HT(e,s):qT(e,s))&&(kt=hc(z,"onBeforeInput"),0<kt.length&&(ot=new Ai("onBeforeInput","beforeinput",null,s,F),X.push({event:ot,listeners:kt}),ot.data=Ct)),V1(X,e,z,s,F)}Uy(X,n)})}function hl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function hc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Jn(e,s),h!=null&&o.unshift(hl(e,h,f)),h=Jn(e,n),h!=null&&o.push(hl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function P1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=Jn(s,f),z!=null&&g.unshift(hl(s,z,R))):h||(z=Jn(s,f),z!=null&&g.push(hl(s,z,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var z1=/\r\n?/g,j1=/\u0000|\uFFFD/g;function jy(e){return(typeof e=="string"?e:""+e).replace(z1,`
`).replace(j1,"")}function By(e,n){return n=jy(n),jy(e)===n}function ne(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||cn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&cn(e,""+o);break;case"className":vn(e,"class",o);break;case"tabIndex":vn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(e,s,o);break;case"style":Do(e,o,f);break;case"data":if(n!=="object"){vn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ha(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ne(e,n,"name",h.name,h,null),ne(e,n,"formEncType",h.formEncType,h,null),ne(e,n,"formMethod",h.formMethod,h,null),ne(e,n,"formTarget",h.formTarget,h,null)):(ne(e,n,"encType",h.encType,h,null),ne(e,n,"method",h.method,h,null),ne(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ha(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=$n);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ha(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),la(e,"popover",o);break;case"xlinkActuate":Ce(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ce(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ce(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ce(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ce(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ce(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":la(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=hu.get(s)||s,la(e,s,o))}}function od(e,n,s,o,h,f){switch(s){case"style":Do(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?cn(e,o):(typeof o=="number"||typeof o=="bigint")&&cn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[ze]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):la(e,s,o)}}}function Ye(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,f,g,s,null)}}h&&ne(e,n,"srcSet",s.srcSet,s,null),o&&ne(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var E=f=g=h=null,R=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:ne(e,n,o,F,s,null)}}lu(e,f,E,R,z,g,h,!1);return;case"select":Dt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ne(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?Tr(e,!!o,n,!1):s!=null&&Tr(e,!!o,s,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ne(e,n,g,E,s,null)}br(e,o,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ne(e,n,R,o,s,null));return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<cl.length;o++)Dt(cl[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,z,o,s,null)}return;default:if(ca(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&od(e,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ne(e,n,E,o,s,null))}function B1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,F=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(H)||ne(e,n,H,null,o,X)}}for(var j in o){var H=o[j];if(X=s[j],o.hasOwnProperty(j)&&(H!=null||X!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&ne(e,n,j,H,o,X)}}ua(e,g,E,R,z,F,f,h);return;case"select":H=g=E=j=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:o.hasOwnProperty(f)||ne(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&ne(e,n,h,f,o,R)}n=E,s=g,o=H,j!=null?Tr(e,!!s,j,!1):!!o!=!!s&&(n!=null?Tr(e,!!s,n,!0):Tr(e,!!s,s?[]:"",!1));return;case"textarea":H=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ne(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ne(e,n,g,h,o,f)}uu(e,j,H);return;case"option":for(var at in s)j=s[at],s.hasOwnProperty(at)&&j!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:ne(e,n,at,null,o,j));for(R in o)j=o[R],H=s[R],o.hasOwnProperty(R)&&j!==H&&(j!=null||H!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":ne(e,n,R,j,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)j=s[pt],s.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&ne(e,n,pt,null,o,j);for(z in o)if(j=o[z],H=s[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:ne(e,n,z,j,o,H)}return;default:if(ca(n)){for(var ie in s)j=s[ie],s.hasOwnProperty(ie)&&j!==void 0&&!o.hasOwnProperty(ie)&&od(e,n,ie,void 0,o,j);for(F in o)j=o[F],H=s[F],!o.hasOwnProperty(F)||j===H||j===void 0&&H===void 0||od(e,n,F,j,o,H);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&ne(e,n,k,null,o,j);for(X in o)j=o[X],H=s[X],!o.hasOwnProperty(X)||j===H||j==null&&H==null||ne(e,n,X,j,o,H)}function Hy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Hy(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],z=R.startTime;if(z>E)break;var F=R.transferSize,X=R.initiatorType;F&&Hy(X)&&(R=R.responseEnd,g+=F*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ld=null,ud=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function qy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function cd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hd=null;function q1(){var e=window.event;return e&&e.type==="popstate"?e===hd?!1:(hd=e,!0):(hd=null,!1)}var Gy=typeof setTimeout=="function"?setTimeout:void 0,F1=typeof clearTimeout=="function"?clearTimeout:void 0,Ky=typeof Promise=="function"?Promise:void 0,G1=typeof queueMicrotask=="function"?queueMicrotask:typeof Ky<"u"?function(e){return Ky.resolve(null).then(e).catch(K1)}:Gy;function K1(e){setTimeout(function(){throw e})}function Gr(e){return e==="head"}function Qy(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ga(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")fl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,fl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[mi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&fl(e.ownerDocument.body);s=h}while(s);Ga(n)}function Yy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function fd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":fd(s),oa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Q1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[mi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function Y1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Bn(e.nextSibling),e===null))return null;return e}function Xy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bn(e.nextSibling),e===null))return null;return e}function dd(e){return e.data==="$?"||e.data==="$~"}function md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function X1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Bn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var pd=null;function $y(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Bn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Jy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Zy(e,n,s){switch(n=fc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function fl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);oa(e)}var Hn=new Map,Wy=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var sr=it.d;it.d={f:$1,r:J1,D:Z1,C:W1,L:tb,m:eb,X:ib,S:nb,M:rb};function $1(){var e=sr.f(),n=rc();return e||n}function J1(e){var n=xn(e);n!==null&&n.tag===5&&n.type==="form"?gg(n):sr.r(e)}var Ha=typeof document>"u"?null:document;function t_(e,n,s){var o=Ha;if(o&&typeof n=="string"&&n){var h=un(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Wy.has(h)||(Wy.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ye(n,"link",e),Re(n),o.head.appendChild(n)))}}function Z1(e){sr.D(e),t_("dns-prefetch",e,null)}function W1(e,n){sr.C(e,n),t_("preconnect",e,n)}function tb(e,n,s){sr.L(e,n,s);var o=Ha;if(o&&e&&n){var h='link[rel="preload"][as="'+un(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+un(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+un(s.imageSizes)+'"]')):h+='[href="'+un(e)+'"]';var f=h;switch(n){case"style":f=qa(e);break;case"script":f=Fa(e)}Hn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Hn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(dl(f))||n==="script"&&o.querySelector(ml(f))||(n=o.createElement("link"),Ye(n,"link",e),Re(n),o.head.appendChild(n)))}}function eb(e,n){sr.m(e,n);var s=Ha;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+un(o)+'"][href="'+un(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fa(e)}if(!Hn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Hn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ml(f)))return}o=s.createElement("link"),Ye(o,"link",e),Re(o),s.head.appendChild(o)}}}function nb(e,n,s){sr.S(e,n,s);var o=Ha;if(o&&e){var h=gi(o).hoistableStyles,f=qa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(dl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Hn.get(f))&&gd(e,s);var R=g=o.createElement("link");Re(R),Ye(R,"link",e),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function ib(e,n){sr.X(e,n);var s=Ha;if(s&&e){var o=gi(s).hoistableScripts,h=Fa(e),f=o.get(h);f||(f=s.querySelector(ml(h)),f||(e=A({src:e,async:!0},n),(n=Hn.get(h))&&yd(e,n),f=s.createElement("script"),Re(f),Ye(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function rb(e,n){sr.M(e,n);var s=Ha;if(s&&e){var o=gi(s).hoistableScripts,h=Fa(e),f=o.get(h);f||(f=s.querySelector(ml(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Hn.get(h))&&yd(e,n),f=s.createElement("script"),Re(f),Ye(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function e_(e,n,s,o){var h=(h=At.current)?dc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=qa(s.href),s=gi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=qa(s.href);var f=gi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(dl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Hn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Hn.set(e,s),f||sb(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fa(s),s=gi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function qa(e){return'href="'+un(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function n_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function sb(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ye(n,"link",s),Re(n),e.head.appendChild(n))}function Fa(e){return'[src="'+un(e)+'"]'}function ml(e){return"script[async]"+e}function i_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+un(s.href)+'"]');if(o)return n.instance=o,Re(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Re(o),Ye(o,"style",h),mc(o,s.precedence,e),n.instance=o;case"stylesheet":h=qa(s.href);var f=e.querySelector(dl(h));if(f)return n.state.loading|=4,n.instance=f,Re(f),f;o=n_(s),(h=Hn.get(h))&&gd(o,h),f=(e.ownerDocument||e).createElement("link"),Re(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ye(f,"link",o),n.state.loading|=4,mc(f,s.precedence,e),n.instance=f;case"script":return f=Fa(s.src),(h=e.querySelector(ml(f)))?(n.instance=h,Re(h),h):(o=s,(h=Hn.get(f))&&(o=A({},s),yd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Re(h),Ye(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,mc(o,s.precedence,e));return n.instance}function mc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function r_(e,n,s){if(pc===null){var o=new Map,h=pc=new Map;h.set(s,o)}else h=pc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[mi]||f[we]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function s_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function ab(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function a_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ob(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=qa(o.href),f=n.querySelector(dl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Re(f);return}f=n.ownerDocument||n,o=n_(o),(h=Hn.get(h))&&gd(o,h),f=f.createElement("link"),Re(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ye(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=gc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var _d=0;function lb(e,n){return e.stylesheets&&e.count===0&&_c(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&_d===0&&(_d=62500*H1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>_d?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function _c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(ub,e),yc=null,gc.call(e))}function ub(e,n){if(!(n.state.loading&4)){var s=yc.get(e);if(s)var o=s.get(null);else{s=new Map,yc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var pl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function cb(e,n,s,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function o_(e,n,s,o,h,f,g,E,R,z,F,X){return e=new cb(e,n,s,g,R,z,F,X,E),n=1,f===!0&&(n|=24),f=Tn(3,null,null,n),e.current=f,f.stateNode=e,n=$h(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},tf(f),e}function l_(e){return e?(e=Ta,e):Ta}function u_(e,n,s,o,h,f){h=l_(h),o.context===null?o.context=h:o.pendingContext=h,o=Vr(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=kr(e,o,n),s!==null&&(pn(s,e,n),Qo(s,e,n))}function c_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function vd(e,n){c_(e,n),(e=e.alternate)&&c_(e,n)}function h_(e){if(e.tag===13||e.tag===31){var n=xs(e,67108864);n!==null&&pn(n,e,67108864),vd(e,67108864)}}function f_(e){if(e.tag===13||e.tag===31){var n=Rn();n=vs(n);var s=xs(e,n);s!==null&&pn(s,e,n),vd(e,n)}}var vc=!0;function hb(e,n,s,o){var h=q.T;q.T=null;var f=it.p;try{it.p=2,Ed(e,n,s,o)}finally{it.p=f,q.T=h}}function fb(e,n,s,o){var h=q.T;q.T=null;var f=it.p;try{it.p=8,Ed(e,n,s,o)}finally{it.p=f,q.T=h}}function Ed(e,n,s,o){if(vc){var h=Td(o);if(h===null)ad(e,n,o,Ec,s),m_(e,o);else if(mb(h,e,n,s,o))o.stopPropagation();else if(m_(e,o),n&4&&-1<db.indexOf(e)){for(;h!==null;){var f=xn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ci(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-ve(g);E.entanglements[1]|=R,g&=~R}Ni(f),(Yt&6)===0&&(nc=gt()+500,ul(0))}}break;case 31:case 13:E=xs(f,2),E!==null&&pn(E,f,2),rc(),vd(f,2)}if(f=Td(o),f===null&&ad(e,n,o,Ec,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ad(e,n,o,null,s)}}function Td(e){return e=On(e),bd(e)}var Ec=null;function bd(e){if(Ec=null,e=pi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function d_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($t()){case We:return 2;case Nn:return 8;case yn:case li:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var Sd=!1,Kr=null,Qr=null,Yr=null,gl=new Map,yl=new Map,Xr=[],db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m_(e,n){switch(e){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(n.pointerId)}}function _l(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=xn(n),n!==null&&h_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function mb(e,n,s,o,h){switch(n){case"focusin":return Kr=_l(Kr,e,n,s,o,h),!0;case"dragenter":return Qr=_l(Qr,e,n,s,o,h),!0;case"mouseover":return Yr=_l(Yr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,_l(gl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,yl.set(f,_l(yl.get(f)||null,e,n,s,o,h)),!0}return!1}function p_(e){var n=pi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Yn(e.priority,function(){f_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Yn(e.priority,function(){f_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Td(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);xo=o,s.target.dispatchEvent(o),xo=null}else return n=xn(s),n!==null&&h_(n),e.blockedOn=s,!1;n.shift()}return!0}function g_(e,n,s){Tc(e)&&s.delete(n)}function pb(){Sd=!1,Kr!==null&&Tc(Kr)&&(Kr=null),Qr!==null&&Tc(Qr)&&(Qr=null),Yr!==null&&Tc(Yr)&&(Yr=null),gl.forEach(g_),yl.forEach(g_)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,Sd||(Sd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pb)))}var Sc=null;function y_(e){Sc!==e&&(Sc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(bd(o||s)===null)continue;break}var f=xn(s);f!==null&&(e.splice(n,3),n-=3,Tf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ga(e){function n(R){return bc(R,e)}Kr!==null&&bc(Kr,e),Qr!==null&&bc(Qr,e),Yr!==null&&bc(Yr,e),gl.forEach(n),yl.forEach(n);for(var s=0;s<Xr.length;s++){var o=Xr[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Xr.length&&(s=Xr[0],s.blockedOn===null);)p_(s),s.blockedOn===null&&Xr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[ze]||null;if(typeof f=="function")g||y_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[ze]||null)E=g.formAction;else if(bd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),y_(s)}}}function __(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ad(e){this._internalRoot=e}Ac.prototype.render=Ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Rn();u_(s,o,e,n,null,null)},Ac.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;u_(e.current,2,null,e,null,null),rc(),n[di]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Xr.length&&n!==0&&n<Xr[s].priority;s++);Xr.splice(s,0,e),s===0&&p_(e)}};var v_=t.version;if(v_!=="19.2.4")throw Error(a(527,v_,"19.2.4"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var gb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Kn=wc.inject(gb),qe=wc}catch{}}return El.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Rg,f=Cg,g=Ig;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=o_(e,1,!1,null,null,s,o,null,h,f,g,__),e[di]=n.current,sd(e),new Ad(n)},El.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Rg,g=Cg,E=Ig,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=o_(e,1,!0,n,s??null,o,h,R,f,g,E,__),n.context=l_(null),s=n.current,o=Rn(),o=vs(o),h=Vr(o),h.callback=null,kr(s,h,o),s=o,n.current.lanes=s,ys(n,s),Ni(n),e[di]=n.current,sd(e),new Ac(n)},El.version="19.2.4",El}var N_;function Rb(){if(N_)return Cd.exports;N_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cd.exports=wb(),Cd.exports}var Cb=Rb();const y0=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const Ib=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Nb=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const D_=r=>{const t=Nb(r);return t.charAt(0).toUpperCase()+t.slice(1)};var Db={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xb=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const Ob=Ft.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>Ft.createElement("svg",{ref:_,...Db,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:y0("lucide",l),...!c&&!xb(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,b])=>Ft.createElement(y,b)),...Array.isArray(c)?c:[c]]));const Ze=(r,t)=>{const i=Ft.forwardRef(({className:a,...l},c)=>Ft.createElement(Ob,{ref:c,iconNode:t,className:y0(`lucide-${Ib(D_(r))}`,`lucide-${r}`,a),...l}));return i.displayName=D_(r),i};const Mb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Vb=Ze("arrow-right",Mb);const kb=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Lb=Ze("book-open",kb);const Ub=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Pb=Ze("check",Ub);const zb=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],jb=Ze("chevron-left",zb);const Bb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hb=Ze("chevron-right",Bb);const qb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Fb=Ze("circle-check",qb);const Gb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Kb=Ze("circle-user",Gb);const Qb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],x_=Ze("circle",Qb);const Yb=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Xb=Ze("lock",Yb);const $b=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Jb=Ze("log-out",$b);const Zb=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Wb=Ze("mail",Zb);const tS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],eS=Ze("pen",tS);const nS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],iS=Ze("plus",nS);const rS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],O_=Ze("shield-check",rS);const sS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],M_=Ze("trash-2",sS);const aS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],oS=Ze("trending-up",aS);const lS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],V_=Ze("x",lS),uS=()=>{};var k_={};const _0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},cS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},v0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,b=c>>2,A=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,K=y&63;_||(K=64,d||(M=64)),a.push(i[b],i[A],i[M],i[K])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(_0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):cS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||A==null)throw new hS;const M=c<<2|p>>4;if(a.push(M),y!==64){const K=p<<4&240|y>>2;if(a.push(K),A!==64){const Z=y<<6&192|A;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class hS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fS=function(r){const t=_0(r);return v0.encodeByteArray(t,!0)},qc=function(r){return fS(r).replace(/\./g,"")},E0=function(r){try{return v0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function dS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const mS=()=>dS().__FIREBASE_DEFAULTS__,pS=()=>{if(typeof process>"u"||typeof k_>"u")return;const r=k_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},gS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&E0(r[1]);return t&&JSON.parse(t)},ch=()=>{try{return uS()||mS()||pS()||gS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},T0=r=>ch()?.emulatorHosts?.[r],yS=r=>{const t=T0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},b0=()=>ch()?.config,S0=r=>ch()?.[`_${r}`];class _S{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function fo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function A0(r){return(await fetch(r,{credentials:"include"})).ok}function vS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const Il={};function ES(){const r={prod:[],emulator:[]};for(const t of Object.keys(Il))Il[t]?r.emulator.push(t):r.prod.push(t);return r}function TS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let L_=!1;function w0(r,t){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Il[r]===t||Il[r]||L_)return;Il[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=ES().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,K){M.setAttribute("width","24"),M.setAttribute("id",K),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{L_=!0,d()},M}function b(M,K){M.setAttribute("id",K),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=TS(a),K=i("text"),Z=document.getElementById(K)||document.createElement("span"),tt=i("learnmore"),W=document.getElementById(tt)||document.createElement("a"),ft=i("preprendIcon"),Et=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const mt=M.element;p(mt),b(W,tt);const xt=y();_(Et,ft),mt.append(Et,Z,W,xt),document.body.appendChild(mt)}c?(Z.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function SS(){const r=ch()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function RS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CS(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function IS(){return!SS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NS(){try{return typeof indexedDB=="object"}catch{return!1}}function DS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const xS="FirebaseError";class mr extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=xS,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?OS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new mr(l,p,a)}}function OS(r,t){return r.replace(MS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const MS=/\{\$([^}]+)}/g;function VS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ys(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(U_(c)&&U_(d)){if(!Ys(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function U_(r){return r!==null&&typeof r=="object"}function ql(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function bl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Sl(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function kS(r,t){const i=new LS(r,t);return i.subscribe.bind(i)}class LS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");US(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=xd),l.error===void 0&&(l.error=xd),l.complete===void 0&&(l.complete=xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function US(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function xd(){}function an(r){return r&&r._delegate?r._delegate:r}class Xs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Fs="[DEFAULT]";class PS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new _S;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jS(t))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Fs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fs){return this.instances.has(t)}getOptions(t=Fs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:zS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Fs){return this.component?this.component.multipleInstances?t:Fs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zS(r){return r===Fs?void 0:r}function jS(r){return r.instantiationMode==="EAGER"}class BS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new PS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const HS={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},qS=Lt.INFO,FS={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},GS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=FS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pm{constructor(t){this.name=t,this._logLevel=qS,this._logHandler=GS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const KS=(r,t)=>t.some(i=>r instanceof i);let P_,z_;function QS(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YS(){return z_||(z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R0=new WeakMap,qd=new WeakMap,C0=new WeakMap,Od=new WeakMap,gm=new WeakMap;function XS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(is(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&R0.set(i,r)}).catch(()=>{}),gm.set(t,r),t}function $S(r){if(qd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});qd.set(r,t)}let Fd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return qd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||C0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return is(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function JS(r){Fd=r(Fd)}function ZS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Md(this),t,...i);return C0.set(a,t.sort?t.sort():[t]),is(a)}:YS().includes(r)?function(...t){return r.apply(Md(this),t),is(R0.get(this))}:function(...t){return is(r.apply(Md(this),t))}}function WS(r){return typeof r=="function"?ZS(r):(r instanceof IDBTransaction&&$S(r),KS(r,QS())?new Proxy(r,Fd):r)}function is(r){if(r instanceof IDBRequest)return XS(r);if(Od.has(r))return Od.get(r);const t=WS(r);return t!==r&&(Od.set(r,t),gm.set(t,r)),t}const Md=r=>gm.get(r);function tA(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=is(d);return a&&d.addEventListener("upgradeneeded",_=>{a(is(d.result),_.oldVersion,_.newVersion,is(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const eA=["get","getKey","getAll","getAllKeys","count"],nA=["put","add","delete","clear"],Vd=new Map;function j_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Vd.get(t))return Vd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=nA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||eA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Vd.set(t,c),c}JS(r=>({...r,get:(t,i,a)=>j_(t,i)||r.get(t,i,a),has:(t,i)=>!!j_(t,i)||r.has(t,i)}));class iA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(rA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function rA(r){return r.getComponent()?.type==="VERSION"}const Gd="@firebase/app",B_="0.14.7";const cr=new pm("@firebase/app"),sA="@firebase/app-compat",aA="@firebase/analytics-compat",oA="@firebase/analytics",lA="@firebase/app-check-compat",uA="@firebase/app-check",cA="@firebase/auth",hA="@firebase/auth-compat",fA="@firebase/database",dA="@firebase/data-connect",mA="@firebase/database-compat",pA="@firebase/functions",gA="@firebase/functions-compat",yA="@firebase/installations",_A="@firebase/installations-compat",vA="@firebase/messaging",EA="@firebase/messaging-compat",TA="@firebase/performance",bA="@firebase/performance-compat",SA="@firebase/remote-config",AA="@firebase/remote-config-compat",wA="@firebase/storage",RA="@firebase/storage-compat",CA="@firebase/firestore",IA="@firebase/ai",NA="@firebase/firestore-compat",DA="firebase",xA="12.8.0";const Kd="[DEFAULT]",OA={[Gd]:"fire-core",[sA]:"fire-core-compat",[oA]:"fire-analytics",[aA]:"fire-analytics-compat",[uA]:"fire-app-check",[lA]:"fire-app-check-compat",[cA]:"fire-auth",[hA]:"fire-auth-compat",[fA]:"fire-rtdb",[dA]:"fire-data-connect",[mA]:"fire-rtdb-compat",[pA]:"fire-fn",[gA]:"fire-fn-compat",[yA]:"fire-iid",[_A]:"fire-iid-compat",[vA]:"fire-fcm",[EA]:"fire-fcm-compat",[TA]:"fire-perf",[bA]:"fire-perf-compat",[SA]:"fire-rc",[AA]:"fire-rc-compat",[wA]:"fire-gcs",[RA]:"fire-gcs-compat",[CA]:"fire-fst",[NA]:"fire-fst-compat",[IA]:"fire-vertex","fire-js":"fire-js",[DA]:"fire-js-all"};const Fc=new Map,MA=new Map,Qd=new Map;function H_(r,t){try{r.container.addComponent(t)}catch(i){cr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function ro(r){const t=r.name;if(Qd.has(t))return cr.debug(`There were multiple attempts to register component ${t}.`),!1;Qd.set(t,r);for(const i of Fc.values())H_(i,r);for(const i of MA.values())H_(i,r);return!0}function ym(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function qn(r){return r==null?!1:r.settings!==void 0}const VA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new Hl("app","Firebase",VA);class kA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}const mo=xA;function I0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Kd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw rs.create("bad-app-name",{appName:String(l)});if(i||(i=b0()),!i)throw rs.create("no-options");const c=Fc.get(l);if(c){if(Ys(i,c.options)&&Ys(a,c.config))return c;throw rs.create("duplicate-app",{appName:l})}const d=new BS(l);for(const _ of Qd.values())d.addComponent(_);const p=new kA(i,a,d);return Fc.set(l,p),p}function N0(r=Kd){const t=Fc.get(r);if(!t&&r===Kd&&b0())return I0();if(!t)throw rs.create("no-app",{appName:r});return t}function ss(r,t,i){let a=OA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),cr.warn(d.join(" "));return}ro(new Xs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const LA="firebase-heartbeat-database",UA=1,Vl="firebase-heartbeat-store";let kd=null;function D0(){return kd||(kd=tA(LA,UA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Vl)}catch(i){console.warn(i)}}}}).catch(r=>{throw rs.create("idb-open",{originalErrorMessage:r.message})})),kd}async function PA(r){try{const i=(await D0()).transaction(Vl),a=await i.objectStore(Vl).get(x0(r));return await i.done,a}catch(t){if(t instanceof mr)cr.warn(t.message);else{const i=rs.create("idb-get",{originalErrorMessage:t?.message});cr.warn(i.message)}}}async function q_(r,t){try{const a=(await D0()).transaction(Vl,"readwrite");await a.objectStore(Vl).put(t,x0(r)),await a.done}catch(i){if(i instanceof mr)cr.warn(i.message);else{const a=rs.create("idb-set",{originalErrorMessage:i?.message});cr.warn(a.message)}}}function x0(r){return`${r.name}!${r.options.appId}`}const zA=1024,jA=30;class BA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new qA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=F_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>jA){const l=FA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){cr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=F_(),{heartbeatsToSend:i,unsentEntries:a}=HA(this._heartbeatsCache.heartbeats),l=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return cr.warn(t),""}}}function F_(){return new Date().toISOString().substring(0,10)}function HA(r,t=zA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),G_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),G_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class qA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NS()?DS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await PA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function G_(r){return qc(JSON.stringify({version:2,heartbeats:r})).length}function FA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function GA(r){ro(new Xs("platform-logger",t=>new iA(t),"PRIVATE")),ro(new Xs("heartbeat",t=>new BA(t),"PRIVATE")),ss(Gd,B_,r),ss(Gd,B_,"esm2020"),ss("fire-js","")}GA("");var KA="firebase",QA="12.8.0";ss(KA,QA,"app");function O0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YA=O0,M0=new Hl("auth","Firebase",O0());const Gc=new pm("@firebase/auth");function XA(r,...t){Gc.logLevel<=Lt.WARN&&Gc.warn(`Auth (${mo}): ${r}`,...t)}function Mc(r,...t){Gc.logLevel<=Lt.ERROR&&Gc.error(`Auth (${mo}): ${r}`,...t)}function oi(r,...t){throw _m(r,...t)}function xi(r,...t){return _m(r,...t)}function V0(r,t,i){const a={...YA(),[t]:i};return new Hl("auth","Firebase",a).create(t,{appName:r.name})}function lr(r){return V0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _m(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return M0.create(r,...t)}function yt(r,t,...i){if(!r)throw _m(t,...i)}function ar(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Mc(t),new Error(t)}function hr(r,t){r||ar(t)}function Yd(){return typeof self<"u"&&self.location?.href||""}function $A(){return K_()==="http:"||K_()==="https:"}function K_(){return typeof self<"u"&&self.location?.protocol||null}function JA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($A()||wS()||"connection"in navigator)?navigator.onLine:!0}function ZA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Fl{constructor(t,i){this.shortDelay=t,this.longDelay=i,hr(i>t,"Short delay should be less than long delay!"),this.isMobile=bS()||RS()}get(){return JA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vm(r,t){hr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class k0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const WA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const tw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ew=new Fl(3e4,6e4);function ms(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function pr(r,t,i,a,l={}){return L0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=ql({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return AS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&fo(r.emulatorConfig.host)&&(y.credentials="include"),k0.fetch()(await U0(r,r.config.apiHost,i,p),y)})}async function L0(r,t,i){r._canInitEmulator=!1;const a={...WA,...t};try{const l=new iw(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Rc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Rc(r,"user-disabled",d);const b=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw V0(r,b,y);oi(r,b)}}catch(l){if(l instanceof mr)throw l;oi(r,"network-request-failed",{message:String(l)})}}async function Gl(r,t,i,a,l={}){const c=await pr(r,t,i,a,l);return"mfaPendingCredential"in c&&oi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function U0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?vm(r.config,l):`${r.config.apiScheme}://${l}`;return tw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function nw(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(xi(this.auth,"network-request-failed")),ew.get())})}}function Rc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=xi(r,t,a);return l.customData._tokenResponse=i,l}function Q_(r){return r!==void 0&&r.enterprise!==void 0}class rw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return nw(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sw(r,t){return pr(r,"GET","/v2/recaptchaConfig",ms(r,t))}async function aw(r,t){return pr(r,"POST","/v1/accounts:delete",t)}async function Kc(r,t){return pr(r,"POST","/v1/accounts:lookup",t)}function Nl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ow(r,t=!1){const i=an(r),a=await i.getIdToken(t),l=Em(a);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Nl(Ld(l.auth_time)),issuedAtTime:Nl(Ld(l.iat)),expirationTime:Nl(Ld(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ld(r){return Number(r)*1e3}function Em(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const l=E0(i);return l?JSON.parse(l):(Mc("Failed to decode base64 JWT payload"),null)}catch(l){return Mc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Y_(r){const t=Em(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function so(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof mr&&lw(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function lw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class uw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(r){const t=r.auth,i=await r.getIdToken(),a=await so(r,Kc(t,{idToken:i}));yt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?P0(l.providerUserInfo):[],d=hw(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Xd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function cw(r){const t=an(r);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function hw(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function P0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function fw(r,t){const i=await L0(r,{},async()=>{const a=ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await U0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&fo(r.emulatorConfig.host)&&(_.credentials="include"),k0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function dw(r,t){return pr(r,"POST","/v2/accounts:revokeToken",ms(r,t))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Y_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=Y_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await fw(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ja;return a&&(yt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return ar("not implemented")}}function Jr(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ri{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new uw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Xd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await so(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return ow(this,t)}reload(){return cw(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ri({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(lr(this.auth));const t=await this.getIdToken();return await so(this,aw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:K,providerData:Z,stsTokenManager:tt}=i;yt(A&&tt,t,"internal-error");const W=Ja.fromJSON(this.name,tt);yt(typeof A=="string",t,"internal-error"),Jr(a,t.name),Jr(l,t.name),yt(typeof M=="boolean",t,"internal-error"),yt(typeof K=="boolean",t,"internal-error"),Jr(c,t.name),Jr(d,t.name),Jr(p,t.name),Jr(_,t.name),Jr(y,t.name),Jr(b,t.name);const ft=new ri({uid:A,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:b});return Z&&Array.isArray(Z)&&(ft.providerData=Z.map(Et=>({...Et}))),_&&(ft._redirectEventId=_),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ja;l.updateFromServerResponse(i);const c=new ri({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Qc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?P0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ja;p.updateFromIdToken(a);const _=new ri({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Xd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const X_=new Map;function or(r){hr(r instanceof Function,"Expected a class definition");let t=X_.get(r);return t?(hr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,X_.set(r,t),t)}class z0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}z0.type="NONE";const $_=z0;function Vc(r,t,i){return`firebase:${r}:${t}:${i}`}class Za{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Vc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Vc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Kc(this.auth,{idToken:t}).catch(()=>{});return i?ri._fromGetAccountInfoResponse(this.auth,i,t):null}return ri._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Za(or($_),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||or($_);const d=Vc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const b=await y._get(d);if(b){let A;if(typeof b=="string"){const M=await Kc(t,{idToken:b}).catch(()=>{});if(!M)break;A=await ri._fromGetAccountInfoResponse(t,M,b)}else A=ri._fromJSON(t,b);y!==c&&(p=A),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Za(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Za(c,t,a))}}function J_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(q0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(j0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(G0(t))return"Blackberry";if(K0(t))return"Webos";if(B0(t))return"Safari";if((t.includes("chrome/")||H0(t))&&!t.includes("edge/"))return"Chrome";if(F0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function j0(r=sn()){return/firefox\//i.test(r)}function B0(r=sn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function H0(r=sn()){return/crios\//i.test(r)}function q0(r=sn()){return/iemobile/i.test(r)}function F0(r=sn()){return/android/i.test(r)}function G0(r=sn()){return/blackberry/i.test(r)}function K0(r=sn()){return/webos/i.test(r)}function Tm(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function mw(r=sn()){return Tm(r)&&!!window.navigator?.standalone}function pw(){return CS()&&document.documentMode===10}function Q0(r=sn()){return Tm(r)||F0(r)||K0(r)||G0(r)||/windows phone/i.test(r)||q0(r)}function Y0(r,t=[]){let i;switch(r){case"Browser":i=J_(sn());break;case"Worker":i=`${J_(sn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${mo}/${a}`}class gw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function yw(r,t={}){return pr(r,"GET","/v2/passwordPolicy",ms(r,t))}const _w=6;class vw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??_w,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Ew{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z_(this),this.idTokenSubscription=new Z_(this),this.beforeStateQueue=new gw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=M0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=or(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Kc(this,{idToken:t}),a=await ri._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(qn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ZA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(qn(this.app))return Promise.reject(lr(this));const i=t?an(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return qn(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(or(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await yw(this),i=new vw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Hl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await dw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&or(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[or(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Y0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&XA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ta(r){return an(r)}class Z_{constructor(t){this.auth=t,this.observer=null,this.addObserver=kS(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tw(r){hh=r}function X0(r){return hh.loadJS(r)}function bw(){return hh.recaptchaEnterpriseScript}function Sw(){return hh.gapiScript}function Aw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class ww{constructor(){this.enterprise=new Rw}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class Rw{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const Cw="recaptcha-enterprise",$0="NO_RECAPTCHA";class Iw{constructor(t){this.type=Cw,this.auth=ta(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{sw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new rw(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;Q_(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(y=>{d(y)}).catch(()=>{d($0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ww().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&Q_(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=bw();_.length!==0&&(_+=p),X0(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function W_(r,t,i,a=!1,l=!1){const c=new Iw(r);let d;if(l)d=$0;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function $d(r,t,i,a,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await W_(r,t,i,i==="getOobCode");return a(r,c)}else return a(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await W_(r,t,i,i==="getOobCode");return a(r,d)}else return Promise.reject(c)})}function Nw(r,t){const i=ym(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ys(c,t??{}))return l;oi(l,"already-initialized")}return i.initialize({options:t})}function Dw(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(or);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function xw(r,t,i){const a=ta(r);yt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=J0(t),{host:d,port:p}=Ow(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){yt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),yt(Ys(y,a.config.emulator)&&Ys(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,fo(d)?(A0(`${c}//${d}${_}`),w0("Auth",!0)):Mw()}function J0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Ow(r){const t=J0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:tv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:tv(d)}}}function tv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Mw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class bm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ar("not implemented")}_getIdTokenResponse(t){return ar("not implemented")}_linkToIdToken(t,i){return ar("not implemented")}_getReauthenticationResolver(t){return ar("not implemented")}}async function Vw(r,t){return pr(r,"POST","/v1/accounts:signUp",t)}async function kw(r,t){return Gl(r,"POST","/v1/accounts:signInWithPassword",ms(r,t))}async function Lw(r,t){return Gl(r,"POST","/v1/accounts:signInWithEmailLink",ms(r,t))}async function Uw(r,t){return Gl(r,"POST","/v1/accounts:signInWithEmailLink",ms(r,t))}class kl extends bm{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new kl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new kl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $d(t,i,"signInWithPassword",kw);case"emailLink":return Lw(t,{email:this._email,oobCode:this._password});default:oi(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $d(t,a,"signUpPassword",Vw);case"emailLink":return Uw(t,{idToken:i,email:this._email,oobCode:this._password});default:oi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Wa(r,t){return Gl(r,"POST","/v1/accounts:signInWithIdp",ms(r,t))}const Pw="http://localhost";class $s extends bm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new $s(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):oi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new $s(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Wa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Wa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Wa(t,i)}buildRequest(){const t={requestUri:Pw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ql(i)}return t}}function zw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jw(r){const t=bl(Sl(r)).link,i=t?bl(Sl(t)).deep_link_id:null,a=bl(Sl(r)).deep_link_id;return(a?bl(Sl(a)).link:null)||a||i||t||r}class Sm{constructor(t){const i=bl(Sl(t)),a=i.apiKey??null,l=i.oobCode??null,c=zw(i.mode??null);yt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=jw(t);try{return new Sm(i)}catch{return null}}}class po{constructor(){this.providerId=po.PROVIDER_ID}static credential(t,i){return kl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=Sm.parseLink(i);return yt(a,"argument-error"),kl._fromEmailAndCode(t,a.code,a.tenantId)}}po.PROVIDER_ID="password";po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Z0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Kl extends Z0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Zr extends Kl{constructor(){super("facebook.com")}static credential(t){return $s._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zr.credential(t.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";class Wr extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return $s._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Wr.credential(i,a)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";class ts extends Kl{constructor(){super("github.com")}static credential(t){return $s._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ts.credential(t.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";class es extends Kl{constructor(){super("twitter.com")}static credential(t,i){return $s._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return es.credential(i,a)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";async function Bw(r,t){return Gl(r,"POST","/v1/accounts:signUp",ms(r,t))}class Js{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ri._fromIdTokenResponse(t,a,l),d=ev(a);return new Js({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=ev(a);return new Js({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function ev(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Yc extends mr{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Yc(t,i,a,l)}}function W0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(r,c,t,a):c})}async function Hw(r,t,i=!1){const a=await so(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Js._forOperation(r,"link",a)}async function qw(r,t,i=!1){const{auth:a}=r;if(qn(a.app))return Promise.reject(lr(a));const l="reauthenticate";try{const c=await so(r,W0(a,l,t,r),i);yt(c.idToken,a,"internal-error");const d=Em(c.idToken);yt(d,a,"internal-error");const{sub:p}=d;return yt(r.uid===p,a,"user-mismatch"),Js._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&oi(a,"user-mismatch"),c}}async function tE(r,t,i=!1){if(qn(r.app))return Promise.reject(lr(r));const a="signIn",l=await W0(r,a,t),c=await Js._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function Fw(r,t){return tE(ta(r),t)}async function eE(r){const t=ta(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Gw(r,t,i){if(qn(r.app))return Promise.reject(lr(r));const a=ta(r),d=await $d(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bw).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&eE(r),_}),p=await Js._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function Kw(r,t,i){return qn(r.app)?Promise.reject(lr(r)):Fw(an(r),po.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&eE(r),a})}async function Qw(r,t){return pr(r,"POST","/v1/accounts:update",t)}async function Yw(r,{displayName:t,photoURL:i}){if(t===void 0&&i===void 0)return;const a=an(r),c={idToken:await a.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},d=await so(a,Qw(a.auth,c));a.displayName=d.displayName||null,a.photoURL=d.photoUrl||null;const p=a.providerData.find(({providerId:_})=>_==="password");p&&(p.displayName=a.displayName,p.photoURL=a.photoURL),await a._updateTokensIfNecessary(d)}function Xw(r,t,i,a){return an(r).onIdTokenChanged(t,i,a)}function $w(r,t,i){return an(r).beforeAuthStateChanged(t,i)}function Jw(r,t,i,a){return an(r).onAuthStateChanged(t,i,a)}function Zw(r){return an(r).signOut()}const Xc="__sak";class nE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ww=1e3,tR=10;class iE extends nE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Q0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);pw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,tR):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Ww)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}iE.type="LOCAL";const eR=iE;class rE extends nE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}rE.type="SESSION";const sE=rE;function nR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class fh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new fh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await nR(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];function Am(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class iR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Am("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Oi(){return window}function rR(r){Oi().location.href=r}function aE(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function sR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aR(){return navigator?.serviceWorker?.controller||null}function oR(){return aE()?self:null}const oE="firebaseLocalStorageDb",lR=1,$c="firebaseLocalStorage",lE="fbase_key";class Ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function dh(r,t){return r.transaction([$c],t?"readwrite":"readonly").objectStore($c)}function uR(){const r=indexedDB.deleteDatabase(oE);return new Ql(r).toPromise()}function Jd(){const r=indexedDB.open(oE,lR);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore($c,{keyPath:lE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains($c)?t(a):(a.close(),await uR(),t(await Jd()))})})}async function nv(r,t,i){const a=dh(r,!0).put({[lE]:t,value:i});return new Ql(a).toPromise()}async function cR(r,t){const i=dh(r,!1).get(t),a=await new Ql(i).toPromise();return a===void 0?null:a.value}function iv(r,t){const i=dh(r,!0).delete(t);return new Ql(i).toPromise()}const hR=800,fR=3;class uE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>fR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(oR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sR(),!this.activeServiceWorker)return;this.sender=new iR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||aR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jd();return await nv(t,Xc,"1"),await iv(t,Xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>nv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>cR(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>iv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=dh(l,!1).getAll();return new Ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uE.type="LOCAL";const dR=uE;new Fl(3e4,6e4);function mR(r,t){return t?or(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class wm extends bm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Wa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Wa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function pR(r){return tE(r.auth,new wm(r),r.bypassAuthState)}function gR(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),qw(i,new wm(r),r.bypassAuthState)}async function yR(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),Hw(i,new wm(r),r.bypassAuthState)}class cE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return pR;case"linkViaPopup":case"linkViaRedirect":return yR;case"reauthViaPopup":case"reauthViaRedirect":return gR;default:oi(this.auth,"internal-error")}}resolve(t){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _R=new Fl(2e3,1e4);class $a extends cE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const t=Am();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,_R.get())};t()}}$a.currentPopupAction=null;const vR="pendingRedirect",kc=new Map;class ER extends cE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=kc.get(this.auth._key());if(!t){try{const a=await TR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}kc.set(this.auth._key(),t)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TR(r,t){const i=AR(t),a=SR(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function bR(r,t){kc.set(r._key(),t)}function SR(r){return or(r._redirectPersistence)}function AR(r){return Vc(vR,r.config.apiKey,r.name)}async function wR(r,t,i=!1){if(qn(r.app))return Promise.reject(lr(r));const a=ta(r),l=mR(a,t),d=await new ER(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const RR=600*1e3;class CR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!IR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!hE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(xi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=RR&&this.cachedEventUids.clear(),this.cachedEventUids.has(rv(t))}saveEventToCache(t){this.cachedEventUids.add(rv(t)),this.lastProcessedEventTime=Date.now()}}function rv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function hE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function IR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hE(r);default:return!1}}async function NR(r,t={}){return pr(r,"GET","/v1/projects",t)}const DR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xR=/^https?/;async function OR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await NR(r);for(const i of t)try{if(MR(i))return}catch{}oi(r,"unauthorized-domain")}function MR(r){const t=Yd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!xR.test(i))return!1;if(DR.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const VR=new Fl(3e4,6e4);function sv(){const r=Oi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function kR(r){return new Promise((t,i)=>{function a(){sv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{sv(),i(xi(r,"network-request-failed"))},timeout:VR.get()})}if(Oi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Oi().gapi?.load)a();else{const l=Aw("iframefcb");return Oi()[l]=()=>{gapi.load?a():i(xi(r,"network-request-failed"))},X0(`${Sw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function LR(r){return Lc=Lc||kR(r),Lc}const UR=new Fl(5e3,15e3),PR="__/auth/iframe",zR="emulator/auth/iframe",jR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HR(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?vm(t,zR):`https://${r.config.authDomain}/${PR}`,a={apiKey:t.apiKey,appName:r.name,v:mo},l=BR.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${ql(a).slice(1)}`}async function qR(r){const t=await LR(r),i=Oi().gapi;return yt(i,r,"internal-error"),t.open({where:document.body,url:HR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=xi(r,"network-request-failed"),p=Oi().setTimeout(()=>{c(d)},UR.get());function _(){Oi().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const FR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GR=500,KR=600,QR="_blank",YR="http://localhost";class av{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XR(r,t,i,a=GR,l=KR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...FR,width:a.toString(),height:l.toString(),top:c,left:d},y=sn().toLowerCase();i&&(p=H0(y)?QR:i),j0(y)&&(t=t||YR,_.scrollbars="yes");const b=Object.entries(_).reduce((M,[K,Z])=>`${M}${K}=${Z},`,"");if(mw(y)&&p!=="_self")return $R(t||"",p),new av(null);const A=window.open(t||"",p,b);yt(A,r,"popup-blocked");try{A.focus()}catch{}return new av(A)}function $R(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const JR="__/auth/handler",ZR="emulator/auth/handler",WR=encodeURIComponent("fac");async function ov(r,t,i,a,l,c){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:mo,eventId:l};if(t instanceof Z0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",VS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof Kl){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const _=await r._getAppCheckToken(),y=_?`#${WR}=${encodeURIComponent(_)}`:"";return`${t2(r)}?${ql(p).slice(1)}${y}`}function t2({config:r}){return r.emulator?vm(r,ZR):`https://${r.authDomain}/${JR}`}const Ud="webStorageSupport";class e2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sE,this._completeRedirectFn=wR,this._overrideRedirectResult=bR}async _openPopup(t,i,a,l){hr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await ov(t,i,a,Yd(),l);return XR(t,c,Am())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await ov(t,i,a,Yd(),l);return rR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(hr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await qR(t),a=new CR(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ud,{type:Ud},l=>{const c=l?.[0]?.[Ud];c!==void 0&&i(!!c),oi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=OR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Q0()||B0()||Tm()}}const n2=e2;var lv="@firebase/auth",uv="1.12.0";class i2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function r2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s2(r){ro(new Xs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y0(r)},y=new Ew(a,l,c,_);return Dw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),ro(new Xs("auth-internal",t=>{const i=ta(t.getProvider("auth").getImmediate());return(a=>new i2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ss(lv,uv,r2(r)),ss(lv,uv,"esm2020")}const a2=300,o2=S0("authIdTokenMaxAge")||a2;let cv=null;const l2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>o2)return;const l=i?.token;cv!==l&&(cv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function u2(r=N0()){const t=ym(r,"auth");if(t.isInitialized())return t.getImmediate();const i=Nw(r,{popupRedirectResolver:n2,persistence:[dR,eR,sE]}),a=S0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=l2(c.toString());$w(i,d,()=>d(i.currentUser)),Xw(i,p=>d(p))}}const l=T0("auth");return l&&xw(i,`http://${l}`),i}function c2(){return document.getElementsByTagName("head")?.[0]??document}Tw({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=xi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",c2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s2("Browser");var hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var as,fE;(function(){var r;function t(I,S){function C(){}C.prototype=S.prototype,I.F=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,N,L){for(var w=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)w[Gt-2]=arguments[Gt];return S.prototype[N].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,C){C||(C=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],N=I.g[2];let L=I.g[3],w;w=S+(L^C&(N^L))+V[0]+3614090360&4294967295,S=C+(w<<7&4294967295|w>>>25),w=L+(N^S&(C^N))+V[1]+3905402710&4294967295,L=S+(w<<12&4294967295|w>>>20),w=N+(C^L&(S^C))+V[2]+606105819&4294967295,N=L+(w<<17&4294967295|w>>>15),w=C+(S^N&(L^S))+V[3]+3250441966&4294967295,C=N+(w<<22&4294967295|w>>>10),w=S+(L^C&(N^L))+V[4]+4118548399&4294967295,S=C+(w<<7&4294967295|w>>>25),w=L+(N^S&(C^N))+V[5]+1200080426&4294967295,L=S+(w<<12&4294967295|w>>>20),w=N+(C^L&(S^C))+V[6]+2821735955&4294967295,N=L+(w<<17&4294967295|w>>>15),w=C+(S^N&(L^S))+V[7]+4249261313&4294967295,C=N+(w<<22&4294967295|w>>>10),w=S+(L^C&(N^L))+V[8]+1770035416&4294967295,S=C+(w<<7&4294967295|w>>>25),w=L+(N^S&(C^N))+V[9]+2336552879&4294967295,L=S+(w<<12&4294967295|w>>>20),w=N+(C^L&(S^C))+V[10]+4294925233&4294967295,N=L+(w<<17&4294967295|w>>>15),w=C+(S^N&(L^S))+V[11]+2304563134&4294967295,C=N+(w<<22&4294967295|w>>>10),w=S+(L^C&(N^L))+V[12]+1804603682&4294967295,S=C+(w<<7&4294967295|w>>>25),w=L+(N^S&(C^N))+V[13]+4254626195&4294967295,L=S+(w<<12&4294967295|w>>>20),w=N+(C^L&(S^C))+V[14]+2792965006&4294967295,N=L+(w<<17&4294967295|w>>>15),w=C+(S^N&(L^S))+V[15]+1236535329&4294967295,C=N+(w<<22&4294967295|w>>>10),w=S+(N^L&(C^N))+V[1]+4129170786&4294967295,S=C+(w<<5&4294967295|w>>>27),w=L+(C^N&(S^C))+V[6]+3225465664&4294967295,L=S+(w<<9&4294967295|w>>>23),w=N+(S^C&(L^S))+V[11]+643717713&4294967295,N=L+(w<<14&4294967295|w>>>18),w=C+(L^S&(N^L))+V[0]+3921069994&4294967295,C=N+(w<<20&4294967295|w>>>12),w=S+(N^L&(C^N))+V[5]+3593408605&4294967295,S=C+(w<<5&4294967295|w>>>27),w=L+(C^N&(S^C))+V[10]+38016083&4294967295,L=S+(w<<9&4294967295|w>>>23),w=N+(S^C&(L^S))+V[15]+3634488961&4294967295,N=L+(w<<14&4294967295|w>>>18),w=C+(L^S&(N^L))+V[4]+3889429448&4294967295,C=N+(w<<20&4294967295|w>>>12),w=S+(N^L&(C^N))+V[9]+568446438&4294967295,S=C+(w<<5&4294967295|w>>>27),w=L+(C^N&(S^C))+V[14]+3275163606&4294967295,L=S+(w<<9&4294967295|w>>>23),w=N+(S^C&(L^S))+V[3]+4107603335&4294967295,N=L+(w<<14&4294967295|w>>>18),w=C+(L^S&(N^L))+V[8]+1163531501&4294967295,C=N+(w<<20&4294967295|w>>>12),w=S+(N^L&(C^N))+V[13]+2850285829&4294967295,S=C+(w<<5&4294967295|w>>>27),w=L+(C^N&(S^C))+V[2]+4243563512&4294967295,L=S+(w<<9&4294967295|w>>>23),w=N+(S^C&(L^S))+V[7]+1735328473&4294967295,N=L+(w<<14&4294967295|w>>>18),w=C+(L^S&(N^L))+V[12]+2368359562&4294967295,C=N+(w<<20&4294967295|w>>>12),w=S+(C^N^L)+V[5]+4294588738&4294967295,S=C+(w<<4&4294967295|w>>>28),w=L+(S^C^N)+V[8]+2272392833&4294967295,L=S+(w<<11&4294967295|w>>>21),w=N+(L^S^C)+V[11]+1839030562&4294967295,N=L+(w<<16&4294967295|w>>>16),w=C+(N^L^S)+V[14]+4259657740&4294967295,C=N+(w<<23&4294967295|w>>>9),w=S+(C^N^L)+V[1]+2763975236&4294967295,S=C+(w<<4&4294967295|w>>>28),w=L+(S^C^N)+V[4]+1272893353&4294967295,L=S+(w<<11&4294967295|w>>>21),w=N+(L^S^C)+V[7]+4139469664&4294967295,N=L+(w<<16&4294967295|w>>>16),w=C+(N^L^S)+V[10]+3200236656&4294967295,C=N+(w<<23&4294967295|w>>>9),w=S+(C^N^L)+V[13]+681279174&4294967295,S=C+(w<<4&4294967295|w>>>28),w=L+(S^C^N)+V[0]+3936430074&4294967295,L=S+(w<<11&4294967295|w>>>21),w=N+(L^S^C)+V[3]+3572445317&4294967295,N=L+(w<<16&4294967295|w>>>16),w=C+(N^L^S)+V[6]+76029189&4294967295,C=N+(w<<23&4294967295|w>>>9),w=S+(C^N^L)+V[9]+3654602809&4294967295,S=C+(w<<4&4294967295|w>>>28),w=L+(S^C^N)+V[12]+3873151461&4294967295,L=S+(w<<11&4294967295|w>>>21),w=N+(L^S^C)+V[15]+530742520&4294967295,N=L+(w<<16&4294967295|w>>>16),w=C+(N^L^S)+V[2]+3299628645&4294967295,C=N+(w<<23&4294967295|w>>>9),w=S+(N^(C|~L))+V[0]+4096336452&4294967295,S=C+(w<<6&4294967295|w>>>26),w=L+(C^(S|~N))+V[7]+1126891415&4294967295,L=S+(w<<10&4294967295|w>>>22),w=N+(S^(L|~C))+V[14]+2878612391&4294967295,N=L+(w<<15&4294967295|w>>>17),w=C+(L^(N|~S))+V[5]+4237533241&4294967295,C=N+(w<<21&4294967295|w>>>11),w=S+(N^(C|~L))+V[12]+1700485571&4294967295,S=C+(w<<6&4294967295|w>>>26),w=L+(C^(S|~N))+V[3]+2399980690&4294967295,L=S+(w<<10&4294967295|w>>>22),w=N+(S^(L|~C))+V[10]+4293915773&4294967295,N=L+(w<<15&4294967295|w>>>17),w=C+(L^(N|~S))+V[1]+2240044497&4294967295,C=N+(w<<21&4294967295|w>>>11),w=S+(N^(C|~L))+V[8]+1873313359&4294967295,S=C+(w<<6&4294967295|w>>>26),w=L+(C^(S|~N))+V[15]+4264355552&4294967295,L=S+(w<<10&4294967295|w>>>22),w=N+(S^(L|~C))+V[6]+2734768916&4294967295,N=L+(w<<15&4294967295|w>>>17),w=C+(L^(N|~S))+V[13]+1309151649&4294967295,C=N+(w<<21&4294967295|w>>>11),w=S+(N^(C|~L))+V[4]+4149444226&4294967295,S=C+(w<<6&4294967295|w>>>26),w=L+(C^(S|~N))+V[11]+3174756917&4294967295,L=S+(w<<10&4294967295|w>>>22),w=N+(S^(L|~C))+V[2]+718787259&4294967295,N=L+(w<<15&4294967295|w>>>17),w=C+(L^(N|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+L&4294967295}a.prototype.v=function(I,S){S===void 0&&(S=I.length);const C=S-this.blockSize,V=this.C;let N=this.h,L=0;for(;L<S;){if(N==0)for(;L<=C;)l(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<S;)if(V[N++]=I.charCodeAt(L++),N==this.blockSize){l(this,V),N=0;break}}else for(;L<S;)if(V[N++]=I[L++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[S++]=this.g[C]>>>V&255;return I};function c(I,S){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function d(I,S){this.h=S;const C=[];let V=!0;for(let N=I.length-1;N>=0;N--){const L=I[N]|0;V&&L==S||(C[N]=L,V=!1)}this.g=C}var p={};function _(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return W(y(-I));const S=[];let C=1;for(let V=0;I>=C;V++)S[V]=I/C|0,C*=4294967296;return new d(S,0)}function b(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return W(b(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let V=A;for(let L=0;L<I.length;L+=8){var N=Math.min(8,I.length-L);const w=parseInt(I.substring(L,L+N),S);N<8?(N=y(Math.pow(S,N)),V=V.j(N).add(y(w))):(V=V.j(C),V=V.add(y(w)))}return V}var A=_(0),M=_(1),K=_(16777216);r=d.prototype,r.m=function(){if(tt(this))return-W(this).m();let I=0,S=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(tt(this))return"-"+W(this).toString(I);const S=y(Math.pow(I,6));var C=this;let V="";for(;;){const N=xt(C,S).g;C=ft(C,N.j(S));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,Z(C))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function tt(I){return I.h==-1}r.l=function(I){return I=ft(this,I),tt(I)?-1:Z(I)?0:1};function W(I){const S=I.g.length,C=[];for(let V=0;V<S;V++)C[V]=~I.g[V];return new d(C,~I.h).add(M)}r.abs=function(){return tt(this)?W(this):this},r.add=function(I){const S=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let N=0;N<=S;N++){let L=V+(this.i(N)&65535)+(I.i(N)&65535),w=(L>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=w>>>16,L&=65535,w&=65535,C[N]=w<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ft(I,S){return I.add(W(S))}r.j=function(I){if(Z(this)||Z(I))return A;if(tt(this))return tt(I)?W(this).j(W(I)):W(W(this).j(I));if(tt(I))return W(this.j(W(I)));if(this.l(K)<0&&I.l(K)<0)return y(this.m()*I.m());const S=this.g.length+I.g.length,C=[];for(var V=0;V<2*S;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const L=this.i(V)>>>16,w=this.i(V)&65535,Gt=I.i(N)>>>16,ye=I.i(N)&65535;C[2*V+2*N]+=w*ye,Et(C,2*V+2*N),C[2*V+2*N+1]+=L*ye,Et(C,2*V+2*N+1),C[2*V+2*N+1]+=w*Gt,Et(C,2*V+2*N+1),C[2*V+2*N+2]+=L*Gt,Et(C,2*V+2*N+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new d(C,0)};function Et(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function mt(I,S){this.g=I,this.h=S}function xt(I,S){if(Z(S))throw Error("division by zero");if(Z(I))return new mt(A,A);if(tt(I))return S=xt(W(I),S),new mt(W(S.g),W(S.h));if(tt(S))return S=xt(I,W(S)),new mt(W(S.g),S.h);if(I.g.length>30){if(tt(I)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=S;V.l(I)<=0;)C=se(C),V=se(V);var N=Ot(C,1),L=Ot(V,1);for(V=Ot(V,2),C=Ot(C,2);!Z(V);){var w=L.add(V);w.l(I)<=0&&(N=N.add(C),L=w),V=Ot(V,1),C=Ot(C,1)}return S=ft(I,N.j(S)),new mt(N,S)}for(N=A;I.l(S)>=0;){for(C=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(C),w=L.j(S);tt(w)||w.l(I)>0;)C-=V,L=y(C),w=L.j(S);Z(L)&&(L=M),N=N.add(L),I=ft(I,w)}return new mt(N,I)}r.B=function(I){return xt(this,I).h},r.and=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},r.or=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},r.xor=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function se(I){const S=I.g.length+1,C=[];for(let V=0;V<S;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function Ot(I,S){const C=S>>5;S%=32;const V=I.g.length-C,N=[];for(let L=0;L<V;L++)N[L]=S>0?I.i(L+C)>>>S|I.i(L+C+1)<<32-S:I.i(L+C);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,fE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,as=d}).apply(typeof hv<"u"?hv:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dE,Al,mE,Uc,Zd,pE,gE,yE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var nt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)nt[wt-2]=arguments[wt];return m.prototype[U].apply(T,nt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let nt=0;nt<B;nt++)u[v+nt]=U[nt]}else u.push(U)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const T=mt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new tt(()=>new xt,u=>u.reset());class xt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let se,Ot=!1,I=new Et,S=()=>{const u=Promise.resolve(void 0);se=()=>{u.then(C)}};function C(){for(var u;u=ft();){try{u.h.call(u.g)}catch(v){W(v)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ot=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Gt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(Gt,N),Gt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Gt.Z.h.call(this)},Gt.prototype.h=function(){Gt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),q=0;function it(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++q,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function It(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Bt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const nt=At(u,m,T,U);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new it(m,this.src,B,!!T,U),m.fa=v,u.push(m)),m};function vt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function At(u,m,v,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return U}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),_e={};function ae(u,m,v,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ae(u,m[B],v,T,U);return null}return v=ji(v),u&&u[ye]?u.J(m,v,p(T)?!!T.capture:!1,U):Pi(u,m,v,!1,T,U)}function Pi(u,m,v,T,U,B){if(!m)throw Error("Invalid event type");const nt=p(U)?!!U.capture:!!U;let wt=zi(u);if(wt||(u[Mt]=wt=new rt(u)),v=wt.add(m,v,T,nt,B),v.proxy)return v;if(T=gr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(U=nt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Cn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function gr(){function u(v){return m.call(u.src,u.listener,v)}const m=ps;return u}function yr(u,m,v,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)yr(u,m[B],v,T,U);else T=p(T)?!!T.capture:!!T,v=ji(v),u&&u[ye]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=At(m,v,T,U),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=zi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,v,T,U)),(v=u>-1?m[u]:null)&&_r(v))}function _r(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ye])vt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Cn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=zi(m))?(vt(v,u),v.h==0&&(v.src=null,m[Mt]=null)):ct(u)}}}function Cn(u){return u in _e?_e[u]:_e[u]="on"+u}function ps(u,m){if(u.da)u=!0;else{m=new Gt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&_r(u),u=v.call(T,m)}return u}function zi(u){return u=u[Mt],u instanceof rt?u:null}var vr="__closure_events_fn_"+(Math.random()*1e9>>>0);function ji(u){return typeof u=="function"?u:(u[vr]||(u[vr]=function(m){return u.handleEvent(m)}),u[vr])}function Kt(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}A(Kt,V),Kt.prototype[ye]=!0,Kt.prototype.removeEventListener=function(u,m,v,T){yr(this,u,m,v,T)};function oe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(T,u),et(m,U)}U=!0;let B,nt;if(v)for(nt=v.length-1;nt>=0;nt--)B=m.g=v[nt],U=In(B,T,!0,m)&&U;if(B=m.g=u,U=In(B,T,!0,m)&&U,U=In(B,T,!1,m)&&U,v)for(nt=0;nt<v.length;nt++)B=m.g=v[nt],U=In(B,T,!1,m)&&U}Kt.prototype.N=function(){if(Kt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ct(v[T]);delete u.g[m],u.h--}}this.G=null},Kt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Kt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function In(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const nt=m[B];if(nt&&!nt.da&&nt.capture==v){const wt=nt.listener,Ee=nt.ha||nt.src;nt.fa&&vt(u.i,nt),U=wt.call(Ee,T)!==!1&&U}}return U&&!T.defaultPrevented}function G(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ut(u){u.g=G(()=>{u.g=null,u.i&&(u.i=!1,ut(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class gt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ut(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $t(u){V.call(this),this.h=u,this.g={}}A($t,V);var We=[];function Nn(u){It(u.g,function(m,v){this.g.hasOwnProperty(v)&&_r(m)},u),u.g={}}$t.prototype.N=function(){$t.Z.N.call(this),Nn(this)},$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yn=d.JSON.stringify,li=d.JSON.parse,Pe=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wl(){}function tu(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){N.call(this,"d")}A(qe,N);function Dn(){N.call(this,"c")}A(Dn,N);var ve={},eu=null;function sa(){return eu=eu||new Kt}ve.Ia="serverreachability";function nu(u){N.call(this,ve.Ia,u)}A(nu,N);function ui(u){const m=sa();oe(m,new nu(m))}ve.STAT_EVENT="statevent";function gs(u,m){N.call(this,ve.STAT_EVENT,u),this.stat=m}A(gs,N);function Ae(u){const m=sa();oe(m,new gs(m,u))}ve.Ja="timingevent";function ci(u,m){N.call(this,ve.Ja,u),this.size=m}A(ci,N);function hi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function Ih(u,m,v,T,U,B){u.info(function(){if(u.g)if(B){var nt="",wt=B.split("&");for(let Qt=0;Qt<wt.length;Qt++){var Ee=wt[Qt].split("=");if(Ee.length>1){const fe=Ee[0];Ee=Ee[1];const Vn=fe.split("_");nt=Vn.length>=2&&Vn[1]=="type"?nt+(fe+"="+Ee+"&"):nt+(fe+"=redacted&")}}}else nt=null;else nt=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+nt})}function iu(u,m,v,T,U,B,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+nt})}function fi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Nh(u,v)+(T?" "+T:"")})}function ys(u,m){u.info(function(){return"TIMEOUT: "+m})}Qn.prototype.info=function(){};function Nh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let nt=1;nt<T.length;nt++)T[nt]=""}}}}return yn(B)}catch{return m}}var _s={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},To;function vs(){}A(vs,Wl),vs.prototype.g=function(){return new XMLHttpRequest},To=new vs;function Bi(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Yn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new $t(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var we={},ze={};function di(u,m,v){u.M=1,u.A=Es(Ce(m)),u.u=v,u.R=!0,aa(u,null)}function aa(u,m){u.F=Date.now(),mi(u),u.B=Ce(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ca(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Xn,u.g=vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new gt(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(We[0]=U.toString()),U=We);for(let B=0;B<U.length;B++){const nt=ae(v,U[B],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ui(),Ih(u.i,u.v,u.B,u.l,u.S,u.u)}Yn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Zn(u)==3?m.j():this.Y(u)},Yn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Zn(this.g),Ee=this.g.ya(),Qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Fe(this.g)))){this.K||wt!=4||Ee==7||(Ee==8||Qt<=0?ui(3):ui(2)),pi(this);var m=this.g.ca();this.X=m;var v=Dh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)fi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,u);else{this.o=!1,this.m=3,Ae(12),_n(this),xn(this);break t}}if(this.R){u=!0;let fe;for(;!this.K&&this.C<v.length;)if(fe=au(this,v),fe==ze){wt==4&&(this.m=4,Ae(14),u=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==we){this.m=4,Ae(15),fi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else fi(this.i,this.l,fe,null),gi(this,fe);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Ae(16),u=!1),this.o=this.o&&u,!u)fi(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Lo(nt),nt.P=!0,Ae(11))}}else fi(this.i,this.l,v,null),gi(this,v);wt==4&&_n(this),this.o&&!this.K&&(wt==4?pu(this.j,this):(this.o=!1,mi(this)))}else qi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),_n(this),xn(this)}}}catch{}};function Dh(u){if(!su(u))return u.g.la();const m=Fe(u.g);if(m==="")return"";let v="";const T=m.length,U=Zn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return _n(u),xn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?ze:(v=Number(m.substring(v,T)),isNaN(v)?we:(T+=1,T+v>m.length?ze:(m=m.slice(T,T+v),u.C=T+v,m)))}Yn.prototype.cancel=function(){this.K=!0,_n(this)};function mi(u){u.T=Date.now()+u.H,oa(u,u.H)}function oa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=hi(y(u.aa,u),m)}function pi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Yn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ys(this.i,this.B),this.M!=2&&(ui(),Ae(17)),_n(this),this.m=2,xn(this)):oa(this,this.T-u)};function xn(u){u.j.I==0||u.K||pu(u.j,u)}function _n(u){pi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Nn(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function gi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||_i(v.h,u))){if(!u.L&&_i(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)pa(v),Cr(v);else break t;Cs(v),Ae(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=hi(y(v.Va,v),6e3));yi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((u.L||v.g==u)&&pa(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Qt=U[m];const fe=Qt[0];if(!(fe<=v.K))if(v.K=fe,Qt=Qt[1],v.I==2)if(Qt[0]=="c"){v.M=Qt[1],v.ba=Qt[2];const Vn=Qt[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const wi=Qt[4];wi!=null&&(v.za=wi,v.j.info("SVER="+v.za));const Wn=Qt[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(T=1.5*Wn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ti=u.g;if(ti){const Is=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var B=T.h;B.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ao(B,B.h),B.h=null))}if(T.G){const ga=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(T.wa=ga,Jt(T.J,T.G,ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var nt=u;if(T.na=_u(T,T.L?T.ba:null,T.W),nt.L){wo(T.h,nt);var wt=nt,Ee=T.O;Ee&&(wt.H=Ee),wt.D&&(pi(wt),mi(wt)),T.g=nt}else du(T);v.i.length>0&&Si(v)}else Qt[0]!="stop"&&Qt[0]!="close"||Ai(v,7);else v.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Ai(v,7):Vo(v):Qt[0]!="noop"&&v.l&&v.l.qa(Qt),v.A=0)}}ui(4)}catch{}}var Re=class{constructor(u,m){this.g=u,this.map=m}};function bo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yi(u){return u.h?1:u.g?u.g.size:0}function _i(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ao(u,m){u.g?u.g.add(m):u.h=m}function wo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bo.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ro(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return K(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,B=null;T>=0?(U=u[v].substring(0,T),B=u[v].substring(T+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof vn?(this.l=u.l,je(this,u.j),this.o=u.o,this.g=u.g,Er(this,u.u),this.h=u.h,Co(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,je(this,m[1]||"",!0),this.o=vi(m[2]||""),this.g=vi(m[3]||"",!0),Er(this,m[4]),this.h=vi(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=vi(m[7]||"")):(this.l=!1,this.i=new br(null,this.l))}vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ts(m,ua,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ts(m,ua,!0),"@"),u.push(Bi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ts(v,v.charAt(0)=="/"?Io:lu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ts(v,uu)),u.join("")},vn.prototype.resolve=function(u){const m=Ce(this);let v=!!u.j;v?je(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Er(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let nt=0;nt<U.length;){const wt=U[nt++];wt=="."?T&&nt==U.length&&B.push(""):wt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&nt==U.length&&B.push("")):(B.push(wt),T=!0)}T=B.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?Co(m,hu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ce(u){return new vn(u)}function je(u,m,v){u.j=v?vi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Er(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Co(u,m,v){m instanceof br?(u.i=m,ha(u.i,u.l)):(v||(m=Ts(m,Tr)),u.i=new br(m,u.l))}function Jt(u,m,v){u.i.set(m,v)}function Es(u){return Jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function vi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ts(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,un),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function un(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ua=/[#\/\?@]/g,lu=/[#\?:]/g,Io=/[#\?]/g,Tr=/[#\?@]/g,uu=/#/g;function br(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function cn(u){u.g||(u.g=new Map,u.h=0,u.i&&la(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=br.prototype,r.add=function(u,m){cn(this),this.i=null,u=Sr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function cu(u,m){cn(u),m=Sr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function No(u,m){return cn(u),m=Sr(u,m),u.g.has(m)}r.forEach=function(u,m){cn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Do(u,m){cn(u);let v=[];if(typeof m=="string")No(u,m)&&(v=v.concat(u.g.get(Sr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return cn(this),this.i=null,u=Sr(this,u),No(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Do(this,u),u.length>0?String(u[0]):m):m};function ca(u,m,v){cu(u,m),v.length>0&&(u.i=null,u.g.set(Sr(u,m),K(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Bi(v);v=Do(this,v);for(let B=0;B<v.length;B++){let nt=U;v[B]!==""&&(nt+="="+Bi(v[B])),u.push(nt)}}return this.i=u.join("&")};function hu(u){const m=new br;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Sr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ha(u,m){m&&!u.j&&(cn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(cu(this,T),ca(this,U,v))},u)),u.j=m}function $n(u,m){const v=new Qn;if(d.Image){const T=new Image;T.onload=b(On,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(On,v,"TestLoadImage: error",!1,m,T),T.onabort=b(On,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(On,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function xo(u,m){const v=new Qn,T=new AbortController,U=setTimeout(()=>{T.abort(),On(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?On(v,"TestPingServer: ok",!0,m):On(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),On(v,"TestPingServer: error",!1,m)})}function On(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function Ar(){this.g=new Pe}function Ei(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ei,Wl),Ei.prototype.g=function(){return new bs(this.i,this.h)};function bs(u,m){Kt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(bs,Kt),r=bs.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function fa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?wr(this):Jn(this),this.readyState==3&&fa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,wr(this))},r.Na=function(u){this.g&&(this.response=u,wr(this))},r.ga=function(){this.g&&wr(this)};function wr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Jn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mn(u){let m="";return It(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ss(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Mn(v),typeof u=="string"?v!=null&&Bi(v):Jt(u,m,v))}function te(u){Kt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(te,Kt);var Ti=/^https?$/i,Oo=["POST","PUT"];r=te.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():To.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){As(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,nt]of v)this.g.setRequestHeader(B,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){As(this,B)}};function As(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Mo(u),Hi(u)}function Mo(u){u.A||(u.A=!0,oe(u,"complete"),oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,oe(this,"complete"),oe(this,"abort"),Hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),te.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ws(this):this.Xa())},r.Xa=function(){ws(this)};function ws(u){if(u.h&&typeof c<"u"){if(u.v&&Zn(u)==4)setTimeout(u.Ca.bind(u),0);else if(oe(u,"readystatechange"),Zn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let nt=String(u.D).match(ou)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),T=!Ti.test(nt?nt.toLowerCase():"")}v=T}if(v)oe(u,"complete"),oe(u,"success");else{u.o=6;try{var U=Zn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Mo(u)}}finally{Hi(u)}}}}function Hi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||oe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Zn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),li(m)}};function Fe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(u){const m={};u=(u.g&&Zn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=ru(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Bt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Rr(u){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,u),this.Za=bi("retryDelaySeedMs",1e4,u),this.Ta=bi("forwardChannelMaxRetries",2,u),this.va=bi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(u&&u.concurrentRequestLimit),this.Ba=new Ar,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Rr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Ae(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=_u(this,null,this.W),Si(this)};function Vo(u){if(da(u),u.I==3){var m=u.V++,v=Ce(u.J);if(Jt(v,"SID",u.M),Jt(v,"RID",m),Jt(v,"TYPE","terminate"),Rs(u,v),m=new Yn(u,u.j,m),m.M=2,m.A=Es(Ce(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),mi(m)}yu(u)}function Cr(u){u.g&&(Lo(u),u.g.cancel(),u.g=null)}function da(u){Cr(u),u.v&&(d.clearTimeout(u.v),u.v=null),pa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Si(u){if(!So(u.h)&&!u.m){u.m=!0;var m=u.Ea;se||S(),Ot||(se(),Ot=!0),I.add(m,u),u.D=0}}function ma(u,m){return yi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=hi(y(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Yn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=x(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=fu(this,U,m),v=Ce(this.J),Jt(v,"RID",u),Jt(v,"CVER",22),this.G&&Jt(v,"X-HTTP-Session-Id",this.G),Rs(this,v),B&&(this.R?m="headers="+Bi(Mn(B))+"&"+m:this.u&&Ss(v,this.u,B)),Ao(this.h,U),this.Ra&&Jt(v,"TYPE","init"),this.S?(Jt(v,"$req",m),Jt(v,"SID","null"),U.U=!0,di(U,v,null)):di(U,v,m),this.I=2}}else this.I==3&&(u?ko(this,u):this.i.length==0||So(this.h)||ko(this))};function ko(u,m){var v;m?v=m.l:v=u.V++;const T=Ce(u.J);Jt(T,"SID",u.M),Jt(T,"RID",v),Jt(T,"AID",u.K),Rs(u,T),u.u&&u.o&&Ss(T,u.u,u.o),v=new Yn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ao(u.h,v),di(v,T,m)}function Rs(u,m){u.H&&It(u.H,function(v,T){Jt(m,T,v)}),u.l&&It({},function(v,T){Jt(m,T,v)})}function fu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let wt=-1;for(;;){const Ee=["count="+v];wt==-1?v>0?(wt=U[0].g,Ee.push("ofs="+wt)):wt=0:Ee.push("ofs="+wt);let Qt=!0;for(let fe=0;fe<v;fe++){var B=U[fe].g;const Vn=U[fe].map;if(B-=wt,B<0)wt=Math.max(0,U[fe].g-100),Qt=!1;else try{B="req"+B+"_"||"";try{var nt=Vn instanceof Map?Vn:Object.entries(Vn);for(const[wi,Wn]of nt){let ti=Wn;p(Wn)&&(ti=yn(Wn)),Ee.push(B+wi+"="+encodeURIComponent(ti))}}catch(wi){throw Ee.push(B+"type="+encodeURIComponent("_badmap")),wi}}catch{T&&T(Vn)}}if(Qt){nt=Ee.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;se||S(),Ot||(se(),Ot=!0),I.add(m,u),u.A=0}}function Cs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=hi(y(u.Da,u),gu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=hi(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Cr(this),mu(this))};function Lo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new Yn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ce(u.na);Jt(m,"RID","rpc"),Jt(m,"SID",u.M),Jt(m,"AID",u.K),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Jt(m,"TO",u.ia),Jt(m,"TYPE","xmlhttp"),Rs(u,m),u.u&&u.o&&Ss(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Es(Ce(m)),v.u=null,v.R=!0,aa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Cr(this),Cs(this),Ae(19))};function pa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var v=null;if(u.g==m){pa(u),Lo(u),u.g=null;var T=2}else if(_i(u.h,m))v=m.G,wo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=sa(),oe(T,new ci(T,v)),Si(u)}else du(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ma(u,m)||T==2&&Cs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const U=!T;T=new vn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||je(T,"https"),Es(T),U?$n(T.toString(),v):xo(T.toString(),v)}else Ae(2);u.I=0,u.l&&u.l.pa(m),yu(u),da(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=Ro(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,v){var T=v instanceof vn?Ce(v):new vn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Er(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new vn(null);T&&je(B,T),m&&(B.g=m),U&&Er(B,U),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Jt(T,v,m),Jt(T,"VER",u.ka),Rs(u,T),T}function vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new te(new Ei({ab:v})):new te(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}r=Eu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ir(){}Ir.prototype.g=function(u,m){return new on(u,m)};function on(u,m){Kt.call(this),this.g=new Rr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Fi(this)}A(on,Kt),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Vo(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=yn(u),u=v);m.i.push(new Re(m.Ya++,u)),m.I==3&&Si(m)},on.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,on.Z.N.call(this)};function Tu(u){qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Tu,qe);function bu(){Dn.call(this),this.status=1}A(bu,Dn);function Fi(u){this.g=u}A(Fi,Eu),Fi.prototype.ra=function(){oe(this.g,"a")},Fi.prototype.qa=function(u){oe(this.g,new Tu(u))},Fi.prototype.pa=function(u){oe(this.g,new bu)},Fi.prototype.oa=function(){oe(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,yE=function(){return new Ir},gE=function(){return sa()},pE=ve,Zd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,Uc=_s,Eo.COMPLETE="complete",mE=Eo,tu.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Kt.prototype.listen=Kt.prototype.J,Al=tu,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,dE=te}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let go="12.8.0";function h2(r){go=r}const Zs=new pm("@firebase/firestore");function Ka(){return Zs.logLevel}function st(r,...t){if(Zs.logLevel<=Lt.DEBUG){const i=t.map(Rm);Zs.debug(`Firestore (${go}): ${r}`,...i)}}function fr(r,...t){if(Zs.logLevel<=Lt.ERROR){const i=t.map(Rm);Zs.error(`Firestore (${go}): ${r}`,...i)}}function ao(r,...t){if(Zs.logLevel<=Lt.WARN){const i=t.map(Rm);Zs.warn(`Firestore (${go}): ${r}`,...i)}}function Rm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function _t(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,_E(r,a,i)}function _E(r,t,i){let a=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw fr(a),new Error(a)}function Xt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||_E(t,l,a)}function St(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends mr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ks{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class vE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class f2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(nn.UNAUTHENTICATED)))}shutdown(){}}class d2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class m2{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ks,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ks)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xt(typeof a.accessToken=="string",31837,{l:a}),new vE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class p2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class g2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new p2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Xt(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new fv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function _2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Cm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=_2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Ut(r,t){return r<t?-1:r>t?1:0}function Wd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Pd(l)===Pd(c)?Ut(l,c):Pd(l)?1:-1}return Ut(r.length,t.length)}const v2=55296,E2=57343;function Pd(r){const t=r.charCodeAt(0);return t>=v2&&t<=E2}function oo(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const dv="__name__";class Di{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&_t(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Di.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const a=Di.isNumericId(t),l=Di.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Di.extractNumericId(t).compare(Di.extractNumericId(i)):Wd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return as.fromString(t.substring(4,t.length-2))}}class ce extends Di{construct(t,i,a){return new ce(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ce(i)}static emptyPath(){return new ce([])}}const T2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Di{construct(t,i,a){return new $e(t,i,a)}static isValidIdentifier(t){return T2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dv}static keyField(){return new $e([dv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new lt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new lt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(i)}static emptyPath(){return new $e([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ce.fromString(t))}static fromName(t){return new dt(ce.fromString(t).popFirst(5))}static empty(){return new dt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ce.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ce(t.slice()))}}function EE(r,t,i){if(!i)throw new lt(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function b2(r,t,i,a){if(t===!0&&a===!0)throw new lt(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function mv(r){if(!dt.isDocumentKey(r))throw new lt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function pv(r){if(dt.isDocumentKey(r))throw new lt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function TE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Im(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function to(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Im(r);throw new lt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Me(r,t){const i={typeString:r};return t&&(i.value=t),i}function Yl(r,t){if(!TE(r))throw new lt(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new lt(J.INVALID_ARGUMENT,i);return!0}const gv=-62135596800,yv=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*yv);return new he(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<gv)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yv}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Yl(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-gv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Me("string",he._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new he(0,0))}static max(){return new Tt(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ll=-1;function S2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new he(i+1,0):new he(i,a));return new ls(l,dt.empty(),t)}function A2(r){return new ls(r.readTime,r.key,Ll)}class ls{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new ls(Tt.min(),dt.empty(),Ll)}static max(){return new ls(Tt.max(),dt.empty(),Ll)}}function w2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:Ut(r.largestBatchId,t.largestBatchId))}const R2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function yo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==R2)throw r;st("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((b=>{d[y]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function I2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function _o(r){return r.name==="IndexedDbTransactionError"}class mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mh.ce=-1;const Nm=-1;function ph(r){return r==null}function Jc(r){return r===0&&1/r==-1/0}function N2(r){return typeof r=="number"&&Number.isInteger(r)&&!Jc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const bE="";function D2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=_v(t)),t=x2(r.get(i),t);return _v(t)}function x2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case bE:i+="";break;default:i+=c}}return i}function _v(r){return r+bE+""}function vv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ea(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function SE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class me{constructor(t,i){this.comparator=t,this.root=i||Xe.EMPTY}insert(t,i){return new me(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Xe.RED,this.left=l??Xe.EMPTY,this.right=c??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Xe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Xe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Xe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ev(this.data.getIterator())}getIteratorFrom(t){return new Ev(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ue(this.comparator);return i.data=t,i}}class Ev{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class si{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new si([])}unionWith(t){let i=new Ue($e.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new si(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return oo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class AE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new AE("Invalid base64 string: "+c):c}})(t);return new Je(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Je(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const O2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(r){if(Xt(!!r,39018),typeof r=="string"){let t=0;const i=O2.exec(r);if(Xt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Se(r.seconds),nanos:Se(r.nanos)}}function Se(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function cs(r){return typeof r=="string"?Je.fromBase64String(r):Je.fromUint8Array(r)}const wE="server_timestamp",RE="__type__",CE="__previous_value__",IE="__local_write_time__";function Dm(r){return(r?.mapValue?.fields||{})[RE]?.stringValue===wE}function gh(r){const t=r.mapValue.fields[CE];return Dm(t)?gh(t):t}function Ul(r){const t=us(r.mapValue.fields[IE].timestampValue);return new he(t.seconds,t.nanos)}class M2{constructor(t,i,a,l,c,d,p,_,y,b,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=A}}const Zc="(default)";class Pl{constructor(t,i){this.projectId=t,this.database=i||Zc}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof Pl&&t.projectId===this.projectId&&t.database===this.database}}function V2(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new lt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(r.options.projectId,t)}const NE="__type__",k2="__max__",Nc={mapValue:{}},DE="__vector__",Wc="value";function hs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dm(r)?4:U2(r)?9007199254740991:L2(r)?10:11:_t(28295,{value:r})}function Li(r,t){if(r===t)return!0;const i=hs(r);if(i!==hs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ul(r).isEqual(Ul(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=us(l.timestampValue),p=us(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return cs(l.bytesValue).isEqual(cs(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Se(l.geoPointValue.latitude)===Se(c.geoPointValue.latitude)&&Se(l.geoPointValue.longitude)===Se(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Se(l.integerValue)===Se(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Se(l.doubleValue),p=Se(c.doubleValue);return d===p?Jc(d)===Jc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return oo(r.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(vv(d)!==vv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Li(d[_],p[_])))return!1;return!0})(r,t);default:return _t(52216,{left:r})}}function zl(r,t){return(r.values||[]).find((i=>Li(i,t)))!==void 0}function lo(r,t){if(r===t)return 0;const i=hs(r),a=hs(t);if(i!==a)return Ut(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Se(c.integerValue||c.doubleValue),_=Se(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return Tv(r.timestampValue,t.timestampValue);case 4:return Tv(Ul(r),Ul(t));case 5:return Wd(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=cs(c),_=cs(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const b=Ut(p[y],_[y]);if(b!==0)return b}return Ut(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ut(Se(c.latitude),Se(d.latitude));return p!==0?p:Ut(Se(c.longitude),Se(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return bv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Wc]?.arrayValue,b=_[Wc]?.arrayValue,A=Ut(y?.values?.length||0,b?.values?.length||0);return A!==0?A:bv(y,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let A=0;A<_.length&&A<b.length;++A){const M=Wd(_[A],b[A]);if(M!==0)return M;const K=lo(p[_[A]],y[b[A]]);if(K!==0)return K}return Ut(_.length,b.length)})(r.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function Tv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ut(r,t);const i=us(r),a=us(t),l=Ut(i.seconds,a.seconds);return l!==0?l:Ut(i.nanos,a.nanos)}function bv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=lo(i[l],a[l]);if(c)return c}return Ut(i.length,a.length)}function uo(r){return tm(r)}function tm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=us(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return cs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=tm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${tm(i.fields[d])}`;return l+"}"})(r.mapValue):_t(61005,{value:r})}function Pc(r){switch(hs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(r);return t?16+Pc(t):16;case 5:return 2*r.stringValue.length;case 6:return cs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Pc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return ea(a.fields,((c,d)=>{l+=c.length+Pc(d)})),l})(r.mapValue);default:throw _t(13486,{value:r})}}function em(r){return!!r&&"integerValue"in r}function xm(r){return!!r&&"arrayValue"in r}function Sv(r){return!!r&&"nullValue"in r}function Av(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zc(r){return!!r&&"mapValue"in r}function L2(r){return(r?.mapValue?.fields||{})[NE]?.stringValue===DE}function Dl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ea(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Dl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Dl(r.arrayValue.values[i]);return t}return{...r}}function U2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===k2}class Fn{constructor(t){this.value=t}static empty(){return new Fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!zc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dl(i)}setAll(t){let i=$e.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Dl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ea(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Fn(Dl(this.value))}}function xE(r){const t=[];return ea(r.fields,((i,a)=>{const l=new $e([i]);if(zc(a)){const c=xE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new si(t)}class rn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new rn(t,0,Tt.min(),Tt.min(),Tt.min(),Fn.empty(),0)}static newFoundDocument(t,i,a,l){return new rn(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new rn(t,2,i,Tt.min(),Tt.min(),Fn.empty(),0)}static newUnknownDocument(t,i){return new rn(t,3,i,Tt.min(),Tt.min(),Fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(t,i){this.position=t,this.inclusive=i}}function wv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=lo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Rv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Li(r.position[i],t.position[i]))return!1;return!0}class eh{constructor(t,i="asc"){this.field=t,this.dir=i}}function P2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class OE{}class ke extends OE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new j2(t,i,a):i==="array-contains"?new q2(t,a):i==="in"?new F2(t,a):i==="not-in"?new G2(t,a):i==="array-contains-any"?new K2(t,a):new ke(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new B2(t,a):new H2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(lo(i,this.value)):i!==null&&hs(this.value)===hs(i)&&this.matchesComparison(lo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends OE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ui(t,i)}matches(t){return ME(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ME(r){return r.op==="and"}function VE(r){return z2(r)&&ME(r)}function z2(r){for(const t of r.filters)if(t instanceof Ui)return!1;return!0}function nm(r){if(r instanceof ke)return r.field.canonicalString()+r.op.toString()+uo(r.value);if(VE(r))return r.filters.map((t=>nm(t))).join(",");{const t=r.filters.map((i=>nm(i))).join(",");return`${r.op}(${t})`}}function kE(r,t){return r instanceof ke?(function(a,l){return l instanceof ke&&a.op===l.op&&a.field.isEqual(l.field)&&Li(a.value,l.value)})(r,t):r instanceof Ui?(function(a,l){return l instanceof Ui&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&kE(d,l.filters[p])),!0):!1})(r,t):void _t(19439)}function LE(r){return r instanceof ke?(function(i){return`${i.field.canonicalString()} ${i.op} ${uo(i.value)}`})(r):r instanceof Ui?(function(i){return i.op.toString()+" {"+i.getFilters().map(LE).join(" ,")+"}"})(r):"Filter"}class j2 extends ke{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class B2 extends ke{constructor(t,i){super(t,"in",i),this.keys=UE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class H2 extends ke{constructor(t,i){super(t,"not-in",i),this.keys=UE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function UE(r,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class q2 extends ke{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return xm(i)&&zl(i.arrayValue,this.value)}}class F2 extends ke{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&zl(this.value.arrayValue,i)}}class G2 extends ke{constructor(t,i){super(t,"not-in",i)}matches(t){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!zl(this.value.arrayValue,i)}}class K2 extends ke{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!xm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>zl(this.value.arrayValue,a)))}}class Q2{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Cv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new Q2(r,t,i,a,l,c,d)}function Om(r){const t=St(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>nm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ph(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>uo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>uo(a))).join(",")),t.Te=i}return t.Te}function Mm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!P2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!kE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Rv(r.startAt,t.startAt)&&Rv(r.endAt,t.endAt)}function im(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class yh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Y2(r,t,i,a,l,c,d,p){return new yh(r,t,i,a,l,c,d,p)}function Vm(r){return new yh(r)}function Iv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function X2(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function $2(r){return r.collectionGroup!==null}function xl(r){const t=St(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ue($e.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new eh(c,a))})),i.has($e.keyField().canonicalString())||t.Ie.push(new eh($e.keyField(),a))}return t.Ie}function Mi(r){const t=St(r);return t.Ee||(t.Ee=J2(t,xl(r))),t.Ee}function J2(r,t){if(r.limitType==="F")return Cv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new eh(l.field,c)}));const i=r.endAt?new th(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new th(r.startAt.position,r.startAt.inclusive):null;return Cv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function rm(r,t,i){return new yh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function _h(r,t){return Mm(Mi(r),Mi(t))&&r.limitType===t.limitType}function PE(r){return`${Om(Mi(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>LE(l))).join(", ")}]`),ph(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>uo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>uo(l))).join(",")),`Target(${a})`})(Mi(r))}; limitType=${r.limitType})`}function vh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of xl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=wv(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,xl(a),l)||a.endAt&&!(function(d,p,_){const y=wv(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,xl(a),l))})(r,t)}function Z2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function zE(r){return(t,i)=>{let a=!1;for(const l of xl(r)){const c=W2(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function W2(r,t,i){const a=r.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?lo(_,y):_t(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return _t(19790,{direction:r.dir})}}class na{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ea(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return SE(this.inner)}size(){return this.innerSize}}const tC=new me(dt.comparator);function dr(){return tC}const jE=new me(dt.comparator);function wl(...r){let t=jE;for(const i of r)t=t.insert(i.key,i);return t}function BE(r){let t=jE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Gs(){return Ol()}function HE(){return Ol()}function Ol(){return new na((r=>r.toString()),((r,t)=>r.isEqual(t)))}const eC=new me(dt.comparator),nC=new Ue(dt.comparator);function Pt(...r){let t=nC;for(const i of r)t=t.add(i);return t}const iC=new Ue(Ut);function rC(){return iC}function km(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(t)?"-0":t}}function qE(r){return{integerValue:""+r}}function sC(r,t){return N2(t)?qE(t):km(r,t)}class Eh{constructor(){this._=void 0}}function aC(r,t,i){return r instanceof nh?(function(l,c){const d={fields:{[RE]:{stringValue:wE},[IE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Dm(c)&&(c=gh(c)),c&&(d.fields[CE]=c),{mapValue:d}})(i,t):r instanceof jl?GE(r,t):r instanceof Bl?KE(r,t):(function(l,c){const d=FE(l,c),p=Nv(d)+Nv(l.Ae);return em(d)&&em(l.Ae)?qE(p):km(l.serializer,p)})(r,t)}function oC(r,t,i){return r instanceof jl?GE(r,t):r instanceof Bl?KE(r,t):i}function FE(r,t){return r instanceof ih?(function(a){return em(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class nh extends Eh{}class jl extends Eh{constructor(t){super(),this.elements=t}}function GE(r,t){const i=QE(t);for(const a of r.elements)i.some((l=>Li(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Bl extends Eh{constructor(t){super(),this.elements=t}}function KE(r,t){let i=QE(t);for(const a of r.elements)i=i.filter((l=>!Li(l,a)));return{arrayValue:{values:i}}}class ih extends Eh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Nv(r){return Se(r.integerValue||r.doubleValue)}function QE(r){return xm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function lC(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof jl&&l instanceof jl||a instanceof Bl&&l instanceof Bl?oo(a.elements,l.elements,Li):a instanceof ih&&l instanceof ih?Li(a.Ae,l.Ae):a instanceof nh&&l instanceof nh})(r.transform,t.transform)}class uC{constructor(t,i){this.version=t,this.transformResults=i}}class ur{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ur}static exists(t){return new ur(void 0,t)}static updateTime(t){return new ur(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Th{}function YE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new $E(r.key,ur.none()):new Xl(r.key,r.data,ur.none());{const i=r.data,a=Fn.empty();let l=new Ue($e.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ia(r.key,a,new si(l.toArray()),ur.none())}}function cC(r,t,i){r instanceof Xl?(function(l,c,d){const p=l.value.clone(),_=xv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof ia?(function(l,c,d){if(!jc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=xv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(XE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ml(r,t,i,a){return r instanceof Xl?(function(c,d,p,_){if(!jc(c.precondition,d))return p;const y=c.value.clone(),b=Ov(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof ia?(function(c,d,p,_){if(!jc(c.precondition,d))return p;const y=Ov(c.fieldTransforms,_,d),b=d.data;return b.setAll(XE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,p){return jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function hC(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=FE(a.transform,l||null);c!=null&&(i===null&&(i=Fn.empty()),i.set(a.field,c))}return i||null}function Dv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&oo(a,l,((c,d)=>lC(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Xl extends Th{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ia extends Th{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function XE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function xv(r,t,i){const a=new Map;Xt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,oC(d,p,i[l]))}return a}function Ov(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,aC(c,d,t))}return a}class $E extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fC extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dC{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&cC(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ml(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ml(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=HE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=YE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&oo(this.mutations,t.mutations,((i,a)=>Dv(i,a)))&&oo(this.baseMutations,t.baseMutations,((i,a)=>Dv(i,a)))}}class Lm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Xt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return eC})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Lm(t,i,a,l)}}class mC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class pC{constructor(t,i){this.count=t,this.unchangedNames=i}}var Oe,jt;function gC(r){switch(r){case J.OK:return _t(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function JE(r){if(r===void 0)return fr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Oe.OK:return J.OK;case Oe.CANCELLED:return J.CANCELLED;case Oe.UNKNOWN:return J.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return J.INTERNAL;case Oe.UNAVAILABLE:return J.UNAVAILABLE;case Oe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Oe.NOT_FOUND:return J.NOT_FOUND;case Oe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Oe.ABORTED:return J.ABORTED;case Oe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Oe.DATA_LOSS:return J.DATA_LOSS;default:return _t(39323,{code:r})}}(jt=Oe||(Oe={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function yC(){return new TextEncoder}const _C=new as([4294967295,4294967295],0);function Mv(r){const t=yC().encode(r),i=new fE;return i.update(t),new Uint8Array(i.digest())}function Vv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new as([i,a],0),new as([l,c],0)]}class Um{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Rl(`Invalid padding: ${i}`);if(a<0)throw new Rl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=as.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(as.fromNumber(a)));return l.compare(_C)===1&&(l=new as([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Mv(t),[a,l]=Vv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Um(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Mv(t),[a,l]=Vv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,$l.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new bh(Tt.min(),l,new me(Ut),dr(),Pt())}}class $l{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new $l(a,i,Pt(),Pt(),Pt())}}class Bc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class ZE{constructor(t,i){this.targetId=t,this.Ce=i}}class WE{constructor(t,i,a=Je.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class kv{constructor(){this.ve=0,this.Fe=Lv(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),i=Pt(),a=Pt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:_t(38017,{changeType:c})}})),new $l(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Lv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class vC{constructor(t){this.Ge=t,this.ze=new Map,this.je=dr(),this.He=Dc(),this.Je=Dc(),this.Ze=new me(Ut)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(im(c))if(a===0){const d=new dt(c.path);this.et(i,d,rn.newNoDocument(d,Tt.min()))}else Xt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=cs(a).toUint8Array()}catch(_){if(_ instanceof AE)return ao("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Um(d,l,c)}catch(_){return ao(_ instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&im(p.target)){const _=new dt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,rn.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Pt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new bh(t,i,this.Ze,this.je,a);return this.je=dr(),this.He=Dc(),this.Je=Dc(),this.Ze=new me(Ut),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new kv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ue(Ut),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ue(Ut),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new kv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Dc(){return new me(dt.comparator)}function Lv(){return new me(dt.comparator)}const EC={asc:"ASCENDING",desc:"DESCENDING"},TC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bC={and:"AND",or:"OR"};class SC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function sm(r,t){return r.useProto3Json||ph(t)?t:{value:t}}function rh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function AC(r,t){return rh(r,t.toTimestamp())}function Vi(r){return Xt(!!r,49232),Tt.fromTimestamp((function(i){const a=us(i);return new he(a.seconds,a.nanos)})(r))}function Pm(r,t){return am(r,t).canonicalString()}function am(r,t){const i=(function(l){return new ce(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function eT(r){const t=ce.fromString(r);return Xt(aT(t),10190,{key:t.toString()}),t}function om(r,t){return Pm(r.databaseId,t.path)}function zd(r,t){const i=eT(t);if(i.get(1)!==r.databaseId.projectId)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(iT(i))}function nT(r,t){return Pm(r.databaseId,t)}function wC(r){const t=eT(r);return t.length===4?ce.emptyPath():iT(t)}function lm(r){return new ce(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function iT(r){return Xt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Uv(r,t,i){return{name:om(r,t),fields:i.value.mapValue.fields}}function RC(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Xt(b===void 0||typeof b=="string",58123),Je.fromBase64String(b||"")):(Xt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Je.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?J.UNKNOWN:JE(y.code);return new lt(b,y.message||"")})(d);i=new WE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=zd(r,a.document.name),c=Vi(a.document.updateTime),d=a.document.createTime?Vi(a.document.createTime):Tt.min(),p=new Fn({mapValue:{fields:a.document.fields}}),_=rn.newFoundDocument(l,c,d,p),y=a.targetIds||[],b=a.removedTargetIds||[];i=new Bc(y,b,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=zd(r,a.document),c=a.readTime?Vi(a.readTime):Tt.min(),d=rn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Bc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=zd(r,a.document),c=a.removedTargetIds||[];i=new Bc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new pC(l,c),p=a.targetId;i=new ZE(p,d)}}return i}function CC(r,t){let i;if(t instanceof Xl)i={update:Uv(r,t.key,t.value)};else if(t instanceof $E)i={delete:om(r,t.key)};else if(t instanceof ia)i={update:Uv(r,t.key,t.data),updateMask:LC(t.fieldMask)};else{if(!(t instanceof fC))return _t(16599,{dt:t.type});i={verify:om(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ih)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:AC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(r,t.precondition)),i}function IC(r,t){return r&&r.length>0?(Xt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Vi(l.updateTime):Vi(c);return d.isEqual(Tt.min())&&(d=Vi(c)),new uC(d,l.transformResults||[])})(i,t)))):[]}function NC(r,t){return{documents:[nT(r,t.path)]}}function DC(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=nT(r,l);const c=(function(y){if(y.length!==0)return sT(Ui.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(M){return{field:Ya(M.field),direction:MC(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=sm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function xC(r){let t=wC(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Xt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const M=rT(A);return M instanceof Ui&&VE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(Z){return new eh(Xa(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let M;return M=typeof A=="object"?A.value:A,ph(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(A){const M=!!A.before,K=A.values||[];return new th(K,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const M=!A.before,K=A.values||[];return new th(K,M)})(i.endAt)),Y2(t,l,d,c,p,"F",_,y)}function OC(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function rT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Xa(i.unaryFilter.field);return ke.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Xa(i.unaryFilter.field);return ke.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Xa(i.unaryFilter.field);return ke.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Xa(i.unaryFilter.field);return ke.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(r):r.fieldFilter!==void 0?(function(i){return ke.create(Xa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ui.create(i.compositeFilter.filters.map((a=>rT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(r):_t(30097,{filter:r})}function MC(r){return EC[r]}function VC(r){return TC[r]}function kC(r){return bC[r]}function Ya(r){return{fieldPath:r.canonicalString()}}function Xa(r){return $e.fromServerFormat(r.fieldPath)}function sT(r){return r instanceof ke?(function(i){if(i.op==="=="){if(Av(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NAN"}};if(Sv(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Av(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NAN"}};if(Sv(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(i.field),op:VC(i.op),value:i.value}}})(r):r instanceof Ui?(function(i){const a=i.getFilters().map((l=>sT(l)));return a.length===1?a[0]:{compositeFilter:{op:kC(i.op),filters:a}}})(r):_t(54877,{filter:r})}function LC(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function aT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function oT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ns{constructor(t,i,a,l,c=Tt.min(),d=Tt.min(),p=Je.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new ns(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class UC{constructor(t){this.yt=t}}function PC(r){const t=xC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?rm(t,t.limit,"L"):t}class zC{constructor(){this.Sn=new jC}addToCollectionParentIndex(t,i){return this.Sn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(ls.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(ls.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class jC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ue(ce.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ue(ce.comparator)).toArray()}}const Pv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lT=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(lT,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class co{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new co(0)}static ar(){return new co(-1)}}const zv="LruGarbageCollector",BC=1048576;function jv([r,t],[i,a]){const l=Ut(r,i);return l===0?Ut(t,a):l}class HC{constructor(t){this.Pr=t,this.buffer=new Ue(jv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();jv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class qC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){st(zv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){_o(i)?st(zv,"Ignoring IndexedDB error during garbage collection: ",i):await yo(i)}await this.Ar(3e5)}))}}class FC{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(mh.ce);const a=new HC(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Pv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,_,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(y=Date.now(),Ka()<=Lt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function GC(r,t){return new FC(r,t)}class KC{constructor(){this.changes=new na((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class QC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class YC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ml(a.mutation,l,si.empty(),he.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Pt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Pt()){const l=Gs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=wl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Gs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Pt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=dr();const d=Ol(),p=(function(){return Ol()})();return i.forEach(((_,y)=>{const b=a.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof ia)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Ml(b.mutation,y,b.mutation.getFieldMask(),he.now())):d.set(y.key,si.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>p.set(y,new QC(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Ol();let l=new me(((d,p)=>d-p)),c=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=a.get(_)||si.empty();b=p.applyToLocalView(y,b),a.set(_,b);const A=(l.get(p.batchId)||Pt()).add(_);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,b=_.value,A=HE();b.forEach((M=>{if(!c.has(M)){const K=YE(i.get(M),a.get(M));K!==null&&A.set(M,K),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return X2(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):$2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Gs());let p=Ll,_=c;return d.next((y=>$.forEach(y,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{_=_.insert(b,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Pt()))).next((b=>({batchId:p,changes:BE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=wl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=wl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(_=>{const y=(function(A,M){return new yh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((b=>{b.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,rn.newInvalidDocument(b)))}));let p=wl();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&Ml(b.mutation,y,si.empty(),he.now()),vh(i,y)&&(p=p.insert(_,y))})),p}))}}class XC{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Vi(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:PC(l.bundledQuery),readTime:Vi(l.readTime)}})(i)),$.resolve()}}class $C{constructor(){this.overlays=new me(dt.comparator),this.Lr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Gs();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Gs(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new me(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=Gs(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=Gs(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=l)););return $.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new mC(i,a));let c=this.Lr.get(i);c===void 0&&(c=Pt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class JC{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class zm{constructor(){this.kr=new Ue(He.Kr),this.qr=new Ue(He.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new He(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new He(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new dt(new ce([])),a=new He(i,t),l=new He(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new dt(new ce([])),a=new He(i,t),l=new He(i,t+1);let c=Pt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new He(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class He{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return dt.comparator(t.key,i.key)||Ut(t.Hr,i.Hr)}static Ur(t,i){return Ut(t.Hr,i.Hr)||dt.comparator(t.key,i.key)}}class ZC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ue(He.Kr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new dC(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new He(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Nm:this.Yn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new He(i,0),l=new He(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ue(Ut);return i.forEach((l=>{const c=new He(l,0),d=new He(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new He(new dt(c),0);let p=new Ue(Ut);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Xt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(l=>{const c=new He(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new He(i,0),l=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class WC{constructor(t){this.ti=t,this.docs=(function(){return new me(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(t,i){let a=dr();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():rn.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=dr();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||w2(A2(b),a)<=0||(l.has(b.key)||vh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){_t(9500)}ni(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new tI(this)}getSize(t){return $.resolve(this.size)}}class tI extends KC{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class eI{constructor(t){this.persistence=t,this.ri=new na((i=>Om(i)),Mm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new zm,this.targetCount=0,this.oi=co._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new co(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.lr(i),$.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this.si.containsKey(i))}}class uT{constructor(t,i){this._i={},this.overlays={},this.ai=new mh(0),this.ui=!1,this.ui=!0,this.ci=new JC,this.referenceDelegate=t(this),this.li=new eI(this),this.indexManager=new zC,this.remoteDocumentCache=(function(l){return new WC(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new UC(i),this.Pi=new XC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new $C,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new ZC(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const l=new nI(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class nI extends C2{constructor(t){super(),this.currentSequenceNumber=t}}class jm{constructor(t){this.persistence=t,this.Ri=new zm,this.Ai=null}static Vi(t){return new jm(t)}get di(){if(this.Ai)return this.Ai;throw _t(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const l=dt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.fi=new na((a=>D2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=GC(this,i)}static Vi(t,i){return new sh(t,i)}Ti(){}Ii(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return $.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pc(t.data.value)),i}wr(t,i,a){return $.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Bm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Pt(),l=Pt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Bm(t,i.fromCache,a,l)}}class iI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class rI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return IS()?8:I2(sn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new iI;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Ka()<=Lt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Ka()<=Lt.DEBUG&&st("QueryEngine","Query:",Qa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ka()<=Lt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(i))):$.resolve())}gs(t,i){if(Iv(i))return $.resolve(null);let a=Mi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=rm(i,null,"F"),a=Mi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Pt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.bs(i,p);return this.Ss(i,y,d,_.readTime)?this.gs(t,rm(i,null,"F")):this.Ds(t,y,i,_)}))))})))))}ps(t,i,a,l){return Iv(i)||l.isEqual(Tt.min())?$.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?$.resolve(null):(Ka()<=Lt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(i)),this.Ds(t,d,i,S2(l,Ll)).next((p=>p)))}))}bs(t,i){let a=new Ue(zE(t));return i.forEach(((l,c)=>{vh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Ka()<=Lt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Qa(i)),this.fs.getDocumentsMatchingQuery(t,i,ls.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Hm="LocalStore",sI=3e8;class aI{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new me(Ut),this.Fs=new na((c=>Om(c)),Mm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new YC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function oI(r,t,i,a){return new aI(r,t,i,a)}async function cT(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Pt();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function lI(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,b){const A=y.batch,M=A.keys();let K=$.resolve();return M.forEach((Z=>{K=K.next((()=>b.getEntry(_,Z))).next((tt=>{const W=y.docVersions.get(Z);Xt(W!==null,48541),tt.version.compareTo(W)<0&&(A.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),b.addEntry(tt)))}))})),K.next((()=>p.mutationQueue.removeMutationBatch(_,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Pt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function hT(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function uI(r,t){const i=St(r),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((b,A)=>{const M=l.get(A);if(!M)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,A))));let K=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?K=K.withResumeToken(Je.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):b.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(b.resumeToken,a)),l=l.insert(A,K),(function(tt,W,ft){return tt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=sI?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(M,K,b)&&p.push(i.li.updateTargetData(c,K))}));let _=dr(),y=Pt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(cI(c,d,t.documentUpdates).next((b=>{_=b.Bs,y=b.Ls}))),!a.isEqual(Tt.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function cI(r,t,i){let a=Pt(),l=Pt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=dr();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(Tt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):st(Hm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function hI(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Nm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function fI(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new ns(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function um(r,t,i){const a=St(r),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!_o(d))throw d;st(Hm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Bv(r,t,i){const a=St(r);let l=Tt.min(),c=Pt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const A=St(_),M=A.Fs.get(b);return M!==void 0?$.resolve(A.vs.get(M)):A.li.getTargetData(y,b)})(a,d,Mi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:Pt()))).next((p=>(dI(a,Z2(t),p),{documents:p,ks:c})))))}function dI(r,t,i){let a=r.Ms.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class Hv{constructor(){this.activeTargetIds=rC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class mI{constructor(){this.vo=new Hv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Hv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class pI{Mo(t){}shutdown(){}}const qv="ConnectivityMonitor";class Fv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){st(qv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){st(qv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xc=null;function cm(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}const jd="RestConnection",gI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class yI{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Zc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=cm(),p=this.Qo(t,i.toUriEncodedString());st(jd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),b=fo(y);return this.zo(t,p,_,a,b).then((A=>(st(jd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw ao(jd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+go})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=gI[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class _I{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const en="WebChannelConnection",Tl=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class eo extends yI{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!eo.c_){const t=gE();Tl(t,pE.STAT_EVENT,(i=>{i.stat===Zd.PROXY?st(en,"STAT_EVENT: detected buffering proxy"):i.stat===Zd.NOPROXY&&st(en,"STAT_EVENT: detected no buffering proxy")})),eo.c_=!0}}zo(t,i,a,l,c){const d=cm();return new Promise(((p,_)=>{const y=new dE;y.setWithCredentials(!0),y.listenOnce(mE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Uc.NO_ERROR:const A=y.getResponseJson();st(en,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Uc.TIMEOUT:st(en,`RPC '${t}' ${d} timed out`),_(new lt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const M=y.getStatus();if(st(en,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let K=y.getResponseJson();Array.isArray(K)&&(K=K[0]);const Z=K?.error;if(Z&&Z.status&&Z.message){const tt=(function(ft){const Et=ft.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Et)>=0?Et:J.UNKNOWN})(Z.status);_(new lt(tt,Z.message))}else _(new lt(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new lt(J.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(en,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);st(en,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=cm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");st(en,`Creating RPC '${t}' stream ${l}: ${y}`,p);const b=d.createWebChannel(y,p);this.I_(b);let A=!1,M=!1;const K=new _I({Ho:Z=>{M?st(en,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(A||(st(en,`Opening RPC '${t}' stream ${l} transport.`),b.open(),A=!0),st(en,`RPC '${t}' stream ${l} sending:`,Z),b.send(Z))},Jo:()=>b.close()});return Tl(b,Al.EventType.OPEN,(()=>{M||(st(en,`RPC '${t}' stream ${l} transport opened.`),K.i_())})),Tl(b,Al.EventType.CLOSE,(()=>{M||(M=!0,st(en,`RPC '${t}' stream ${l} transport closed`),K.o_(),this.E_(b))})),Tl(b,Al.EventType.ERROR,(Z=>{M||(M=!0,ao(en,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),K.o_(new lt(J.UNAVAILABLE,"The operation could not be completed")))})),Tl(b,Al.EventType.MESSAGE,(Z=>{if(!M){const tt=Z.data[0];Xt(!!tt,16349);const W=tt,ft=W?.error||W[0]?.error;if(ft){st(en,`RPC '${t}' stream ${l} received error:`,ft);const Et=ft.status;let mt=(function(Ot){const I=Oe[Ot];if(I!==void 0)return JE(I)})(Et),xt=ft.message;mt===void 0&&(mt=J.INTERNAL,xt="Unknown error status: "+Et+" with message "+ft.message),M=!0,K.o_(new lt(mt,xt)),b.close()}else st(en,`RPC '${t}' stream ${l} received:`,tt),K.__(tt)}})),eo.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return yE()}}function vI(r){return new eo(r)}function Bd(){return typeof document<"u"?document:null}function Sh(r){return new SC(r,!0)}eo.c_=!1;class fT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Gv="PersistentStream";class dT{constructor(t,i,a,l,c,d,p,_){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(fr(i.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new lt(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(Gv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(st(Gv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EI extends dT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=RC(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Vi(d.readTime):Tt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=lm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=im(_)?{documents:NC(c,_)}:{query:DC(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=tT(c,d.resumeToken);const y=sm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=rh(c,d.snapshotVersion.toTimestamp());const y=sm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=OC(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=lm(this.serializer),i.removeTarget=t,this.K_(i)}}class TI extends dT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=IC(t.writeResults,t.commitTime),a=Vi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=lm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>CC(this.serializer,a)))};this.K_(i)}}class bI{}class SI extends bI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,am(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(J.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,am(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function AI(r,t,i,a){return new SI(r,t,i,a)}class wI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fr(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ws="RemoteStore";class RI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ra(this)&&(st(Ws,"Restarting streams for network reachability change."),await(async function(_){const y=St(_);y.Ea.add(4),await Jl(y),y.Va.set("Unknown"),y.Ea.delete(4),await Ah(y)})(this))}))})),this.Va=new wI(a,l)}}async function Ah(r){if(ra(r))for(const t of r.Ra)await t(!0)}async function Jl(r){for(const t of r.Ra)await t(!1)}function mT(r,t){const i=St(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Km(i)?Gm(i):vo(i).O_()&&Fm(i,t))}function qm(r,t){const i=St(r),a=vo(i);i.Ia.delete(t),a.O_()&&pT(i,t),i.Ia.size===0&&(a.O_()?a.L_():ra(i)&&i.Va.set("Unknown"))}function Fm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}vo(r).Z_(t)}function pT(r,t){r.da.$e(t),vo(r).X_(t)}function Gm(r){r.da=new vC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),vo(r).start(),r.Va.ua()}function Km(r){return ra(r)&&!vo(r).x_()&&r.Ia.size>0}function ra(r){return St(r).Ea.size===0}function gT(r){r.da=void 0}async function CI(r){r.Va.set("Online")}async function II(r){r.Ia.forEach(((t,i)=>{Fm(r,t)}))}async function NI(r,t){gT(r),Km(r)?(r.Va.ha(t),Gm(r)):r.Va.set("Unknown")}async function DI(r,t,i){if(r.Va.set("Online"),t instanceof WE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,t)}catch(a){st(Ws,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ah(r,a)}else if(t instanceof Bc?r.da.Xe(t):t instanceof ZE?r.da.st(t):r.da.tt(t),!i.isEqual(Tt.min()))try{const a=await hT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(Je.EMPTY_BYTE_STRING,b.snapshotVersion)),pT(c,_);const A=new ns(b.target,_,y,b.sequenceNumber);Fm(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){st(Ws,"Failed to raise snapshot:",a),await ah(r,a)}}async function ah(r,t,i){if(!_o(t))throw t;r.Ea.add(1),await Jl(r),r.Va.set("Offline"),i||(i=()=>hT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Ws,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ah(r)}))}function yT(r,t){return t().catch((i=>ah(r,i,t)))}async function wh(r){const t=St(r),i=fs(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Nm;for(;xI(t);)try{const l=await hI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,OI(t,l)}catch(l){await ah(t,l)}_T(t)&&vT(t)}function xI(r){return ra(r)&&r.Ta.length<10}function OI(r,t){r.Ta.push(t);const i=fs(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function _T(r){return ra(r)&&!fs(r).x_()&&r.Ta.length>0}function vT(r){fs(r).start()}async function MI(r){fs(r).ra()}async function VI(r){const t=fs(r);for(const i of r.Ta)t.ea(i.mutations)}async function kI(r,t,i){const a=r.Ta.shift(),l=Lm.from(a,t,i);await yT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await wh(r)}async function LI(r,t){t&&fs(r).Y_&&await(async function(a,l){if((function(d){return gC(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();fs(a).B_(),await yT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await wh(a)}})(r,t),_T(r)&&vT(r)}async function Kv(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),st(Ws,"RemoteStore received new credentials");const a=ra(i);i.Ea.add(3),await Jl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ah(i)}async function UI(r,t){const i=St(r);t?(i.Ea.delete(2),await Ah(i)):t||(i.Ea.add(2),await Jl(i),i.Va.set("Unknown"))}function vo(r){return r.ma||(r.ma=(function(i,a,l){const c=St(i);return c.sa(),new EI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:CI.bind(null,r),Yo:II.bind(null,r),t_:NI.bind(null,r),J_:DI.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Km(r)?Gm(r):r.Va.set("Unknown")):(await r.ma.stop(),gT(r))}))),r.ma}function fs(r){return r.fa||(r.fa=(function(i,a,l){const c=St(i);return c.sa(),new TI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:MI.bind(null,r),t_:LI.bind(null,r),ta:VI.bind(null,r),na:kI.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await wh(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Ws,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Qm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Qm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ym(r,t){if(fr("AsyncQueue",`${t}: ${r}`),_o(r))return new lt(J.UNAVAILABLE,`${t}: ${r}`);throw r}class no{static emptySet(t){return new no(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=wl(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof no)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new no;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Qv{constructor(){this.ga=new me(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class ho{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ho(t,i,no.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_h(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class PI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class zI{constructor(){this.queries=Yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=St(i),c=l.queries;l.queries=Yv(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(a)}))})(this,new lt(J.ABORTED,"Firestore shutting down"))}}function Yv(){return new na((r=>PE(r)),_h)}async function jI(r,t){const i=St(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new PI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Ym(d,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Xm(i)}async function BI(r,t){const i=St(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function HI(r,t){const i=St(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&Xm(i)}function qI(r,t,i){const a=St(r),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function Xm(r){r.Ca.forEach((t=>{t.next()}))}var hm,Xv;(Xv=hm||(hm={})).Ma="default",Xv.Cache="cache";class FI{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new ho(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hm.Cache}}class ET{constructor(t){this.key=t}}class TT{constructor(t){this.key=t}}class GI{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.eu=zE(t),this.tu=new no(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Qv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,A)=>{const M=l.get(b),K=vh(this.query,A)?A:null,Z=!!M&&this.mutatedKeys.has(M.key),tt=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let W=!1;M&&K?M.data.isEqual(K.data)?Z!==tt&&(a.track({type:3,doc:K}),W=!0):this.su(M,K)||(a.track({type:2,doc:K}),W=!0,(_&&this.eu(K,_)>0||y&&this.eu(K,y)<0)&&(p=!0)):!M&&K?(a.track({type:0,doc:K}),W=!0):M&&!K&&(a.track({type:1,doc:M}),W=!0,(_||y)&&(p=!0)),W&&(K?(d=d.add(K),c=tt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(K,Z){const tt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:W})}};return tt(K)-tt(Z)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new ho(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Qv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Pt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new TT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new ET(a))})),i}cu(t){this.Za=t.ks,this.Ya=Pt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const $m="SyncEngine";class KI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class QI{constructor(t){this.key=t,this.hu=!1}}class YI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new na((p=>PE(p)),_h),this.Iu=new Map,this.Eu=new Set,this.Ru=new me(dt.comparator),this.Au=new Map,this.Vu=new zm,this.du={},this.mu=new Map,this.fu=co.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XI(r,t,i=!0){const a=CT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await bT(a,t,i,!0),l}async function $I(r,t){const i=CT(r);await bT(i,t,!0,!1)}async function bT(r,t,i,a){const l=await fI(r.localStore,Mi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await JI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&mT(r.remoteStore,l),p}async function JI(r,t,i,a,l){r.pu=(A,M,K)=>(async function(tt,W,ft,Et){let mt=W.view.ru(ft);mt.Ss&&(mt=await Bv(tt.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,mt))));const xt=Et&&Et.targetChanges.get(W.targetId),se=Et&&Et.targetMismatches.get(W.targetId)!=null,Ot=W.view.applyChanges(mt,tt.isPrimaryClient,xt,se);return Jv(tt,W.targetId,Ot.au),Ot.snapshot})(r,A,M,K);const c=await Bv(r.localStore,t,!0),d=new GI(t,c.ks),p=d.ru(c.documents),_=$l.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);Jv(r,i,y.au);const b=new KI(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function ZI(r,t,i){const a=St(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!_h(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await um(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&qm(a.remoteStore,l.targetId),fm(a,l.targetId)})).catch(yo)):(fm(a,l.targetId),await um(a.localStore,l.targetId,!0))}async function WI(r,t){const i=St(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),qm(i.remoteStore,a.targetId))}async function tN(r,t,i){const a=oN(r);try{const l=await(function(d,p){const _=St(d),y=he.now(),b=p.reduce(((K,Z)=>K.add(Z.key)),Pt());let A,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let Z=dr(),tt=Pt();return _.xs.getEntries(K,b).next((W=>{Z=W,Z.forEach(((ft,Et)=>{Et.isValidDocument()||(tt=tt.add(ft))}))})).next((()=>_.localDocuments.getOverlayedDocuments(K,Z))).next((W=>{A=W;const ft=[];for(const Et of p){const mt=hC(Et,A.get(Et.key).overlayedDocument);mt!=null&&ft.push(new ia(Et.key,mt,xE(mt.value.mapValue),ur.exists(!0)))}return _.mutationQueue.addMutationBatch(K,y,ft,p)})).next((W=>{M=W;const ft=W.applyToLocalDocumentSet(A,tt);return _.documentOverlayCache.saveOverlays(K,W.batchId,ft)}))})).then((()=>({batchId:M.batchId,changes:BE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new me(Ut)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await Zl(a,l.changes),await wh(a.remoteStore)}catch(l){const c=Ym(l,"Failed to persist write");i.reject(c)}}async function ST(r,t){const i=St(r);try{const a=await uI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xt(d.hu,14607):l.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))})),await Zl(i,a,t)}catch(a){await yo(a)}}function $v(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=St(d);_.onlineState=p;let y=!1;_.queries.forEach(((b,A)=>{for(const M of A.ba)M.va(p)&&(y=!0)})),y&&Xm(_)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function eN(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new me(dt.comparator);d=d.insert(c,rn.newNoDocument(c,Tt.min()));const p=Pt().add(c),_=new bh(Tt.min(),new Map,new me(Ut),d,p);await ST(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(t),Jm(a)}else await um(a.localStore,t,!1).then((()=>fm(a,t,i))).catch(yo)}async function nN(r,t){const i=St(r),a=t.batch.batchId;try{const l=await lI(i.localStore,t);wT(i,a,null),AT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Zl(i,l)}catch(l){await yo(l)}}async function iN(r,t,i){const a=St(r);try{const l=await(function(d,p){const _=St(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,p).next((A=>(Xt(A!==null,37113),b=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);wT(a,t,i),AT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Zl(a,l)}catch(l){await yo(l)}}function AT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function wT(r,t,i){const a=St(r);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function fm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||RT(r,a)}))}function RT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(qm(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),Jm(r))}function Jv(r,t,i){for(const a of i)a instanceof ET?(r.Vu.addReference(a.key,t),rN(r,a)):a instanceof TT?(st($m,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||RT(r,a.key)):_t(19791,{wu:a})}function rN(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(st($m,"New document in limbo: "+i),r.Eu.add(a),Jm(r))}function Jm(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new dt(ce.fromString(t)),a=r.fu.next();r.Au.set(a,new QI(i)),r.Ru=r.Ru.insert(i,a),mT(r.remoteStore,new ns(Mi(Vm(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function Zl(r,t,i){const a=St(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Bm.Es(_.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(_,y){const b=St(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(y,(M=>$.forEach(M.Ts,(K=>b.persistence.referenceDelegate.addReference(A,M.targetId,K))).next((()=>$.forEach(M.Is,(K=>b.persistence.referenceDelegate.removeReference(A,M.targetId,K)))))))))}catch(A){if(!_o(A))throw A;st(Hm,"Failed to update sequence numbers: "+A)}for(const A of y){const M=A.targetId;if(!A.fromCache){const K=b.vs.get(M),Z=K.snapshotVersion,tt=K.withLastLimboFreeSnapshotVersion(Z);b.vs=b.vs.insert(M,tt)}}})(a.localStore,c))}async function sN(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){st($m,"User change. New user:",t.toKey());const a=await cT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new lt(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Zl(i,a.Ns)}}function aN(r,t){const i=St(r),a=i.Au.get(t);if(a&&a.hu)return Pt().add(a.key);{let l=Pt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function CT(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=ST.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eN.bind(null,t),t.Pu.J_=HI.bind(null,t.eventManager),t.Pu.yu=qI.bind(null,t.eventManager),t}function oN(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iN.bind(null,t),t}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return oI(this.persistence,new rI,t.initialUser,this.serializer)}Cu(t){return new uT(jm.Vi,this.serializer)}Du(t){return new mI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class lN extends oh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Xt(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new qC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new uT((a=>sh.Vi(a,i)),this.serializer)}}class dm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>$v(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=sN.bind(null,this.syncEngine),await UI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new zI})()}createDatastore(t){const i=Sh(t.databaseInfo.databaseId),a=vI(t.databaseInfo);return AI(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new RI(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>$v(this.syncEngine,i,0)),(function(){return Fv.v()?new Fv:new pI})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,b){const A=new YI(l,c,d,p,_,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=St(i);st(Ws,"RemoteStore shutting down."),a.Ea.add(5),await Jl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dm.provider={build:()=>new dm};class uN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):fr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ds="FirestoreClient";class cN{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=nn.UNAUTHENTICATED,this.clientId=Cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{st(ds,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(ds,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Ym(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Hd(r,t){r.asyncQueue.verifyOperationInProgress(),st(ds,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await cT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Zv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await hN(r);st(ds,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Kv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Kv(t.remoteStore,l))),r._onlineComponents=t}async function hN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(ds,"Using user provided OfflineComponentProvider");try{await Hd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ao("Error using user provided cache. Falling back to memory cache: "+i),await Hd(r,new oh)}}else st(ds,"Using default OfflineComponentProvider"),await Hd(r,new lN(void 0));return r._offlineComponents}async function IT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(ds,"Using user provided OnlineComponentProvider"),await Zv(r,r._uninitializedComponentsProvider._online)):(st(ds,"Using default OnlineComponentProvider"),await Zv(r,new dm))),r._onlineComponents}function fN(r){return IT(r).then((t=>t.syncEngine))}async function Wv(r){const t=await IT(r),i=t.eventManager;return i.onListen=XI.bind(null,t.syncEngine),i.onUnlisten=ZI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=$I.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=WI.bind(null,t.syncEngine),i}function dN(r,t,i,a){const l=new uN(a),c=new FI(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>jI(await Wv(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>BI(await Wv(r),c)))}}function mN(r,t){const i=new Ks;return r.asyncQueue.enqueueAndForget((async()=>tN(await fN(r),t,i))),i.promise}function NT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const pN="ComponentProvider",t0=new Map;function gN(r,t,i,a,l){return new M2(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,NT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const DT="firestore.googleapis.com",e0=!0;class n0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DT,this.ssl=e0}else this.host=t.host,this.ssl=t.ssl??e0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=lT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<BC)throw new lt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}b2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new f2;switch(a.type){case"firstParty":return new g2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=t0.get(i);a&&(st(pN,"Removing Datastore"),t0.delete(i),a.terminate())})(this),Promise.resolve()}}function yN(r,t,i,a={}){r=to(r,Rh);const l=fo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(A0(`https://${p}`),w0("Firestore",!0)),c.host!==DT&&c.host!==p&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!Ys(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=nn.MOCK_USER;else{y=vS(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new lt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new nn(A)}r._authCredentials=new d2(new vE(y,b))}}class Ch{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ch(this.firestore,t,this._query)}}class Le{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Yl(i,Le._jsonSchema))return new Le(t,a||null,new dt(ce.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Me("string",Le._jsonSchemaVersion),referencePath:Me("string")};class os extends Ch{constructor(t,i,a){super(t,i,Vm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new dt(t))}withConverter(t){return new os(this.firestore,t,this._path)}}function i0(r,t,...i){if(r=an(r),EE("collection","path",t),r instanceof Rh){const a=ce.fromString(t,...i);return pv(a),new os(r,null,a)}{if(!(r instanceof Le||r instanceof os))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ce.fromString(t,...i));return pv(a),new os(r.firestore,null,a)}}function r0(r,t,...i){if(r=an(r),arguments.length===1&&(t=Cm.newId()),EE("doc","path",t),r instanceof Rh){const a=ce.fromString(t,...i);return mv(a),new Le(r,null,new dt(a))}{if(!(r instanceof Le||r instanceof os))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ce.fromString(t,...i));return mv(a),new Le(r.firestore,r instanceof os?r.converter:null,new dt(a))}}const s0="AsyncQueue";class a0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fT(this,"async_queue_retry"),this._c=()=>{const a=Bd();a&&st(s0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Bd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Bd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!_o(t))throw t;st(s0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,fr("INTERNAL UNHANDLED ERROR: ",o0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Qm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:o0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function o0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class lh extends Rh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new a0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new a0(t),this._firestoreClient=void 0,await t}}}function _N(r,t){const i=typeof r=="object"?r:N0(),a=typeof r=="string"?r:Zc,l=ym(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=yS("firestore");c&&yN(l,...c)}return l}function xT(r){if(r._terminated)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vN(r),r._firestoreClient}function vN(r){const t=r._freezeSettings(),i=gN(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new cN(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Gn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gn(Je.fromBase64String(t))}catch(i){throw new lt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Gn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Yl(t,Gn._jsonSchema))return Gn.fromBase64String(t.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Me("string",Gn._jsonSchemaVersion),bytes:Me("string")};class OT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class MT{constructor(t){this._methodName=t}}class ki{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(Yl(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Me("string",ki._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};class ai{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Yl(t,ai._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ai(t.vectorValues);throw new lt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:Me("string",ai._jsonSchemaVersion),vectorValues:Me("object")};const EN=/^__.*__$/;class TN{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ia(t,this.data,this.fieldMask,i,this.fieldTransforms):new Xl(t,this.data,i,this.fieldTransforms)}}function VT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{dataSource:r})}}class Zm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Zm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return uh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(VT(this.dataSource)&&EN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class bN{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Sh(t)}createContext(t,i,a,l=!1){return new Zm({dataSource:t,methodName:i,targetDoc:a,path:$e.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SN(r){const t=r._freezeSettings(),i=Sh(r._databaseId);return new bN(r._databaseId,!!t.ignoreUndefinedProperties,i)}function AN(r,t,i,a,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);PT("Data must be an object, but it was:",d,a);const p=LT(a,d);let _,y;if(c.merge)_=new si(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const M=Wm(t,A,i);if(!d.contains(M))throw new lt(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);CN(b,M)||b.push(M)}_=new si(b),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new TN(new Fn(p),_,y)}function kT(r,t){if(UT(r=an(r)))return PT("Unsupported field value:",t,r),LT(r,t);if(r instanceof MT)return(function(a,l){if(!VT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=kT(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=an(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return sC(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=he.fromDate(a);return{timestampValue:rh(l.serializer,c)}}if(a instanceof he){const c=new he(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:rh(l.serializer,c)}}if(a instanceof ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Gn)return{bytesValue:tT(l.serializer,a._byteString)};if(a instanceof Le){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Pm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ai)return(function(d,p){const _=d instanceof ai?d.toArray():d;return{mapValue:{fields:{[NE]:{stringValue:DE},[Wc]:{arrayValue:{values:_.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return km(p.serializer,b)}))}}}}}})(a,l);if(oT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Im(a)}`)})(r,t)}function LT(r,t){const i={};return SE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ea(r,((a,l)=>{const c=kT(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function UT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof he||r instanceof ki||r instanceof Gn||r instanceof Le||r instanceof MT||r instanceof ai||oT(r))}function PT(r,t,i){if(!UT(i)||!TE(i)){const a=Im(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function Wm(r,t,i){if((t=an(t))instanceof OT)return t._internalPath;if(typeof t=="string")return RN(r,t);throw uh("Field path arguments must be of type string or ",r,!1,void 0,i)}const wN=new RegExp("[~\\*/\\[\\]]");function RN(r,t,i){if(t.search(wN)>=0)throw uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new OT(...t.split("."))._internalPath}catch{throw uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function uh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new lt(J.INVALID_ARGUMENT,p+r+_)}function CN(r,t){return r.some((i=>i.isEqual(t)))}class IN{convertValue(t,i="none"){switch(hs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(cs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ea(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Wc].arrayValue?.values?.map((a=>Se(a.doubleValue)));return new ai(i)}convertGeoPoint(t){return new ki(Se(t.latitude),Se(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=gh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ul(t));default:return null}}convertTimestamp(t){const i=us(t);return new he(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ce.fromString(t);Xt(aT(a),9688,{name:t});const l=new Pl(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||fr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class zT extends IN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,i)}}const l0="@firebase/firestore",u0="4.10.0";function c0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class jT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new NN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Wm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class NN extends jT{data(){return super.data()}}function DN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function xN(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class Cl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qs extends jT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Wm("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Qs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:Me("string",Qs._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class Hc extends Qs{data(t={}){return super.data(t)}}class io{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Cl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Hc(this._firestore,this._userDataWriter,a.key,a,new Cl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Cl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Cl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:ON(p.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=io._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Cm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ON(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}io._jsonSchemaVersion="firestore/querySnapshot/1.0",io._jsonSchema={type:Me("string",io._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};function h0(r,t,i){r=to(r,Le);const a=to(r.firestore,lh),l=xN(r.converter,t,i),c=SN(a);return VN(a,[AN(c,"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ur.none())])}function MN(r,...t){r=an(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||c0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(c0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Le)d=to(r.firestore,lh),p=Vm(r._key.path),c={next:y=>{t[a]&&t[a](kN(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=to(r,Ch);d=to(y.firestore,lh),p=y._query;const b=new zT(d);c={next:A=>{t[a]&&t[a](new io(d,b,y,A))},error:t[a+1],complete:t[a+2]},DN(r._query)}const _=xT(d);return dN(_,p,l,c)}function VN(r,t){const i=xT(r);return mN(i,t)}function kN(r,t,i){const a=i.docs.get(t._key),l=new zT(r);return new Qs(r,l,t._key,a,new Cl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){h2(mo),ro(new Xs("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new lh(new m2(a.getProvider("auth-internal")),new y2(d,a.getProvider("app-check-internal")),V2(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ss(l0,u0,t),ss(l0,u0,"esm2020")})();const LN={apiKey:"AIzaSyAGLJLk3wzCmZrfQLSri0cLkZlBJnCIi-0",authDomain:"focusflow-d5411.firebaseapp.com",projectId:"focusflow-d5411",storageBucket:"focusflow-d5411.firebasestorage.app",messagingSenderId:"870983180050",appId:"1:870983180050:web:38a6ecbbd089b9d6bcddcb",measurementId:"G-E3QGBE2B1H"},BT=I0(LN),Oc=u2(BT),f0=_N(BT),d0=typeof __app_id<"u"?__app_id:"default-app-id",m0=()=>O.jsx("style",{children:`
      @import url('https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;700;800&display=swap');
      body { font-family: 'Manrope', sans-serif; }
    `}),p0=({darkMode:r})=>{const[t,i]=Ft.useState(!1),[a,l]=Ft.useState("background.png"),c=()=>{a==="background.png"?l("background.jpg"):i(!0)};return O.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden bg-black",children:[O.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black via-zinc-950 to-red-950 opacity-100"}),!t&&O.jsx("img",{src:a,alt:"Background",className:"absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 opacity-50 mix-blend-overlay grayscale contrast-125",onError:c}),O.jsx("div",{className:`absolute inset-0 transition-all duration-700 ${r?"bg-gradient-to-b from-black/90 via-black/70 to-red-950/20 backdrop-blur-[2px]":"bg-white/90 backdrop-blur-[5px]"}`})]})},UN=({dailyHistory:r,glassClass:t})=>{const[i,a]=Ft.useState(new Date),l=(tt,W)=>new Date(tt,W+1,0).getDate(),c=(tt,W)=>new Date(tt,W,1).getDay(),d=i.getFullYear(),p=i.getMonth(),_=l(d,p),y=c(d,p),b=["January","February","March","April","May","June","July","August","September","October","November","December"],A=()=>a(new Date(d,p-1,1)),M=()=>a(new Date(d,p+1,1)),K=Ft.useMemo(()=>{const tt={};return r.forEach(W=>{tt[W.date]=W.score}),tt},[r]),Z=()=>{const tt=[];for(let W=0;W<y;W++)tt.push(O.jsx("div",{className:"h-10 w-10"},`empty-${W}`));for(let W=1;W<=_;W++){const ft=new Date(d,p,W),Et=ft.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),mt=K[Et];let xt="bg-white/5 hover:bg-white/10 text-zinc-500";mt!==void 0&&(mt===100?xt="bg-red-600 text-white font-bold shadow-[0_0_15px_rgba(220,38,38,0.5)] border border-red-500":mt>=50?xt="bg-red-900/60 text-red-100 border border-red-800":xt="bg-zinc-800 text-zinc-400 border border-zinc-700"),new Date().toDateString()===ft.toDateString()&&(xt+=" ring-2 ring-white ring-offset-2 ring-offset-black"),tt.push(O.jsx("div",{className:`h-10 w-10 flex items-center justify-center rounded-lg text-sm font-medium cursor-pointer transition-all duration-300 ${xt}`,title:mt!==void 0?`Score: ${mt}%`:"No Data",children:W},W))}return tt};return O.jsxs("div",{className:`p-8 rounded-none border-l-4 border-red-600 ${t}`,children:[O.jsxs("div",{className:"flex justify-between items-center mb-8",children:[O.jsx("button",{onClick:A,className:"p-2 rounded hover:bg-white/10 transition-colors",children:O.jsx(jb,{})}),O.jsxs("h2",{className:"text-2xl font-black tracking-widest uppercase text-white",children:[b[p]," ",d]}),O.jsx("button",{onClick:M,className:"p-2 rounded hover:bg-white/10 transition-colors",children:O.jsx(Hb,{})})]}),O.jsx("div",{className:"grid grid-cols-7 gap-2 text-center mb-4",children:["S","M","T","W","T","F","S"].map(tt=>O.jsx("div",{className:"text-xs font-bold uppercase tracking-widest text-red-600",children:tt},tt))}),O.jsx("div",{className:"grid grid-cols-7 gap-2 place-items-center",children:Z()})]})},g0=({data:r})=>{const t=r.reduce((a,l)=>a+l.value,0);if(t===0)return O.jsx("div",{className:"flex items-center justify-center h-48 w-48 bg-zinc-900 rounded-full text-xs text-zinc-500 border border-zinc-800 uppercase tracking-widest font-bold",children:"No Data"});let i=0;return O.jsx("svg",{viewBox:"0 0 100 100",className:"w-48 h-48 transform -rotate-90 drop-shadow-2xl",children:r.map((a,l)=>{const c=a.value/t*360,d=50+50*Math.cos(Math.PI*i/180),p=50+50*Math.sin(Math.PI*i/180),_=50+50*Math.cos(Math.PI*(i+c)/180),y=50+50*Math.sin(Math.PI*(i+c)/180),b=a.value===t?"M 50 50 m -50, 0 a 50,50 0 1,0 100,0 a 50,50 0 1,0 -100,0":`M 50 50 L ${d} ${p} A 50 50 0 ${c>180?1:0} 1 ${_} ${y} Z`,A=O.jsx("path",{d:b,fill:a.color,className:"transition-all duration-500 hover:opacity-90 stroke-black stroke-[0.5]"},l);return i+=c,A})})},PN=({glassClass:r})=>{const t=[{title:"The Science of Consistency",desc:"Why small daily habits beat intensity.",time:"5 min read",icon:""},{title:"High Intensity Cardio",desc:"Burn fat fast with this 15 min routine.",time:"15 min workout",icon:""},{title:"Nutrition for Focus",desc:"What to eat to stay sharp all day.",time:"8 min read",icon:""}];return O.jsxs("div",{className:`p-8 rounded-none border-l-4 border-white ${r}`,children:[O.jsxs("h3",{className:"font-black text-xl uppercase tracking-widest mb-6 flex items-center gap-3",children:[O.jsx(Lb,{size:24,className:"text-red-600"})," Daily Reads"]}),O.jsx("div",{className:"space-y-4",children:t.map((i,a)=>O.jsxs("div",{className:"group flex items-start gap-5 p-5 bg-black/60 border border-zinc-800 hover:border-red-600/50 hover:bg-black/80 transition-all cursor-pointer",children:[O.jsx("div",{className:"text-2xl bg-zinc-900 w-12 h-12 flex items-center justify-center rounded-sm border border-zinc-800",children:i.icon}),O.jsxs("div",{className:"flex-1",children:[O.jsx("h4",{className:"font-bold text-white group-hover:text-red-500 transition-colors uppercase tracking-wide text-sm",children:i.title}),O.jsx("p",{className:"text-xs text-zinc-400 mt-2 leading-relaxed",children:i.desc}),O.jsxs("div",{className:"flex items-center gap-2 mt-3 text-[10px] uppercase tracking-widest font-bold text-zinc-600 group-hover:text-red-600 transition-colors",children:[O.jsx("span",{children:i.time})," ",O.jsx(Vb,{size:10})]})]})]},a))})]})};function zN(){const[r,t]=Ft.useState(!0),[i,a]=Ft.useState(null),[l,c]=Ft.useState(!0),[d,p]=Ft.useState(new Date),[_,y]=Ft.useState("home"),[b,A]=Ft.useState(!1),[M,K]=Ft.useState([]),[Z,tt]=Ft.useState([]),[W,ft]=Ft.useState([]),[Et,mt]=Ft.useState(""),[xt,se]=Ft.useState(""),[Ot,I]=Ft.useState(""),[S,C]=Ft.useState(""),[V,N]=Ft.useState(""),[L,w]=Ft.useState(""),[Gt,ye]=Ft.useState(!1),[q,it]=Ft.useState(""),[ct,It]=Ft.useState(null),[Bt,x]=Ft.useState("");Ft.useEffect(()=>{const G=Jw(Oc,ut=>{a(ut),c(!1)});return()=>G()},[]),Ft.useEffect(()=>{if(!i)return;const G=r0(i0(f0,"artifacts",d0,"users",i.uid,"plannerData"),"daily"),ut=MN(G,gt=>{if(gt.exists()){const $t=gt.data();K($t.tasks||[]),tt($t.habits||[]),ft($t.dailyHistory||[]),$t.savedDate&&p(new Date($t.savedDate))}else{const $t={tasks:[],habits:[],dailyHistory:[],savedDate:new Date().toISOString()};h0(G,$t)}});return()=>ut()},[i]);const Y=()=>{const G=new Date().getHours(),ut=i?.displayName||i?.email?.split("@")[0]||"Friend";return G<12?`Good Morning, ${ut}`:G<18?`Good Afternoon, ${ut}`:`Good Evening, ${ut}`},et=async(G,ut,gt,$t)=>{if(!i)return;const We=G!==void 0?G:M,Nn=ut!==void 0?ut:Z,yn=gt!==void 0?gt:W,li=$t||d,Pe=r0(i0(f0,"artifacts",d0,"users",i.uid,"plannerData"),"daily");await h0(Pe,{tasks:We,habits:Nn,dailyHistory:yn,savedDate:li.toISOString()},{merge:!0})},rt=async G=>{G.preventDefault(),it("");try{if(Gt){const ut=await Gw(Oc,S,V);await Yw(ut.user,{displayName:L})}else await Kw(Oc,S,V);C(""),N(""),w("")}catch(ut){ut.code==="auth/invalid-credential"||ut.code==="auth/wrong-password"||ut.code==="auth/user-not-found"?it("Wrong credentials. Please check your email or password."):it(ut.message.replace("Firebase: ",""))}},vt=()=>Zw(Oc),At=G=>{if(G.preventDefault(),!Et.trim())return;const ut=[...M,{id:Date.now(),text:Et,completed:!1}];K(ut),mt(""),et(ut)},Mt=G=>{if(G.preventDefault(),!xt.trim())return;const gt=xt.split(`
`).filter(We=>We.trim()!=="").map((We,Nn)=>({id:Date.now()+Nn,text:We.trim(),completed:!1})),$t=[...M,...gt];K($t),se(""),A(!1),et($t)},_e=G=>{const ut=M.map(gt=>gt.id===G?{...gt,completed:!gt.completed}:gt);K(ut),et(ut)},ae=G=>{const ut=M.filter(gt=>gt.id!==G);K(ut),et(ut)},Pi=G=>{if(G.preventDefault(),!Ot.trim())return;const ut=[...Z,{id:Date.now(),text:Ot,streak:0,completedToday:!1,history:[]}];tt(ut),I(""),et(void 0,ut)},gr=G=>{const ut=Z.map(gt=>{if(gt.id===G){const $t=!gt.completedToday,We=$t?gt.streak+1:Math.max(0,gt.streak-1);return{...gt,completedToday:$t,streak:We}}return gt});tt(ut),et(void 0,ut)},yr=G=>{const ut=Z.filter(gt=>gt.id!==G);tt(ut),et(void 0,ut)},_r=(G,ut)=>{It(G),x(ut)},Cn=(G,ut)=>{if(Bt.trim()){{const gt=M.map($t=>$t.id===G?{...$t,text:Bt}:$t);K(gt),et(gt)}It(null),x("")}},ps=()=>{if(confirm("Clear all completed tasks?")){const G=M.filter(ut=>!ut.completed);K(G),et(G)}},zi=()=>{const G=M.length+Z.length,ut=M.filter(Pe=>Pe.completed).length+Z.filter(Pe=>Pe.completedToday).length,gt=G===0?0:Math.round(ut/G*100),$t={date:d.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),score:gt},We=[...W,$t],Nn=Z.map(Pe=>({...Pe,completedToday:!1,streak:Pe.completedToday?Pe.streak:0,history:[...Pe.history,Pe.completedToday?1:0]})),yn=M.filter(Pe=>!Pe.completed),li=new Date(d);li.setDate(li.getDate()+1),K(yn),tt(Nn),ft(We),p(li),et(yn,Nn,We,li)},vr=Ft.useMemo(()=>{const G=M.length+Z.length;if(G===0)return 0;const ut=M.filter(gt=>gt.completed).length+Z.filter(gt=>gt.completedToday).length;return Math.round(ut/G*100)},[M,Z]),ji=[{name:"Tasks",value:M.filter(G=>G.completed).length,color:"#DC2626"},{name:"Habits",value:Z.filter(G=>G.completedToday).length,color:"#FFFFFF"},{name:"Left",value:M.filter(G=>!G.completed).length+Z.filter(G=>!G.completedToday).length,color:"#27272a"}].filter(G=>G.value>0),Kt="backdrop-blur-2xl border-y border-white/10 bg-black/70 shadow-2xl text-white",oe="w-full p-4 bg-zinc-950/80 border-l-2 border-zinc-700 outline-none transition-all placeholder:text-zinc-600 font-bold focus:border-red-600 focus:bg-black uppercase tracking-wider text-sm",In="bg-red-600 hover:bg-red-700 text-white shadow-lg shadow-red-900/50";return l?O.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-red-600 font-black tracking-[0.3em] uppercase animate-pulse",children:"Initializing..."}):i?O.jsxs("div",{className:"font-sans relative min-h-screen text-white bg-black selection:bg-red-600 selection:text-black",children:[O.jsx(m0,{}),O.jsx(p0,{darkMode:!0}),O.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[O.jsxs("header",{className:"sticky top-0 z-20 backdrop-blur-md border-b border-white/5 bg-black/80",children:[O.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-5 flex items-center justify-between",children:[O.jsxs("div",{className:"flex items-center gap-10",children:[O.jsxs("div",{children:[O.jsx("h1",{className:"font-black text-2xl leading-none tracking-tighter uppercase italic text-white",children:Y()}),O.jsx("p",{className:"text-[9px] mt-1 font-bold text-red-600 uppercase tracking-[0.3em] hidden sm:block",children:"Stay Hard"})]}),O.jsx("div",{className:"hidden md:flex items-center gap-1",children:["home","planner","tracker","calendar","stats"].map(G=>O.jsx("button",{onClick:()=>y(G),className:`px-5 py-2 text-[10px] font-black uppercase tracking-widest skew-x-[-15deg] transition-all border-l border-r border-transparent ${_===G?"bg-red-600 text-black border-red-600":"text-zinc-500 hover:text-white hover:bg-white/5 hover:border-white/10"}`,children:O.jsx("span",{className:"block skew-x-[15deg]",children:G})},G))})]}),O.jsxs("div",{className:"flex items-center gap-6",children:[O.jsx("button",{onClick:zi,className:"hidden sm:flex items-center gap-2 px-4 py-2 border border-red-900/50 bg-red-950/20 text-red-500 text-[10px] font-black uppercase tracking-[0.2em] hover:bg-red-600 hover:text-black hover:border-red-600 transition-all",children:"End Day"}),O.jsx("button",{onClick:()=>y("profile"),className:"group relative",children:O.jsx("div",{className:"w-10 h-10 bg-zinc-900 flex items-center justify-center text-lg font-black text-white border border-zinc-800 group-hover:border-red-600 group-hover:text-red-500 transition-all",children:(i.displayName||i.email||"U")[0].toUpperCase()})})]})]}),O.jsx("div",{className:"md:hidden flex justify-between px-6 pb-4 pt-2 overflow-x-auto border-t border-white/5 bg-black/90",children:["home","planner","tracker","stats"].map(G=>O.jsx("button",{onClick:()=>y(G),className:`px-4 py-3 text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap mr-2 ${_===G?"text-red-500 border-b-2 border-red-500":"text-zinc-600"}`,children:G},G))})]}),O.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-10 space-y-10 flex-1 w-full animate-fadeIn",children:[_==="home"&&O.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[O.jsxs("div",{className:"space-y-8",children:[O.jsxs("div",{className:`p-10 ${Kt} flex flex-col items-center justify-center border-l-4 border-red-600`,children:[O.jsx("h2",{className:"text-2xl font-black uppercase italic tracking-tighter mb-8",children:"Daily Status"}),O.jsx(g0,{data:ji}),O.jsxs("div",{className:"mt-8 flex gap-8",children:[O.jsxs("div",{className:"text-center",children:[O.jsx("span",{className:"block text-3xl font-black text-red-600",children:M.filter(G=>G.completed).length}),O.jsx("span",{className:"text-[9px] uppercase tracking-[0.2em] text-zinc-500",children:"Tasks"})]}),O.jsx("div",{className:"w-px bg-zinc-800"}),O.jsxs("div",{className:"text-center",children:[O.jsx("span",{className:"block text-3xl font-black text-white",children:Z.filter(G=>G.completedToday).length}),O.jsx("span",{className:"text-[9px] uppercase tracking-[0.2em] text-zinc-500",children:"Habits"})]})]})]}),O.jsxs("div",{className:`p-8 ${Kt}`,children:[O.jsxs("div",{className:"flex justify-between items-center mb-6",children:[O.jsx("h3",{className:"font-bold text-sm uppercase tracking-widest text-zinc-400",children:"Pending Tasks"}),O.jsx("button",{onClick:()=>y("planner"),className:"text-[10px] font-bold uppercase tracking-wider text-red-600 hover:text-white transition-colors",children:"View All "})]}),M.filter(G=>!G.completed).length>0?O.jsx("ul",{className:"space-y-3",children:M.filter(G=>!G.completed).slice(0,3).map(G=>O.jsxs("li",{className:"flex items-center gap-4 p-4 bg-black/40 border-l-2 border-zinc-800 hover:border-red-600 transition-colors",children:[O.jsx(x_,{size:16,className:"text-zinc-600"}),O.jsx("span",{className:"text-sm font-bold uppercase tracking-wide truncate",children:G.text})]},G.id))}):O.jsx("p",{className:"text-xs text-zinc-600 italic tracking-wide",children:"All caught up. Good work."})]})]}),O.jsx("div",{className:"space-y-8",children:O.jsx(PN,{glassClass:Kt})})]}),_==="planner"&&O.jsxs("div",{className:"space-y-8",children:[O.jsxs("div",{className:`p-8 ${Kt} border-l-4 border-white`,children:[O.jsxs("div",{className:"flex justify-between items-center mb-8",children:[O.jsx("h3",{className:"font-black text-2xl uppercase italic tracking-tighter",children:"Mission Log"}),O.jsxs("div",{className:"flex gap-3",children:[M.some(G=>G.completed)&&O.jsx("button",{onClick:ps,className:"text-[10px] px-4 py-2 bg-red-950/30 text-red-500 border border-red-900/50 hover:bg-red-600 hover:text-black hover:border-red-600 uppercase font-black tracking-widest transition-all",children:"Clear Done"}),O.jsx("button",{onClick:()=>A(!b),className:"text-[10px] px-4 py-2 bg-zinc-900 hover:bg-white hover:text-black border border-zinc-800 uppercase font-black tracking-widest transition-all",children:b?"Single":"Bulk"})]})]}),b?O.jsxs("form",{onSubmit:Mt,children:[O.jsx("textarea",{value:xt,onChange:G=>se(G.target.value),placeholder:"COMMANDS (ONE PER LINE)...",className:`${oe} h-48 mb-6 font-mono text-sm`}),O.jsx("button",{type:"submit",className:`w-full py-4 font-black uppercase tracking-[0.2em] ${In}`,children:"Execute"})]}):O.jsxs("form",{onSubmit:At,className:"relative group",children:[O.jsx("input",{type:"text",value:Et,onChange:G=>mt(G.target.value),placeholder:"NEW OBJECTIVE...",className:`${oe} pr-16 uppercase`}),O.jsx("button",{type:"submit",className:"absolute right-3 top-3 p-2 bg-red-600 hover:bg-white hover:text-black transition-all text-white",children:O.jsx(iS,{size:20})})]})]}),O.jsxs("div",{className:"space-y-4",children:[M.length===0&&O.jsx("div",{className:"text-center py-24 opacity-20",children:O.jsx("p",{className:"text-5xl font-black uppercase italic tracking-tighter text-zinc-800",children:"Empty"})}),M.map(G=>O.jsxs("div",{className:`group flex items-center justify-between p-6 bg-zinc-950/60 border-l-2 transition-all duration-300 ${G.completed?"border-red-900 opacity-40 grayscale":"border-white hover:border-red-600 hover:bg-black"}`,children:[O.jsxs("div",{className:"flex items-center gap-6 flex-1",children:[O.jsx("button",{onClick:()=>_e(G.id),className:`transition-all duration-300 ${G.completed?"text-red-800":"text-zinc-600 hover:text-red-500"}`,children:G.completed?O.jsx(Fb,{size:28}):O.jsx(x_,{size:28})}),ct===G.id?O.jsxs("div",{className:"flex-1 flex gap-2",children:[O.jsx("input",{autoFocus:!0,type:"text",value:Bt,onChange:ut=>x(ut.target.value),className:"flex-1 bg-transparent border-b border-red-600 outline-none pb-2 uppercase font-bold text-lg"}),O.jsx("button",{onClick:()=>Cn(G.id),className:"text-red-500",children:O.jsx(Pb,{size:24})}),O.jsx("button",{onClick:()=>It(null),className:"text-zinc-500",children:O.jsx(V_,{size:24})})]}):O.jsx("span",{className:`text-xl font-bold uppercase tracking-wide flex-1 break-all ${G.completed?"line-through decoration-4 decoration-red-900":""}`,children:G.text})]}),O.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-all gap-2",children:[O.jsx("button",{onClick:()=>_r(G.id,G.text),className:"p-2 text-zinc-600 hover:text-white",children:O.jsx(eS,{size:18})}),O.jsx("button",{onClick:()=>ae(G.id),className:"p-2 text-zinc-600 hover:text-red-600",children:O.jsx(M_,{size:18})})]})]},G.id))]})]}),_==="tracker"&&O.jsxs("div",{className:"space-y-8",children:[O.jsxs("div",{className:`p-8 ${Kt} border-l-4 border-red-600`,children:[O.jsx("div",{className:"flex justify-between items-center mb-8",children:O.jsx("h3",{className:"font-black text-2xl uppercase italic tracking-tighter",children:"Habit Protocol"})}),O.jsxs("form",{onSubmit:Pi,className:"flex gap-4",children:[O.jsx("input",{type:"text",value:Ot,onChange:G=>I(G.target.value),placeholder:"NEW PROTOCOL...",className:`${oe} flex-1 uppercase`}),O.jsx("button",{type:"submit",className:`px-10 py-2 font-black uppercase tracking-[0.2em] ${In}`,children:"Init"})]})]}),O.jsx("div",{className:"grid gap-6 sm:grid-cols-2",children:Z.map(G=>O.jsxs("div",{className:"p-8 bg-zinc-950/80 border border-zinc-900 hover:border-red-900/50 transition-all duration-300 relative group",children:[G.completedToday&&O.jsx("div",{className:"absolute inset-0 bg-red-900/5 pointer-events-none"}),O.jsxs("div",{className:"flex items-center justify-between mb-8",children:[O.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[O.jsx("div",{className:"p-3 bg-black border border-zinc-800 text-red-600",children:O.jsx(oS,{size:24})}),O.jsxs("div",{className:"flex-1",children:[O.jsx("h3",{className:"font-bold text-xl uppercase tracking-wide",children:G.text}),O.jsxs("p",{className:"text-xs font-mono mt-2 text-zinc-500 uppercase tracking-widest",children:["Streak ",O.jsx("span",{className:"text-white font-bold text-sm ml-1",children:G.streak})]})]})]}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("button",{onClick:()=>gr(G.id),className:`flex-1 py-3 px-6 text-[10px] font-black uppercase tracking-[0.2em] transition-all border ${G.completedToday?"bg-red-600 text-black border-red-600":"bg-black text-zinc-500 border-zinc-800 hover:border-white hover:text-white"}`,children:G.completedToday?"Done":"Mark"}),O.jsx("button",{onClick:()=>yr(G.id),className:"p-3 bg-black border border-zinc-800 hover:border-red-900 hover:text-red-600 text-zinc-600 transition-all",children:O.jsx(M_,{size:18})})]})]}),O.jsx("div",{className:"mt-4 flex gap-1 justify-center opacity-40",children:[...G.history,G.completedToday?1:0].slice(-7).map((ut,gt)=>O.jsx("div",{className:`h-1.5 flex-1 transition-all ${ut?"bg-red-600":"bg-zinc-800"}`},gt))})]},G.id))})]}),_==="calendar"&&O.jsx("div",{className:"animate-fadeIn",children:O.jsx(UN,{dailyHistory:W,glassClass:Kt})}),_==="stats"&&O.jsxs("div",{className:"space-y-8",children:[O.jsxs("div",{className:`p-10 ${Kt} flex flex-col items-center border-l-4 border-red-600`,children:[O.jsx("h2",{className:"text-2xl font-black mb-10 tracking-tighter uppercase italic",children:"Analytics"}),O.jsx(g0,{data:ji}),O.jsx("div",{className:"mt-12 flex gap-10 flex-wrap justify-center",children:ji.map((G,ut)=>O.jsxs("div",{className:"flex items-center gap-4",children:[O.jsx("div",{className:"w-4 h-4",style:{backgroundColor:G.color}}),O.jsxs("span",{className:"text-sm font-bold uppercase tracking-widest text-zinc-400",children:[G.name," ",O.jsx("span",{className:"text-white ml-2 font-black text-lg",children:G.value})]})]},ut))})]}),O.jsxs("div",{className:`p-10 ${Kt} border-r-4 border-white`,children:[O.jsxs("div",{className:"flex items-center justify-between mb-6",children:[O.jsx("h2",{className:"text-2xl font-black uppercase italic tracking-tighter",children:"Consistency"}),O.jsxs("span",{className:"text-5xl font-black text-red-600",children:[vr,"%"]})]}),O.jsx("div",{className:"w-full h-8 bg-black border border-zinc-800 p-1",children:O.jsx("div",{className:"h-full bg-red-600 transition-all duration-1000",style:{width:`${vr}%`}})})]})]}),_==="profile"&&O.jsx("div",{className:`max-w-md mx-auto p-10 ${Kt} border-b-4 border-red-600 text-center`,children:i&&!i.isAnonymous&&O.jsxs("div",{className:"space-y-10",children:[O.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[O.jsx("div",{className:"w-full h-full flex items-center justify-center text-5xl font-black bg-zinc-900 border-2 border-zinc-800",children:(i.displayName||i.email||"U")[0].toUpperCase()}),O.jsx("div",{className:"absolute bottom-0 right-0 p-2 bg-red-600 border-4 border-black",children:O.jsx(O_,{size:20,className:"text-black"})})]}),O.jsxs("div",{children:[O.jsx("h2",{className:"text-3xl font-black uppercase tracking-wide",children:i.displayName||"User"}),O.jsx("p",{className:"text-xs font-mono text-zinc-500 mt-2 uppercase tracking-widest",children:i.email})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[O.jsxs("div",{className:"p-6 bg-zinc-900 border border-zinc-800",children:[O.jsx("p",{className:"text-4xl font-black text-white",children:M.filter(G=>G.completed).length}),O.jsx("p",{className:"text-[10px] uppercase tracking-[0.2em] text-zinc-500 mt-2",children:"Tasks"})]}),O.jsxs("div",{className:"p-6 bg-zinc-900 border border-zinc-800",children:[O.jsx("p",{className:"text-4xl font-black text-red-600",children:Z.filter(G=>G.streak>0).length}),O.jsx("p",{className:"text-[10px] uppercase tracking-[0.2em] text-zinc-500 mt-2",children:"Streaks"})]})]}),O.jsxs("button",{onClick:vt,className:"flex items-center justify-center gap-3 w-full py-5 border border-zinc-800 hover:bg-red-600 hover:text-black hover:border-red-600 transition-all font-black tracking-[0.2em] uppercase text-xs",children:["Sign Out ",O.jsx(Jb,{size:16})]})]})})]})]})]}):O.jsxs("div",{className:"font-sans min-h-screen flex items-center justify-center relative overflow-hidden bg-black",children:[O.jsx(m0,{}),O.jsx(p0,{darkMode:!0}),O.jsxs("div",{className:`relative z-10 w-full max-w-md p-10 ${Kt} border-l-4 border-red-600 rounded-sm`,children:[O.jsxs("div",{className:"text-center mb-10",children:[O.jsx("div",{className:"w-14 h-14 mx-auto flex items-center justify-center shadow-2xl mb-6 bg-red-600 rounded-sm transform rotate-45",children:O.jsx(O_,{size:24,className:"text-black transform -rotate-45"})}),O.jsxs("h1",{className:"text-5xl font-black tracking-tighter mb-2 text-white uppercase italic",children:["Focus",O.jsx("span",{className:"text-red-600",children:"Flow"})]}),O.jsx("p",{className:"text-xs font-bold tracking-[0.2em] text-zinc-500 uppercase",children:Gt?"Start Legacy":"Access Terminal"})]}),q&&O.jsxs("div",{className:"mb-8 p-4 bg-red-950/80 border-l-2 border-red-500 text-red-200 text-xs font-bold uppercase tracking-wide flex items-center justify-center gap-3",children:[O.jsx(V_,{size:14})," ",q]}),O.jsxs("form",{onSubmit:rt,className:"space-y-6",children:[Gt&&O.jsxs("div",{className:"relative group",children:[O.jsx(Kb,{className:"absolute left-4 top-4 text-zinc-500 group-focus-within:text-white transition-colors",size:20}),O.jsx("input",{type:"text",required:!0,value:L,onChange:G=>w(G.target.value),placeholder:"CODENAME",className:`${oe} pl-12`})]}),O.jsxs("div",{className:"relative group",children:[O.jsx(Wb,{className:"absolute left-4 top-4 text-zinc-500 group-focus-within:text-white transition-colors",size:20}),O.jsx("input",{type:"email",required:!0,value:S,onChange:G=>C(G.target.value),placeholder:"EMAIL",className:`${oe} pl-12`})]}),O.jsxs("div",{className:"relative group",children:[O.jsx(Xb,{className:"absolute left-4 top-4 text-zinc-500 group-focus-within:text-white transition-colors",size:20}),O.jsx("input",{type:"password",required:!0,value:V,onChange:G=>N(G.target.value),placeholder:"PASSWORD",className:`${oe} pl-12`})]}),O.jsx("button",{type:"submit",className:`w-full py-4 font-black uppercase tracking-[0.2em] text-sm transition-all hover:translate-x-1 ${In}`,children:Gt?"Initiate":"Login"})]}),O.jsx("div",{className:"mt-10 text-center",children:O.jsx("button",{onClick:()=>ye(!Gt),className:"text-[10px] font-bold text-zinc-500 hover:text-white uppercase tracking-widest transition-colors",children:Gt?"Already have an account? Login":"First time? Create Account"})})]})]})}Cb.createRoot(document.getElementById("root")).render(O.jsx(Ft.StrictMode,{children:O.jsx(zN,{})}));
