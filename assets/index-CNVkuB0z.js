(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Rd={exports:{}},bl={};var b_;function pb(){if(b_)return bl;b_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return bl.Fragment=t,bl.jsx=i,bl.jsxs=i,bl}var S_;function yb(){return S_||(S_=1,Rd.exports=pb()),Rd.exports}var O=yb(),Id={exports:{}},St={};var A_;function _b(){if(A_)return St;A_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function Y(x){return x===null||typeof x!="object"?null:(x=M&&x[M]||x["@@iterator"],typeof x=="function"?x:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,st={};function mt(x,Q,et){this.props=x,this.context=Q,this.refs=st,this.updater=et||Z}mt.prototype.isReactComponent={},mt.prototype.setState=function(x,Q){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Q,"setState")},mt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function ft(){}ft.prototype=mt.prototype;function _t(x,Q,et){this.props=x,this.context=Q,this.refs=st,this.updater=et||Z}var Ot=_t.prototype=new ft;Ot.constructor=_t,nt(Ot,mt.prototype),Ot.isPureReactComponent=!0;var te=Array.isArray;function Ht(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(x,Q,et){var it=et.ref;return{$$typeof:s,type:x,key:Q,ref:it!==void 0?it:null,props:et}}function V(x,Q){return I(x.type,Q,x.props)}function N(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function L(x){var Q={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(et){return Q[et]})}var w=/\/+/g;function ee(x,Q){return typeof x=="object"&&x!==null&&x.key!=null?L(""+x.key):Q.toString(36)}function ye(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Ht,Ht):(x.status="pending",x.then(function(Q){x.status==="pending"&&(x.status="fulfilled",x.value=Q)},function(Q){x.status==="pending"&&(x.status="rejected",x.reason=Q)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function q(x,Q,et,it,vt){var Tt=typeof x;(Tt==="undefined"||Tt==="boolean")&&(x=null);var Ct=!1;if(x===null)Ct=!0;else switch(Tt){case"bigint":case"string":case"number":Ct=!0;break;case"object":switch(x.$$typeof){case s:case t:Ct=!0;break;case b:return Ct=x._init,q(Ct(x._payload),Q,et,it,vt)}}if(Ct)return vt=vt(x),Ct=it===""?"."+ee(x,0):it,te(vt)?(et="",Ct!=null&&(et=Ct.replace(w,"$&/")+"/"),q(vt,Q,et,"",function(Pi){return Pi})):vt!=null&&(N(vt)&&(vt=V(vt,et+(vt.key==null||x&&x.key===vt.key?"":(""+vt.key).replace(w,"$&/")+"/")+Ct)),Q.push(vt)),1;Ct=0;var be=it===""?".":it+":";if(te(x))for(var Nt=0;Nt<x.length;Nt++)it=x[Nt],Tt=be+ee(it,Nt),Ct+=q(it,Q,et,Tt,vt);else if(Nt=Y(x),typeof Nt=="function")for(x=Nt.call(x),Nt=0;!(it=x.next()).done;)it=it.value,Tt=be+ee(it,Nt++),Ct+=q(it,Q,et,Tt,vt);else if(Tt==="object"){if(typeof x.then=="function")return q(ye(x),Q,et,it,vt);throw Q=String(x),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ct}function tt(x,Q,et){if(x==null)return x;var it=[],vt=0;return q(x,it,"","",function(Tt){return Q.call(et,Tt,vt++)}),it}function ct(x){if(x._status===-1){var Q=x._result;Q=Q(),Q.then(function(et){(x._status===0||x._status===-1)&&(x._status=1,x._result=et)},function(et){(x._status===0||x._status===-1)&&(x._status=2,x._result=et)}),x._status===-1&&(x._status=0,x._result=Q)}if(x._status===1)return x._result.default;throw x._result}var Mt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},qt={map:tt,forEach:function(x,Q,et){tt(x,function(){Q.apply(this,arguments)},et)},count:function(x){var Q=0;return tt(x,function(){Q++}),Q},toArray:function(x){return tt(x,function(Q){return Q})||[]},only:function(x){if(!N(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return St.Activity=A,St.Children=qt,St.Component=mt,St.Fragment=i,St.Profiler=l,St.PureComponent=_t,St.StrictMode=a,St.Suspense=v,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,St.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},St.cache=function(x){return function(){return x.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(x,Q,et){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var it=nt({},x.props),vt=x.key;if(Q!=null)for(Tt in Q.key!==void 0&&(vt=""+Q.key),Q)!S.call(Q,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&Q.ref===void 0||(it[Tt]=Q[Tt]);var Tt=arguments.length-2;if(Tt===1)it.children=et;else if(1<Tt){for(var Ct=Array(Tt),be=0;be<Tt;be++)Ct[be]=arguments[be+2];it.children=Ct}return I(x.type,vt,it)},St.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},St.createElement=function(x,Q,et){var it,vt={},Tt=null;if(Q!=null)for(it in Q.key!==void 0&&(Tt=""+Q.key),Q)S.call(Q,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(vt[it]=Q[it]);var Ct=arguments.length-2;if(Ct===1)vt.children=et;else if(1<Ct){for(var be=Array(Ct),Nt=0;Nt<Ct;Nt++)be[Nt]=arguments[Nt+2];vt.children=be}if(x&&x.defaultProps)for(it in Ct=x.defaultProps,Ct)vt[it]===void 0&&(vt[it]=Ct[it]);return I(x,Tt,vt)},St.createRef=function(){return{current:null}},St.forwardRef=function(x){return{$$typeof:p,render:x}},St.isValidElement=N,St.lazy=function(x){return{$$typeof:b,_payload:{_status:-1,_result:x},_init:ct}},St.memo=function(x,Q){return{$$typeof:y,type:x,compare:Q===void 0?null:Q}},St.startTransition=function(x){var Q=C.T,et={};C.T=et;try{var it=x(),vt=C.S;vt!==null&&vt(et,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Ht,Mt)}catch(Tt){Mt(Tt)}finally{Q!==null&&et.types!==null&&(Q.types=et.types),C.T=Q}},St.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},St.use=function(x){return C.H.use(x)},St.useActionState=function(x,Q,et){return C.H.useActionState(x,Q,et)},St.useCallback=function(x,Q){return C.H.useCallback(x,Q)},St.useContext=function(x){return C.H.useContext(x)},St.useDebugValue=function(){},St.useDeferredValue=function(x,Q){return C.H.useDeferredValue(x,Q)},St.useEffect=function(x,Q){return C.H.useEffect(x,Q)},St.useEffectEvent=function(x){return C.H.useEffectEvent(x)},St.useId=function(){return C.H.useId()},St.useImperativeHandle=function(x,Q,et){return C.H.useImperativeHandle(x,Q,et)},St.useInsertionEffect=function(x,Q){return C.H.useInsertionEffect(x,Q)},St.useLayoutEffect=function(x,Q){return C.H.useLayoutEffect(x,Q)},St.useMemo=function(x,Q){return C.H.useMemo(x,Q)},St.useOptimistic=function(x,Q){return C.H.useOptimistic(x,Q)},St.useReducer=function(x,Q,et){return C.H.useReducer(x,Q,et)},St.useRef=function(x){return C.H.useRef(x)},St.useState=function(x){return C.H.useState(x)},St.useSyncExternalStore=function(x,Q,et){return C.H.useSyncExternalStore(x,Q,et)},St.useTransition=function(){return C.H.useTransition()},St.version="19.2.4",St}var w_;function pm(){return w_||(w_=1,Id.exports=_b()),Id.exports}var Ft=pm(),Cd={exports:{}},Sl={},Nd={exports:{}},Dd={};var R_;function vb(){return R_||(R_=1,(function(s){function t(q,tt){var ct=q.length;q.push(tt);t:for(;0<ct;){var Mt=ct-1>>>1,qt=q[Mt];if(0<l(qt,tt))q[Mt]=tt,q[ct]=qt,ct=Mt;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var tt=q[0],ct=q.pop();if(ct!==tt){q[0]=ct;t:for(var Mt=0,qt=q.length,x=qt>>>1;Mt<x;){var Q=2*(Mt+1)-1,et=q[Q],it=Q+1,vt=q[it];if(0>l(et,ct))it<qt&&0>l(vt,et)?(q[Mt]=vt,q[it]=ct,Mt=it):(q[Mt]=et,q[Q]=ct,Mt=Q);else if(it<qt&&0>l(vt,ct))q[Mt]=vt,q[it]=ct,Mt=it;else break t}}return tt}function l(q,tt){var ct=q.sortIndex-tt.sortIndex;return ct!==0?ct:q.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],y=[],b=1,A=null,M=3,Y=!1,Z=!1,nt=!1,st=!1,mt=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Ot(q){for(var tt=i(y);tt!==null;){if(tt.callback===null)a(y);else if(tt.startTime<=q)a(y),tt.sortIndex=tt.expirationTime,t(v,tt);else break;tt=i(y)}}function te(q){if(nt=!1,Ot(q),!Z)if(i(v)!==null)Z=!0,Ht||(Ht=!0,L());else{var tt=i(y);tt!==null&&ye(te,tt.startTime-q)}}var Ht=!1,C=-1,S=5,I=-1;function V(){return st?!0:!(s.unstable_now()-I<S)}function N(){if(st=!1,Ht){var q=s.unstable_now();I=q;var tt=!0;try{t:{Z=!1,nt&&(nt=!1,ft(C),C=-1),Y=!0;var ct=M;try{e:{for(Ot(q),A=i(v);A!==null&&!(A.expirationTime>q&&V());){var Mt=A.callback;if(typeof Mt=="function"){A.callback=null,M=A.priorityLevel;var qt=Mt(A.expirationTime<=q);if(q=s.unstable_now(),typeof qt=="function"){A.callback=qt,Ot(q),tt=!0;break e}A===i(v)&&a(v),Ot(q)}else a(v);A=i(v)}if(A!==null)tt=!0;else{var x=i(y);x!==null&&ye(te,x.startTime-q),tt=!1}}break t}finally{A=null,M=ct,Y=!1}tt=void 0}}finally{tt?L():Ht=!1}}}var L;if(typeof _t=="function")L=function(){_t(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ee=w.port2;w.port1.onmessage=N,L=function(){ee.postMessage(null)}}else L=function(){mt(N,0)};function ye(q,tt){C=mt(function(){q(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(q){switch(M){case 1:case 2:case 3:var tt=3;break;default:tt=M}var ct=M;M=tt;try{return q()}finally{M=ct}},s.unstable_requestPaint=function(){st=!0},s.unstable_runWithPriority=function(q,tt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ct=M;M=q;try{return tt()}finally{M=ct}},s.unstable_scheduleCallback=function(q,tt,ct){var Mt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Mt+ct:Mt):ct=Mt,q){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ct+qt,q={id:b++,callback:tt,priorityLevel:q,startTime:ct,expirationTime:qt,sortIndex:-1},ct>Mt?(q.sortIndex=ct,t(y,q),i(v)===null&&q===i(y)&&(nt?(ft(C),C=-1):nt=!0,ye(te,ct-Mt))):(q.sortIndex=qt,t(v,q),Z||Y||(Z=!0,Ht||(Ht=!0,L()))),q},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(q){var tt=M;return function(){var ct=M;M=tt;try{return q.apply(this,arguments)}finally{M=ct}}}})(Dd)),Dd}var I_;function Eb(){return I_||(I_=1,Nd.exports=vb()),Nd.exports}var xd={exports:{}},nn={};var C_;function Tb(){if(C_)return nn;C_=1;var s=pm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:v,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(v,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,b)},nn.flushSync=function(v){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=b,a.d.f()}},nn.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},nn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},nn.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var b=y.as,A=p(b,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,Y=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:Y}):b==="script"&&a.d.X(v,{crossOrigin:A,integrity:M,fetchPriority:Y,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},nn.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=p(b,y.crossOrigin);a.d.L(v,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(v,y){if(typeof v=="string")if(y){var b=p(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},nn.requestFormReset=function(v){a.d.r(v)},nn.unstable_batchedUpdates=function(v,y){return v(y)},nn.useFormState=function(v,y,b){return d.H.useFormState(v,y,b)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var N_;function bb(){if(N_)return xd.exports;N_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),xd.exports=Tb(),xd.exports}var D_;function Sb(){if(D_)return Sl;D_=1;var s=Eb(),t=pm(),i=bb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),ft=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Ot=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),Ht=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case mt:return"Profiler";case st:return"StrictMode";case te:return"Suspense";case Ht:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case _t:return e.displayName||"Context";case ft:return(e._context.displayName||"Context")+".Consumer";case Ot:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var ye=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Mt=[],qt=-1;function x(e){return{current:e}}function Q(e){0>qt||(e.current=Mt[qt],Mt[qt]=null,qt--)}function et(e,n){qt++,Mt[qt]=e.current,e.current=n}var it=x(null),vt=x(null),Tt=x(null),Ct=x(null);function be(e,n){switch(et(Tt,n),et(vt,e),et(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Gy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Gy(n),e=Ky(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(it),et(it,e)}function Nt(){Q(it),Q(vt),Q(Tt)}function Pi(e){e.memoizedState!==null&&et(Ct,e);var n=it.current,r=Ky(n,e.type);n!==r&&(et(vt,e),et(it,r))}function ps(e){vt.current===e&&(Q(it),Q(vt)),Ct.current===e&&(Q(Ct),_l._currentValue=ct)}var ys,_s;function Dn(e){if(ys===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ys=n&&n[1]||"",_s=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+e+_s}var yr=!1;function zi(e,n){if(!e||yr)return"";yr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var j=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){j=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){j=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{yr=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Dn(r):""}function _r(e,n){switch(e.tag){case 26:case 27:case 5:return Dn(e.type);case 16:return Dn("Lazy");case 13:return e.child!==n&&n!==null?Dn("Suspense Fallback"):Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 15:return zi(e.type,!1);case 11:return zi(e.type.render,!1);case 1:return zi(e.type,!0);case 31:return Dn("Activity");default:return""}}function vr(e){try{var n="",r=null;do n+=_r(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,ve=s.unstable_scheduleCallback,oi=s.unstable_cancelCallback,bo=s.unstable_shouldYield,la=s.unstable_requestPaint,Ke=s.unstable_now,li=s.unstable_getCurrentPriorityLevel,vs=s.unstable_ImmediatePriority,vn=s.unstable_UserBlockingPriority,G=s.unstable_NormalPriority,ot=s.unstable_LowPriority,bt=s.unstable_IdlePriority,$t=s.log,oe=s.unstable_setDisableYieldValue,fe=null,ge=null;function Ie(e){if(typeof $t=="function"&&oe(e),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(fe,e)}catch{}}var Vt=Math.clz32?Math.clz32:Tr,Er=Math.log,ji=Math.LN2;function Tr(e){return e>>>=0,e===0?32:31-(Er(e)/ji|0)|0}var xn=256,Bi=262144,Ce=4194304;function ui(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ui(o):(g&=E,g!==0?h=ui(g):r||(r=E&~e,r!==0&&(h=ui(r))))):(E=o&~f,E!==0?h=ui(E):g!==0?h=ui(g):r||(r=o&~e,r!==0&&(h=ui(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Nh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var e=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),e}function hi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function br(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(r=g&~r;0<r;){var F=31-Vt(r),X=1<<F;E[F]=0,R[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var H=j[F];H!==null&&(H.lane&=-536870913)}r&=~X}o!==0&&Sr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Sr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Vt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function So(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Vt(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Ao(e,n){var r=n&-n;return r=(r&42)!==0?1:Ar(r),(r&(e.suspendedLanes|n))!==0?0:r}function Ar(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:g_(e.type))}function Qn(e,n){var r=tt.p;try{return tt.p=e,n()}finally{tt.p=r}}var Yn=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Yn,He="__reactProps$"+Yn,fi="__reactContainer$"+Yn,ua="__reactEvents$"+Yn,xh="__reactListeners$"+Yn,au="__reactHandles$"+Yn,ou="__reactResources$"+Yn,di="__reactMarker$"+Yn;function ca(e){delete e[Ne],delete e[He],delete e[ua],delete e[xh],delete e[au]}function mi(e){var n=e[Ne];if(n)return n;for(var r=e.parentNode;r;){if(n=r[fi]||r[Ne]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Wy(e);e!==null;){if(r=e[Ne])return r;e=Wy(e)}return n}e=r,r=e.parentNode}return null}function On(e){if(e=e[Ne]||e[fi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function En(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function gi(e){var n=e[ou];return n||(n=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function De(e){e[di]=!0}var wo=new Set,Ro={};function pi(e,n){yi(e,n),yi(e+"Capture",n)}function yi(e,n){for(Ro[e]=n,e=0;e<n.length;e++)wo.add(n[e])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},No={};function lu(e){return _e.call(No,e)?!0:_e.call(Co,e)?!1:Io.test(e)?No[e]=!0:(Co[e]=!0,!1)}function ha(e,n,r){if(lu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Tn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function xe(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Es(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Do(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jt(e){if(!e._valueTracker){var n=Es(e)?"checked":"value";e._valueTracker=Do(e,n,""+e[n])}}function wr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=Es(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rr=/[\n"\\]/g;function hn(e){return e.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fa(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qe(n)):e.value!==""+qe(n)&&(e.value=""+qe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?xo(e,g,qe(n)):r!=null?xo(e,g,qe(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+qe(E):e.removeAttribute("name")}function uu(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Jt(e);return}r=r!=null?""+qe(r):"",n=n!=null?""+qe(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Jt(e)}function xo(e,n,r){n==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Ts(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+qe(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,r){if(n!=null&&(n=""+qe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+qe(r):""}function bs(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(ye(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=qe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Jt(e)}function fn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||hu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Mo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Oo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Oo(e,f,n[f])}function da(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(e){return Ss.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Xn(){}var Vo=null;function Mn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var As=null,vi=null;function Ir(e){var n=On(e);if(n&&(e=n.stateNode)){var r=e[He]||null;t:switch(e=n.stateNode,n.type){case"input":if(fa(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[He]||null;if(!h)throw Error(a(90));fa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&wr(o)}break t;case"textarea":cu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Ts(e,!!r.multiple,n,!1)}}}var ga=!1;function ws(e,n,r){if(ga)return e(n,r);ga=!0;try{var o=e(n);return o}finally{if(ga=!1,(As!==null||vi!==null)&&(rc(),As&&(n=As,e=vi,vi=As=null,Ir(n),e)))for(n=0;n<e.length;n++)Ir(e[n])}}function $n(e,n){var r=e.stateNode;if(r===null)return null;var o=r[He]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Vn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{Cr=!1}var Ei=null,ko=null,Nr=null;function Lo(){if(Nr)return Nr;var e,n=ko,r=n.length,o,h="value"in Ei?Ei.value:Ei.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return Nr=h.slice(e,1<o?1-o:void 0)}function Dr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function qi(){return!0}function Jn(){return!1}function Qe(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qi:Jn,this.isPropagationStopped=Jn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Qe(Fi),Rs=A({},Fi,{view:0,detail:0}),Uo=Qe(Rs),Is,pa,bi,ya=A({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(Is=e.screenX-bi.screenX,pa=e.screenY-bi.screenY):pa=Is=0,bi=e),Is)},movementY:function(e){return"movementY"in e?e.movementY:pa}}),Po=Qe(ya),xr=A({},ya,{dataTransfer:0}),du=Qe(xr),mu=A({},Rs,{relatedTarget:0}),Or=Qe(mu),zo=A({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=Qe(zo),_a=A({},Fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=Qe(_a),yu=A({},Fi,{data:0}),Si=Qe(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Eu[e])?!!n[e]:!1}function Cs(){return Tu}var ln=A({},Rs,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?Dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=Qe(ln),Su=A({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Qe(Su),u=A({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),m=Qe(u),_=A({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Qe(_),U=A({},ya,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Qe(U),W=A({},Fi,{newState:0,oldState:0}),wt=Qe(W),Se=[9,13,27,32],Qt=Vn&&"CompositionEvent"in window,de=null;Vn&&"documentMode"in document&&(de=document.documentMode);var kn=Vn&&"TextEvent"in window&&!de,Ai=Vn&&(!Qt||de&&8<de&&11>=de),Zn=" ",Wn=!1;function Mr(e,n){switch(e){case"keyup":return Se.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function va(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ea=!1;function jT(e,n){switch(e){case"compositionend":return va(n);case"keypress":return n.which!==32?null:(Wn=!0,Zn);case"textInput":return e=n.data,e===Zn&&Wn?null:e;default:return null}}function BT(e,n){if(Ea)return e==="compositionend"||!Qt&&Mr(e,n)?(e=Lo(),Nr=ko=Ei=null,Ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ai&&n.locale!=="ko"?null:n.data;default:return null}}var HT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ng(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!HT[e.type]:n==="textarea"}function ig(e,n,r,o){As?vi?vi.push(o):vi=[o]:As=o,n=fc(n,"onChange"),0<n.length&&(r=new Ti("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var jo=null,Bo=null;function qT(e){zy(e,0)}function Au(e){var n=En(e);if(wr(n))return e}function sg(e,n){if(e==="change")return n}var rg=!1;if(Vn){var Oh;if(Vn){var Mh="oninput"in document;if(!Mh){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),Mh=typeof ag.oninput=="function"}Oh=Mh}else Oh=!1;rg=Oh&&(!document.documentMode||9<document.documentMode)}function og(){jo&&(jo.detachEvent("onpropertychange",lg),Bo=jo=null)}function lg(e){if(e.propertyName==="value"&&Au(Bo)){var n=[];ig(n,Bo,e,Mn(e)),ws(qT,n)}}function FT(e,n,r){e==="focusin"?(og(),jo=n,Bo=r,jo.attachEvent("onpropertychange",lg)):e==="focusout"&&og()}function GT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Bo)}function KT(e,n){if(e==="click")return Au(n)}function QT(e,n){if(e==="input"||e==="change")return Au(n)}function YT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var bn=typeof Object.is=="function"?Object.is:YT;function Ho(e,n){if(bn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!_e.call(n,h)||!bn(e[h],n[h]))return!1}return!0}function ug(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cg(e,n){var r=ug(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=ug(r)}}function hg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?hg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function fg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_i(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=_i(e.document)}return n}function Vh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var XT=Vn&&"documentMode"in document&&11>=document.documentMode,Ta=null,kh=null,qo=null,Lh=!1;function dg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lh||Ta==null||Ta!==_i(o)||(o=Ta,"selectionStart"in o&&Vh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qo&&Ho(qo,o)||(qo=o,o=fc(kh,"onSelect"),0<o.length&&(n=new Ti("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=Ta)))}function Vr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ba={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},Uh={},mg={};Vn&&(mg=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function kr(e){if(Uh[e])return Uh[e];if(!ba[e])return e;var n=ba[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in mg)return Uh[e]=n[r];return e}var gg=kr("animationend"),pg=kr("animationiteration"),yg=kr("animationstart"),$T=kr("transitionrun"),JT=kr("transitionstart"),ZT=kr("transitioncancel"),_g=kr("transitionend"),vg=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function ti(e,n){vg.set(e,n),pi(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ln=[],Sa=0,zh=0;function Ru(){for(var e=Sa,n=zh=Sa=0;n<e;){var r=Ln[n];Ln[n++]=null;var o=Ln[n];Ln[n++]=null;var h=Ln[n];Ln[n++]=null;var f=Ln[n];if(Ln[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Eg(r,h,f)}}function Iu(e,n,r,o){Ln[Sa++]=e,Ln[Sa++]=n,Ln[Sa++]=r,Ln[Sa++]=o,zh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function jh(e,n,r,o){return Iu(e,n,r,o),Cu(e)}function Lr(e,n){return Iu(e,null,null,n),Cu(e)}function Eg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Vt(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Cu(e){if(50<hl)throw hl=0,$f=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Aa={};function WT(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,r,o){return new WT(e,n,r,o)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ki(e,n){var r=e.alternate;return r===null?(r=Sn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Tg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Bh(e)&&(g=1);else if(typeof e=="string")g=sb(e,r,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Sn(31,r,n,h),e.elementType=I,e.lanes=f,e;case nt:return Ur(r.children,h,f,n);case st:g=8,h|=24;break;case mt:return e=Sn(12,r,n,h|2),e.elementType=mt,e.lanes=f,e;case te:return e=Sn(13,r,n,h),e.elementType=te,e.lanes=f,e;case Ht:return e=Sn(19,r,n,h),e.elementType=Ht,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:g=10;break t;case ft:g=9;break t;case Ot:g=11;break t;case C:g=14;break t;case S:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Sn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ur(e,n,r,o){return e=Sn(7,e,o,n),e.lanes=r,e}function Hh(e,n,r){return e=Sn(6,e,null,n),e.lanes=r,e}function bg(e){var n=Sn(18,null,null,0);return n.stateNode=e,n}function qh(e,n,r){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Sg=new WeakMap;function Un(e,n){if(typeof e=="object"&&e!==null){var r=Sg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:vr(n)},Sg.set(e,n),n)}return{value:e,source:n,stack:vr(n)}}var wa=[],Ra=0,Du=null,Fo=0,Pn=[],zn=0,Ns=null,wi=1,Ri="";function Qi(e,n){wa[Ra++]=Fo,wa[Ra++]=Du,Du=e,Fo=n}function Ag(e,n,r){Pn[zn++]=wi,Pn[zn++]=Ri,Pn[zn++]=Ns,Ns=e;var o=wi;e=Ri;var h=32-Vt(o)-1;o&=~(1<<h),r+=1;var f=32-Vt(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,wi=1<<32-Vt(n)+h|r<<h|o,Ri=f+e}else wi=1<<f|r<<h|o,Ri=e}function Fh(e){e.return!==null&&(Qi(e,1),Ag(e,1,0))}function Gh(e){for(;e===Du;)Du=wa[--Ra],wa[Ra]=null,Fo=wa[--Ra],wa[Ra]=null;for(;e===Ns;)Ns=Pn[--zn],Pn[zn]=null,Ri=Pn[--zn],Pn[zn]=null,wi=Pn[--zn],Pn[zn]=null}function wg(e,n){Pn[zn++]=wi,Pn[zn++]=Ri,Pn[zn++]=Ns,wi=n.id,Ri=n.overflow,Ns=e}var Ye=null,le=null,jt=!1,Ds=null,jn=!1,Kh=Error(a(519));function xs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Go(Un(n,e)),Kh}function Rg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ne]=e,n[He]=o,r){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(r=0;r<dl.length;r++)xt(dl[r],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),uu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),bs(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||qy(n.textContent,r)?(o.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),o.onScroll!=null&&xt("scroll",n),o.onScrollEnd!=null&&xt("scrollend",n),o.onClick!=null&&(n.onclick=Xn),n=!0):n=!1,n||xs(e,!0)}function Ig(e){for(Ye=e.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Ye=Ye.return}}function Ia(e){if(e!==Ye)return!1;if(!jt)return Ig(e),jt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||hd(e.type,e.memoizedProps)),r=!r),r&&le&&xs(e),Ig(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));le=Zy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));le=Zy(e)}else n===27?(n=le,Gs(e.type)?(e=pd,pd=null,le=e):le=n):le=Ye?Hn(e.stateNode.nextSibling):null;return!0}function Pr(){le=Ye=null,jt=!1}function Qh(){var e=Ds;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Ds=null),e}function Go(e){Ds===null?Ds=[e]:Ds.push(e)}var Yh=x(null),zr=null,Yi=null;function Os(e,n,r){et(Yh,n._currentValue),n._currentValue=r}function Xi(e){e._currentValue=Yh.current,Q(Yh)}function Xh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function $h(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Xh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Xh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ca(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;bn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ct.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}h=h.return}e!==null&&$h(n,e,r,o),n.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function jr(e){zr=e,Yi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return Cg(zr,e)}function Ou(e,n){return zr===null&&jr(e),Cg(e,n)}function Cg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Yi===null){if(e===null)throw Error(a(308));Yi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Yi=Yi.next=n;return r}var t1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},e1=s.unstable_scheduleCallback,n1=s.unstable_NormalPriority,Oe={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new t1,data:new Map,refCount:0}}function Ko(e){e.refCount--,e.refCount===0&&e1(n1,function(){e.controller.abort()})}var Qo=null,Zh=0,Na=0,Da=null;function i1(e,n){if(Qo===null){var r=Qo=[];Zh=0,Na=nd(),Da={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Zh++,n.then(Ng,Ng),n}function Ng(){if(--Zh===0&&Qo!==null){Da!==null&&(Da.status="fulfilled");var e=Qo;Qo=null,Na=0,Da=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function s1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Dg=q.S;q.S=function(e,n){dy=Ke(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&i1(e,n),Dg!==null&&Dg(e,n)};var Br=x(null);function Wh(){var e=Br.current;return e!==null?e:ae.pooledCache}function Mu(e,n){n===null?et(Br,Br.current):et(Br,n.pool)}function xg(){var e=Wh();return e===null?null:{parent:Oe._currentValue,pool:e}}var xa=Error(a(460)),tf=Error(a(474)),Vu=Error(a(542)),ku={then:function(){}};function Og(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Mg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Xn,Xn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,kg(e),e;default:if(typeof n.status=="string")n.then(Xn,Xn);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,kg(e),e}throw qr=n,xa}}function Hr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(qr=r,xa):r}}var qr=null;function Vg(){if(qr===null)throw Error(a(459));var e=qr;return qr=null,e}function kg(e){if(e===xa||e===Vu)throw Error(a(483))}var Oa=null,Yo=0;function Lu(e){var n=Yo;return Yo+=1,Oa===null&&(Oa=[]),Mg(Oa,e,n)}function Xo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Lg(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function r(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Ki(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,K){return D===null||D.tag!==6?(D=Hh(P,k.mode,K),D.return=k,D):(D=h(D,P),D.return=k,D)}function R(k,D,P,K){var ht=P.type;return ht===nt?F(k,D,P.props.children,K,P.key):D!==null&&(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&Hr(ht)===D.type)?(D=h(D,P.props),Xo(D,P),D.return=k,D):(D=Nu(P.type,P.key,P.props,null,k.mode,K),Xo(D,P),D.return=k,D)}function z(k,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=qh(P,k.mode,K),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function F(k,D,P,K,ht){return D===null||D.tag!==7?(D=Ur(P,k.mode,K,ht),D.return=k,D):(D=h(D,P),D.return=k,D)}function X(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Hh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Y:return P=Nu(D.type,D.key,D.props,null,k.mode,P),Xo(P,D),P.return=k,P;case Z:return D=qh(D,k.mode,P),D.return=k,D;case S:return D=Hr(D),X(k,D,P)}if(ye(D)||L(D))return D=Ur(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return X(k,Lu(D),P);if(D.$$typeof===_t)return X(k,Ou(k,D),P);Uu(k,D)}return null}function j(k,D,P,K){var ht=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ht!==null?null:E(k,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Y:return P.key===ht?R(k,D,P,K):null;case Z:return P.key===ht?z(k,D,P,K):null;case S:return P=Hr(P),j(k,D,P,K)}if(ye(P)||L(P))return ht!==null?null:F(k,D,P,K,null);if(typeof P.then=="function")return j(k,D,Lu(P),K);if(P.$$typeof===_t)return j(k,D,Ou(k,P),K);Uu(k,P)}return null}function H(k,D,P,K,ht){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(D,k,""+K,ht);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Y:return k=k.get(K.key===null?P:K.key)||null,R(D,k,K,ht);case Z:return k=k.get(K.key===null?P:K.key)||null,z(D,k,K,ht);case S:return K=Hr(K),H(k,D,P,K,ht)}if(ye(K)||L(K))return k=k.get(P)||null,F(D,k,K,ht,null);if(typeof K.then=="function")return H(k,D,P,Lu(K),ht);if(K.$$typeof===_t)return H(k,D,P,Ou(D,K),ht);Uu(D,K)}return null}function at(k,D,P,K){for(var ht=null,Gt=null,lt=D,It=D=0,Lt=null;lt!==null&&It<P.length;It++){lt.index>It?(Lt=lt,lt=null):Lt=lt.sibling;var Kt=j(k,lt,P[It],K);if(Kt===null){lt===null&&(lt=Lt);break}e&&lt&&Kt.alternate===null&&n(k,lt),D=f(Kt,D,It),Gt===null?ht=Kt:Gt.sibling=Kt,Gt=Kt,lt=Lt}if(It===P.length)return r(k,lt),jt&&Qi(k,It),ht;if(lt===null){for(;It<P.length;It++)lt=X(k,P[It],K),lt!==null&&(D=f(lt,D,It),Gt===null?ht=lt:Gt.sibling=lt,Gt=lt);return jt&&Qi(k,It),ht}for(lt=o(lt);It<P.length;It++)Lt=H(lt,k,It,P[It],K),Lt!==null&&(e&&Lt.alternate!==null&&lt.delete(Lt.key===null?It:Lt.key),D=f(Lt,D,It),Gt===null?ht=Lt:Gt.sibling=Lt,Gt=Lt);return e&&lt.forEach(function($s){return n(k,$s)}),jt&&Qi(k,It),ht}function gt(k,D,P,K){if(P==null)throw Error(a(151));for(var ht=null,Gt=null,lt=D,It=D=0,Lt=null,Kt=P.next();lt!==null&&!Kt.done;It++,Kt=P.next()){lt.index>It?(Lt=lt,lt=null):Lt=lt.sibling;var $s=j(k,lt,Kt.value,K);if($s===null){lt===null&&(lt=Lt);break}e&&lt&&$s.alternate===null&&n(k,lt),D=f($s,D,It),Gt===null?ht=$s:Gt.sibling=$s,Gt=$s,lt=Lt}if(Kt.done)return r(k,lt),jt&&Qi(k,It),ht;if(lt===null){for(;!Kt.done;It++,Kt=P.next())Kt=X(k,Kt.value,K),Kt!==null&&(D=f(Kt,D,It),Gt===null?ht=Kt:Gt.sibling=Kt,Gt=Kt);return jt&&Qi(k,It),ht}for(lt=o(lt);!Kt.done;It++,Kt=P.next())Kt=H(lt,k,It,Kt.value,K),Kt!==null&&(e&&Kt.alternate!==null&&lt.delete(Kt.key===null?It:Kt.key),D=f(Kt,D,It),Gt===null?ht=Kt:Gt.sibling=Kt,Gt=Kt);return e&&lt.forEach(function(gb){return n(k,gb)}),jt&&Qi(k,It),ht}function re(k,D,P,K){if(typeof P=="object"&&P!==null&&P.type===nt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Y:t:{for(var ht=P.key;D!==null;){if(D.key===ht){if(ht=P.type,ht===nt){if(D.tag===7){r(k,D.sibling),K=h(D,P.props.children),K.return=k,k=K;break t}}else if(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&Hr(ht)===D.type){r(k,D.sibling),K=h(D,P.props),Xo(K,P),K.return=k,k=K;break t}r(k,D);break}else n(k,D);D=D.sibling}P.type===nt?(K=Ur(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Nu(P.type,P.key,P.props,null,k.mode,K),Xo(K,P),K.return=k,k=K)}return g(k);case Z:t:{for(ht=P.key;D!==null;){if(D.key===ht)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(k,D.sibling),K=h(D,P.children||[]),K.return=k,k=K;break t}else{r(k,D);break}else n(k,D);D=D.sibling}K=qh(P,k.mode,K),K.return=k,k=K}return g(k);case S:return P=Hr(P),re(k,D,P,K)}if(ye(P))return at(k,D,P,K);if(L(P)){if(ht=L(P),typeof ht!="function")throw Error(a(150));return P=ht.call(P),gt(k,D,P,K)}if(typeof P.then=="function")return re(k,D,Lu(P),K);if(P.$$typeof===_t)return re(k,D,Ou(k,P),K);Uu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(k,D.sibling),K=h(D,P),K.return=k,k=K):(r(k,D),K=Hh(P,k.mode,K),K.return=k,k=K),g(k)):r(k,D)}return function(k,D,P,K){try{Yo=0;var ht=re(k,D,P,K);return Oa=null,ht}catch(lt){if(lt===xa||lt===Vu)throw lt;var Gt=Sn(29,lt,null,k.mode);return Gt.lanes=K,Gt.return=k,Gt}}}var Fr=Lg(!0),Ug=Lg(!1),Ms=!1;function ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ks(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Yt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Cu(e),Eg(e,null,r),n}return Iu(e,o,n,r),Cu(e)}function $o(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,So(e,r)}}function sf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var rf=!1;function Jo(){if(rf){var e=Da;if(e!==null)throw e}}function Zo(e,n,r,o){rf=!1;var h=e.updateQueue;Ms=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;g=0,F=z=R=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(kt&j)===j:(o&j)===j){j!==0&&j===Na&&(rf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,gt=E;j=n;var re=r;switch(gt.tag){case 1:if(at=gt.payload,typeof at=="function"){X=at.call(re,X,j);break t}X=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=gt.payload,j=typeof at=="function"?at.call(re,X,j):at,j==null)break t;X=A({},X,j);break t;case 2:Ms=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=H,R=X):F=F.next=H,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(R=X),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),js|=g,e.lanes=g,e.memoizedState=X}}function Pg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function zg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Pg(r[e],n)}var Ma=x(null),Pu=x(0);function jg(e,n){e=ss,et(Pu,e),et(Ma,n),ss=e|n.baseLanes}function af(){et(Pu,ss),et(Ma,Ma.current)}function of(){ss=Pu.current,Q(Ma),Q(Pu)}var An=x(null),Bn=null;function Ls(e){var n=e.alternate;et(Ae,Ae.current&1),et(An,e),Bn===null&&(n===null||Ma.current!==null||n.memoizedState!==null)&&(Bn=e)}function lf(e){et(Ae,Ae.current),et(An,e),Bn===null&&(Bn=e)}function Bg(e){e.tag===22?(et(Ae,Ae.current),et(An,e),Bn===null&&(Bn=e)):Us()}function Us(){et(Ae,Ae.current),et(An,An.current)}function wn(e){Q(An),Bn===e&&(Bn=null),Q(Ae)}var Ae=x(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||md(r)||gd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $i=0,Rt=null,ie=null,Me=null,ju=!1,Va=!1,Gr=!1,Bu=0,Wo=0,ka=null,r1=0;function Ee(){throw Error(a(321))}function uf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!bn(e[r],n[r]))return!1;return!0}function cf(e,n,r,o,h,f){return $i=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?Ap:wf,Gr=!1,f=r(o,h),Gr=!1,Va&&(f=qg(n,r,o,h)),Hg(e),f}function Hg(e){q.H=nl;var n=ie!==null&&ie.next!==null;if($i=0,Me=ie=Rt=null,ju=!1,Wo=0,ka=null,n)throw Error(a(300));e===null||Ve||(e=e.dependencies,e!==null&&xu(e)&&(Ve=!0))}function qg(e,n,r,o){Rt=e;var h=0;do{if(Va&&(ka=null),Wo=0,Va=!1,25<=h)throw Error(a(301));if(h+=1,Me=ie=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=wp,f=n(r,o)}while(Va);return f}function a1(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?tl(n):n,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(Rt.flags|=1024),n}function hf(){var e=Bu!==0;return Bu=0,e}function ff(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function df(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}$i=0,Me=ie=Rt=null,Va=!1,Wo=Bu=0,ka=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Rt.memoizedState=Me=e:Me=Me.next=e,Me}function we(){if(ie===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var n=Me===null?Rt.memoizedState:Me.next;if(n!==null)Me=n,ie=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Me===null?Rt.memoizedState=Me=e:Me=Me.next=e}return Me}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(e){var n=Wo;return Wo+=1,ka===null&&(ka=[]),e=Mg(ka,e,n),n=Rt,(Me===null?n.memoizedState:Me.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Ap:wf),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tl(e);if(e.$$typeof===_t)return Xe(e)}throw Error(a(438,String(e)))}function mf(e){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Hu(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function Ji(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=we();return gf(n,ie,e)}function gf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,F=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(kt&X)===X:($i&X)===X){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Na&&(F=!0);else if(($i&j)===j){z=z.next,j===Na&&(F=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=X,g=f):R=R.next=X,Rt.lanes|=j,js|=j;X=z.action,Gr&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,g=f):R=R.next=j,Rt.lanes|=X,js|=X;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!bn(f,e.memoizedState)&&(Ve=!0,F&&(r=Da,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function pf(e){var n=we(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);bn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Fg(e,n,r){var o=Rt,h=we(),f=jt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!bn((ie||h).memoizedState,r);if(g&&(h.memoizedState=r,Ve=!0),h=h.queue,vf(Qg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Me!==null&&Me.memoizedState.tag&1){if(o.flags|=2048,La(9,{destroy:void 0},Kg.bind(null,o,h,r,n),null),ae===null)throw Error(a(349));f||($i&127)!==0||Gg(o,n,r)}return r}function Gg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=Hu(),Rt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Kg(e,n,r,o){n.value=r,n.getSnapshot=o,Yg(n)&&Xg(e)}function Qg(e,n,r){return r(function(){Yg(n)&&Xg(e)})}function Yg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!bn(e,r)}catch{return!0}}function Xg(e){var n=Lr(e,2);n!==null&&yn(n,e,2)}function yf(e){var n=un();if(typeof e=="function"){var r=e;if(e=r(),Gr){Ie(!0);try{r()}finally{Ie(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},n}function $g(e,n,r,o){return e.baseState=r,gf(e,ie,typeof o=="function"?o:Ji)}function o1(e,n,r,o,h){if(Qu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Jg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Jg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var E=r(h,o),R=q.S;R!==null&&R(g,E),Zg(e,n,E)}catch(z){_f(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=r(h,o),Zg(e,n,f)}catch(z){_f(e,n,z)}}function Zg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Wg(e,n,o)},function(o){return _f(e,n,o)}):Wg(e,n,r)}function Wg(e,n,r){n.status="fulfilled",n.value=r,tp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Jg(e,r)))}function _f(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,tp(n),n=n.next;while(n!==o)}e.action=null}function tp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ep(e,n){return n}function np(e,n){if(jt){var r=ae.formState;if(r!==null){t:{var o=Rt;if(jt){if(le){e:{for(var h=le,f=jn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Hn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){le=Hn(h.nextSibling),o=h.data==="F!";break t}}xs(o)}o=!1}o&&(n=r[0])}}return r=un(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ep,lastRenderedState:n},r.queue=o,r=Tp.bind(null,Rt,o),o.dispatch=r,o=yf(!1),f=Af.bind(null,Rt,!1,o.queue),o=un(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=o1.bind(null,Rt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function ip(e){var n=we();return sp(n,ie,e)}function sp(e,n,r){if(n=gf(e,n,ep)[0],e=Fu(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=tl(n)}catch(g){throw g===xa?Vu:g}else o=n;n=we();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Rt.flags|=2048,La(9,{destroy:void 0},l1.bind(null,h,r),null)),[o,f,e]}function l1(e,n){e.action=n}function rp(e){var n=we(),r=ie;if(r!==null)return sp(n,r,e);we(),n=n.memoizedState,r=we();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function La(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Hu(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function ap(){return we().memoizedState}function Gu(e,n,r,o){var h=un();Rt.flags|=e,h.memoizedState=La(1|n,{destroy:void 0},r,o===void 0?null:o)}function Ku(e,n,r,o){var h=we();o=o===void 0?null:o;var f=h.memoizedState.inst;ie!==null&&o!==null&&uf(o,ie.memoizedState.deps)?h.memoizedState=La(n,f,r,o):(Rt.flags|=e,h.memoizedState=La(1|n,f,r,o))}function op(e,n){Gu(8390656,8,e,n)}function vf(e,n){Ku(2048,8,e,n)}function u1(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Hu(),Rt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function lp(e){var n=we().memoizedState;return u1({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function up(e,n){return Ku(4,2,e,n)}function cp(e,n){return Ku(4,4,e,n)}function hp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function fp(e,n,r){r=r!=null?r.concat([e]):null,Ku(4,4,hp.bind(null,n,e),r)}function Ef(){}function dp(e,n){var r=we();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&uf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function mp(e,n){var r=we();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&uf(n,o[1]))return o[0];if(o=e(),Gr){Ie(!0);try{e()}finally{Ie(!1)}}return r.memoizedState=[o,n],o}function Tf(e,n,r){return r===void 0||($i&1073741824)!==0&&(kt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=gy(),Rt.lanes|=e,js|=e,r)}function gp(e,n,r,o){return bn(r,n)?r:Ma.current!==null?(e=Tf(e,r,o),bn(e,n)||(Ve=!0),e):($i&42)===0||($i&1073741824)!==0&&(kt&261930)===0?(Ve=!0,e.memoizedState=r):(e=gy(),Rt.lanes|=e,js|=e,n)}function pp(e,n,r,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=q.T,E={};q.T=E,Af(e,!1,n,r);try{var R=h(),z=q.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=s1(R,o);el(e,n,F,Cn(e))}else el(e,n,o,Cn(e))}catch(X){el(e,n,{then:function(){},status:"rejected",reason:X},Cn())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),q.T=g}}function c1(){}function bf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=yp(e).queue;pp(e,h,n,ct,r===null?c1:function(){return _p(e),r(o)})}function yp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ct},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function _p(e){var n=yp(e);n.next===null&&(n=e.alternate.memoizedState),el(e,n.next.queue,{},Cn())}function Sf(){return Xe(_l)}function vp(){return we().memoizedState}function Ep(){return we().memoizedState}function h1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Cn();e=Vs(r);var o=ks(n,e,r);o!==null&&(yn(o,n,r),$o(o,n,r)),n={cache:Jh()},e.payload=n;return}n=n.return}}function f1(e,n,r){var o=Cn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Qu(e)?bp(n,r):(r=jh(e,n,r,o),r!==null&&(yn(r,e,o),Sp(r,n,o)))}function Tp(e,n,r){var o=Cn();el(e,n,r,o)}function el(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))bp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,bn(E,g))return Iu(e,n,h,0),ae===null&&Ru(),!1}catch{}if(r=jh(e,n,h,o),r!==null)return yn(r,e,o),Sp(r,n,o),!0}return!1}function Af(e,n,r,o){if(o={lane:2,revertLane:nd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(n)throw Error(a(479))}else n=jh(e,r,o,2),n!==null&&yn(n,e,2)}function Qu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function bp(e,n){Va=ju=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Sp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,So(e,r)}}var nl={readContext:Xe,use:qu,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};nl.useEffectEvent=Ee;var Ap={readContext:Xe,use:qu,useCallback:function(e,n){return un().memoizedState=[e,n===void 0?null:n],e},useContext:Xe,useEffect:op,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Gu(4194308,4,hp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var r=un();n=n===void 0?null:n;var o=e();if(Gr){Ie(!0);try{e()}finally{Ie(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=un();if(r!==void 0){var h=r(n);if(Gr){Ie(!0);try{r(n)}finally{Ie(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=f1.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=un();return e={current:e},n.memoizedState=e},useState:function(e){e=yf(e);var n=e.queue,r=Tp.bind(null,Rt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Ef,useDeferredValue:function(e,n){var r=un();return Tf(r,e,n)},useTransition:function(){var e=yf(!1);return e=pp.bind(null,Rt,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Rt,h=un();if(jt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ae===null)throw Error(a(349));(kt&127)!==0||Gg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,op(Qg.bind(null,o,f,e),[e]),o.flags|=2048,La(9,{destroy:void 0},Kg.bind(null,o,f,r,n),null),r},useId:function(){var e=un(),n=ae.identifierPrefix;if(jt){var r=Ri,o=wi;r=(o&~(1<<32-Vt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Bu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=r1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Sf,useFormState:np,useActionState:np,useOptimistic:function(e){var n=un();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Af.bind(null,Rt,!0,r),r.dispatch=n,[e,n]},useMemoCache:mf,useCacheRefresh:function(){return un().memoizedState=h1.bind(null,Rt)},useEffectEvent:function(e){var n=un(),r={impl:e};return n.memoizedState=r,function(){if((Yt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},wf={readContext:Xe,use:qu,useCallback:dp,useContext:Xe,useEffect:vf,useImperativeHandle:fp,useInsertionEffect:up,useLayoutEffect:cp,useMemo:mp,useReducer:Fu,useRef:ap,useState:function(){return Fu(Ji)},useDebugValue:Ef,useDeferredValue:function(e,n){var r=we();return gp(r,ie.memoizedState,e,n)},useTransition:function(){var e=Fu(Ji)[0],n=we().memoizedState;return[typeof e=="boolean"?e:tl(e),n]},useSyncExternalStore:Fg,useId:vp,useHostTransitionStatus:Sf,useFormState:ip,useActionState:ip,useOptimistic:function(e,n){var r=we();return $g(r,ie,e,n)},useMemoCache:mf,useCacheRefresh:Ep};wf.useEffectEvent=lp;var wp={readContext:Xe,use:qu,useCallback:dp,useContext:Xe,useEffect:vf,useImperativeHandle:fp,useInsertionEffect:up,useLayoutEffect:cp,useMemo:mp,useReducer:pf,useRef:ap,useState:function(){return pf(Ji)},useDebugValue:Ef,useDeferredValue:function(e,n){var r=we();return ie===null?Tf(r,e,n):gp(r,ie.memoizedState,e,n)},useTransition:function(){var e=pf(Ji)[0],n=we().memoizedState;return[typeof e=="boolean"?e:tl(e),n]},useSyncExternalStore:Fg,useId:vp,useHostTransitionStatus:Sf,useFormState:rp,useActionState:rp,useOptimistic:function(e,n){var r=we();return ie!==null?$g(r,ie,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Ep};wp.useEffectEvent=lp;function Rf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var If={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Cn(),h=Vs(o);h.payload=n,r!=null&&(h.callback=r),n=ks(e,h,o),n!==null&&(yn(n,e,o),$o(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Cn(),h=Vs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=ks(e,h,o),n!==null&&(yn(n,e,o),$o(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Cn(),o=Vs(r);o.tag=2,n!=null&&(o.callback=n),n=ks(e,o,r),n!==null&&(yn(n,e,r),$o(n,e,r))}};function Rp(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ho(r,o)||!Ho(h,f):!0}function Ip(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&If.enqueueReplaceState(n,n.state,null)}function Kr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Cp(e){wu(e)}function Np(e){console.error(e)}function Dp(e){wu(e)}function Yu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function xp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(e,n,r){return r=Vs(r),r.tag=3,r.payload={element:null},r.callback=function(){Yu(e,n)},r}function Op(e){return e=Vs(e),e.tag=3,e}function Mp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){xp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){xp(n,r,o),typeof h!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function d1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ca(n,r,h,!0),r=An.current,r!==null){switch(r.tag){case 31:case 13:return Bn===null?ac():r.alternate===null&&Te===0&&(Te=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===ku?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Wf(e,o,h)),!1;case 22:return r.flags|=65536,o===ku?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Wf(e,o,h)),!1}throw Error(a(435,r.tag))}return Wf(e,o,h),ac(),!1}if(jt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Kh&&(e=Error(a(422),{cause:o}),Go(Un(e,r)))):(o!==Kh&&(n=Error(a(423),{cause:o}),Go(Un(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Un(o,r),h=Cf(e.stateNode,o,h),sf(e,h),Te!==4&&(Te=2)),!1;var f=Error(a(520),{cause:o});if(f=Un(f,r),cl===null?cl=[f]:cl.push(f),Te!==4&&(Te=2),n===null)return!0;o=Un(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Cf(r.stateNode,o,e),sf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Bs===null||!Bs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Op(h),Mp(h,e,r,o),sf(r,h),!1}r=r.return}while(r!==null);return!1}var Nf=Error(a(461)),Ve=!1;function $e(e,n,r,o){n.child=e===null?Ug(n,null,r,o):Fr(n,e.child,r,o)}function Vp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return jr(n),o=cf(e,n,r,g,f,h),E=hf(),e!==null&&!Ve?(ff(e,n,h),Zi(e,n,h)):(jt&&E&&Fh(n),n.flags|=1,$e(e,n,o,h),n.child)}function kp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Bh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Lp(e,n,f,o,h)):(e=Nu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Uf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ho,r(g,o)&&e.ref===n.ref)return Zi(e,n,h)}return n.flags|=1,e=Ki(f,o),e.ref=n.ref,e.return=n,n.child=e}function Lp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Ho(f,o)&&e.ref===n.ref)if(Ve=!1,n.pendingProps=o=f,Uf(e,h))(e.flags&131072)!==0&&(Ve=!0);else return n.lanes=e.lanes,Zi(e,n,h)}return Df(e,n,r,o,h)}function Up(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Pp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?jg(n,f):af(),Bg(n);else return o=n.lanes=536870912,Pp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Mu(n,f.cachePool),jg(n,f),Us(),n.memoizedState=null):(e!==null&&Mu(n,null),af(),Us());return $e(e,n,h,r),n.child}function il(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Pp(e,n,r,o,h){var f=Wh();return f=f===null?null:{parent:Oe._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Mu(n,null),af(),Bg(n),e!==null&&Ca(e,n,o,!0),n.childLanes=h,null}function Xu(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function zp(e,n,r){return Fr(n,e.child,null,r),e=Xu(n,n.pendingProps),e.flags|=2,wn(n),n.memoizedState=null,e}function m1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(jt){if(o.mode==="hidden")return e=Xu(n,o),n.lanes=536870912,il(null,e);if(lf(n),(e=le)?(e=Jy(e,jn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ns!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},r=bg(e),r.return=n,n.child=r,Ye=n,le=null)):e=null,e===null)throw xs(n);return n.lanes=536870912,null}return Xu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(lf(n),h)if(n.flags&256)n.flags&=-257,n=zp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ve||Ca(e,n,r,!1),h=(r&e.childLanes)!==0,Ve||h){if(o=ae,o!==null&&(g=Ao(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Lr(e,g),yn(o,e,g),Nf;ac(),n=zp(e,n,r)}else e=f.treeContext,le=Hn(g.nextSibling),Ye=n,jt=!0,Ds=null,jn=!1,e!==null&&wg(n,e),n=Xu(n,o),n.flags|=4096;return n}return e=Ki(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Df(e,n,r,o,h){return jr(n),r=cf(e,n,r,o,void 0,h),o=hf(),e!==null&&!Ve?(ff(e,n,h),Zi(e,n,h)):(jt&&o&&Fh(n),n.flags|=1,$e(e,n,r,h),n.child)}function jp(e,n,r,o,h,f){return jr(n),n.updateQueue=null,r=qg(n,o,r,h),Hg(e),o=hf(),e!==null&&!Ve?(ff(e,n,f),Zi(e,n,f)):(jt&&o&&Fh(n),n.flags|=1,$e(e,n,r,f),n.child)}function Bp(e,n,r,o,h){if(jr(n),n.stateNode===null){var f=Aa,g=r.contextType;typeof g=="object"&&g!==null&&(f=Xe(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ef(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Xe(g):Aa,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Rf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&If.enqueueReplaceState(f,f.state,null),Zo(n,o,f,h),Jo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Kr(r,E);f.props=R;var z=f.context,F=r.contextType;g=Aa,typeof F=="object"&&F!==null&&(g=Xe(F));var X=r.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Ip(n,f,o,g),Ms=!1;var j=n.memoizedState;f.state=j,Zo(n,o,f,h),Jo(),z=n.memoizedState,E||j!==z||Ms?(typeof X=="function"&&(Rf(n,r,X,o),z=n.memoizedState),(R=Ms||Rp(n,r,R,o,j,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,nf(e,n),g=n.memoizedProps,F=Kr(r,g),f.props=F,X=n.pendingProps,j=f.context,z=r.contextType,R=Aa,typeof z=="object"&&z!==null&&(R=Xe(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||j!==R)&&Ip(n,f,o,R),Ms=!1,j=n.memoizedState,f.state=j,Zo(n,o,f,h),Jo();var H=n.memoizedState;g!==X||j!==H||Ms||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof E=="function"&&(Rf(n,r,E,o),H=n.memoizedState),(F=Ms||Rp(n,r,F,o,j,H,R)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,$u(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Fr(n,e.child,null,h),n.child=Fr(n,null,r,h)):$e(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Zi(e,n,h),e}function Hp(e,n,r,o){return Pr(),n.flags|=256,$e(e,n,r,o),n.child}var xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(e){return{baseLanes:e,cachePool:xg()}}function Mf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=In),e}function qp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?Ls(n):Us(),(e=le)?(e=Jy(e,jn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ns!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},r=bg(e),r.return=n,n.child=r,Ye=n,le=null)):e=null,e===null)throw xs(n);return gd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Us(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=Ur(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Of(r),o.childLanes=Mf(e,g,r),n.memoizedState=xf,il(null,o)):(Ls(n),Vf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ls(n),n.flags&=-257,n=kf(e,n,r)):n.memoizedState!==null?(Us(),n.child=e.child,n.flags|=128,n=null):(Us(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=Ur(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Fr(n,e.child,null,r),o=n.child,o.memoizedState=Of(r),o.childLanes=Mf(e,g,r),n.memoizedState=xf,n=il(null,o));else if(Ls(n),gd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Go({value:o,source:null,stack:null}),n=kf(e,n,r)}else if(Ve||Ca(e,n,r,!1),g=(r&e.childLanes)!==0,Ve||g){if(g=ae,g!==null&&(o=Ao(g,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,Lr(e,o),yn(g,e,o),Nf;md(E)||ac(),n=kf(e,n,r)}else md(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,le=Hn(E.nextSibling),Ye=n,jt=!0,Ds=null,jn=!1,e!==null&&wg(n,e),n=Vf(n,o.children),n.flags|=4096);return n}return h?(Us(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Ki(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Ki(z,E):(E=Ur(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,il(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Of(r):(h=E.cachePool,h!==null?(R=Oe._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=xg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Mf(e,g,r),n.memoizedState=xf,il(e.child,o)):(Ls(n),r=e.child,e=r.sibling,r=Ki(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Vf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=Sn(22,e,null,n),e.lanes=0,e}function kf(e,n,r){return Fr(n,e.child,null,r),e=Vf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Fp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Xh(e.return,n,r)}function Lf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Gp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ae.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(Ae,g),$e(e,n,o,r),o=jt?Fo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fp(e,r,n);else if(e.tag===19)Fp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&zu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Lf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Lf(n,!0,r,null,f,o);break;case"together":Lf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Zi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),js|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ca(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Ki(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ki(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Uf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function g1(e,n,r){switch(n.tag){case 3:be(n,n.stateNode.containerInfo),Os(n,Oe,e.memoizedState.cache),Pr();break;case 27:case 5:Pi(n);break;case 4:be(n,n.stateNode.containerInfo);break;case 10:Os(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ls(n),n.flags|=128,null):(r&n.child.childLanes)!==0?qp(e,n,r):(Ls(n),e=Zi(e,n,r),e!==null?e.sibling:null);Ls(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ca(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Gp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Ae,Ae.current),o)break;return null;case 22:return n.lanes=0,Up(e,n,r,n.pendingProps);case 24:Os(n,Oe,e.memoizedState.cache)}return Zi(e,n,r)}function Kp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Uf(e,r)&&(n.flags&128)===0)return Ve=!1,g1(e,n,r);Ve=(e.flags&131072)!==0}else Ve=!1,jt&&(n.flags&1048576)!==0&&Ag(n,Fo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Hr(n.elementType),n.type=e,typeof e=="function")Bh(e)?(o=Kr(e,o),n.tag=1,n=Bp(null,n,e,o,r)):(n.tag=0,n=Df(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Ot){n.tag=11,n=Vp(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=kp(null,n,e,o,r);break t}}throw n=ee(e)||e,Error(a(306,n,""))}}return n;case 0:return Df(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Kr(o,n.pendingProps),Bp(e,n,o,h,r);case 3:t:{if(be(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,nf(e,n),Zo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Os(n,Oe,o),o!==f.cache&&$h(n,[Oe],r,!0),Jo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Hp(e,n,o,r);break t}else if(o!==h){h=Un(Error(a(424)),n),Go(h),n=Hp(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,le=Hn(e.firstChild),Ye=n,jt=!0,Ds=null,jn=!0,r=Ug(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Pr(),o===h){n=Zi(e,n,r);break t}$e(e,n,o,r)}n=n.child}return n;case 26:return $u(e,n),e===null?(r=i_(n.type,null,n.pendingProps,null))?n.memoizedState=r:jt||(r=n.type,e=n.pendingProps,o=dc(Tt.current).createElement(r),o[Ne]=n,o[He]=e,Je(o,r,e),De(o),n.stateNode=o):n.memoizedState=i_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Pi(n),e===null&&jt&&(o=n.stateNode=t_(n.type,n.pendingProps,Tt.current),Ye=n,jn=!0,h=le,Gs(n.type)?(pd=h,le=Hn(o.firstChild)):le=h),$e(e,n,n.pendingProps.children,r),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=o=le)&&(o=G1(o,n.type,n.pendingProps,jn),o!==null?(n.stateNode=o,Ye=n,le=Hn(o.firstChild),jn=!1,h=!0):h=!1),h||xs(n)),Pi(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,hd(h,f)?o=null:g!==null&&hd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=cf(e,n,a1,null,null,r),_l._currentValue=h),$u(e,n),$e(e,n,o,r),n.child;case 6:return e===null&&jt&&((e=r=le)&&(r=K1(r,n.pendingProps,jn),r!==null?(n.stateNode=r,Ye=n,le=null,e=!0):e=!1),e||xs(n)),null;case 13:return qp(e,n,r);case 4:return be(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Fr(n,null,o,r):$e(e,n,o,r),n.child;case 11:return Vp(e,n,n.type,n.pendingProps,r);case 7:return $e(e,n,n.pendingProps,r),n.child;case 8:return $e(e,n,n.pendingProps.children,r),n.child;case 12:return $e(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Os(n,n.type,o.value),$e(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,jr(n),h=Xe(h),o=o(h),n.flags|=1,$e(e,n,o,r),n.child;case 14:return kp(e,n,n.type,n.pendingProps,r);case 15:return Lp(e,n,n.type,n.pendingProps,r);case 19:return Gp(e,n,r);case 31:return m1(e,n,r);case 22:return Up(e,n,r,n.pendingProps);case 24:return jr(n),o=Xe(Oe),e===null?(h=Wh(),h===null&&(h=ae,f=Jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},ef(n),Os(n,Oe,h)):((e.lanes&r)!==0&&(nf(e,n),Zo(n,null,null,r),Jo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Os(n,Oe,o)):(o=f.cache,Os(n,Oe,o),o!==h.cache&&$h(n,[Oe],r,!0))),$e(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Wi(e){e.flags|=4}function Pf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(vy())e.flags|=8192;else throw qr=ku,tf}else e.flags&=-16777217}function Qp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!l_(n))if(vy())e.flags|=8192;else throw qr=ku,tf}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?su():536870912,e.lanes|=n,ja|=n)}function sl(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ue(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function p1(e,n,r){var o=n.pendingProps;switch(Gh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(n),null;case 1:return ue(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Xi(Oe),Nt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ia(n)?Wi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qh())),ue(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Wi(n),f!==null?(ue(n),Qp(n,f)):(ue(n),Pf(n,h,null,o,r))):f?f!==e.memoizedState?(Wi(n),ue(n),Qp(n,f)):(ue(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Wi(n),ue(n),Pf(n,h,e,o,r)),null;case 27:if(ps(n),r=Tt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ue(n),null}e=it.current,Ia(n)?Rg(n):(e=t_(h,o,r),n.stateNode=e,Wi(n))}return ue(n),null;case 5:if(ps(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ue(n),null}if(f=it.current,Ia(n))Rg(n);else{var g=dc(Tt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ne]=n,f[He]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Wi(n)}}return ue(n),Pf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Tt.current,Ia(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Ye,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ne]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||qy(e.nodeValue,r)),e||xs(n,!0)}else e=dc(e).createTextNode(o),e[Ne]=n,n.stateNode=e}return ue(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ia(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ne]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),e=!1}else r=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(wn(n),n):(wn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ue(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ia(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ne]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),h=!1}else h=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(wn(n),n):(wn(n),null)}return wn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Zu(n,n.updateQueue),ue(n),null);case 4:return Nt(),e===null&&ad(n.stateNode.containerInfo),ue(n),null;case 10:return Xi(n.type),ue(n),null;case 19:if(Q(Ae),o=n.memoizedState,o===null)return ue(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)sl(o,!1);else{if(Te!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,sl(o,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Tg(r,e),r=r.sibling;return et(Ae,Ae.current&1|2),jt&&Qi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ke()>ic&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!jt)return ue(n),null}else 2*Ke()-o.renderingStartTime>ic&&r!==536870912&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ke(),e.sibling=null,r=Ae.current,et(Ae,h?r&1|2:r&1),jt&&Qi(n,o.treeForkCount),e):(ue(n),null);case 22:case 23:return wn(n),of(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ue(n),n.subtreeFlags&6&&(n.flags|=8192)):ue(n),r=n.updateQueue,r!==null&&Zu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Q(Br),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Xi(Oe),ue(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function y1(e,n){switch(Gh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Xi(Oe),Nt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ps(n),null;case 31:if(n.memoizedState!==null){if(wn(n),n.alternate===null)throw Error(a(340));Pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(wn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(Ae),null;case 4:return Nt(),null;case 10:return Xi(n.type),null;case 22:case 23:return wn(n),of(),e!==null&&Q(Br),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Xi(Oe),null;case 25:return null;default:return null}}function Yp(e,n){switch(Gh(n),n.tag){case 3:Xi(Oe),Nt();break;case 26:case 27:case 5:ps(n);break;case 4:Nt();break;case 31:n.memoizedState!==null&&wn(n);break;case 13:wn(n);break;case 19:Q(Ae);break;case 10:Xi(n.type);break;case 22:case 23:wn(n),of(),e!==null&&Q(Br);break;case 24:Xi(Oe)}}function rl(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Wt(n,n.return,E)}}function Ps(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=r,z=E;try{z()}catch(F){Wt(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){Wt(n,n.return,F)}}function Xp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{zg(n,r)}catch(o){Wt(e,e.return,o)}}}function $p(e,n,r){r.props=Kr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Wt(e,n,o)}}function al(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Wt(e,n,h)}}function Ii(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Wt(e,n,h)}else r.current=null}function Jp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Wt(e,e.return,h)}}function zf(e,n,r){try{var o=e.stateNode;z1(o,e.type,r,n),o[He]=n}catch(h){Wt(e,e.return,h)}}function Zp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gs(e.type)||e.tag===4}function jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Zp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Xn));else if(o!==4&&(o===27&&Gs(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Bf(e,n,r),e=e.sibling;e!==null;)Bf(e,n,r),e=e.sibling}function Wu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Gs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Wu(e,n,r),e=e.sibling;e!==null;)Wu(e,n,r),e=e.sibling}function Wp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Je(n,o,r),n[Ne]=e,n[He]=r}catch(f){Wt(e,e.return,f)}}var ts=!1,ke=!1,Hf=!1,ty=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function _1(e,n){if(e=e.containerInfo,ud=Ec,e=fg(e),Vh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,R=-1,z=0,F=0,X=e,j=null;e:for(;;){for(var H;X!==r||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(R=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)j=X,X=H;for(;;){if(X===e)break e;if(j===r&&++z===h&&(E=g),j===f&&++F===o&&(R=g),(H=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=H}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(cd={focusedElem:e,selectionRange:r},Ec=!1,Fe=n;Fe!==null;)if(n=Fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Fe=e;else for(;Fe!==null;){switch(n=Fe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var at=Kr(r.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Wt(r,r.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)dd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Fe=e;break}Fe=n.return}}function ey(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ns(e,r),o&4&&rl(5,r);break;case 1:if(ns(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Wt(r,r.return,g)}else{var h=Kr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Wt(r,r.return,g)}}o&64&&Xp(r),o&512&&al(r,r.return);break;case 3:if(ns(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{zg(e,n)}catch(g){Wt(r,r.return,g)}}break;case 27:n===null&&o&4&&Wp(r);case 26:case 5:ns(e,r),n===null&&o&4&&Jp(r),o&512&&al(r,r.return);break;case 12:ns(e,r);break;case 31:ns(e,r),o&4&&sy(e,r);break;case 13:ns(e,r),o&4&&ry(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=I1.bind(null,r),Q1(e,r))));break;case 22:if(o=r.memoizedState!==null||ts,!o){n=n!==null&&n.memoizedState!==null||ke,h=ts;var f=ke;ts=o,(ke=n)&&!f?is(e,r,(r.subtreeFlags&8772)!==0):ns(e,r),ts=h,ke=f}break;case 30:break;default:ns(e,r)}}function ny(e){var n=e.alternate;n!==null&&(e.alternate=null,ny(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ca(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,dn=!1;function es(e,n,r){for(r=r.child;r!==null;)iy(e,n,r),r=r.sibling}function iy(e,n,r){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(fe,r)}catch{}switch(r.tag){case 26:ke||Ii(r,n),es(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ke||Ii(r,n);var o=me,h=dn;Gs(r.type)&&(me=r.stateNode,dn=!1),es(e,n,r),gl(r.stateNode),me=o,dn=h;break;case 5:ke||Ii(r,n);case 6:if(o=me,h=dn,me=null,es(e,n,r),me=o,dn=h,me!==null)if(dn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(r.stateNode)}catch(f){Wt(r,n,f)}else try{me.removeChild(r.stateNode)}catch(f){Wt(r,n,f)}break;case 18:me!==null&&(dn?(e=me,Xy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ya(e)):Xy(me,r.stateNode));break;case 4:o=me,h=dn,me=r.stateNode.containerInfo,dn=!0,es(e,n,r),me=o,dn=h;break;case 0:case 11:case 14:case 15:Ps(2,r,n),ke||Ps(4,r,n),es(e,n,r);break;case 1:ke||(Ii(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&$p(r,n,o)),es(e,n,r);break;case 21:es(e,n,r);break;case 22:ke=(o=ke)||r.memoizedState!==null,es(e,n,r),ke=o;break;default:es(e,n,r)}}function sy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ya(e)}catch(r){Wt(n,n.return,r)}}}function ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ya(e)}catch(r){Wt(n,n.return,r)}}function v1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ty),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ty),n;default:throw Error(a(435,e.tag))}}function tc(e,n){var r=v1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=C1.bind(null,e,o);o.then(h,h)}})}function mn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Gs(E.type)){me=E.stateNode,dn=!1;break t}break;case 5:me=E.stateNode,dn=!1;break t;case 3:case 4:me=E.stateNode.containerInfo,dn=!0;break t}E=E.return}if(me===null)throw Error(a(160));iy(f,g,h),me=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ay(n,e),n=n.sibling}var ei=null;function ay(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(n,e),gn(e),o&4&&(Ps(3,e,e.return),rl(3,e),Ps(5,e,e.return));break;case 1:mn(n,e),gn(e),o&512&&(ke||r===null||Ii(r,r.return)),o&64&&ts&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ei;if(mn(n,e),gn(e),o&512&&(ke||r===null||Ii(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[di]||f[Ne]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Je(f,o,r),f[Ne]=e,De(f),o=f;break t;case"link":var g=a_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Je(f,o,r),h.head.appendChild(f);break;case"meta":if(g=a_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Je(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ne]=e,De(f),o=f}e.stateNode=o}else o_(h,e.type,e.stateNode);else e.stateNode=r_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?o_(h,e.type,e.stateNode):r_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&zf(e,e.memoizedProps,r.memoizedProps)}break;case 27:mn(n,e),gn(e),o&512&&(ke||r===null||Ii(r,r.return)),r!==null&&o&4&&zf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(mn(n,e),gn(e),o&512&&(ke||r===null||Ii(r,r.return)),e.flags&32){h=e.stateNode;try{fn(h,"")}catch(at){Wt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,zf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Hf=!0);break;case 6:if(mn(n,e),gn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(at){Wt(e,e.return,at)}}break;case 3:if(pc=null,h=ei,ei=mc(n.containerInfo),mn(n,e),ei=h,gn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ya(n.containerInfo)}catch(at){Wt(e,e.return,at)}Hf&&(Hf=!1,oy(e));break;case 4:o=ei,ei=mc(e.stateNode.containerInfo),mn(n,e),gn(e),ei=o;break;case 12:mn(n,e),gn(e);break;case 31:mn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 13:mn(n,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(nc=Ke()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=ts,F=ke;if(ts=z||h,ke=F||R,mn(n,e),ke=F,ts=z,gn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||ts||ke||Qr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Wt(R,R.return,at)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Wt(R,R.return,at)}}}else if(n.tag===18){if(r===null){R=n;try{var H=R.stateNode;h?$y(H,!0):$y(R.stateNode,!1)}catch(at){Wt(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,tc(e,r))));break;case 19:mn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 30:break;case 21:break;default:mn(n,e),gn(e)}}function gn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Zp(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=jf(e);Wu(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(fn(g,""),r.flags&=-33);var E=jf(e);Wu(e,E,g);break;case 3:case 4:var R=r.stateNode.containerInfo,z=jf(e);Bf(e,z,R);break;default:throw Error(a(161))}}catch(F){Wt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function oy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;oy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ns(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ey(e,n.alternate,n),n=n.sibling}function Qr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ps(4,n,n.return),Qr(n);break;case 1:Ii(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&$p(n,n.return,r),Qr(n);break;case 27:gl(n.stateNode);case 26:case 5:Ii(n,n.return),Qr(n);break;case 22:n.memoizedState===null&&Qr(n);break;case 30:Qr(n);break;default:Qr(n)}e=e.sibling}}function is(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:is(h,f,r),rl(4,f);break;case 1:if(is(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Wt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Pg(R[h],E)}catch(z){Wt(o,o.return,z)}}r&&g&64&&Xp(f),al(f,f.return);break;case 27:Wp(f);case 26:case 5:is(h,f,r),r&&o===null&&g&4&&Jp(f),al(f,f.return);break;case 12:is(h,f,r);break;case 31:is(h,f,r),r&&g&4&&sy(h,f);break;case 13:is(h,f,r),r&&g&4&&ry(h,f);break;case 22:f.memoizedState===null&&is(h,f,r),al(f,f.return);break;case 30:break;default:is(h,f,r)}n=n.sibling}}function qf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Ko(r))}function Ff(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ko(e))}function ni(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ly(e,n,r,o),n=n.sibling}function ly(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ni(e,n,r,o),h&2048&&rl(9,n);break;case 1:ni(e,n,r,o);break;case 3:ni(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ko(e)));break;case 12:if(h&2048){ni(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Wt(n,n.return,R)}}else ni(e,n,r,o);break;case 31:ni(e,n,r,o);break;case 13:ni(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ni(e,n,r,o):ol(e,n):f._visibility&2?ni(e,n,r,o):(f._visibility|=2,Ua(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&qf(g,n);break;case 24:ni(e,n,r,o),h&2048&&Ff(n.alternate,n);break;default:ni(e,n,r,o)}}function Ua(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,R=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ua(f,g,E,R,h),rl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ua(f,g,E,R,h):ol(f,g):(F._visibility|=2,Ua(f,g,E,R,h)),h&&z&2048&&qf(g.alternate,g);break;case 24:Ua(f,g,E,R,h),h&&z&2048&&Ff(g.alternate,g);break;default:Ua(f,g,E,R,h)}n=n.sibling}}function ol(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:ol(r,o),h&2048&&qf(o.alternate,o);break;case 24:ol(r,o),h&2048&&Ff(o.alternate,o);break;default:ol(r,o)}n=n.sibling}}var ll=8192;function Pa(e,n,r){if(e.subtreeFlags&ll)for(e=e.child;e!==null;)uy(e,n,r),e=e.sibling}function uy(e,n,r){switch(e.tag){case 26:Pa(e,n,r),e.flags&ll&&e.memoizedState!==null&&rb(r,ei,e.memoizedState,e.memoizedProps);break;case 5:Pa(e,n,r);break;case 3:case 4:var o=ei;ei=mc(e.stateNode.containerInfo),Pa(e,n,r),ei=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ll,ll=16777216,Pa(e,n,r),ll=o):Pa(e,n,r));break;default:Pa(e,n,r)}}function cy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ul(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Fe=o,fy(o,e)}cy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hy(e),e=e.sibling}function hy(e){switch(e.tag){case 0:case 11:case 15:ul(e),e.flags&2048&&Ps(9,e,e.return);break;case 3:ul(e);break;case 12:ul(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):ul(e);break;default:ul(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Fe=o,fy(o,e)}cy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ps(8,n,n.return),ec(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function fy(e,n){for(;Fe!==null;){var r=Fe;switch(r.tag){case 0:case 11:case 15:Ps(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ko(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Fe=o;else t:for(r=e;Fe!==null;){o=Fe;var h=o.sibling,f=o.return;if(ny(o),o===r){Fe=null;break t}if(h!==null){h.return=f,Fe=h;break t}Fe=f}}}var E1={getCacheForType:function(e){var n=Xe(Oe),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Xe(Oe).controller.signal}},T1=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ae=null,Dt=null,kt=0,Zt=0,Rn=null,zs=!1,za=!1,Gf=!1,ss=0,Te=0,js=0,Yr=0,Kf=0,In=0,ja=0,cl=null,pn=null,Qf=!1,nc=0,dy=0,ic=1/0,sc=null,Bs=null,Pe=0,Hs=null,Ba=null,rs=0,Yf=0,Xf=null,my=null,hl=0,$f=null;function Cn(){return(Yt&2)!==0&&kt!==0?kt&-kt:q.T!==null?nd():ru()}function gy(){if(In===0)if((kt&536870912)===0||jt){var e=Bi;Bi<<=1,(Bi&3932160)===0&&(Bi=262144),In=e}else In=536870912;return e=An.current,e!==null&&(e.flags|=32),In}function yn(e,n,r){(e===ae&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(Ha(e,0),qs(e,kt,In,!1)),br(e,r),((Yt&2)===0||e!==ae)&&(e===ae&&((Yt&2)===0&&(Yr|=r),Te===4&&qs(e,kt,In,!1)),Ci(e))}function py(e,n,r){if((Yt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Kn(e,n),h=o?A1(e,n):Zf(e,n,!0),f=o;do{if(h===0){za&&!o&&qs(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!b1(r)){h=Zf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=cl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ha(E,g).flags|=256),g=Zf(E,g,!1),g!==2){if(Gf&&!R){E.errorRecoveryDisabledLanes|=f,Yr|=f,h=4;break t}f=pn,pn=h,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ha(e,0),qs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:qs(o,n,In,!zs);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-Ke(),10<h)){if(qs(o,n,In,!zs),ci(o,0,!0)!==0)break t;rs=n,o.timeoutHandle=Qy(yy.bind(null,o,r,pn,sc,Qf,n,In,Yr,ja,zs,f,"Throttled",-0,0),h);break t}yy(o,r,pn,sc,Qf,n,In,Yr,ja,zs,f,null,-0,0)}}break}while(!0);Ci(e)}function yy(e,n,r,o,h,f,g,E,R,z,F,X,j,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},uy(n,f,X);var at=(f&62914560)===f?nc-Ke():(f&4194048)===f?dy-Ke():0;if(at=ab(X,at),at!==null){rs=f,e.cancelPendingCommit=at(wy.bind(null,e,n,f,r,o,h,g,E,R,F,X,null,j,H)),qs(e,f,g,!z);return}}wy(e,n,f,r,o,h,g,E,R)}function b1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!bn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qs(e,n,r,o){n&=~Kf,n&=~Yr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Vt(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&Sr(e,r,n)}function rc(){return(Yt&6)===0?(fl(0),!1):!0}function Jf(){if(Dt!==null){if(Zt===0)var e=Dt.return;else e=Dt,Yi=zr=null,df(e),Oa=null,Yo=0,e=Dt;for(;e!==null;)Yp(e.alternate,e),e=e.return;Dt=null}}function Ha(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,H1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),rs=0,Jf(),ae=e,Dt=r=Ki(e.current,null),kt=n,Zt=0,Rn=null,zs=!1,za=Kn(e,n),Gf=!1,ja=In=Kf=Yr=js=Te=0,pn=cl=null,Qf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Vt(o),f=1<<h;n|=e[h],o&=~f}return ss=n,Ru(),r}function _y(e,n){Rt=null,q.H=nl,n===xa||n===Vu?(n=Vg(),Zt=3):n===tf?(n=Vg(),Zt=4):Zt=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,Dt===null&&(Te=1,Yu(e,Un(n,e.current)))}function vy(){var e=An.current;return e===null?!0:(kt&4194048)===kt?Bn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===Bn:!1}function Ey(){var e=q.H;return q.H=nl,e===null?nl:e}function Ty(){var e=q.A;return q.A=E1,e}function ac(){Te=4,zs||(kt&4194048)!==kt&&An.current!==null||(za=!0),(js&134217727)===0&&(Yr&134217727)===0||ae===null||qs(ae,kt,In,!1)}function Zf(e,n,r){var o=Yt;Yt|=2;var h=Ey(),f=Ty();(ae!==e||kt!==n)&&(sc=null,Ha(e,n)),n=!1;var g=Te;t:do try{if(Zt!==0&&Dt!==null){var E=Dt,R=Rn;switch(Zt){case 8:Jf(),g=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var z=Zt;if(Zt=0,Rn=null,qa(e,E,R,z),r&&za){g=0;break t}break;default:z=Zt,Zt=0,Rn=null,qa(e,E,R,z)}}S1(),g=Te;break}catch(F){_y(e,F)}while(!0);return n&&e.shellSuspendCounter++,Yi=zr=null,Yt=o,q.H=h,q.A=f,Dt===null&&(ae=null,kt=0,Ru()),g}function S1(){for(;Dt!==null;)by(Dt)}function A1(e,n){var r=Yt;Yt|=2;var o=Ey(),h=Ty();ae!==e||kt!==n?(sc=null,ic=Ke()+500,Ha(e,n)):za=Kn(e,n);t:do try{if(Zt!==0&&Dt!==null){n=Dt;var f=Rn;e:switch(Zt){case 1:Zt=0,Rn=null,qa(e,n,f,1);break;case 2:case 9:if(Og(f)){Zt=0,Rn=null,Sy(n);break}n=function(){Zt!==2&&Zt!==9||ae!==e||(Zt=7),Ci(e)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Og(f)?(Zt=0,Rn=null,Sy(n)):(Zt=0,Rn=null,qa(e,n,f,7));break;case 5:var g=null;switch(Dt.tag){case 26:g=Dt.memoizedState;case 5:case 27:var E=Dt;if(g?l_(g):E.stateNode.complete){Zt=0,Rn=null;var R=E.sibling;if(R!==null)Dt=R;else{var z=E.return;z!==null?(Dt=z,oc(z)):Dt=null}break e}}Zt=0,Rn=null,qa(e,n,f,5);break;case 6:Zt=0,Rn=null,qa(e,n,f,6);break;case 8:Jf(),Te=6;break t;default:throw Error(a(462))}}w1();break}catch(F){_y(e,F)}while(!0);return Yi=zr=null,q.H=o,q.A=h,Yt=r,Dt!==null?0:(ae=null,kt=0,Ru(),Te)}function w1(){for(;Dt!==null&&!bo();)by(Dt)}function by(e){var n=Kp(e.alternate,e,ss);e.memoizedProps=e.pendingProps,n===null?oc(e):Dt=n}function Sy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=jp(r,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=jp(r,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:df(n);default:Yp(r,n),n=Dt=Tg(n,ss),n=Kp(r,n,ss)}e.memoizedProps=e.pendingProps,n===null?oc(e):Dt=n}function qa(e,n,r,o){Yi=zr=null,df(n),Oa=null,Yo=0;var h=n.return;try{if(d1(e,h,n,r,kt)){Te=1,Yu(e,Un(r,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;Te=1,Yu(e,Un(r,e.current)),Dt=null;return}n.flags&32768?(jt||o===1?e=!0:za||(kt&536870912)!==0?e=!1:(zs=e=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ay(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){Ay(n,zs);return}e=n.return;var r=p1(n.alternate,n,ss);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);Te===0&&(Te=5)}function Ay(e,n){do{var r=y1(e.alternate,e);if(r!==null){r.flags&=32767,Dt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=r}while(e!==null);Te=6,Dt=null}function wy(e,n,r,o,h,f,g,E,R){e.cancelPendingCommit=null;do lc();while(Pe!==0);if((Yt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=zh,Dh(e,r,f,g,E,R),e===ae&&(Dt=ae=null,kt=0),Ba=n,Hs=e,rs=r,Yf=f,Xf=h,my=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,N1(G,function(){return Dy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=tt.p,tt.p=2,g=Yt,Yt|=4;try{_1(e,n,r)}finally{Yt=g,tt.p=h,q.T=o}}Pe=1,Ry(),Iy(),Cy()}}function Ry(){if(Pe===1){Pe=0;var e=Hs,n=Ba,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var o=tt.p;tt.p=2;var h=Yt;Yt|=4;try{ay(n,e);var f=cd,g=fg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&hg(E.ownerDocument.documentElement,E)){if(R!==null&&Vh(E)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var H=j.getSelection(),at=E.textContent.length,gt=Math.min(R.start,at),re=R.end===void 0?gt:Math.min(R.end,at);!H.extend&&gt>re&&(g=re,re=gt,gt=g);var k=cg(E,gt),D=cg(E,re);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=X.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),gt>re?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ec=!!ud,cd=ud=null}finally{Yt=h,tt.p=o,q.T=r}}e.current=n,Pe=2}}function Iy(){if(Pe===2){Pe=0;var e=Hs,n=Ba,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var o=tt.p;tt.p=2;var h=Yt;Yt|=4;try{ey(e,n.alternate,n)}finally{Yt=h,tt.p=o,q.T=r}}Pe=3}}function Cy(){if(Pe===4||Pe===3){Pe=0,la();var e=Hs,n=Ba,r=rs,o=my;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,Ba=Hs=null,Ny(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Bs=null),Hi(r),n=n.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(fe,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=tt.p,tt.p=2,q.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{q.T=n,tt.p=h}}(rs&3)!==0&&lc(),Ci(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===$f?hl++:(hl=0,$f=e):hl=0,fl(0)}}function Ny(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ko(n)))}function lc(){return Ry(),Iy(),Cy(),Dy()}function Dy(){if(Pe!==5)return!1;var e=Hs,n=Yf;Yf=0;var r=Hi(rs),o=q.T,h=tt.p;try{tt.p=32>r?32:r,q.T=null,r=Xf,Xf=null;var f=Hs,g=rs;if(Pe=0,Ba=Hs=null,rs=0,(Yt&6)!==0)throw Error(a(331));var E=Yt;if(Yt|=4,hy(f.current),ly(f,f.current,g,r),Yt=E,fl(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(fe,f)}catch{}return!0}finally{tt.p=h,q.T=o,Ny(e,n)}}function xy(e,n,r){n=Un(r,n),n=Cf(e.stateNode,n,2),e=ks(e,n,2),e!==null&&(br(e,2),Ci(e))}function Wt(e,n,r){if(e.tag===3)xy(e,e,r);else for(;n!==null;){if(n.tag===3){xy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Bs===null||!Bs.has(o))){e=Un(r,e),r=Op(2),o=ks(n,r,2),o!==null&&(Mp(r,o,n,e),br(o,2),Ci(o));break}}n=n.return}}function Wf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new T1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Gf=!0,h.add(r),e=R1.bind(null,e,n,r),n.then(e,e))}function R1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ae===e&&(kt&r)===r&&(Te===4||Te===3&&(kt&62914560)===kt&&300>Ke()-nc?(Yt&2)===0&&Ha(e,0):Kf|=r,ja===kt&&(ja=0)),Ci(e)}function Oy(e,n){n===0&&(n=su()),e=Lr(e,n),e!==null&&(br(e,n),Ci(e))}function I1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Oy(e,r)}function C1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Oy(e,r)}function N1(e,n){return ve(e,n)}var uc=null,Fa=null,td=!1,cc=!1,ed=!1,Fs=0;function Ci(e){e!==Fa&&e.next===null&&(Fa===null?uc=Fa=e:Fa=Fa.next=e),cc=!0,td||(td=!0,x1())}function fl(e,n){if(!ed&&cc){ed=!0;do for(var r=!1,o=uc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Vt(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Ly(o,f))}else f=kt,f=ci(o,o===ae?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Kn(o,f)||(r=!0,Ly(o,f));o=o.next}while(r);ed=!1}}function D1(){My()}function My(){cc=td=!1;var e=0;Fs!==0&&B1()&&(e=Fs);for(var n=Ke(),r=null,o=uc;o!==null;){var h=o.next,f=Vy(o,n);f===0?(o.next=null,r===null?uc=h:r.next=h,h===null&&(Fa=r)):(r=o,(e!==0||(f&3)!==0)&&(cc=!0)),o=h}Pe!==0&&Pe!==5||fl(e),Fs!==0&&(Fs=0)}function Vy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Vt(f),E=1<<g,R=h[g];R===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Nh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=ae,r=kt,r=ci(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&oi(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Kn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&oi(o),Hi(r)){case 2:case 8:r=vn;break;case 32:r=G;break;case 268435456:r=bt;break;default:r=G}return o=ky.bind(null,e),r=ve(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&oi(o),e.callbackPriority=2,e.callbackNode=null,2}function ky(e,n){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(lc()&&e.callbackNode!==r)return null;var o=kt;return o=ci(e,e===ae?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(py(e,o,n),Vy(e,Ke()),e.callbackNode!=null&&e.callbackNode===r?ky.bind(null,e):null)}function Ly(e,n){if(lc())return null;py(e,n,!0)}function x1(){q1(function(){(Yt&6)!==0?ve(vs,D1):My()})}function nd(){if(Fs===0){var e=Na;e===0&&(e=xn,xn<<=1,(xn&261888)===0&&(xn=256)),Fs=e}return Fs}function Uy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ma(""+e)}function Py(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function O1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Uy((h[He]||null).action),g=o.submitter;g&&(n=(n=g[He]||null)?Uy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ti("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fs!==0){var R=g?Py(h,g):new FormData(h);bf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Py(h,g):new FormData(h),bf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var id=0;id<Ph.length;id++){var sd=Ph[id],M1=sd.toLowerCase(),V1=sd[0].toUpperCase()+sd.slice(1);ti(M1,"on"+V1)}ti(gg,"onAnimationEnd"),ti(pg,"onAnimationIteration"),ti(yg,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti($T,"onTransitionRun"),ti(JT,"onTransitionStart"),ti(ZT,"onTransitionCancel"),ti(_g,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function zy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=R}}}}function xt(e,n){var r=n[ua];r===void 0&&(r=n[ua]=new Set);var o=e+"__bubble";r.has(o)||(jy(n,e,2,!1),r.add(o))}function rd(e,n,r){var o=0;n&&(o|=4),jy(r,e,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[hc]){e[hc]=!0,wo.forEach(function(r){r!=="selectionchange"&&(k1.has(r)||rd(r,!1,e),rd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,rd("selectionchange",!1,n))}}function jy(e,n,r,o){switch(g_(n)){case 2:var h=ub;break;case 8:h=cb;break;default:h=Td}r=h.bind(null,n,r,e),h=void 0,!Cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function od(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=mi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}ws(function(){var z=f,F=Mn(r),X=[];t:{var j=vg.get(e);if(j!==void 0){var H=Ti,at=e;switch(e){case"keypress":if(Dr(r)===0)break t;case"keydown":case"keyup":H=bu;break;case"focusin":at="focus",H=Or;break;case"focusout":at="blur",H=Or;break;case"beforeblur":case"afterblur":H=Or;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case gg:case pg:case yg:H=gu;break;case _g:H=T;break;case"scroll":case"scrollend":H=Uo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Gi;break;case"toggle":case"beforetoggle":H=wt}var gt=(n&4)!==0,re=!gt&&(e==="scroll"||e==="scrollend"),k=gt?j!==null?j+"Capture":null:j;gt=[];for(var D=z,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=$n(D,k),K!=null&&gt.push(ml(D,K,P))),re)break;D=D.return}0<gt.length&&(j=new H(j,at,null,r,F),X.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&r!==Vo&&(at=r.relatedTarget||r.fromElement)&&(mi(at)||at[fi]))break t;if((H||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,H?(at=r.relatedTarget||r.toElement,H=z,at=at?mi(at):null,at!==null&&(re=c(at),gt=at.tag,at!==re||gt!==5&&gt!==27&&gt!==6)&&(at=null)):(H=null,at=z),H!==at)){if(gt=Po,K="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Gi,K="onPointerLeave",k="onPointerEnter",D="pointer"),re=H==null?j:En(H),P=at==null?j:En(at),j=new gt(K,D+"leave",H,r,F),j.target=re,j.relatedTarget=P,K=null,mi(F)===z&&(gt=new gt(k,D+"enter",at,r,F),gt.target=P,gt.relatedTarget=re,K=gt),re=K,H&&at)e:{for(gt=L1,k=H,D=at,P=0,K=k;K;K=gt(K))P++;K=0;for(var ht=D;ht;ht=gt(ht))K++;for(;0<P-K;)k=gt(k),P--;for(;0<K-P;)D=gt(D),K--;for(;P--;){if(k===D||D!==null&&k===D.alternate){gt=k;break e}k=gt(k),D=gt(D)}gt=null}else gt=null;H!==null&&By(X,j,H,gt,!1),at!==null&&re!==null&&By(X,re,at,gt,!0)}}t:{if(j=z?En(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Gt=sg;else if(ng(j))if(rg)Gt=QT;else{Gt=GT;var lt=FT}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&da(z.elementType)&&(Gt=sg):Gt=KT;if(Gt&&(Gt=Gt(e,z))){ig(X,Gt,r,F);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&xo(j,"number",j.value)}switch(lt=z?En(z):window,e){case"focusin":(ng(lt)||lt.contentEditable==="true")&&(Ta=lt,kh=z,qo=null);break;case"focusout":qo=kh=Ta=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,dg(X,r,F);break;case"selectionchange":if(XT)break;case"keydown":case"keyup":dg(X,r,F)}var It;if(Qt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Ea?Mr(e,r)&&(Lt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Lt="onCompositionStart");Lt&&(Ai&&r.locale!=="ko"&&(Ea||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Ea&&(It=Lo()):(Ei=F,ko="value"in Ei?Ei.value:Ei.textContent,Ea=!0)),lt=fc(z,Lt),0<lt.length&&(Lt=new Si(Lt,e,null,r,F),X.push({event:Lt,listeners:lt}),It?Lt.data=It:(It=va(r),It!==null&&(Lt.data=It)))),(It=kn?jT(e,r):BT(e,r))&&(Lt=fc(z,"onBeforeInput"),0<Lt.length&&(lt=new Si("onBeforeInput","beforeinput",null,r,F),X.push({event:lt,listeners:Lt}),lt.data=It)),O1(X,e,z,r,F)}zy(X,n)})}function ml(e,n,r){return{instance:e,listener:n,currentTarget:r}}function fc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=$n(e,r),h!=null&&o.unshift(ml(e,h,f)),h=$n(e,n),h!=null&&o.push(ml(e,h,f))),e.tag===3)return o;e=e.return}return[]}function L1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function By(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=$n(r,f),z!=null&&g.unshift(ml(r,z,R))):h||(z=$n(r,f),z!=null&&g.push(ml(r,z,R)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var U1=/\r\n?/g,P1=/\u0000|\uFFFD/g;function Hy(e){return(typeof e=="string"?e:""+e).replace(U1,`
`).replace(P1,"")}function qy(e,n){return n=Hy(n),Hy(e)===n}function se(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||fn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&fn(e,""+o);break;case"className":Tn(e,"class",o);break;case"tabIndex":Tn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(e,r,o);break;case"style":Mo(e,o,f);break;case"data":if(n!=="object"){Tn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ma(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&se(e,n,"name",h.name,h,null),se(e,n,"formEncType",h.formEncType,h,null),se(e,n,"formMethod",h.formMethod,h,null),se(e,n,"formTarget",h.formTarget,h,null)):(se(e,n,"encType",h.encType,h,null),se(e,n,"method",h.method,h,null),se(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ma(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Xn);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ma(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),ha(e,"popover",o);break;case"xlinkActuate":xe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ha(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=fu.get(r)||r,ha(e,r,o))}}function ld(e,n,r,o,h,f){switch(r){case"style":Mo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?fn(e,o):(typeof o=="number"||typeof o=="bigint")&&fn(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[He]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ha(e,r,o)}}}function Je(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:se(e,n,f,g,r,null)}}h&&se(e,n,"srcSet",r.srcSet,r,null),o&&se(e,n,"src",r.src,r,null);return;case"input":xt("invalid",e);var E=f=g=h=null,R=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:se(e,n,o,F,r,null)}}uu(e,f,E,R,z,g,h,!1);return;case"select":xt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:se(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?Ts(e,!!o,n,!1):r!=null&&Ts(e,!!o,r,!0);return;case"textarea":xt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:se(e,n,g,E,r,null)}bs(e,o,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":se(e,n,R,o,r,null));return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<dl.length;o++)xt(dl[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:se(e,n,z,o,r,null)}return;default:if(da(n)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&ld(e,n,F,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&se(e,n,E,o,r,null))}function z1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,F=null;for(H in r){var X=r[H];if(r.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(H)||se(e,n,H,null,o,X)}}for(var j in o){var H=o[j];if(X=r[j],o.hasOwnProperty(j)&&(H!=null||X!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&se(e,n,j,H,o,X)}}fa(e,g,E,R,z,F,f,h);return;case"select":H=g=E=j=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:o.hasOwnProperty(f)||se(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&se(e,n,h,f,o,R)}n=E,r=g,o=H,j!=null?Ts(e,!!r,j,!1):!!o!=!!r&&(n!=null?Ts(e,!!r,n,!0):Ts(e,!!r,r?[]:"",!1));return;case"textarea":H=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:se(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&se(e,n,g,h,o,f)}cu(e,j,H);return;case"option":for(var at in r)j=r[at],r.hasOwnProperty(at)&&j!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:se(e,n,at,null,o,j));for(R in o)j=o[R],H=r[R],o.hasOwnProperty(R)&&j!==H&&(j!=null||H!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":se(e,n,R,j,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)j=r[gt],r.hasOwnProperty(gt)&&j!=null&&!o.hasOwnProperty(gt)&&se(e,n,gt,null,o,j);for(z in o)if(j=o[z],H=r[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:se(e,n,z,j,o,H)}return;default:if(da(n)){for(var re in r)j=r[re],r.hasOwnProperty(re)&&j!==void 0&&!o.hasOwnProperty(re)&&ld(e,n,re,void 0,o,j);for(F in o)j=o[F],H=r[F],!o.hasOwnProperty(F)||j===H||j===void 0&&H===void 0||ld(e,n,F,j,o,H);return}}for(var k in r)j=r[k],r.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&se(e,n,k,null,o,j);for(X in o)j=o[X],H=r[X],!o.hasOwnProperty(X)||j===H||j==null&&H==null||se(e,n,X,j,o,H)}function Fy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function j1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Fy(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],z=R.startTime;if(z>E)break;var F=R.transferSize,X=R.initiatorType;F&&Fy(X)&&(R=R.responseEnd,g+=F*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ud=null,cd=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function Gy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ky(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function B1(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var Qy=typeof setTimeout=="function"?setTimeout:void 0,H1=typeof clearTimeout=="function"?clearTimeout:void 0,Yy=typeof Promise=="function"?Promise:void 0,q1=typeof queueMicrotask=="function"?queueMicrotask:typeof Yy<"u"?function(e){return Yy.resolve(null).then(e).catch(F1)}:Qy;function F1(e){setTimeout(function(){throw e})}function Gs(e){return e==="head"}function Xy(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ya(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")gl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,gl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[di]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&gl(e.ownerDocument.body);r=h}while(r);Ya(n)}function $y(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":dd(r),ca(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function G1(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[di])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Hn(e.nextSibling),e===null)break}return null}function K1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Hn(e.nextSibling),e===null))return null;return e}function Jy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Hn(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$?"||e.data==="$~"}function gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Q1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Hn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var pd=null;function Zy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Hn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Wy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function t_(e,n,r){switch(n=dc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function gl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ca(e)}var qn=new Map,e_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var as=tt.d;tt.d={f:Y1,r:X1,D:$1,C:J1,L:Z1,m:W1,X:eb,S:tb,M:nb};function Y1(){var e=as.f(),n=rc();return e||n}function X1(e){var n=On(e);n!==null&&n.tag===5&&n.type==="form"?_p(n):as.r(e)}var Ga=typeof document>"u"?null:document;function n_(e,n,r){var o=Ga;if(o&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),e_.has(h)||(e_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Je(n,"link",e),De(n),o.head.appendChild(n)))}}function $1(e){as.D(e),n_("dns-prefetch",e,null)}function J1(e,n){as.C(e,n),n_("preconnect",e,n)}function Z1(e,n,r){as.L(e,n,r);var o=Ga;if(o&&e&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+hn(r.imageSizes)+'"]')):h+='[href="'+hn(e)+'"]';var f=h;switch(n){case"style":f=Ka(e);break;case"script":f=Qa(e)}qn.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),qn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(pl(f))||n==="script"&&o.querySelector(yl(f))||(n=o.createElement("link"),Je(n,"link",e),De(n),o.head.appendChild(n)))}}function W1(e,n){as.m(e,n);var r=Ga;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Qa(e)}if(!qn.has(f)&&(e=A({rel:"modulepreload",href:e},n),qn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(yl(f)))return}o=r.createElement("link"),Je(o,"link",e),De(o),r.head.appendChild(o)}}}function tb(e,n,r){as.S(e,n,r);var o=Ga;if(o&&e){var h=gi(o).hoistableStyles,f=Ka(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(pl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=qn.get(f))&&yd(e,r);var R=g=o.createElement("link");De(R),Je(R,"link",e),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function eb(e,n){as.X(e,n);var r=Ga;if(r&&e){var o=gi(r).hoistableScripts,h=Qa(e),f=o.get(h);f||(f=r.querySelector(yl(h)),f||(e=A({src:e,async:!0},n),(n=qn.get(h))&&_d(e,n),f=r.createElement("script"),De(f),Je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function nb(e,n){as.M(e,n);var r=Ga;if(r&&e){var o=gi(r).hoistableScripts,h=Qa(e),f=o.get(h);f||(f=r.querySelector(yl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=qn.get(h))&&_d(e,n),f=r.createElement("script"),De(f),Je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function i_(e,n,r,o){var h=(h=Tt.current)?mc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ka(r.href),r=gi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ka(r.href);var f=gi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(pl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),qn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},qn.set(e,r),f||ib(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qa(r),r=gi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ka(e){return'href="'+hn(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function s_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function ib(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Je(n,"link",r),De(n),e.head.appendChild(n))}function Qa(e){return'[src="'+hn(e)+'"]'}function yl(e){return"script[async]"+e}function r_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+hn(r.href)+'"]');if(o)return n.instance=o,De(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),De(o),Je(o,"style",h),gc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ka(r.href);var f=e.querySelector(pl(h));if(f)return n.state.loading|=4,n.instance=f,De(f),f;o=s_(r),(h=qn.get(h))&&yd(o,h),f=(e.ownerDocument||e).createElement("link"),De(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Je(f,"link",o),n.state.loading|=4,gc(f,r.precedence,e),n.instance=f;case"script":return f=Qa(r.src),(h=e.querySelector(yl(f)))?(n.instance=h,De(h),h):(o=r,(h=qn.get(f))&&(o=A({},r),_d(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),De(h),Je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,r.precedence,e));return n.instance}function gc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function a_(e,n,r){if(pc===null){var o=new Map,h=pc=new Map;h.set(r,o)}else h=pc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[di]||f[Ne]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function o_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function sb(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function l_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function rb(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ka(o.href),f=n.querySelector(pl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,De(f);return}f=n.ownerDocument||n,o=s_(o),(h=qn.get(h))&&yd(o,h),f=f.createElement("link"),De(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Je(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=yc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var vd=0;function ab(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&vd===0&&(vd=62500*j1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>vd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(ob,e),_c=null,yc.call(e))}function ob(e,n){if(!(n.state.loading&4)){var r=_c.get(e);if(r)var o=r.get(null);else{r=new Map,_c.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var _l={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function lb(e,n,r,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function u_(e,n,r,o,h,f,g,E,R,z,F,X){return e=new lb(e,n,r,g,R,z,F,X,E),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),e.current=f,f.stateNode=e,n=Jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},ef(f),e}function c_(e){return e?(e=Aa,e):Aa}function h_(e,n,r,o,h,f){h=c_(h),o.context===null?o.context=h:o.pendingContext=h,o=Vs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=ks(e,o,n),r!==null&&(yn(r,e,n),$o(r,e,n))}function f_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Ed(e,n){f_(e,n),(e=e.alternate)&&f_(e,n)}function d_(e){if(e.tag===13||e.tag===31){var n=Lr(e,67108864);n!==null&&yn(n,e,67108864),Ed(e,67108864)}}function m_(e){if(e.tag===13||e.tag===31){var n=Cn();n=Ar(n);var r=Lr(e,n);r!==null&&yn(r,e,n),Ed(e,n)}}var Ec=!0;function ub(e,n,r,o){var h=q.T;q.T=null;var f=tt.p;try{tt.p=2,Td(e,n,r,o)}finally{tt.p=f,q.T=h}}function cb(e,n,r,o){var h=q.T;q.T=null;var f=tt.p;try{tt.p=8,Td(e,n,r,o)}finally{tt.p=f,q.T=h}}function Td(e,n,r,o){if(Ec){var h=bd(o);if(h===null)od(e,n,o,Tc,r),p_(e,o);else if(fb(h,e,n,r,o))o.stopPropagation();else if(p_(e,o),n&4&&-1<hb.indexOf(e)){for(;h!==null;){var f=On(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ui(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-Vt(g);E.entanglements[1]|=R,g&=~R}Ci(f),(Yt&6)===0&&(ic=Ke()+500,fl(0))}}break;case 31:case 13:E=Lr(f,2),E!==null&&yn(E,f,2),rc(),Ed(f,2)}if(f=bd(o),f===null&&od(e,n,o,Tc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else od(e,n,o,null,r)}}function bd(e){return e=Mn(e),Sd(e)}var Tc=null;function Sd(e){if(Tc=null,e=mi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Tc=e,null}function g_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(li()){case vs:return 2;case vn:return 8;case G:case ot:return 32;case bt:return 268435456;default:return 32}default:return 32}}var Ad=!1,Ks=null,Qs=null,Ys=null,vl=new Map,El=new Map,Xs=[],hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p_(e,n){switch(e){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(n.pointerId)}}function Tl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=On(n),n!==null&&d_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function fb(e,n,r,o,h){switch(n){case"focusin":return Ks=Tl(Ks,e,n,r,o,h),!0;case"dragenter":return Qs=Tl(Qs,e,n,r,o,h),!0;case"mouseover":return Ys=Tl(Ys,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return vl.set(f,Tl(vl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,El.set(f,Tl(El.get(f)||null,e,n,r,o,h)),!0}return!1}function y_(e){var n=mi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Qn(e.priority,function(){m_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Qn(e.priority,function(){m_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=bd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Vo=o,r.target.dispatchEvent(o),Vo=null}else return n=On(r),n!==null&&d_(n),e.blockedOn=r,!1;n.shift()}return!0}function __(e,n,r){bc(e)&&r.delete(n)}function db(){Ad=!1,Ks!==null&&bc(Ks)&&(Ks=null),Qs!==null&&bc(Qs)&&(Qs=null),Ys!==null&&bc(Ys)&&(Ys=null),vl.forEach(__),El.forEach(__)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ad||(Ad=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,db)))}var Ac=null;function v_(e){Ac!==e&&(Ac=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Sd(o||r)===null)continue;break}var f=On(r);f!==null&&(e.splice(n,3),n-=3,bf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ya(e){function n(R){return Sc(R,e)}Ks!==null&&Sc(Ks,e),Qs!==null&&Sc(Qs,e),Ys!==null&&Sc(Ys,e),vl.forEach(n),El.forEach(n);for(var r=0;r<Xs.length;r++){var o=Xs[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Xs.length&&(r=Xs[0],r.blockedOn===null);)y_(r),r.blockedOn===null&&Xs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[He]||null;if(typeof f=="function")g||v_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[He]||null)E=g.formAction;else if(Sd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),v_(r)}}}function E_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function wd(e){this._internalRoot=e}wc.prototype.render=wd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Cn();h_(r,o,e,n,null,null)},wc.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;h_(e.current,2,null,e,null,null),rc(),n[fi]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Xs.length&&n!==0&&n<Xs[r].priority;r++);Xs.splice(r,0,e),r===0&&y_(e)}};var T_=t.version;if(T_!=="19.2.4")throw Error(a(527,T_,"19.2.4"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var mb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{fe=Rc.inject(mb),ge=Rc}catch{}}return Sl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Cp,f=Np,g=Dp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=u_(e,1,!1,null,null,r,o,null,h,f,g,E_),e[fi]=n.current,ad(e),new wd(n)},Sl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Cp,g=Np,E=Dp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=u_(e,1,!0,n,r??null,o,h,R,f,g,E,E_),n.context=c_(null),r=n.current,o=Cn(),o=Ar(o),h=Vs(o),h.callback=null,ks(r,h,o),r=o,n.current.lanes=r,br(n,r),Ci(n),e[fi]=n.current,ad(e),new wc(n)},Sl.version="19.2.4",Sl}var x_;function Ab(){if(x_)return Cd.exports;x_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Cd.exports=Sb(),Cd.exports}var wb=Ab();const mv=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const Rb=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Ib=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const O_=s=>{const t=Ib(s);return t.charAt(0).toUpperCase()+t.slice(1)};var Cb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Nb=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const Db=Ft.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},v)=>Ft.createElement("svg",{ref:v,...Cb,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:mv("lucide",l),...!c&&!Nb(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,b])=>Ft.createElement(y,b)),...Array.isArray(c)?c:[c]]));const en=(s,t)=>{const i=Ft.forwardRef(({className:a,...l},c)=>Ft.createElement(Db,{ref:c,iconNode:t,className:mv(`lucide-${Rb(O_(s))}`,`lucide-${s}`,a),...l}));return i.displayName=O_(s),i};const xb=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ob=en("award",xb);const Mb=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Vb=en("chart-pie",Mb);const kb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Lb=en("circle-check",kb);const Ub=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Pb=en("circle-user",Ub);const zb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jb=en("circle",zb);const Bb=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Hb=en("layout-dashboard",Bb);const qb=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],Fb=en("list-todo",qb);const Gb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Kb=en("log-out",Gb);const Qb=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Yb=en("moon",Qb);const Xb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$b=en("plus",Xb);const Jb=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Zb=en("refresh-cw",Jb);const Wb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tS=en("shield-check",Wb);const eS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],nS=en("sun",eS);const iS=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],sS=en("text-align-start",iS);const rS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Od=en("trash-2",rS);const aS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],M_=en("trending-up",aS);const oS=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],V_=en("utensils",oS),lS=()=>{};var k_={};const gv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},uS=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},pv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,v=l+2<s.length,y=v?s[l+2]:0,b=c>>2,A=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,Y=y&63;v||(Y=64,d||(M=64)),a.push(i[b],i[A],i[M],i[Y])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(gv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):uS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||A==null)throw new cS;const M=c<<2|p>>4;if(a.push(M),y!==64){const Y=p<<4&240|y>>2;if(a.push(Y),A!==64){const Z=y<<6&192|A;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class cS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hS=function(s){const t=gv(s);return pv.encodeByteArray(t,!0)},Fc=function(s){return hS(s).replace(/\./g,"")},yv=function(s){try{return pv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function fS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const dS=()=>fS().__FIREBASE_DEFAULTS__,mS=()=>{if(typeof process>"u"||typeof k_>"u")return;const s=k_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},gS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&yv(s[1]);return t&&JSON.parse(t)},hh=()=>{try{return lS()||dS()||mS()||gS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},_v=s=>hh()?.emulatorHosts?.[s],pS=s=>{const t=_v(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},vv=()=>hh()?.config,Ev=s=>hh()?.[`_${s}`];class yS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function go(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Tv(s){return(await fetch(s,{credentials:"include"})).ok}function _S(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const Ol={};function vS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ol))Ol[t]?s.emulator.push(t):s.prod.push(t);return s}function ES(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let L_=!1;function bv(s,t){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||Ol[s]===t||Ol[s]||L_)return;Ol[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=vS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,Y){M.setAttribute("width","24"),M.setAttribute("id",Y),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{L_=!0,d()},M}function b(M,Y){M.setAttribute("id",Y),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=ES(a),Y=i("text"),Z=document.getElementById(Y)||document.createElement("span"),nt=i("learnmore"),st=document.getElementById(nt)||document.createElement("a"),mt=i("preprendIcon"),ft=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const _t=M.element;p(_t),b(st,nt);const Ot=y();v(ft,mt),_t.append(ft,Z,st,Ot),document.body.appendChild(_t)}c?(Z.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function bS(){const s=hh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function wS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RS(){const s=on();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function IS(){return!bS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CS(){try{return typeof indexedDB=="object"}catch{return!1}}function NS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const DS="FirebaseError";class gs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=DS,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?xS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new gs(l,p,a)}}function xS(s,t){return s.replace(OS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const OS=/\{\$([^}]+)}/g;function MS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Wr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(U_(c)&&U_(d)){if(!Wr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function U_(s){return s!==null&&typeof s=="object"}function Yl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Rl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Il(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function VS(s,t){const i=new kS(s,t);return i.subscribe.bind(i)}class kS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");LS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Md),l.error===void 0&&(l.error=Md),l.complete===void 0&&(l.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Md(){}function cn(s){return s&&s._delegate?s._delegate:s}class ta{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Xr="[DEFAULT]";class US{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new yS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(zS(t))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Xr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xr){return this.instances.has(t)}getOptions(t=Xr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:PS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Xr){return this.component?this.component.multipleInstances?t:Xr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PS(s){return s===Xr?void 0:s}function zS(s){return s.instantiationMode==="EAGER"}class jS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new US(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const BS={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},HS=Ut.INFO,qS={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},FS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=qS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ym{constructor(t){this.name=t,this._logLevel=HS,this._logHandler=FS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const GS=(s,t)=>t.some(i=>s instanceof i);let P_,z_;function KS(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QS(){return z_||(z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sv=new WeakMap,Gd=new WeakMap,Av=new WeakMap,Vd=new WeakMap,_m=new WeakMap;function YS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(ir(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Sv.set(i,s)}).catch(()=>{}),_m.set(t,s),t}function XS(s){if(Gd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Gd.set(s,t)}let Kd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Gd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Av.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ir(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function $S(s){Kd=s(Kd)}function JS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(kd(this),t,...i);return Av.set(a,t.sort?t.sort():[t]),ir(a)}:QS().includes(s)?function(...t){return s.apply(kd(this),t),ir(Sv.get(this))}:function(...t){return ir(s.apply(kd(this),t))}}function ZS(s){return typeof s=="function"?JS(s):(s instanceof IDBTransaction&&XS(s),GS(s,KS())?new Proxy(s,Kd):s)}function ir(s){if(s instanceof IDBRequest)return YS(s);if(Vd.has(s))return Vd.get(s);const t=ZS(s);return t!==s&&(Vd.set(s,t),_m.set(t,s)),t}const kd=s=>_m.get(s);function WS(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=ir(d);return a&&d.addEventListener("upgradeneeded",v=>{a(ir(d.result),v.oldVersion,v.newVersion,ir(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const tA=["get","getKey","getAll","getAllKeys","count"],eA=["put","add","delete","clear"],Ld=new Map;function j_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=eA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||tA.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&v.done]))[0]};return Ld.set(t,c),c}$S(s=>({...s,get:(t,i,a)=>j_(t,i)||s.get(t,i,a),has:(t,i)=>!!j_(t,i)||s.has(t,i)}));class nA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(iA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function iA(s){return s.getComponent()?.type==="VERSION"}const Qd="@firebase/app",B_="0.14.7";const cs=new ym("@firebase/app"),sA="@firebase/app-compat",rA="@firebase/analytics-compat",aA="@firebase/analytics",oA="@firebase/app-check-compat",lA="@firebase/app-check",uA="@firebase/auth",cA="@firebase/auth-compat",hA="@firebase/database",fA="@firebase/data-connect",dA="@firebase/database-compat",mA="@firebase/functions",gA="@firebase/functions-compat",pA="@firebase/installations",yA="@firebase/installations-compat",_A="@firebase/messaging",vA="@firebase/messaging-compat",EA="@firebase/performance",TA="@firebase/performance-compat",bA="@firebase/remote-config",SA="@firebase/remote-config-compat",AA="@firebase/storage",wA="@firebase/storage-compat",RA="@firebase/firestore",IA="@firebase/ai",CA="@firebase/firestore-compat",NA="firebase",DA="12.8.0";const Yd="[DEFAULT]",xA={[Qd]:"fire-core",[sA]:"fire-core-compat",[aA]:"fire-analytics",[rA]:"fire-analytics-compat",[lA]:"fire-app-check",[oA]:"fire-app-check-compat",[uA]:"fire-auth",[cA]:"fire-auth-compat",[hA]:"fire-rtdb",[fA]:"fire-data-connect",[dA]:"fire-rtdb-compat",[mA]:"fire-fn",[gA]:"fire-fn-compat",[pA]:"fire-iid",[yA]:"fire-iid-compat",[_A]:"fire-fcm",[vA]:"fire-fcm-compat",[EA]:"fire-perf",[TA]:"fire-perf-compat",[bA]:"fire-rc",[SA]:"fire-rc-compat",[AA]:"fire-gcs",[wA]:"fire-gcs-compat",[RA]:"fire-fst",[CA]:"fire-fst-compat",[IA]:"fire-vertex","fire-js":"fire-js",[NA]:"fire-js-all"};const Gc=new Map,OA=new Map,Xd=new Map;function H_(s,t){try{s.container.addComponent(t)}catch(i){cs.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function oo(s){const t=s.name;if(Xd.has(t))return cs.debug(`There were multiple attempts to register component ${t}.`),!1;Xd.set(t,s);for(const i of Gc.values())H_(i,s);for(const i of OA.values())H_(i,s);return!0}function vm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Nn(s){return s==null?!1:s.settings!==void 0}const MA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new Ql("app","Firebase",MA);class VA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}const po=DA;function wv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Yd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw sr.create("bad-app-name",{appName:String(l)});if(i||(i=vv()),!i)throw sr.create("no-options");const c=Gc.get(l);if(c){if(Wr(i,c.options)&&Wr(a,c.config))return c;throw sr.create("duplicate-app",{appName:l})}const d=new jS(l);for(const v of Xd.values())d.addComponent(v);const p=new VA(i,a,d);return Gc.set(l,p),p}function Rv(s=Yd){const t=Gc.get(s);if(!t&&s===Yd&&vv())return wv();if(!t)throw sr.create("no-app",{appName:s});return t}function rr(s,t,i){let a=xA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),cs.warn(d.join(" "));return}oo(new ta(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const kA="firebase-heartbeat-database",LA=1,Pl="firebase-heartbeat-store";let Ud=null;function Iv(){return Ud||(Ud=WS(kA,LA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Pl)}catch(i){console.warn(i)}}}}).catch(s=>{throw sr.create("idb-open",{originalErrorMessage:s.message})})),Ud}async function UA(s){try{const i=(await Iv()).transaction(Pl),a=await i.objectStore(Pl).get(Cv(s));return await i.done,a}catch(t){if(t instanceof gs)cs.warn(t.message);else{const i=sr.create("idb-get",{originalErrorMessage:t?.message});cs.warn(i.message)}}}async function q_(s,t){try{const a=(await Iv()).transaction(Pl,"readwrite");await a.objectStore(Pl).put(t,Cv(s)),await a.done}catch(i){if(i instanceof gs)cs.warn(i.message);else{const a=sr.create("idb-set",{originalErrorMessage:i?.message});cs.warn(a.message)}}}function Cv(s){return`${s.name}!${s.options.appId}`}const PA=1024,zA=30;class jA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new HA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=F_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>zA){const l=qA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){cs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=F_(),{heartbeatsToSend:i,unsentEntries:a}=BA(this._heartbeatsCache.heartbeats),l=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return cs.warn(t),""}}}function F_(){return new Date().toISOString().substring(0,10)}function BA(s,t=PA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),G_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),G_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class HA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CS()?NS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await UA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function G_(s){return Fc(JSON.stringify({version:2,heartbeats:s})).length}function qA(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function FA(s){oo(new ta("platform-logger",t=>new nA(t),"PRIVATE")),oo(new ta("heartbeat",t=>new jA(t),"PRIVATE")),rr(Qd,B_,s),rr(Qd,B_,"esm2020"),rr("fire-js","")}FA("");var GA="firebase",KA="12.8.0";rr(GA,KA,"app");function Nv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QA=Nv,Dv=new Ql("auth","Firebase",Nv());const Kc=new ym("@firebase/auth");function YA(s,...t){Kc.logLevel<=Ut.WARN&&Kc.warn(`Auth (${po}): ${s}`,...t)}function Vc(s,...t){Kc.logLevel<=Ut.ERROR&&Kc.error(`Auth (${po}): ${s}`,...t)}function ai(s,...t){throw Em(s,...t)}function Di(s,...t){return Em(s,...t)}function xv(s,t,i){const a={...QA(),[t]:i};return new Ql("auth","Firebase",a).create(t,{appName:s.name})}function xi(s){return xv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Em(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Dv.create(s,...t)}function pt(s,t,...i){if(!s)throw Em(t,...i)}function os(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Vc(t),new Error(t)}function hs(s,t){s||os(t)}function $d(){return typeof self<"u"&&self.location?.href||""}function XA(){return K_()==="http:"||K_()==="https:"}function K_(){return typeof self<"u"&&self.location?.protocol||null}function $A(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XA()||AS()||"connection"in navigator)?navigator.onLine:!0}function JA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Xl{constructor(t,i){this.shortDelay=t,this.longDelay=i,hs(i>t,"Short delay should be less than long delay!"),this.isMobile=TS()||wS()}get(){return $A()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tm(s,t){hs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Ov{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ZA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const WA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tw=new Xl(3e4,6e4);function mr(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function gr(s,t,i,a,l={}){return Mv(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Yl({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:v,...c};return SS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&go(s.emulatorConfig.host)&&(y.credentials="include"),Ov.fetch()(await Vv(s,s.config.apiHost,i,p),y)})}async function Mv(s,t,i){s._canInitEmulator=!1;const a={...ZA,...t};try{const l=new nw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ic(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Ic(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Ic(s,"user-disabled",d);const b=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw xv(s,b,y);ai(s,b)}}catch(l){if(l instanceof gs)throw l;ai(s,"network-request-failed",{message:String(l)})}}async function $l(s,t,i,a,l={}){const c=await gr(s,t,i,a,l);return"mfaPendingCredential"in c&&ai(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Vv(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Tm(s.config,l):`${s.config.apiScheme}://${l}`;return WA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function ew(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Di(this.auth,"network-request-failed")),tw.get())})}}function Ic(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Di(s,t,a);return l.customData._tokenResponse=i,l}function Q_(s){return s!==void 0&&s.enterprise!==void 0}class iw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return ew(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sw(s,t){return gr(s,"GET","/v2/recaptchaConfig",mr(s,t))}async function rw(s,t){return gr(s,"POST","/v1/accounts:delete",t)}async function Qc(s,t){return gr(s,"POST","/v1/accounts:lookup",t)}function Ml(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function aw(s,t=!1){const i=cn(s),a=await i.getIdToken(t),l=bm(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Ml(Pd(l.auth_time)),issuedAtTime:Ml(Pd(l.iat)),expirationTime:Ml(Pd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Pd(s){return Number(s)*1e3}function bm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=yv(i);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Y_(s){const t=bm(s);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function zl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof gs&&ow(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function ow({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class lw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yc(s){const t=s.auth,i=await s.getIdToken(),a=await zl(s,Qc(t,{idToken:i}));pt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?kv(l.providerUserInfo):[],d=cw(s.providerData,c),p=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,y=p?v:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function uw(s){const t=cn(s);await Yc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function cw(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function kv(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function hw(s,t){const i=await Mv(s,{},async()=>{const a=Yl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Vv(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return s.emulatorConfig&&go(s.emulatorConfig.host)&&(v.credentials="include"),Ov.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function fw(s,t){return gr(s,"POST","/v2/accounts:revokeToken",mr(s,t))}class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Y_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=Y_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await hw(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new to;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return os("not implemented")}}function Js(s,t){pt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ii{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new lw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Jd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await zl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return aw(this,t)}reload(){return uw(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ii({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Yc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(xi(this.auth));const t=await this.getIdToken();return await zl(this,rw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:Y,providerData:Z,stsTokenManager:nt}=i;pt(A&&nt,t,"internal-error");const st=to.fromJSON(this.name,nt);pt(typeof A=="string",t,"internal-error"),Js(a,t.name),Js(l,t.name),pt(typeof M=="boolean",t,"internal-error"),pt(typeof Y=="boolean",t,"internal-error"),Js(c,t.name),Js(d,t.name),Js(p,t.name),Js(v,t.name),Js(y,t.name),Js(b,t.name);const mt=new ii({uid:A,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:st,createdAt:y,lastLoginAt:b});return Z&&Array.isArray(Z)&&(mt.providerData=Z.map(ft=>({...ft}))),v&&(mt._redirectEventId=v),mt}static async _fromIdTokenResponse(t,i,a=!1){const l=new to;l.updateFromServerResponse(i);const c=new ii({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Yc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?kv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new to;p.updateFromIdToken(a);const v=new ii({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const X_=new Map;function ls(s){hs(s instanceof Function,"Expected a class definition");let t=X_.get(s);return t?(hs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,X_.set(s,t),t)}class Lv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Lv.type="NONE";const $_=Lv;function kc(s,t,i){return`firebase:${s}:${t}:${i}`}class eo{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=kc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Qc(this.auth,{idToken:t}).catch(()=>{});return i?ii._fromGetAccountInfoResponse(this.auth,i,t):null}return ii._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new eo(ls($_),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ls($_);const d=kc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const b=await y._get(d);if(b){let A;if(typeof b=="string"){const M=await Qc(t,{idToken:b}).catch(()=>{});if(!M)break;A=await ii._fromGetAccountInfoResponse(t,M,b)}else A=ii._fromJSON(t,b);y!==c&&(p=A),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new eo(c,t,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new eo(c,t,a))}}function J_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(jv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Uv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Hv(t))return"Blackberry";if(qv(t))return"Webos";if(Pv(t))return"Safari";if((t.includes("chrome/")||zv(t))&&!t.includes("edge/"))return"Chrome";if(Bv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Uv(s=on()){return/firefox\//i.test(s)}function Pv(s=on()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zv(s=on()){return/crios\//i.test(s)}function jv(s=on()){return/iemobile/i.test(s)}function Bv(s=on()){return/android/i.test(s)}function Hv(s=on()){return/blackberry/i.test(s)}function qv(s=on()){return/webos/i.test(s)}function Sm(s=on()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function dw(s=on()){return Sm(s)&&!!window.navigator?.standalone}function mw(){return RS()&&document.documentMode===10}function Fv(s=on()){return Sm(s)||Bv(s)||qv(s)||Hv(s)||/windows phone/i.test(s)||jv(s)}function Gv(s,t=[]){let i;switch(s){case"Browser":i=J_(on());break;case"Worker":i=`${J_(on())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${po}/${a}`}class gw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function pw(s,t={}){return gr(s,"GET","/v2/passwordPolicy",mr(s,t))}const yw=6;class _w{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??yw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class vw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z_(this),this.idTokenSubscription=new Z_(this),this.beforeStateQueue=new gw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ls(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await eo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Qc(this,{idToken:t}),a=await ii._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Nn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Yc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=JA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Nn(this.app))return Promise.reject(xi(this));const i=t?cn(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Nn(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await pw(this),i=new _w(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ql("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await fw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ls(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[ls(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Gv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&YA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function pr(s){return cn(s)}class Z_{constructor(t){this.auth=t,this.observer=null,this.addObserver=VS(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ew(s){fh=s}function Kv(s){return fh.loadJS(s)}function Tw(){return fh.recaptchaEnterpriseScript}function bw(){return fh.gapiScript}function Sw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Aw{constructor(){this.enterprise=new ww}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class ww{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const Rw="recaptcha-enterprise",Qv="NO_RECAPTCHA";class Iw{constructor(t){this.type=Rw,this.auth=pr(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{sw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new iw(v);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(v=>{p(v)})})}function l(c,d,p){const v=window.grecaptcha;Q_(v)?v.enterprise.ready(()=>{v.enterprise.execute(c,{action:t}).then(y=>{d(y)}).catch(()=>{d(Qv)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Aw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&Q_(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let v=Tw();v.length!==0&&(v+=p),Kv(v).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function W_(s,t,i,a=!1,l=!1){const c=new Iw(s);let d;if(l)d=Qv;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const v=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const v=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Zd(s,t,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await W_(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await W_(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function Cw(s,t){const i=vm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Wr(c,t??{}))return l;ai(l,"already-initialized")}return i.initialize({options:t})}function Nw(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ls);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function Dw(s,t,i){const a=pr(s);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=Yv(t),{host:d,port:p}=xw(t),v=p===null?"":`:${p}`,y={url:`${c}//${d}${v}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(Wr(y,a.config.emulator)&&Wr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,go(d)?(Tv(`${c}//${d}${v}`),bv("Auth",!0)):Ow()}function Yv(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function xw(s){const t=Yv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:t0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:t0(d)}}}function t0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Ow(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Am{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return os("not implemented")}_getIdTokenResponse(t){return os("not implemented")}_linkToIdToken(t,i){return os("not implemented")}_getReauthenticationResolver(t){return os("not implemented")}}async function Mw(s,t){return gr(s,"POST","/v1/accounts:signUp",t)}async function Vw(s,t){return $l(s,"POST","/v1/accounts:signInWithPassword",mr(s,t))}async function kw(s,t){return $l(s,"POST","/v1/accounts:signInWithEmailLink",mr(s,t))}async function Lw(s,t){return $l(s,"POST","/v1/accounts:signInWithEmailLink",mr(s,t))}class jl extends Am{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new jl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new jl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zd(t,i,"signInWithPassword",Vw);case"emailLink":return kw(t,{email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zd(t,a,"signUpPassword",Mw);case"emailLink":return Lw(t,{idToken:i,email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function no(s,t){return $l(s,"POST","/v1/accounts:signInWithIdp",mr(s,t))}const Uw="http://localhost";class ea extends Am{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ea(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ai("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ea(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return no(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,no(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,no(t,i)}buildRequest(){const t={requestUri:Uw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Yl(i)}return t}}function Pw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zw(s){const t=Rl(Il(s)).link,i=t?Rl(Il(t)).deep_link_id:null,a=Rl(Il(s)).deep_link_id;return(a?Rl(Il(a)).link:null)||a||i||t||s}class wm{constructor(t){const i=Rl(Il(t)),a=i.apiKey??null,l=i.oobCode??null,c=Pw(i.mode??null);pt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=zw(t);try{return new wm(i)}catch{return null}}}class yo{constructor(){this.providerId=yo.PROVIDER_ID}static credential(t,i){return jl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=wm.parseLink(i);return pt(a,"argument-error"),jl._fromEmailAndCode(t,a.code,a.tenantId)}}yo.PROVIDER_ID="password";yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Xv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Jl extends Xv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Zs extends Jl{constructor(){super("facebook.com")}static credential(t){return ea._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";class Ws extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ea._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ws.credential(i,a)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";class tr extends Jl{constructor(){super("github.com")}static credential(t){return ea._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";class er extends Jl{constructor(){super("twitter.com")}static credential(t,i){return ea._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return er.credential(i,a)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";async function $v(s,t){return $l(s,"POST","/v1/accounts:signUp",mr(s,t))}class fs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ii._fromIdTokenResponse(t,a,l),d=e0(a);return new fs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=e0(a);return new fs({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function e0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function jw(s){if(Nn(s.app))return Promise.reject(xi(s));const t=pr(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new fs({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await $v(t,{returnSecureToken:!0}),a=await fs._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Xc extends gs{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Xc(t,i,a,l)}}function Jv(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(s,c,t,a):c})}async function Bw(s,t,i=!1){const a=await zl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return fs._forOperation(s,"link",a)}async function Hw(s,t,i=!1){const{auth:a}=s;if(Nn(a.app))return Promise.reject(xi(a));const l="reauthenticate";try{const c=await zl(s,Jv(a,l,t,s),i);pt(c.idToken,a,"internal-error");const d=bm(c.idToken);pt(d,a,"internal-error");const{sub:p}=d;return pt(s.uid===p,a,"user-mismatch"),fs._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ai(a,"user-mismatch"),c}}async function Zv(s,t,i=!1){if(Nn(s.app))return Promise.reject(xi(s));const a="signIn",l=await Jv(s,a,t),c=await fs._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function qw(s,t){return Zv(pr(s),t)}async function Wv(s){const t=pr(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Fw(s,t,i){if(Nn(s.app))return Promise.reject(xi(s));const a=pr(s),d=await Zd(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$v).catch(v=>{throw v.code==="auth/password-does-not-meet-requirements"&&Wv(s),v}),p=await fs._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function Gw(s,t,i){return Nn(s.app)?Promise.reject(xi(s)):qw(cn(s),yo.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Wv(s),a})}function Kw(s,t,i,a){return cn(s).onIdTokenChanged(t,i,a)}function Qw(s,t,i){return cn(s).beforeAuthStateChanged(t,i)}function Yw(s,t,i,a){return cn(s).onAuthStateChanged(t,i,a)}function Xw(s){return cn(s).signOut()}const $c="__sak";class tE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const $w=1e3,Jw=10;class eE extends tE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);mw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Jw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},$w)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}eE.type="LOCAL";const Zw=eE;class nE extends tE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}nE.type="SESSION";const iE=nE;function Ww(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new dh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),v=await Ww(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];function Rm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class t2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const y=Rm("",20);l.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Oi(){return window}function e2(s){Oi().location.href=s}function sE(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function n2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function i2(){return navigator?.serviceWorker?.controller||null}function s2(){return sE()?self:null}const rE="firebaseLocalStorageDb",r2=1,Jc="firebaseLocalStorage",aE="fbase_key";class Zl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(s,t){return s.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function a2(){const s=indexedDB.deleteDatabase(rE);return new Zl(s).toPromise()}function Wd(){const s=indexedDB.open(rE,r2);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Jc,{keyPath:aE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Jc)?t(a):(a.close(),await a2(),t(await Wd()))})})}async function n0(s,t,i){const a=mh(s,!0).put({[aE]:t,value:i});return new Zl(a).toPromise()}async function o2(s,t){const i=mh(s,!1).get(t),a=await new Zl(i).toPromise();return a===void 0?null:a.value}function i0(s,t){const i=mh(s,!0).delete(t);return new Zl(i).toPromise()}const l2=800,u2=3;class oE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>u2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(s2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await n2(),!this.activeServiceWorker)return;this.sender=new t2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||i2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wd();return await n0(t,$c,"1"),await i0(t,$c),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>n0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>o2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>i0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=mh(l,!1).getAll();return new Zl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),l2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oE.type="LOCAL";const c2=oE;new Xl(3e4,6e4);function h2(s,t){return t?ls(t):(pt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Im extends Am{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return no(t,this._buildIdpRequest())}_linkToIdToken(t,i){return no(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return no(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function f2(s){return Zv(s.auth,new Im(s),s.bypassAuthState)}function d2(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),Hw(i,new Im(s),s.bypassAuthState)}async function m2(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),Bw(i,new Im(s),s.bypassAuthState)}class lE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return f2;case"linkViaPopup":case"linkViaRedirect":return m2;case"reauthViaPopup":case"reauthViaRedirect":return d2;default:ai(this.auth,"internal-error")}}resolve(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const g2=new Xl(2e3,1e4);class Wa extends lE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const t=Rm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,g2.get())};t()}}Wa.currentPopupAction=null;const p2="pendingRedirect",Lc=new Map;class y2 extends lE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Lc.get(this.auth._key());if(!t){try{const a=await _2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Lc.set(this.auth._key(),t)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _2(s,t){const i=T2(t),a=E2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function v2(s,t){Lc.set(s._key(),t)}function E2(s){return ls(s._redirectPersistence)}function T2(s){return kc(p2,s.config.apiKey,s.name)}async function b2(s,t,i=!1){if(Nn(s.app))return Promise.reject(xi(s));const a=pr(s),l=h2(a,t),d=await new y2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const S2=600*1e3;class A2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!w2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!uE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Di(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=S2&&this.cachedEventUids.clear(),this.cachedEventUids.has(s0(t))}saveEventToCache(t){this.cachedEventUids.add(s0(t)),this.lastProcessedEventTime=Date.now()}}function s0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function uE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function w2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uE(s);default:return!1}}async function R2(s,t={}){return gr(s,"GET","/v1/projects",t)}const I2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C2=/^https?/;async function N2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await R2(s);for(const i of t)try{if(D2(i))return}catch{}ai(s,"unauthorized-domain")}function D2(s){const t=$d(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!C2.test(i))return!1;if(I2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const x2=new Xl(3e4,6e4);function r0(){const s=Oi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function O2(s){return new Promise((t,i)=>{function a(){r0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{r0(),i(Di(s,"network-request-failed"))},timeout:x2.get()})}if(Oi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Oi().gapi?.load)a();else{const l=Sw("iframefcb");return Oi()[l]=()=>{gapi.load?a():i(Di(s,"network-request-failed"))},Kv(`${bw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Uc=null,t})}let Uc=null;function M2(s){return Uc=Uc||O2(s),Uc}const V2=new Xl(5e3,15e3),k2="__/auth/iframe",L2="emulator/auth/iframe",U2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z2(s){const t=s.config;pt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Tm(t,L2):`https://${s.config.authDomain}/${k2}`,a={apiKey:t.apiKey,appName:s.name,v:po},l=P2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Yl(a).slice(1)}`}async function j2(s){const t=await M2(s),i=Oi().gapi;return pt(i,s,"internal-error"),t.open({where:document.body,url:z2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Di(s,"network-request-failed"),p=Oi().setTimeout(()=>{c(d)},V2.get());function v(){Oi().clearTimeout(p),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const B2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H2=500,q2=600,F2="_blank",G2="http://localhost";class a0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K2(s,t,i,a=H2,l=q2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...B2,width:a.toString(),height:l.toString(),top:c,left:d},y=on().toLowerCase();i&&(p=zv(y)?F2:i),Uv(y)&&(t=t||G2,v.scrollbars="yes");const b=Object.entries(v).reduce((M,[Y,Z])=>`${M}${Y}=${Z},`,"");if(dw(y)&&p!=="_self")return Q2(t||"",p),new a0(null);const A=window.open(t||"",p,b);pt(A,s,"popup-blocked");try{A.focus()}catch{}return new a0(A)}function Q2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Y2="__/auth/handler",X2="emulator/auth/handler",$2=encodeURIComponent("fac");async function o0(s,t,i,a,l,c){pt(s.config.authDomain,s,"auth-domain-config-required"),pt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:po,eventId:l};if(t instanceof Xv){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",MS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof Jl){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const v=await s._getAppCheckToken(),y=v?`#${$2}=${encodeURIComponent(v)}`:"";return`${J2(s)}?${Yl(p).slice(1)}${y}`}function J2({config:s}){return s.emulator?Tm(s,X2):`https://${s.authDomain}/${Y2}`}const zd="webStorageSupport";class Z2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iE,this._completeRedirectFn=b2,this._overrideRedirectResult=v2}async _openPopup(t,i,a,l){hs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await o0(t,i,a,$d(),l);return K2(t,c,Rm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await o0(t,i,a,$d(),l);return e2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(hs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await j2(t),a=new A2(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(zd,{type:zd},l=>{const c=l?.[0]?.[zd];c!==void 0&&i(!!c),ai(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=N2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Fv()||Pv()||Sm()}}const W2=Z2;var l0="@firebase/auth",u0="1.12.0";class tR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function eR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nR(s){oo(new ta("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gv(s)},y=new vw(a,l,c,v);return Nw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),oo(new ta("auth-internal",t=>{const i=pr(t.getProvider("auth").getImmediate());return(a=>new tR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(l0,u0,eR(s)),rr(l0,u0,"esm2020")}const iR=300,sR=Ev("authIdTokenMaxAge")||iR;let c0=null;const rR=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>sR)return;const l=i?.token;c0!==l&&(c0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function aR(s=Rv()){const t=vm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Cw(s,{popupRedirectResolver:W2,persistence:[c2,Zw,iE]}),a=Ev("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=rR(c.toString());Qw(i,d,()=>d(i.currentUser)),Kw(i,p=>d(p))}}const l=_v("auth");return l&&Dw(i,`http://${l}`),i}function oR(){return document.getElementsByTagName("head")?.[0]??document}Ew({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Di("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",oR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nR("Browser");var h0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ar,cE;(function(){var s;function t(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,N,L){for(var w=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)w[ee-2]=arguments[ee];return S.prototype[N].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],N=C.g[2];let L=C.g[3],w;w=S+(L^I&(N^L))+V[0]+3614090360&4294967295,S=I+(w<<7&4294967295|w>>>25),w=L+(N^S&(I^N))+V[1]+3905402710&4294967295,L=S+(w<<12&4294967295|w>>>20),w=N+(I^L&(S^I))+V[2]+606105819&4294967295,N=L+(w<<17&4294967295|w>>>15),w=I+(S^N&(L^S))+V[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(L^I&(N^L))+V[4]+4118548399&4294967295,S=I+(w<<7&4294967295|w>>>25),w=L+(N^S&(I^N))+V[5]+1200080426&4294967295,L=S+(w<<12&4294967295|w>>>20),w=N+(I^L&(S^I))+V[6]+2821735955&4294967295,N=L+(w<<17&4294967295|w>>>15),w=I+(S^N&(L^S))+V[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(L^I&(N^L))+V[8]+1770035416&4294967295,S=I+(w<<7&4294967295|w>>>25),w=L+(N^S&(I^N))+V[9]+2336552879&4294967295,L=S+(w<<12&4294967295|w>>>20),w=N+(I^L&(S^I))+V[10]+4294925233&4294967295,N=L+(w<<17&4294967295|w>>>15),w=I+(S^N&(L^S))+V[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(L^I&(N^L))+V[12]+1804603682&4294967295,S=I+(w<<7&4294967295|w>>>25),w=L+(N^S&(I^N))+V[13]+4254626195&4294967295,L=S+(w<<12&4294967295|w>>>20),w=N+(I^L&(S^I))+V[14]+2792965006&4294967295,N=L+(w<<17&4294967295|w>>>15),w=I+(S^N&(L^S))+V[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(N^L&(I^N))+V[1]+4129170786&4294967295,S=I+(w<<5&4294967295|w>>>27),w=L+(I^N&(S^I))+V[6]+3225465664&4294967295,L=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(L^S))+V[11]+643717713&4294967295,N=L+(w<<14&4294967295|w>>>18),w=I+(L^S&(N^L))+V[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^L&(I^N))+V[5]+3593408605&4294967295,S=I+(w<<5&4294967295|w>>>27),w=L+(I^N&(S^I))+V[10]+38016083&4294967295,L=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(L^S))+V[15]+3634488961&4294967295,N=L+(w<<14&4294967295|w>>>18),w=I+(L^S&(N^L))+V[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^L&(I^N))+V[9]+568446438&4294967295,S=I+(w<<5&4294967295|w>>>27),w=L+(I^N&(S^I))+V[14]+3275163606&4294967295,L=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(L^S))+V[3]+4107603335&4294967295,N=L+(w<<14&4294967295|w>>>18),w=I+(L^S&(N^L))+V[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^L&(I^N))+V[13]+2850285829&4294967295,S=I+(w<<5&4294967295|w>>>27),w=L+(I^N&(S^I))+V[2]+4243563512&4294967295,L=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(L^S))+V[7]+1735328473&4294967295,N=L+(w<<14&4294967295|w>>>18),w=I+(L^S&(N^L))+V[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(I^N^L)+V[5]+4294588738&4294967295,S=I+(w<<4&4294967295|w>>>28),w=L+(S^I^N)+V[8]+2272392833&4294967295,L=S+(w<<11&4294967295|w>>>21),w=N+(L^S^I)+V[11]+1839030562&4294967295,N=L+(w<<16&4294967295|w>>>16),w=I+(N^L^S)+V[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^L)+V[1]+2763975236&4294967295,S=I+(w<<4&4294967295|w>>>28),w=L+(S^I^N)+V[4]+1272893353&4294967295,L=S+(w<<11&4294967295|w>>>21),w=N+(L^S^I)+V[7]+4139469664&4294967295,N=L+(w<<16&4294967295|w>>>16),w=I+(N^L^S)+V[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^L)+V[13]+681279174&4294967295,S=I+(w<<4&4294967295|w>>>28),w=L+(S^I^N)+V[0]+3936430074&4294967295,L=S+(w<<11&4294967295|w>>>21),w=N+(L^S^I)+V[3]+3572445317&4294967295,N=L+(w<<16&4294967295|w>>>16),w=I+(N^L^S)+V[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^L)+V[9]+3654602809&4294967295,S=I+(w<<4&4294967295|w>>>28),w=L+(S^I^N)+V[12]+3873151461&4294967295,L=S+(w<<11&4294967295|w>>>21),w=N+(L^S^I)+V[15]+530742520&4294967295,N=L+(w<<16&4294967295|w>>>16),w=I+(N^L^S)+V[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(N^(I|~L))+V[0]+4096336452&4294967295,S=I+(w<<6&4294967295|w>>>26),w=L+(I^(S|~N))+V[7]+1126891415&4294967295,L=S+(w<<10&4294967295|w>>>22),w=N+(S^(L|~I))+V[14]+2878612391&4294967295,N=L+(w<<15&4294967295|w>>>17),w=I+(L^(N|~S))+V[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~L))+V[12]+1700485571&4294967295,S=I+(w<<6&4294967295|w>>>26),w=L+(I^(S|~N))+V[3]+2399980690&4294967295,L=S+(w<<10&4294967295|w>>>22),w=N+(S^(L|~I))+V[10]+4293915773&4294967295,N=L+(w<<15&4294967295|w>>>17),w=I+(L^(N|~S))+V[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~L))+V[8]+1873313359&4294967295,S=I+(w<<6&4294967295|w>>>26),w=L+(I^(S|~N))+V[15]+4264355552&4294967295,L=S+(w<<10&4294967295|w>>>22),w=N+(S^(L|~I))+V[6]+2734768916&4294967295,N=L+(w<<15&4294967295|w>>>17),w=I+(L^(N|~S))+V[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~L))+V[4]+4149444226&4294967295,S=I+(w<<6&4294967295|w>>>26),w=L+(I^(S|~N))+V[11]+3174756917&4294967295,L=S+(w<<10&4294967295|w>>>22),w=N+(S^(L|~I))+V[2]+718787259&4294967295,N=L+(w<<15&4294967295|w>>>17),w=I+(L^(N|~S))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+L&4294967295}a.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,V=this.C;let N=this.h,L=0;for(;L<S;){if(N==0)for(;L<=I;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<S;)if(V[N++]=C.charCodeAt(L++),N==this.blockSize){l(this,V),N=0;break}}else for(;L<S;)if(V[N++]=C[L++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[S++]=this.g[I]>>>V&255;return C};function c(C,S){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function d(C,S){this.h=S;const I=[];let V=!0;for(let N=C.length-1;N>=0;N--){const L=C[N]|0;V&&L==S||(I[N]=L,V=!1)}this.g=I}var p={};function v(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return st(y(-C));const S=[];let I=1;for(let V=0;C>=I;V++)S[V]=C/I|0,I*=4294967296;return new d(S,0)}function b(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return st(b(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(S,8));let V=A;for(let L=0;L<C.length;L+=8){var N=Math.min(8,C.length-L);const w=parseInt(C.substring(L,L+N),S);N<8?(N=y(Math.pow(S,N)),V=V.j(N).add(y(w))):(V=V.j(I),V=V.add(y(w)))}return V}var A=v(0),M=v(1),Y=v(16777216);s=d.prototype,s.m=function(){if(nt(this))return-st(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(nt(this))return"-"+st(this).toString(C);const S=y(Math.pow(C,6));var I=this;let V="";for(;;){const N=Ot(I,S).g;I=mt(I,N.j(S));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,Z(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function nt(C){return C.h==-1}s.l=function(C){return C=mt(this,C),nt(C)?-1:Z(C)?0:1};function st(C){const S=C.g.length,I=[];for(let V=0;V<S;V++)I[V]=~C.g[V];return new d(I,~C.h).add(M)}s.abs=function(){return nt(this)?st(this):this},s.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let N=0;N<=S;N++){let L=V+(this.i(N)&65535)+(C.i(N)&65535),w=(L>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=w>>>16,L&=65535,w&=65535,I[N]=w<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function mt(C,S){return C.add(st(S))}s.j=function(C){if(Z(this)||Z(C))return A;if(nt(this))return nt(C)?st(this).j(st(C)):st(st(this).j(C));if(nt(C))return st(this.j(st(C)));if(this.l(Y)<0&&C.l(Y)<0)return y(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const L=this.i(V)>>>16,w=this.i(V)&65535,ee=C.i(N)>>>16,ye=C.i(N)&65535;I[2*V+2*N]+=w*ye,ft(I,2*V+2*N),I[2*V+2*N+1]+=L*ye,ft(I,2*V+2*N+1),I[2*V+2*N+1]+=w*ee,ft(I,2*V+2*N+1),I[2*V+2*N+2]+=L*ee,ft(I,2*V+2*N+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new d(I,0)};function ft(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function _t(C,S){this.g=C,this.h=S}function Ot(C,S){if(Z(S))throw Error("division by zero");if(Z(C))return new _t(A,A);if(nt(C))return S=Ot(st(C),S),new _t(st(S.g),st(S.h));if(nt(S))return S=Ot(C,st(S)),new _t(st(S.g),S.h);if(C.g.length>30){if(nt(C)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=S;V.l(C)<=0;)I=te(I),V=te(V);var N=Ht(I,1),L=Ht(V,1);for(V=Ht(V,2),I=Ht(I,2);!Z(V);){var w=L.add(V);w.l(C)<=0&&(N=N.add(I),L=w),V=Ht(V,1),I=Ht(I,1)}return S=mt(C,N.j(S)),new _t(N,S)}for(N=A;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(I),w=L.j(S);nt(w)||w.l(C)>0;)I-=V,L=y(I),w=L.j(S);Z(L)&&(L=M),N=N.add(L),C=mt(C,w)}return new _t(N,C)}s.B=function(C){return Ot(this,C).h},s.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function te(C){const S=C.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Ht(C,S){const I=S>>5;S%=32;const V=C.g.length-I,N=[];for(let L=0;L<V;L++)N[L]=S>0?C.i(L+I)>>>S|C.i(L+I+1)<<32-S:C.i(L+I);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,cE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,ar=d}).apply(typeof h0<"u"?h0:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hE,Cl,fE,Pc,tm,dE,mE,gE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in _))break t;_=_[U]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var W=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)W[wt-2]=arguments[wt];return m.prototype[U].apply(T,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const B=U.length||0;u.length=_+B;for(let W=0;W<B;W++)u[_+W]=U[W]}else u.push(U)}}class nt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function st(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ft{constructor(){this.h=this.g=null}add(m,_){const T=_t.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var _t=new nt(()=>new Ot,u=>u.reset());class Ot{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let te,Ht=!1,C=new ft,S=()=>{const u=Promise.resolve(void 0);te=()=>{u.then(I)}};function I(){for(var u;u=mt();){try{u.h.call(u.g)}catch(_){st(_)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ht=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ee,N),ee.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),q=0;function tt(u,m,_,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=U,this.key=++q,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Mt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function qt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function x(u){const m={};for(const _ in u)m[_]=u[_];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let _,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(_ in T)u[_]=T[_];for(let B=0;B<Q.length;B++)_=Q[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,_,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=Tt(u,m,T,U);return W>-1?(m=u[W],_||(m.fa=!1)):(m=new tt(m,this.src,B,!!T,U),m.fa=_,u.push(m)),m};function vt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(ct(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Tt(u,m,_,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return U}return-1}var Ct="closure_lm_"+(Math.random()*1e6|0),be={};function Nt(u,m,_,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Nt(u,m[B],_,T,U);return null}return _=vr(_),u&&u[ye]?u.J(m,_,p(T)?!!T.capture:!1,U):Pi(u,m,_,!1,T,U)}function Pi(u,m,_,T,U,B){if(!m)throw Error("Invalid event type");const W=p(U)?!!U.capture:!!U;let wt=zi(u);if(wt||(u[Ct]=wt=new it(u)),_=wt.add(m,_,T,W,B),_.proxy)return _;if(T=ps(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)L||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Dn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ps(){function u(_){return m.call(u.src,u.listener,_)}const m=yr;return u}function ys(u,m,_,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)ys(u,m[B],_,T,U);else T=p(T)?!!T.capture:!!T,_=vr(_),u&&u[ye]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=Tt(m,_,T,U),_>-1&&(ct(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=zi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Tt(m,_,T,U)),(_=u>-1?m[u]:null)&&_s(_))}function _s(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ye])vt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Dn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=zi(m))?(vt(_,u),_.h==0&&(_.src=null,m[Ct]=null)):ct(u)}}}function Dn(u){return u in be?be[u]:be[u]="on"+u}function yr(u,m){if(u.da)u=!0;else{m=new ee(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&_s(u),u=_.call(T,m)}return u}function zi(u){return u=u[Ct],u instanceof it?u:null}var _r="__closure_events_fn_"+(Math.random()*1e9>>>0);function vr(u){return typeof u=="function"?u:(u[_r]||(u[_r]=function(m){return u.handleEvent(m)}),u[_r])}function _e(){V.call(this),this.i=new it(this),this.M=this,this.G=null}A(_e,V),_e.prototype[ye]=!0,_e.prototype.removeEventListener=function(u,m,_,T){ys(this,u,m,_,T)};function ve(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(T,u),et(m,U)}U=!0;let B,W;if(_)for(W=_.length-1;W>=0;W--)B=m.g=_[W],U=oi(B,T,!0,m)&&U;if(B=m.g=u,U=oi(B,T,!0,m)&&U,U=oi(B,T,!1,m)&&U,_)for(W=0;W<_.length;W++)B=m.g=_[W],U=oi(B,T,!1,m)&&U}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ct(_[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},_e.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function oi(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==_){const wt=W.listener,Se=W.ha||W.src;W.fa&&vt(u.i,W),U=wt.call(Se,T)!==!1&&U}}return U&&!T.defaultPrevented}function bo(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function la(u){u.g=bo(()=>{u.g=null,u.i&&(u.i=!1,la(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ke extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:la(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function li(u){V.call(this),this.h=u,this.g={}}A(li,V);var vs=[];function vn(u){Mt(u.g,function(m,_){this.g.hasOwnProperty(_)&&_s(m)},u),u.g={}}li.prototype.N=function(){li.Z.N.call(this),vn(this)},li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var G=d.JSON.stringify,ot=d.JSON.parse,bt=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function $t(){}function oe(){}var fe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ge(){N.call(this,"d")}A(ge,N);function Ie(){N.call(this,"c")}A(Ie,N);var Vt={},Er=null;function ji(){return Er=Er||new _e}Vt.Ia="serverreachability";function Tr(u){N.call(this,Vt.Ia,u)}A(Tr,N);function xn(u){const m=ji();ve(m,new Tr(m))}Vt.STAT_EVENT="statevent";function Bi(u,m){N.call(this,Vt.STAT_EVENT,u),this.stat=m}A(Bi,N);function Ce(u){const m=ji();ve(m,new Bi(m,u))}Vt.Ja="timingevent";function ui(u,m){N.call(this,Vt.Ja,u),this.size=m}A(ui,N);function ci(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function Nh(u,m,_,T,U,B){u.info(function(){if(u.g)if(B){var W="",wt=B.split("&");for(let Qt=0;Qt<wt.length;Qt++){var Se=wt[Qt].split("=");if(Se.length>1){const de=Se[0];Se=Se[1];const kn=de.split("_");W=kn.length>=2&&kn[1]=="type"?W+(de+"="+Se+"&"):W+(de+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+_+`
`+W})}function su(u,m,_,T,U,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+_+`
`+B+" "+W})}function hi(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(u,_)+(T?" "+T:"")})}function br(u,m){u.info(function(){return"TIMEOUT: "+m})}Kn.prototype.info=function(){};function Dh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return G(B)}catch{return m}}var Sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},So={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ao;function Ar(){}A(Ar,$t),Ar.prototype.g=function(){return new XMLHttpRequest},Ao=new Ar;function Hi(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Qn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new li(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var Ne={},He={};function fi(u,m,_){u.M=1,u.A=wr(xe(m)),u.u=_,u.R=!0,ua(u,null)}function ua(u,m){u.F=Date.now(),di(u),u.B=xe(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),da(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Yn,u.g=Eu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Ke(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(vs[0]=U.toString()),U=vs);for(let B=0;B<U.length;B++){const W=Nt(_,U[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),xn(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}Qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Jn(u)==3?m.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Jn(this.g),Se=this.g.ya(),Qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||wt!=4||Se==7||(Se==8||Qt<=0?xn(3):xn(2)),mi(this);var m=this.g.ca();this.X=m;var _=xh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)hi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,u);else{this.o=!1,this.m=3,Ce(12),En(this),On(this);break t}}if(this.R){u=!0;let de;for(;!this.K&&this.C<_.length;)if(de=ou(this,_),de==He){wt==4&&(this.m=4,Ce(14),u=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(de==Ne){this.m=4,Ce(15),hi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else hi(this.i,this.l,de,null),gi(this,de);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||_.length!=0||this.h.h||(this.m=1,Ce(16),u=!1),this.o=this.o&&u,!u)hi(this.i,this.l,_,"[Invalid Chunked Response]"),En(this),On(this);else if(_.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),zo(W),W.P=!0,Ce(11))}}else hi(this.i,this.l,_,null),gi(this,_);wt==4&&En(this),this.o&&!this.K&&(wt==4?pu(this.j,this):(this.o=!1,di(this)))}else Fi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),En(this),On(this)}}}catch{}};function xh(u){if(!au(u))return u.g.la();const m=Qe(u.g);if(m==="")return"";let _="";const T=m.length,U=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return En(u),On(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?He:(_=Number(m.substring(_,T)),isNaN(_)?Ne:(T+=1,T+_>m.length?He:(m=m.slice(T,T+_),u.C=T+_,m)))}Qn.prototype.cancel=function(){this.K=!0,En(this)};function di(u){u.T=Date.now()+u.H,ca(u,u.H)}function ca(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ci(y(u.aa,u),m)}function mi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(br(this.i,this.B),this.M!=2&&(xn(),Ce(17)),En(this),this.m=2,On(this)):ca(this,this.T-u)};function On(u){u.j.I==0||u.K||pu(u.j,u)}function En(u){mi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,vn(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function gi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||yi(_.h,u))){if(!u.L&&yi(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)_a(_),Is(_);else break t;Or(_),Ce(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ci(y(_.Va,_),6e3));pi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Si(_,11)}else if((u.L||_.g==u)&&_a(_),!w(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let Qt=U[m];const de=Qt[0];if(!(de<=_.K))if(_.K=de,Qt=Qt[1],_.I==2)if(Qt[0]=="c"){_.M=Qt[1],_.ba=Qt[2];const kn=Qt[3];kn!=null&&(_.ka=kn,_.j.info("VER="+_.ka));const Ai=Qt[4];Ai!=null&&(_.za=Ai,_.j.info("SVER="+_.za));const Zn=Qt[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(T=1.5*Zn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Wn=u.g;if(Wn){const Mr=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var B=T.h;B.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Io(B,B.h),B.h=null))}if(T.G){const va=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;va&&(T.wa=va,Jt(T.J,T.G,va))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var W=u;if(T.na=vu(T,T.L?T.ba:null,T.W),W.L){Co(T.h,W);var wt=W,Se=T.O;Se&&(wt.H=Se),wt.D&&(mi(wt),di(wt)),T.g=W}else mu(T);_.i.length>0&&bi(_)}else Qt[0]!="stop"&&Qt[0]!="close"||Si(_,7);else _.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Si(_,7):Uo(_):Qt[0]!="noop"&&_.l&&_.l.qa(Qt),_.A=0)}}xn(4)}catch{}}var De=class{constructor(u,m){this.g=u,this.map=m}};function wo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pi(u){return u.h?1:u.g?u.g.size:0}function yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Io(u,m){u.g?u.g.add(m):u.h=m}function Co(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wo.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function No(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return Y(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let U,B=null;T>=0?(U=u[_].substring(0,T),B=u[_].substring(T+1)):U=u[_],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Tn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Tn?(this.l=u.l,qe(this,u.j),this.o=u.o,this.g=u.g,Es(this,u.u),this.h=u.h,Do(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,qe(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),Es(this,m[4]),this.h=_i(m[5]||"",!0),Do(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new bs(null,this.l))}Tn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Rr(m,fa,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Rr(m,fa,!0),"@"),u.push(Hi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Rr(_,_.charAt(0)=="/"?xo:uu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Rr(_,cu)),u.join("")},Tn.prototype.resolve=function(u){const m=xe(this);let _=!!u.j;_?qe(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)Es(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let W=0;W<U.length;){const wt=U[W++];wt=="."?T&&W==U.length&&B.push(""):wt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==U.length&&B.push("")):(B.push(wt),T=!0)}T=B.join("/")}else T=U}return _?m.h=T:_=u.i.toString()!=="",_?Do(m,fu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function xe(u){return new Tn(u)}function qe(u,m,_){u.j=_?_i(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Es(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Do(u,m,_){m instanceof bs?(u.i=m,ma(u.i,u.l)):(_||(m=Rr(m,Ts)),u.i=new bs(m,u.l))}function Jt(u,m,_){u.i.set(m,_)}function wr(u){return Jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _i(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var fa=/[#\/\?@]/g,uu=/[#\?:]/g,xo=/[#\?]/g,Ts=/[#\?@]/g,cu=/#/g;function bs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&ha(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=bs.prototype,s.add=function(u,m){fn(this),this.i=null,u=Ss(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function hu(u,m){fn(u),m=Ss(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Oo(u,m){return fn(u),m=Ss(u,m),u.g.has(m)}s.forEach=function(u,m){fn(this),this.g.forEach(function(_,T){_.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Mo(u,m){fn(u);let _=[];if(typeof m=="string")Oo(u,m)&&(_=_.concat(u.g.get(Ss(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}s.set=function(u,m){return fn(this),this.i=null,u=Ss(this,u),Oo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Mo(this,u),u.length>0?String(u[0]):m):m};function da(u,m,_){hu(u,m),_.length>0&&(u.i=null,u.g.set(Ss(u,m),Y(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const U=Hi(_);_=Mo(this,_);for(let B=0;B<_.length;B++){let W=U;_[B]!==""&&(W+="="+Hi(_[B])),u.push(W)}}return this.i=u.join("&")};function fu(u){const m=new bs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ss(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ma(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(_,T){const U=T.toLowerCase();T!=U&&(hu(this,T),da(this,U,_))},u)),u.j=m}function Xn(u,m){const _=new Kn;if(d.Image){const T=new Image;T.onload=b(Mn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Mn,_,"TestLoadImage: error",!1,m,T),T.onabort=b(Mn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Mn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vo(u,m){const _=new Kn,T=new AbortController,U=setTimeout(()=>{T.abort(),Mn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?Mn(_,"TestPingServer: ok",!0,m):Mn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Mn(_,"TestPingServer: error",!1,m)})}function Mn(u,m,_,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(_)}catch{}}function As(){this.g=new bt}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(vi,$t),vi.prototype.g=function(){return new Ir(this.i,this.h)};function Ir(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ir,_e),s=Ir.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,$n(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ws(this):$n(this),this.readyState==3&&ga(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ws(this))},s.Na=function(u){this.g&&(this.response=u,ws(this))},s.ga=function(){this.g&&ws(this)};function ws(u){u.readyState=4,u.l=null,u.j=null,u.B=null,$n(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vn(u){let m="";return Mt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Cr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Vn(_),typeof u=="string"?_!=null&&Hi(_):Jt(u,m,_))}function ne(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ne,_e);var Ei=/^https?$/i,ko=["POST","PUT"];s=ne.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ao.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Nr(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)_.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ko,m,void 0)>=0)||T||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of _)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Nr(this,B)}};function Nr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Lo(u),qi(u)}function Lo(u){u.A||(u.A=!0,ve(u,"complete"),ve(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ve(this,"complete"),ve(this,"abort"),qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),ne.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Dr(this):this.Xa())},s.Xa=function(){Dr(this)};function Dr(u){if(u.h&&typeof c<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(ve(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let W=String(u.D).match(lu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!Ei.test(W?W.toLowerCase():"")}_=T}if(_)ve(u,"complete"),ve(u,"success");else{u.o=6;try{var U=Jn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Lo(u)}}finally{qi(u)}}}}function qi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||ve(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ot(m)}};function Qe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(u){const m={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=ru(u[T]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[U]||[];m[U]=B,B.push(_)}qt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Rs(u){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,u),this.Za=Ti("retryDelaySeedMs",1e4,u),this.Ta=Ti("forwardChannelMaxRetries",2,u),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(u&&u.concurrentRequestLimit),this.Ba=new As,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Rs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,_,T){Ce(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=vu(this,null,this.W),bi(this)};function Uo(u){if(pa(u),u.I==3){var m=u.V++,_=xe(u.J);if(Jt(_,"SID",u.M),Jt(_,"RID",m),Jt(_,"TYPE","terminate"),xr(u,_),m=new Qn(u,u.j,m),m.M=2,m.A=wr(xe(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}_u(u)}function Is(u){u.g&&(zo(u),u.g.cancel(),u.g=null)}function pa(u){Is(u),u.v&&(d.clearTimeout(u.v),u.v=null),_a(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function bi(u){if(!Ro(u.h)&&!u.m){u.m=!0;var m=u.Ea;te||S(),Ht||(te(),Ht=!0),C.add(m,u),u.D=0}}function ya(u,m){return pi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ci(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Qn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=x(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=du(this,U,m),_=xe(this.J),Jt(_,"RID",u),Jt(_,"CVER",22),this.G&&Jt(_,"X-HTTP-Session-Id",this.G),xr(this,_),B&&(this.R?m="headers="+Hi(Vn(B))+"&"+m:this.u&&Cr(_,this.u,B)),Io(this.h,U),this.Ra&&Jt(_,"TYPE","init"),this.S?(Jt(_,"$req",m),Jt(_,"SID","null"),U.U=!0,fi(U,_,null)):fi(U,_,m),this.I=2}}else this.I==3&&(u?Po(this,u):this.i.length==0||Ro(this.h)||Po(this))};function Po(u,m){var _;m?_=m.l:_=u.V++;const T=xe(u.J);Jt(T,"SID",u.M),Jt(T,"RID",_),Jt(T,"AID",u.K),xr(u,T),u.u&&u.o&&Cr(T,u.u,u.o),_=new Qn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Io(u.h,_),fi(_,T,m)}function xr(u,m){u.H&&Mt(u.H,function(_,T){Jt(m,T,_)}),u.l&&Mt({},function(_,T){Jt(m,T,_)})}function du(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let wt=-1;for(;;){const Se=["count="+_];wt==-1?_>0?(wt=U[0].g,Se.push("ofs="+wt)):wt=0:Se.push("ofs="+wt);let Qt=!0;for(let de=0;de<_;de++){var B=U[de].g;const kn=U[de].map;if(B-=wt,B<0)wt=Math.max(0,U[de].g-100),Qt=!1;else try{B="req"+B+"_"||"";try{var W=kn instanceof Map?kn:Object.entries(kn);for(const[Ai,Zn]of W){let Wn=Zn;p(Zn)&&(Wn=G(Zn)),Se.push(B+Ai+"="+encodeURIComponent(Wn))}}catch(Ai){throw Se.push(B+"type="+encodeURIComponent("_badmap")),Ai}}catch{T&&T(kn)}}if(Qt){W=Se.join("&");break t}}W=void 0}return u=u.i.splice(0,_),m.G=u,W}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;te||S(),Ht||(te(),Ht=!0),C.add(m,u),u.A=0}}function Or(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ci(y(u.Da,u),yu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ci(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),Is(this),gu(this))};function zo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=xe(u.na);Jt(m,"RID","rpc"),Jt(m,"SID",u.M),Jt(m,"AID",u.K),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Jt(m,"TO",u.ia),Jt(m,"TYPE","xmlhttp"),xr(u,m),u.u&&u.o&&Cr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=wr(xe(m)),_.u=null,_.R=!0,ua(_,u)}s.Va=function(){this.C!=null&&(this.C=null,Is(this),Or(this),Ce(19))};function _a(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var _=null;if(u.g==m){_a(u),zo(u),u.g=null;var T=2}else if(yi(u.h,m))_=m.G,Co(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=ji(),ve(T,new ui(T,_)),bi(u)}else mu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ya(u,m)||T==2&&Or(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),U){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function yu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const U=!T;T=new Tn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qe(T,"https"),wr(T),U?Xn(T.toString(),_):Vo(T.toString(),_)}else Ce(2);u.I=0,u.l&&u.l.pa(m),_u(u),pa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=No(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,_){var T=_ instanceof Tn?xe(_):new Tn(_);if(T.g!="")m&&(T.g=m+"."+T.g),Es(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new Tn(null);T&&qe(B,T),m&&(B.g=m),U&&Es(B,U),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Jt(T,_,m),Jt(T,"VER",u.ka),xr(u,T),T}function Eu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ne(new vi({ab:_})):new ne(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Cs(){}Cs.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){_e.call(this),this.g=new Rs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gi(this)}A(ln,_e),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Uo(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=G(u),u=_);m.i.push(new De(m.Ya++,u)),m.I==3&&bi(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,ln.Z.N.call(this)};function bu(u){ge.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(bu,ge);function Su(){Ie.call(this),this.status=1}A(Su,Ie);function Gi(u){this.g=u}A(Gi,Tu),Gi.prototype.ra=function(){ve(this.g,"a")},Gi.prototype.qa=function(u){ve(this.g,new bu(u))},Gi.prototype.pa=function(u){ve(this.g,new Su)},Gi.prototype.oa=function(){ve(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,gE=function(){return new Cs},mE=function(){return ji()},dE=Vt,tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,Pc=Sr,So.COMPLETE="complete",fE=So,oe.EventType=fe,fe.OPEN="a",fe.CLOSE="b",fe.ERROR="c",fe.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Cl=oe,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,hE=ne}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let _o="12.8.0";function lR(s){_o=s}const na=new ym("@firebase/firestore");function Xa(){return na.logLevel}function rt(s,...t){if(na.logLevel<=Ut.DEBUG){const i=t.map(Cm);na.debug(`Firestore (${_o}): ${s}`,...i)}}function ds(s,...t){if(na.logLevel<=Ut.ERROR){const i=t.map(Cm);na.error(`Firestore (${_o}): ${s}`,...i)}}function lo(s,...t){if(na.logLevel<=Ut.WARN){const i=t.map(Cm);na.warn(`Firestore (${_o}): ${s}`,...i)}}function Cm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function yt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,pE(s,a,i)}function pE(s,t,i){let a=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ds(a),new Error(a)}function Xt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||pE(t,l,a)}function At(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends gs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class yE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class cR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class hR{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Jr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Jr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xt(typeof a.accessToken=="string",31837,{l:a}),new yE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class fR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class dR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new fR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class f0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Xt(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new f0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new f0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Nm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=gR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Pt(s,t){return s<t?-1:s>t?1:0}function em(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return jd(l)===jd(c)?Pt(l,c):jd(l)?1:-1}return Pt(s.length,t.length)}const pR=55296,yR=57343;function jd(s){const t=s.charCodeAt(0);return t>=pR&&t<=yR}function uo(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const d0="__name__";class Ni{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ni.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ni?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ni.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Pt(t.length,i.length)}static compareSegments(t,i){const a=Ni.isNumericId(t),l=Ni.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ni.extractNumericId(t).compare(Ni.extractNumericId(i)):em(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ar.fromString(t.substring(4,t.length-2))}}class ce extends Ni{construct(t,i,a){return new ce(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ce(i)}static emptyPath(){return new ce([])}}const _R=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Ni{construct(t,i,a){return new We(t,i,a)}static isValidIdentifier(t){return _R.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d0}static keyField(){return new We([d0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(i)}static emptyPath(){return new We([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ce.fromString(t))}static fromName(t){return new dt(ce.fromString(t).popFirst(5))}static empty(){return new dt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ce.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ce(t.slice()))}}function _E(s,t,i){if(!i)throw new ut(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function vR(s,t,i,a){if(t===!0&&a===!0)throw new ut(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function m0(s){if(!dt.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function g0(s){if(dt.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function vE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Dm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function io(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dm(s);throw new ut(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ue(s,t){const i={typeString:s};return t&&(i.value=t),i}function Wl(s,t){if(!vE(s))throw new ut(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ut(J.INVALID_ARGUMENT,i);return!0}const p0=-62135596800,y0=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*y0);return new he(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<p0)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y0}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wl(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-p0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Ue("string",he._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new he(0,0))}static max(){return new Et(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bl=-1;function ER(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(a===1e9?new he(i+1,0):new he(i,a));return new lr(l,dt.empty(),t)}function TR(s){return new lr(s.readTime,s.key,Bl)}class lr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new lr(Et.min(),dt.empty(),Bl)}static max(){return new lr(Et.max(),dt.empty(),Bl)}}function bR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,t.documentKey),i!==0?i:Pt(s.largestBatchId,t.largestBatchId))}const SR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function vo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==SR)throw s;rt("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((b=>{d[y]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function wR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Eo(s){return s.name==="IndexedDbTransactionError"}class gh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}gh.ce=-1;const xm=-1;function ph(s){return s==null}function Zc(s){return s===0&&1/s==-1/0}function RR(s){return typeof s=="number"&&Number.isInteger(s)&&!Zc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const EE="";function IR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=_0(t)),t=CR(s.get(i),t);return _0(t)}function CR(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case EE:i+="";break;default:i+=c}}return i}function _0(s){return s+EE+""}function v0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function sa(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function TE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class pe{constructor(t,i){this.comparator=t,this.root=i||Ze.EMPTY}insert(t,i){return new pe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ze.RED,this.left=l??Ze.EMPTY,this.right=c??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ze(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ze.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new E0(this.data.getIterator())}getIteratorFrom(t){return new E0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Be(this.comparator);return i.data=t,i}}class E0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class si{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new si([])}unionWith(t){let i=new Be(We.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new si(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return uo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class bE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new bE("Invalid base64 string: "+c):c}})(t);return new tn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new tn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const NR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(s){if(Xt(!!s,39018),typeof s=="string"){let t=0;const i=NR.exec(s);if(Xt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Re(s.seconds),nanos:Re(s.nanos)}}function Re(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function cr(s){return typeof s=="string"?tn.fromBase64String(s):tn.fromUint8Array(s)}const SE="server_timestamp",AE="__type__",wE="__previous_value__",RE="__local_write_time__";function Om(s){return(s?.mapValue?.fields||{})[AE]?.stringValue===SE}function yh(s){const t=s.mapValue.fields[wE];return Om(t)?yh(t):t}function Hl(s){const t=ur(s.mapValue.fields[RE].timestampValue);return new he(t.seconds,t.nanos)}class DR{constructor(t,i,a,l,c,d,p,v,y,b,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=A}}const Wc="(default)";class ql{constructor(t,i){this.projectId=t,this.database=i||Wc}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(t){return t instanceof ql&&t.projectId===this.projectId&&t.database===this.database}}function xR(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(s.options.projectId,t)}const IE="__type__",OR="__max__",Dc={mapValue:{}},CE="__vector__",th="value";function hr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Om(s)?4:VR(s)?9007199254740991:MR(s)?10:11:yt(28295,{value:s})}function Li(s,t){if(s===t)return!0;const i=hr(s);if(i!==hr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Hl(s).isEqual(Hl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ur(l.timestampValue),p=ur(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return cr(l.bytesValue).isEqual(cr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Re(l.geoPointValue.latitude)===Re(c.geoPointValue.latitude)&&Re(l.geoPointValue.longitude)===Re(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Re(l.integerValue)===Re(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Re(l.doubleValue),p=Re(c.doubleValue);return d===p?Zc(d)===Zc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return uo(s.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(v0(d)!==v0(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Li(d[v],p[v])))return!1;return!0})(s,t);default:return yt(52216,{left:s})}}function Fl(s,t){return(s.values||[]).find((i=>Li(i,t)))!==void 0}function co(s,t){if(s===t)return 0;const i=hr(s),a=hr(t);if(i!==a)return Pt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Re(c.integerValue||c.doubleValue),v=Re(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,t);case 3:return T0(s.timestampValue,t.timestampValue);case 4:return T0(Hl(s),Hl(t));case 5:return em(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=cr(c),v=cr(d);return p.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const b=Pt(p[y],v[y]);if(b!==0)return b}return Pt(p.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Pt(Re(c.latitude),Re(d.latitude));return p!==0?p:Pt(Re(c.longitude),Re(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return b0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[th]?.arrayValue,b=v[th]?.arrayValue,A=Pt(y?.values?.length||0,b?.values?.length||0);return A!==0?A:b0(y,b)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},b=Object.keys(y);v.sort(),b.sort();for(let A=0;A<v.length&&A<b.length;++A){const M=em(v[A],b[A]);if(M!==0)return M;const Y=co(p[v[A]],y[b[A]]);if(Y!==0)return Y}return Pt(v.length,b.length)})(s.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function T0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Pt(s,t);const i=ur(s),a=ur(t),l=Pt(i.seconds,a.seconds);return l!==0?l:Pt(i.nanos,a.nanos)}function b0(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=co(i[l],a[l]);if(c)return c}return Pt(i.length,a.length)}function ho(s){return nm(s)}function nm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=ur(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return cr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=nm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${nm(i.fields[d])}`;return l+"}"})(s.mapValue):yt(61005,{value:s})}function zc(s){switch(hr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yh(s);return t?16+zc(t):16;case 5:return 2*s.stringValue.length;case 6:return cr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return sa(a.fields,((c,d)=>{l+=c.length+zc(d)})),l})(s.mapValue);default:throw yt(13486,{value:s})}}function im(s){return!!s&&"integerValue"in s}function Mm(s){return!!s&&"arrayValue"in s}function S0(s){return!!s&&"nullValue"in s}function A0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function jc(s){return!!s&&"mapValue"in s}function MR(s){return(s?.mapValue?.fields||{})[IE]?.stringValue===CE}function Vl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return sa(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Vl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Vl(s.arrayValue.values[i]);return t}return{...s}}function VR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===OR}class Fn{constructor(t){this.value=t}static empty(){return new Fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!jc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vl(i)}setAll(t){let i=We.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Vl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){sa(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Fn(Vl(this.value))}}function NE(s){const t=[];return sa(s.fields,((i,a)=>{const l=new We([i]);if(jc(a)){const c=NE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new si(t)}class an{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new an(t,0,Et.min(),Et.min(),Et.min(),Fn.empty(),0)}static newFoundDocument(t,i,a,l){return new an(t,1,i,Et.min(),a,l,0)}static newNoDocument(t,i){return new an(t,2,i,Et.min(),Et.min(),Fn.empty(),0)}static newUnknownDocument(t,i){return new an(t,3,i,Et.min(),Et.min(),Fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(t,i){this.position=t,this.inclusive=i}}function w0(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=co(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function R0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Li(s.position[i],t.position[i]))return!1;return!0}class nh{constructor(t,i="asc"){this.field=t,this.dir=i}}function kR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class DE{}class ze extends DE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new UR(t,i,a):i==="array-contains"?new jR(t,a):i==="in"?new BR(t,a):i==="not-in"?new HR(t,a):i==="array-contains-any"?new qR(t,a):new ze(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new PR(t,a):new zR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(co(i,this.value)):i!==null&&hr(this.value)===hr(i)&&this.matchesComparison(co(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends DE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ui(t,i)}matches(t){return xE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xE(s){return s.op==="and"}function OE(s){return LR(s)&&xE(s)}function LR(s){for(const t of s.filters)if(t instanceof Ui)return!1;return!0}function sm(s){if(s instanceof ze)return s.field.canonicalString()+s.op.toString()+ho(s.value);if(OE(s))return s.filters.map((t=>sm(t))).join(",");{const t=s.filters.map((i=>sm(i))).join(",");return`${s.op}(${t})`}}function ME(s,t){return s instanceof ze?(function(a,l){return l instanceof ze&&a.op===l.op&&a.field.isEqual(l.field)&&Li(a.value,l.value)})(s,t):s instanceof Ui?(function(a,l){return l instanceof Ui&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&ME(d,l.filters[p])),!0):!1})(s,t):void yt(19439)}function VE(s){return s instanceof ze?(function(i){return`${i.field.canonicalString()} ${i.op} ${ho(i.value)}`})(s):s instanceof Ui?(function(i){return i.op.toString()+" {"+i.getFilters().map(VE).join(" ,")+"}"})(s):"Filter"}class UR extends ze{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class PR extends ze{constructor(t,i){super(t,"in",i),this.keys=kE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class zR extends ze{constructor(t,i){super(t,"not-in",i),this.keys=kE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function kE(s,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class jR extends ze{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Mm(i)&&Fl(i.arrayValue,this.value)}}class BR extends ze{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Fl(this.value.arrayValue,i)}}class HR extends ze{constructor(t,i){super(t,"not-in",i)}matches(t){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Fl(this.value.arrayValue,i)}}class qR extends ze{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Mm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Fl(this.value.arrayValue,a)))}}class FR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function I0(s,t=null,i=[],a=[],l=null,c=null,d=null){return new FR(s,t,i,a,l,c,d)}function Vm(s){const t=At(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>sm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ph(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>ho(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>ho(a))).join(",")),t.Te=i}return t.Te}function km(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!kR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!ME(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!R0(s.startAt,t.startAt)&&R0(s.endAt,t.endAt)}function rm(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class _h{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function GR(s,t,i,a,l,c,d,p){return new _h(s,t,i,a,l,c,d,p)}function Lm(s){return new _h(s)}function C0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function KR(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function QR(s){return s.collectionGroup!==null}function kl(s){const t=At(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Be(We.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new nh(c,a))})),i.has(We.keyField().canonicalString())||t.Ie.push(new nh(We.keyField(),a))}return t.Ie}function Mi(s){const t=At(s);return t.Ee||(t.Ee=YR(t,kl(s))),t.Ee}function YR(s,t){if(s.limitType==="F")return I0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new nh(l.field,c)}));const i=s.endAt?new eh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new eh(s.startAt.position,s.startAt.inclusive):null;return I0(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function am(s,t,i){return new _h(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function vh(s,t){return km(Mi(s),Mi(t))&&s.limitType===t.limitType}function LE(s){return`${Vm(Mi(s))}|lt:${s.limitType}`}function $a(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>VE(l))).join(", ")}]`),ph(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ho(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ho(l))).join(",")),`Target(${a})`})(Mi(s))}; limitType=${s.limitType})`}function Eh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of kl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const y=w0(d,p,v);return d.inclusive?y<=0:y<0})(a.startAt,kl(a),l)||a.endAt&&!(function(d,p,v){const y=w0(d,p,v);return d.inclusive?y>=0:y>0})(a.endAt,kl(a),l))})(s,t)}function XR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function UE(s){return(t,i)=>{let a=!1;for(const l of kl(s)){const c=$R(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function $R(s,t,i){const a=s.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?co(v,y):yt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:s.dir})}}class ra{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){sa(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return TE(this.inner)}size(){return this.innerSize}}const JR=new pe(dt.comparator);function ms(){return JR}const PE=new pe(dt.comparator);function Nl(...s){let t=PE;for(const i of s)t=t.insert(i.key,i);return t}function zE(s){let t=PE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function $r(){return Ll()}function jE(){return Ll()}function Ll(){return new ra((s=>s.toString()),((s,t)=>s.isEqual(t)))}const ZR=new pe(dt.comparator),WR=new Be(dt.comparator);function zt(...s){let t=WR;for(const i of s)t=t.add(i);return t}const tI=new Be(Pt);function eI(){return tI}function Um(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function BE(s){return{integerValue:""+s}}function nI(s,t){return RR(t)?BE(t):Um(s,t)}class Th{constructor(){this._=void 0}}function iI(s,t,i){return s instanceof ih?(function(l,c){const d={fields:{[AE]:{stringValue:SE},[RE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Om(c)&&(c=yh(c)),c&&(d.fields[wE]=c),{mapValue:d}})(i,t):s instanceof Gl?qE(s,t):s instanceof Kl?FE(s,t):(function(l,c){const d=HE(l,c),p=N0(d)+N0(l.Ae);return im(d)&&im(l.Ae)?BE(p):Um(l.serializer,p)})(s,t)}function sI(s,t,i){return s instanceof Gl?qE(s,t):s instanceof Kl?FE(s,t):i}function HE(s,t){return s instanceof sh?(function(a){return im(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class ih extends Th{}class Gl extends Th{constructor(t){super(),this.elements=t}}function qE(s,t){const i=GE(t);for(const a of s.elements)i.some((l=>Li(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Kl extends Th{constructor(t){super(),this.elements=t}}function FE(s,t){let i=GE(t);for(const a of s.elements)i=i.filter((l=>!Li(l,a)));return{arrayValue:{values:i}}}class sh extends Th{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function N0(s){return Re(s.integerValue||s.doubleValue)}function GE(s){return Mm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function rI(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Gl&&l instanceof Gl||a instanceof Kl&&l instanceof Kl?uo(a.elements,l.elements,Li):a instanceof sh&&l instanceof sh?Li(a.Ae,l.Ae):a instanceof ih&&l instanceof ih})(s.transform,t.transform)}class aI{constructor(t,i){this.version=t,this.transformResults=i}}class us{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new us}static exists(t){return new us(void 0,t)}static updateTime(t){return new us(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class bh{}function KE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new YE(s.key,us.none()):new tu(s.key,s.data,us.none());{const i=s.data,a=Fn.empty();let l=new Be(We.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new aa(s.key,a,new si(l.toArray()),us.none())}}function oI(s,t,i){s instanceof tu?(function(l,c,d){const p=l.value.clone(),v=x0(l.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof aa?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=x0(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(QE(l)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ul(s,t,i,a){return s instanceof tu?(function(c,d,p,v){if(!Bc(c.precondition,d))return p;const y=c.value.clone(),b=O0(c.fieldTransforms,v,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof aa?(function(c,d,p,v){if(!Bc(c.precondition,d))return p;const y=O0(c.fieldTransforms,v,d),b=d.data;return b.setAll(QE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,a):(function(c,d,p){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function lI(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=HE(a.transform,l||null);c!=null&&(i===null&&(i=Fn.empty()),i.set(a.field,c))}return i||null}function D0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&uo(a,l,((c,d)=>rI(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class tu extends bh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class aa extends bh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function QE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function x0(s,t,i){const a=new Map;Xt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,sI(d,p,i[l]))}return a}function O0(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,iI(c,d,t))}return a}class YE extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uI extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cI{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&oI(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ul(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ul(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=jE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const v=KE(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&uo(this.mutations,t.mutations,((i,a)=>D0(i,a)))&&uo(this.baseMutations,t.baseMutations,((i,a)=>D0(i,a)))}}class Pm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Xt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return ZR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Pm(t,i,a,l)}}class hI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class fI{constructor(t,i){this.count=t,this.unchangedNames=i}}var Le,Bt;function dI(s){switch(s){case J.OK:return yt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function XE(s){if(s===void 0)return ds("GRPC error has no .code"),J.UNKNOWN;switch(s){case Le.OK:return J.OK;case Le.CANCELLED:return J.CANCELLED;case Le.UNKNOWN:return J.UNKNOWN;case Le.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Le.INTERNAL:return J.INTERNAL;case Le.UNAVAILABLE:return J.UNAVAILABLE;case Le.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Le.NOT_FOUND:return J.NOT_FOUND;case Le.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Le.ABORTED:return J.ABORTED;case Le.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Le.DATA_LOSS:return J.DATA_LOSS;default:return yt(39323,{code:s})}}(Bt=Le||(Le={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function mI(){return new TextEncoder}const gI=new ar([4294967295,4294967295],0);function M0(s){const t=mI().encode(s),i=new cE;return i.update(t),new Uint8Array(i.digest())}function V0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ar([i,a],0),new ar([l,c],0)]}class zm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Dl(`Invalid padding: ${i}`);if(a<0)throw new Dl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ar.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(ar.fromNumber(a)));return l.compare(gI)===1&&(l=new ar([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=M0(t),[a,l]=V0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new zm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=M0(t),[a,l]=V0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,eu.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Sh(Et.min(),l,new pe(Pt),ms(),zt())}}class eu{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new eu(a,i,zt(),zt(),zt())}}class Hc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class $E{constructor(t,i){this.targetId=t,this.Ce=i}}class JE{constructor(t,i,a=tn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class k0{constructor(){this.ve=0,this.Fe=L0(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt(38017,{changeType:c})}})),new eu(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=L0()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class pI{constructor(t){this.Ge=t,this.ze=new Map,this.je=ms(),this.He=xc(),this.Je=xc(),this.Ze=new pe(Pt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(rm(c))if(a===0){const d=new dt(c.path);this.et(i,d,an.newNoDocument(d,Et.min()))}else Xt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=cr(a).toUint8Array()}catch(v){if(v instanceof bE)return lo("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new zm(d,l,c)}catch(v){return lo(v instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&rm(p.target)){const v=new dt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,an.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=zt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Sh(t,i,this.Ze,this.je,a);return this.je=ms(),this.He=xc(),this.Je=xc(),this.Ze=new pe(Pt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new k0,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Be(Pt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Be(Pt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new k0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function xc(){return new pe(dt.comparator)}function L0(){return new pe(dt.comparator)}const yI={asc:"ASCENDING",desc:"DESCENDING"},_I={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vI={and:"AND",or:"OR"};class EI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function om(s,t){return s.useProto3Json||ph(t)?t:{value:t}}function rh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ZE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function TI(s,t){return rh(s,t.toTimestamp())}function Vi(s){return Xt(!!s,49232),Et.fromTimestamp((function(i){const a=ur(i);return new he(a.seconds,a.nanos)})(s))}function jm(s,t){return lm(s,t).canonicalString()}function lm(s,t){const i=(function(l){return new ce(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function WE(s){const t=ce.fromString(s);return Xt(sT(t),10190,{key:t.toString()}),t}function um(s,t){return jm(s.databaseId,t.path)}function Bd(s,t){const i=WE(t);if(i.get(1)!==s.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(eT(i))}function tT(s,t){return jm(s.databaseId,t)}function bI(s){const t=WE(s);return t.length===4?ce.emptyPath():eT(t)}function cm(s){return new ce(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function eT(s){return Xt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function U0(s,t,i){return{name:um(s,t),fields:i.value.mapValue.fields}}function SI(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Xt(b===void 0||typeof b=="string",58123),tn.fromBase64String(b||"")):(Xt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),tn.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?J.UNKNOWN:XE(y.code);return new ut(b,y.message||"")})(d);i=new JE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Bd(s,a.document.name),c=Vi(a.document.updateTime),d=a.document.createTime?Vi(a.document.createTime):Et.min(),p=new Fn({mapValue:{fields:a.document.fields}}),v=an.newFoundDocument(l,c,d,p),y=a.targetIds||[],b=a.removedTargetIds||[];i=new Hc(y,b,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Bd(s,a.document),c=a.readTime?Vi(a.readTime):Et.min(),d=an.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Hc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Bd(s,a.document),c=a.removedTargetIds||[];i=new Hc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new fI(l,c),p=a.targetId;i=new $E(p,d)}}return i}function AI(s,t){let i;if(t instanceof tu)i={update:U0(s,t.key,t.value)};else if(t instanceof YE)i={delete:um(s,t.key)};else if(t instanceof aa)i={update:U0(s,t.key,t.data),updateMask:MI(t.fieldMask)};else{if(!(t instanceof uI))return yt(16599,{dt:t.type});i={verify:um(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof ih)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Gl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof sh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:TI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(s,t.precondition)),i}function wI(s,t){return s&&s.length>0?(Xt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Vi(l.updateTime):Vi(c);return d.isEqual(Et.min())&&(d=Vi(c)),new aI(d,l.transformResults||[])})(i,t)))):[]}function RI(s,t){return{documents:[tT(s,t.path)]}}function II(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=tT(s,l);const c=(function(y){if(y.length!==0)return iT(Ui.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(M){return{field:Ja(M.field),direction:DI(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=om(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function CI(s){let t=bI(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Xt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const M=nT(A);return M instanceof Ui&&OE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(Z){return new nh(Za(Z.field),(function(st){switch(st){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let M;return M=typeof A=="object"?A.value:A,ph(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(A){const M=!!A.before,Y=A.values||[];return new eh(Y,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const M=!A.before,Y=A.values||[];return new eh(Y,M)})(i.endAt)),GR(t,l,d,c,p,"F",v,y)}function NI(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function nT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Za(i.unaryFilter.field);return ze.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Za(i.unaryFilter.field);return ze.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Za(i.unaryFilter.field);return ze.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Za(i.unaryFilter.field);return ze.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return ze.create(Za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ui.create(i.compositeFilter.filters.map((a=>nT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(s):yt(30097,{filter:s})}function DI(s){return yI[s]}function xI(s){return _I[s]}function OI(s){return vI[s]}function Ja(s){return{fieldPath:s.canonicalString()}}function Za(s){return We.fromServerFormat(s.fieldPath)}function iT(s){return s instanceof ze?(function(i){if(i.op==="=="){if(A0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NAN"}};if(S0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(A0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NAN"}};if(S0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(i.field),op:xI(i.op),value:i.value}}})(s):s instanceof Ui?(function(i){const a=i.getFilters().map((l=>iT(l)));return a.length===1?a[0]:{compositeFilter:{op:OI(i.op),filters:a}}})(s):yt(54877,{filter:s})}function MI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function sT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function rT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class nr{constructor(t,i,a,l,c=Et.min(),d=Et.min(),p=tn.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new nr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class VI{constructor(t){this.yt=t}}function kI(s){const t=CI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?am(t,t.limit,"L"):t}class LI{constructor(){this.Sn=new UI}addToCollectionParentIndex(t,i){return this.Sn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(lr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(lr.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class UI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Be(ce.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Be(ce.comparator)).toArray()}}const P0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aT=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(aT,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class fo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new fo(0)}static ar(){return new fo(-1)}}const z0="LruGarbageCollector",PI=1048576;function j0([s,t],[i,a]){const l=Pt(s,i);return l===0?Pt(t,a):l}class zI{constructor(t){this.Pr=t,this.buffer=new Be(j0),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();j0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class jI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){rt(z0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Eo(i)?rt(z0,"Ignoring IndexedDB error during garbage collection: ",i):await vo(i)}await this.Ar(3e5)}))}}class BI{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(gh.ce);const a=new zI(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(P0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P0):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,v,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(y=Date.now(),Xa()<=Ut.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${A} documents in `+(y-v)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function HI(s,t){return new BI(s,t)}class qI{constructor(){this.changes=new ra((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class FI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class GI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ul(a.mutation,l,si.empty(),he.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const l=$r();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Nl();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=$r();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=ms();const d=Ll(),p=(function(){return Ll()})();return i.forEach(((v,y)=>{const b=a.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof aa)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Ul(b.mutation,y,b.mutation.getFieldMask(),he.now())):d.set(y.key,si.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>p.set(y,new FI(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Ll();let l=new pe(((d,p)=>d-p)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let b=a.get(v)||si.empty();b=p.applyToLocalView(y,b),a.set(v,b);const A=(l.get(p.batchId)||zt()).add(v);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,b=v.value,A=jE();b.forEach((M=>{if(!c.has(M)){const Y=KE(i.get(M),a.get(M));Y!==null&&A.set(M,Y),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return KR(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):QR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve($r());let p=Bl,v=c;return d.next((y=>$.forEach(y,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{v=v.insert(b,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,zt()))).next((b=>({batchId:p,changes:zE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=Nl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Nl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(v=>{const y=(function(A,M){return new _h(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((b=>{b.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,an.newInvalidDocument(b)))}));let p=Nl();return d.forEach(((v,y)=>{const b=c.get(v);b!==void 0&&Ul(b.mutation,y,si.empty(),he.now()),Eh(i,y)&&(p=p.insert(v,y))})),p}))}}class KI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Vi(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:kI(l.bundledQuery),readTime:Vi(l.readTime)}})(i)),$.resolve()}}class QI{constructor(){this.overlays=new pe(dt.comparator),this.Lr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=$r();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=$r(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new pe(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=$r(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=$r(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=l)););return $.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new hI(i,a));let c=this.Lr.get(i);c===void 0&&(c=zt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class YI{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Bm{constructor(){this.kr=new Be(Ge.Kr),this.qr=new Be(Ge.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Ge(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Ge(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new dt(new ce([])),a=new Ge(i,t),l=new Ge(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new dt(new ce([])),a=new Ge(i,t),l=new Ge(i,t+1);let c=zt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ge(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ge{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return dt.comparator(t.key,i.key)||Pt(t.Hr,i.Hr)}static Ur(t,i){return Pt(t.Hr,i.Hr)||dt.comparator(t.key,i.key)}}class XI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Be(Ge.Kr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new cI(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Ge(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?xm:this.Yn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ge(i,0),l=new Ge(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Be(Pt);return i.forEach((l=>{const c=new Ge(l,0),d=new Ge(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new Ge(new dt(c),0);let p=new Be(Pt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(v.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Xt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(l=>{const c=new Ge(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Ge(i,0),l=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class $I{constructor(t){this.ti=t,this.docs=(function(){return new pe(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(t,i){let a=ms();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():an.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ms();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:b}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||bR(TR(b),a)<=0||(l.has(b.key)||Eh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){yt(9500)}ni(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new JI(this)}getSize(t){return $.resolve(this.size)}}class JI extends qI{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class ZI{constructor(t){this.persistence=t,this.ri=new ra((i=>Vm(i)),km),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new Bm,this.targetCount=0,this.oi=fo._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new fo(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.lr(i),$.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this.si.containsKey(i))}}class oT{constructor(t,i){this._i={},this.overlays={},this.ai=new gh(0),this.ui=!1,this.ui=!0,this.ci=new YI,this.referenceDelegate=t(this),this.li=new ZI(this),this.indexManager=new LI,this.remoteDocumentCache=(function(l){return new $I(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new VI(i),this.Pi=new KI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new QI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new XI(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new WI(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class WI extends AR{constructor(t){super(),this.currentSequenceNumber=t}}class Hm{constructor(t){this.persistence=t,this.Ri=new Bm,this.Ai=null}static Vi(t){return new Hm(t)}get di(){if(this.Ai)return this.Ai;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const l=dt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class ah{constructor(t,i){this.persistence=t,this.fi=new ra((a=>IR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=HI(this,i)}static Vi(t,i){return new ah(t,i)}Ti(){}Ii(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return $.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=zc(t.data.value)),i}wr(t,i,a){return $.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class qm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=zt(),l=zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new qm(t,i.fromCache,a,l)}}class tC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class eC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return IS()?8:wR(on())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new tC;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Xa()<=Ut.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",$a(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Xa()<=Ut.DEBUG&&rt("QueryEngine","Query:",$a(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Xa()<=Ut.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",$a(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(i))):$.resolve())}gs(t,i){if(C0(i))return $.resolve(null);let a=Mi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=am(i,null,"F"),a=Mi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=zt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,p);return this.Ss(i,y,d,v.readTime)?this.gs(t,am(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,l){return C0(i)||l.isEqual(Et.min())?$.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?$.resolve(null):(Xa()<=Ut.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),$a(i)),this.Ds(t,d,i,ER(l,Bl)).next((p=>p)))}))}bs(t,i){let a=new Be(UE(t));return i.forEach(((l,c)=>{Eh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Xa()<=Ut.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",$a(i)),this.fs.getDocumentsMatchingQuery(t,i,lr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Fm="LocalStore",nC=3e8;class iC{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new pe(Pt),this.Fs=new ra((c=>Vm(c)),km),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new GI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function sC(s,t,i,a){return new iC(s,t,i,a)}async function lT(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=zt();for(const y of l){d.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function rC(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,b){const A=y.batch,M=A.keys();let Y=$.resolve();return M.forEach((Z=>{Y=Y.next((()=>b.getEntry(v,Z))).next((nt=>{const st=y.docVersions.get(Z);Xt(st!==null,48541),nt.version.compareTo(st)<0&&(A.applyToRemoteDocument(nt,y),nt.isValidDocument()&&(nt.setReadTime(y.commitVersion),b.addEntry(nt)))}))})),Y.next((()=>p.mutationQueue.removeMutationBatch(v,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=zt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function uT(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function aC(s,t){const i=At(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((b,A)=>{const M=l.get(A);if(!M)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,A))));let Y=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?Y=Y.withResumeToken(tn.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):b.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(b.resumeToken,a)),l=l.insert(A,Y),(function(nt,st,mt){return nt.resumeToken.approximateByteSize()===0||st.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=nC?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(M,Y,b)&&p.push(i.li.updateTargetData(c,Y))}));let v=ms(),y=zt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(oC(c,d,t.documentUpdates).next((b=>{v=b.Bs,y=b.Ls}))),!a.isEqual(Et.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=l,c)))}function oC(s,t,i){let a=zt(),l=zt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=ms();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(Et.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):rt(Fm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function lC(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=xm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function uC(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new nr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function hm(s,t,i){const a=At(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Eo(d))throw d;rt(Fm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function B0(s,t,i){const a=At(s);let l=Et.min(),c=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,b){const A=At(v),M=A.Fs.get(b);return M!==void 0?$.resolve(A.vs.get(M)):A.li.getTargetData(y,b)})(a,d,Mi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:zt()))).next((p=>(cC(a,XR(t),p),{documents:p,ks:c})))))}function cC(s,t,i){let a=s.Ms.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class H0{constructor(){this.activeTargetIds=eI()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hC{constructor(){this.vo=new H0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new H0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class fC{Mo(t){}shutdown(){}}const q0="ConnectivityMonitor";class F0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){rt(q0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){rt(q0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function fm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Hd="RestConnection",dC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class mC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Wc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=fm(),p=this.Qo(t,i.toUriEncodedString());rt(Hd,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:y}=new URL(p),b=go(y);return this.zo(t,p,v,a,b).then((A=>(rt(Hd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw lo(Hd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=dC[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class gC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const sn="WebChannelConnection",Al=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class so extends mC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!so.c_){const t=mE();Al(t,dE.STAT_EVENT,(i=>{i.stat===tm.PROXY?rt(sn,"STAT_EVENT: detected buffering proxy"):i.stat===tm.NOPROXY&&rt(sn,"STAT_EVENT: detected no buffering proxy")})),so.c_=!0}}zo(t,i,a,l,c){const d=fm();return new Promise(((p,v)=>{const y=new hE;y.setWithCredentials(!0),y.listenOnce(fE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Pc.NO_ERROR:const A=y.getResponseJson();rt(sn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Pc.TIMEOUT:rt(sn,`RPC '${t}' ${d} timed out`),v(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const M=y.getStatus();if(rt(sn,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let Y=y.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const Z=Y?.error;if(Z&&Z.status&&Z.message){const nt=(function(mt){const ft=mt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ft)>=0?ft:J.UNKNOWN})(Z.status);v(new ut(nt,Z.message))}else v(new ut(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ut(J.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(sn,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);rt(sn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=fm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");rt(sn,`Creating RPC '${t}' stream ${l}: ${y}`,p);const b=d.createWebChannel(y,p);this.I_(b);let A=!1,M=!1;const Y=new gC({Ho:Z=>{M?rt(sn,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(A||(rt(sn,`Opening RPC '${t}' stream ${l} transport.`),b.open(),A=!0),rt(sn,`RPC '${t}' stream ${l} sending:`,Z),b.send(Z))},Jo:()=>b.close()});return Al(b,Cl.EventType.OPEN,(()=>{M||(rt(sn,`RPC '${t}' stream ${l} transport opened.`),Y.i_())})),Al(b,Cl.EventType.CLOSE,(()=>{M||(M=!0,rt(sn,`RPC '${t}' stream ${l} transport closed`),Y.o_(),this.E_(b))})),Al(b,Cl.EventType.ERROR,(Z=>{M||(M=!0,lo(sn,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),Y.o_(new ut(J.UNAVAILABLE,"The operation could not be completed")))})),Al(b,Cl.EventType.MESSAGE,(Z=>{if(!M){const nt=Z.data[0];Xt(!!nt,16349);const st=nt,mt=st?.error||st[0]?.error;if(mt){rt(sn,`RPC '${t}' stream ${l} received error:`,mt);const ft=mt.status;let _t=(function(Ht){const C=Le[Ht];if(C!==void 0)return XE(C)})(ft),Ot=mt.message;_t===void 0&&(_t=J.INTERNAL,Ot="Unknown error status: "+ft+" with message "+mt.message),M=!0,Y.o_(new ut(_t,Ot)),b.close()}else rt(sn,`RPC '${t}' stream ${l} received:`,nt),Y.__(nt)}})),so.u_(),setTimeout((()=>{Y.s_()}),0),Y}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return gE()}}function pC(s){return new so(s)}function qd(){return typeof document<"u"?document:null}function Ah(s){return new EI(s,!0)}so.c_=!1;class cT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const G0="PersistentStream";class hT{constructor(t,i,a,l,c,d,p,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ds(i.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ut(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(G0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(rt(G0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yC extends hT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=SI(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Vi(d.readTime):Et.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=cm(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=rm(v)?{documents:RI(c,v)}:{query:II(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=ZE(c,d.resumeToken);const y=om(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=rh(c,d.snapshotVersion.toTimestamp());const y=om(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=NI(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=cm(this.serializer),i.removeTarget=t,this.K_(i)}}class _C extends hT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=wI(t.writeResults,t.commitTime),a=Vi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=cm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>AI(this.serializer,a)))};this.K_(i)}}class vC{}class EC extends vC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,lm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(J.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,lm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function TC(s,t,i,a){return new EC(s,t,i,a)}class bC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ds(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class SC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{oa(this)&&(rt(ia,"Restarting streams for network reachability change."),await(async function(v){const y=At(v);y.Ea.add(4),await nu(y),y.Va.set("Unknown"),y.Ea.delete(4),await wh(y)})(this))}))})),this.Va=new bC(a,l)}}async function wh(s){if(oa(s))for(const t of s.Ra)await t(!0)}async function nu(s){for(const t of s.Ra)await t(!1)}function fT(s,t){const i=At(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Ym(i)?Qm(i):To(i).O_()&&Km(i,t))}function Gm(s,t){const i=At(s),a=To(i);i.Ia.delete(t),a.O_()&&dT(i,t),i.Ia.size===0&&(a.O_()?a.L_():oa(i)&&i.Va.set("Unknown"))}function Km(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}To(s).Z_(t)}function dT(s,t){s.da.$e(t),To(s).X_(t)}function Qm(s){s.da=new pI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),To(s).start(),s.Va.ua()}function Ym(s){return oa(s)&&!To(s).x_()&&s.Ia.size>0}function oa(s){return At(s).Ea.size===0}function mT(s){s.da=void 0}async function AC(s){s.Va.set("Online")}async function wC(s){s.Ia.forEach(((t,i)=>{Km(s,t)}))}async function RC(s,t){mT(s),Ym(s)?(s.Va.ha(t),Qm(s)):s.Va.set("Unknown")}async function IC(s,t,i){if(s.Va.set("Online"),t instanceof JE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,t)}catch(a){rt(ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await oh(s,a)}else if(t instanceof Hc?s.da.Xe(t):t instanceof $E?s.da.st(t):s.da.tt(t),!i.isEqual(Et.min()))try{const a=await uT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const b=c.Ia.get(v);if(!b)return;c.Ia.set(v,b.withResumeToken(tn.EMPTY_BYTE_STRING,b.snapshotVersion)),dT(c,v);const A=new nr(b.target,v,y,b.sequenceNumber);Km(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){rt(ia,"Failed to raise snapshot:",a),await oh(s,a)}}async function oh(s,t,i){if(!Eo(t))throw t;s.Ea.add(1),await nu(s),s.Va.set("Offline"),i||(i=()=>uT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt(ia,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await wh(s)}))}function gT(s,t){return t().catch((i=>oh(s,i,t)))}async function Rh(s){const t=At(s),i=fr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:xm;for(;CC(t);)try{const l=await lC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,NC(t,l)}catch(l){await oh(t,l)}pT(t)&&yT(t)}function CC(s){return oa(s)&&s.Ta.length<10}function NC(s,t){s.Ta.push(t);const i=fr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function pT(s){return oa(s)&&!fr(s).x_()&&s.Ta.length>0}function yT(s){fr(s).start()}async function DC(s){fr(s).ra()}async function xC(s){const t=fr(s);for(const i of s.Ta)t.ea(i.mutations)}async function OC(s,t,i){const a=s.Ta.shift(),l=Pm.from(a,t,i);await gT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Rh(s)}async function MC(s,t){t&&fr(s).Y_&&await(async function(a,l){if((function(d){return dI(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();fr(a).B_(),await gT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Rh(a)}})(s,t),pT(s)&&yT(s)}async function K0(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),rt(ia,"RemoteStore received new credentials");const a=oa(i);i.Ea.add(3),await nu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await wh(i)}async function VC(s,t){const i=At(s);t?(i.Ea.delete(2),await wh(i)):t||(i.Ea.add(2),await nu(i),i.Va.set("Unknown"))}function To(s){return s.ma||(s.ma=(function(i,a,l){const c=At(i);return c.sa(),new yC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:AC.bind(null,s),Yo:wC.bind(null,s),t_:RC.bind(null,s),J_:IC.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Ym(s)?Qm(s):s.Va.set("Unknown")):(await s.ma.stop(),mT(s))}))),s.ma}function fr(s){return s.fa||(s.fa=(function(i,a,l){const c=At(i);return c.sa(),new _C(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:DC.bind(null,s),t_:MC.bind(null,s),ta:xC.bind(null,s),na:OC.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Rh(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Xm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Xm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $m(s,t){if(ds("AsyncQueue",`${t}: ${s}`),Eo(s))return new ut(J.UNAVAILABLE,`${t}: ${s}`);throw s}class ro{static emptySet(t){return new ro(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=Nl(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ro)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new ro;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Q0{constructor(){this.ga=new pe(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class mo{constructor(t,i,a,l,c,d,p,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new mo(t,i,ro.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class kC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class LC{constructor(){this.queries=Y0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=Y0(),c.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function Y0(){return new ra((s=>LE(s)),vh)}async function UC(s,t){const i=At(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new kC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=$m(d,`Initialization of query '${$a(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Jm(i)}async function PC(s,t){const i=At(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function zC(s,t){const i=At(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&Jm(i)}function jC(s,t,i){const a=At(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function Jm(s){s.Ca.forEach((t=>{t.next()}))}var dm,X0;(X0=dm||(dm={})).Ma="default",X0.Cache="cache";class BC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new mo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=mo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dm.Cache}}class _T{constructor(t){this.key=t}}class vT{constructor(t){this.key=t}}class HC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=zt(),this.mutatedKeys=zt(),this.eu=UE(t),this.tu=new ro(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Q0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,A)=>{const M=l.get(b),Y=Eh(this.query,A)?A:null,Z=!!M&&this.mutatedKeys.has(M.key),nt=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let st=!1;M&&Y?M.data.isEqual(Y.data)?Z!==nt&&(a.track({type:3,doc:Y}),st=!0):this.su(M,Y)||(a.track({type:2,doc:Y}),st=!0,(v&&this.eu(Y,v)>0||y&&this.eu(Y,y)<0)&&(p=!0)):!M&&Y?(a.track({type:0,doc:Y}),st=!0):M&&!Y&&(a.track({type:1,doc:M}),st=!0,(v||y)&&(p=!0)),st&&(Y?(d=d.add(Y),c=nt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(Y,Z){const nt=st=>{switch(st){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:st})}};return nt(Y)-nt(Z)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new mo(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Q0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new vT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new _T(a))})),i}cu(t){this.Za=t.ks,this.Ya=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Zm="SyncEngine";class qC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class FC{constructor(t){this.key=t,this.hu=!1}}class GC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ra((p=>LE(p)),vh),this.Iu=new Map,this.Eu=new Set,this.Ru=new pe(dt.comparator),this.Au=new Map,this.Vu=new Bm,this.du={},this.mu=new Map,this.fu=fo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KC(s,t,i=!0){const a=wT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await ET(a,t,i,!0),l}async function QC(s,t){const i=wT(s);await ET(i,t,!0,!1)}async function ET(s,t,i,a){const l=await uC(s.localStore,Mi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await YC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&fT(s.remoteStore,l),p}async function YC(s,t,i,a,l){s.pu=(A,M,Y)=>(async function(nt,st,mt,ft){let _t=st.view.ru(mt);_t.Ss&&(_t=await B0(nt.localStore,st.query,!1).then((({documents:C})=>st.view.ru(C,_t))));const Ot=ft&&ft.targetChanges.get(st.targetId),te=ft&&ft.targetMismatches.get(st.targetId)!=null,Ht=st.view.applyChanges(_t,nt.isPrimaryClient,Ot,te);return J0(nt,st.targetId,Ht.au),Ht.snapshot})(s,A,M,Y);const c=await B0(s.localStore,t,!0),d=new HC(t,c.ks),p=d.ru(c.documents),v=eu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,v);J0(s,i,y.au);const b=new qC(t,i,d);return s.Tu.set(t,b),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function XC(s,t,i){const a=At(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!vh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await hm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Gm(a.remoteStore,l.targetId),mm(a,l.targetId)})).catch(vo)):(mm(a,l.targetId),await hm(a.localStore,l.targetId,!0))}async function $C(s,t){const i=At(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Gm(i.remoteStore,a.targetId))}async function JC(s,t,i){const a=sN(s);try{const l=await(function(d,p){const v=At(d),y=he.now(),b=p.reduce(((Y,Z)=>Y.add(Z.key)),zt());let A,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let Z=ms(),nt=zt();return v.xs.getEntries(Y,b).next((st=>{Z=st,Z.forEach(((mt,ft)=>{ft.isValidDocument()||(nt=nt.add(mt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Y,Z))).next((st=>{A=st;const mt=[];for(const ft of p){const _t=lI(ft,A.get(ft.key).overlayedDocument);_t!=null&&mt.push(new aa(ft.key,_t,NE(_t.value.mapValue),us.exists(!0)))}return v.mutationQueue.addMutationBatch(Y,y,mt,p)})).next((st=>{M=st;const mt=st.applyToLocalDocumentSet(A,nt);return v.documentOverlayCache.saveOverlays(Y,st.batchId,mt)}))})).then((()=>({batchId:M.batchId,changes:zE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let y=d.du[d.currentUser.toKey()];y||(y=new pe(Pt)),y=y.insert(p,v),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await iu(a,l.changes),await Rh(a.remoteStore)}catch(l){const c=$m(l,"Failed to persist write");i.reject(c)}}async function TT(s,t){const i=At(s);try{const a=await aC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xt(d.hu,14607):l.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))})),await iu(i,a,t)}catch(a){await vo(a)}}function $0(s,t,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=At(d);v.onlineState=p;let y=!1;v.queries.forEach(((b,A)=>{for(const M of A.ba)M.va(p)&&(y=!0)})),y&&Jm(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function ZC(s,t,i){const a=At(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new pe(dt.comparator);d=d.insert(c,an.newNoDocument(c,Et.min()));const p=zt().add(c),v=new Sh(Et.min(),new Map,new pe(Pt),d,p);await TT(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),Wm(a)}else await hm(a.localStore,t,!1).then((()=>mm(a,t,i))).catch(vo)}async function WC(s,t){const i=At(s),a=t.batch.batchId;try{const l=await rC(i.localStore,t);ST(i,a,null),bT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await iu(i,l)}catch(l){await vo(l)}}async function tN(s,t,i){const a=At(s);try{const l=await(function(d,p){const v=At(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return v.mutationQueue.lookupMutationBatch(y,p).next((A=>(Xt(A!==null,37113),b=A.keys(),v.mutationQueue.removeMutationBatch(y,A)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>v.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);ST(a,t,i),bT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await iu(a,l)}catch(l){await vo(l)}}function bT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function ST(s,t,i){const a=At(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function mm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||AT(s,a)}))}function AT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Gm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),Wm(s))}function J0(s,t,i){for(const a of i)a instanceof _T?(s.Vu.addReference(a.key,t),eN(s,a)):a instanceof vT?(rt(Zm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||AT(s,a.key)):yt(19791,{wu:a})}function eN(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(rt(Zm,"New document in limbo: "+i),s.Eu.add(a),Wm(s))}function Wm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new dt(ce.fromString(t)),a=s.fu.next();s.Au.set(a,new FC(i)),s.Ru=s.Ru.insert(i,a),fT(s.remoteStore,new nr(Mi(Lm(i.path)),a,"TargetPurposeLimboResolution",gh.ce))}}async function iu(s,t,i){const a=At(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(y){l.push(y);const b=qm.Es(v.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,y){const b=At(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(y,(M=>$.forEach(M.Ts,(Y=>b.persistence.referenceDelegate.addReference(A,M.targetId,Y))).next((()=>$.forEach(M.Is,(Y=>b.persistence.referenceDelegate.removeReference(A,M.targetId,Y)))))))))}catch(A){if(!Eo(A))throw A;rt(Fm,"Failed to update sequence numbers: "+A)}for(const A of y){const M=A.targetId;if(!A.fromCache){const Y=b.vs.get(M),Z=Y.snapshotVersion,nt=Y.withLastLimboFreeSnapshotVersion(Z);b.vs=b.vs.insert(M,nt)}}})(a.localStore,c))}async function nN(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){rt(Zm,"User change. New user:",t.toKey());const a=await lT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new ut(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await iu(i,a.Ns)}}function iN(s,t){const i=At(s),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let l=zt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function wT(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=TT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZC.bind(null,t),t.Pu.J_=zC.bind(null,t.eventManager),t.Pu.yu=jC.bind(null,t.eventManager),t}function sN(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tN.bind(null,t),t}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return sC(this.persistence,new eC,t.initialUser,this.serializer)}Cu(t){return new oT(Hm.Vi,this.serializer)}Du(t){return new hC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class rN extends lh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Xt(this.persistence.referenceDelegate instanceof ah,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new jI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new oT((a=>ah.Vi(a,i)),this.serializer)}}class gm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>$0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=nN.bind(null,this.syncEngine),await VC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new LC})()}createDatastore(t){const i=Ah(t.databaseInfo.databaseId),a=pC(t.databaseInfo);return TC(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new SC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>$0(this.syncEngine,i,0)),(function(){return F0.v()?new F0:new fC})())}createSyncEngine(t,i){return(function(l,c,d,p,v,y,b){const A=new GC(l,c,d,p,v,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);rt(ia,"RemoteStore shutting down."),a.Ea.add(5),await nu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class aN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ds("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const dr="FirestoreClient";class oN{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(dr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(dr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=$m(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Fd(s,t){s.asyncQueue.verifyOperationInProgress(),rt(dr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await lT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Z0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await lN(s);rt(dr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>K0(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>K0(t.remoteStore,l))),s._onlineComponents=t}async function lN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(dr,"Using user provided OfflineComponentProvider");try{await Fd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;lo("Error using user provided cache. Falling back to memory cache: "+i),await Fd(s,new lh)}}else rt(dr,"Using default OfflineComponentProvider"),await Fd(s,new rN(void 0));return s._offlineComponents}async function RT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(dr,"Using user provided OnlineComponentProvider"),await Z0(s,s._uninitializedComponentsProvider._online)):(rt(dr,"Using default OnlineComponentProvider"),await Z0(s,new gm))),s._onlineComponents}function uN(s){return RT(s).then((t=>t.syncEngine))}async function W0(s){const t=await RT(s),i=t.eventManager;return i.onListen=KC.bind(null,t.syncEngine),i.onUnlisten=XC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=QC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=$C.bind(null,t.syncEngine),i}function cN(s,t,i,a){const l=new aN(a),c=new BC(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>UC(await W0(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>PC(await W0(s),c)))}}function hN(s,t){const i=new Jr;return s.asyncQueue.enqueueAndForget((async()=>JC(await uN(s),t,i))),i.promise}function IT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const fN="ComponentProvider",tv=new Map;function dN(s,t,i,a,l){return new DR(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,IT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const CT="firestore.googleapis.com",ev=!0;class nv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CT,this.ssl=ev}else this.host=t.host,this.ssl=t.ssl??ev;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=aT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<PI)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ih{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new uR;switch(a.type){case"firstParty":return new dR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=tv.get(i);a&&(rt(fN,"Removing Datastore"),tv.delete(i),a.terminate())})(this),Promise.resolve()}}function mN(s,t,i,a={}){s=io(s,Ih);const l=go(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(Tv(`https://${p}`),bv("Firestore",!0)),c.host!==CT&&c.host!==p&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:l,emulatorOptions:a};if(!Wr(v,d)&&(s._setSettings(v),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=rn.MOCK_USER;else{y=_S(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ut(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new rn(A)}s._authCredentials=new cR(new yE(y,b))}}class Ch{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ch(this.firestore,t,this._query)}}class je{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Wl(i,je._jsonSchema))return new je(t,a||null,new dt(ce.fromString(i.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:Ue("string",je._jsonSchemaVersion),referencePath:Ue("string")};class or extends Ch{constructor(t,i,a){super(t,i,Lm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new dt(t))}withConverter(t){return new or(this.firestore,t,this._path)}}function iv(s,t,...i){if(s=cn(s),_E("collection","path",t),s instanceof Ih){const a=ce.fromString(t,...i);return g0(a),new or(s,null,a)}{if(!(s instanceof je||s instanceof or))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ce.fromString(t,...i));return g0(a),new or(s.firestore,null,a)}}function sv(s,t,...i){if(s=cn(s),arguments.length===1&&(t=Nm.newId()),_E("doc","path",t),s instanceof Ih){const a=ce.fromString(t,...i);return m0(a),new je(s,null,new dt(a))}{if(!(s instanceof je||s instanceof or))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ce.fromString(t,...i));return m0(a),new je(s.firestore,s instanceof or?s.converter:null,new dt(a))}}const rv="AsyncQueue";class av{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cT(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&rt(rv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Eo(t))throw t;rt(rv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ds("INTERNAL UNHANDLED ERROR: ",ov(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Xm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:ov(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function ov(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class uh extends Ih{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new av,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new av(t),this._firestoreClient=void 0,await t}}}function gN(s,t){const i=typeof s=="object"?s:Rv(),a=typeof s=="string"?s:Wc,l=vm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=pS("firestore");c&&mN(l,...c)}return l}function NT(s){if(s._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||pN(s),s._firestoreClient}function pN(s){const t=s._freezeSettings(),i=dN(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new oN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Gn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gn(tn.fromBase64String(t))}catch(i){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Gn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wl(t,Gn._jsonSchema))return Gn.fromBase64String(t.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Ue("string",Gn._jsonSchemaVersion),bytes:Ue("string")};class DT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class xT{constructor(t){this._methodName=t}}class ki{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(Wl(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Ue("string",ki._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};class ri{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wl(t,ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ri(t.vectorValues);throw new ut(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:Ue("string",ri._jsonSchemaVersion),vectorValues:Ue("object")};const yN=/^__.*__$/;class _N{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new aa(t,this.data,this.fieldMask,i,this.fieldTransforms):new tu(t,this.data,i,this.fieldTransforms)}}function OT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{dataSource:s})}}class tg{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new tg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return ch(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(OT(this.dataSource)&&yN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class vN{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Ah(t)}createContext(t,i,a,l=!1){return new tg({dataSource:t,methodName:i,targetDoc:a,path:We.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function EN(s){const t=s._freezeSettings(),i=Ah(s._databaseId);return new vN(s._databaseId,!!t.ignoreUndefinedProperties,i)}function TN(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);LT("Data must be an object, but it was:",d,a);const p=VT(a,d);let v,y;if(c.merge)v=new si(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const M=eg(t,A,i);if(!d.contains(M))throw new ut(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);AN(b,M)||b.push(M)}v=new si(b),y=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,y=d.fieldTransforms;return new _N(new Fn(p),v,y)}function MT(s,t){if(kT(s=cn(s)))return LT("Unsupported field value:",t,s),VT(s,t);if(s instanceof xT)return(function(a,l){if(!OT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let v=MT(p,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=cn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return nI(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=he.fromDate(a);return{timestampValue:rh(l.serializer,c)}}if(a instanceof he){const c=new he(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:rh(l.serializer,c)}}if(a instanceof ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Gn)return{bytesValue:ZE(l.serializer,a._byteString)};if(a instanceof je){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:jm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ri)return(function(d,p){const v=d instanceof ri?d.toArray():d;return{mapValue:{fields:{[IE]:{stringValue:CE},[th]:{arrayValue:{values:v.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return Um(p.serializer,b)}))}}}}}})(a,l);if(rT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Dm(a)}`)})(s,t)}function VT(s,t){const i={};return TE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sa(s,((a,l)=>{const c=MT(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function kT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof he||s instanceof ki||s instanceof Gn||s instanceof je||s instanceof xT||s instanceof ri||rT(s))}function LT(s,t,i){if(!kT(i)||!vE(i)){const a=Dm(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function eg(s,t,i){if((t=cn(t))instanceof DT)return t._internalPath;if(typeof t=="string")return SN(s,t);throw ch("Field path arguments must be of type string or ",s,!1,void 0,i)}const bN=new RegExp("[~\\*/\\[\\]]");function SN(s,t,i){if(t.search(bN)>=0)throw ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new DT(...t.split("."))._internalPath}catch{throw ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ch(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new ut(J.INVALID_ARGUMENT,p+s+v)}function AN(s,t){return s.some((i=>i.isEqual(t)))}class wN{convertValue(t,i="none"){switch(hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Re(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(cr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return sa(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[th].arrayValue?.values?.map((a=>Re(a.doubleValue)));return new ri(i)}convertGeoPoint(t){return new ki(Re(t.latitude),Re(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=yh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Hl(t));default:return null}}convertTimestamp(t){const i=ur(t);return new he(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ce.fromString(t);Xt(sT(a),9688,{name:t});const l=new ql(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||ds(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class UT extends wN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,i)}}const lv="@firebase/firestore",uv="4.10.0";function cv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class PT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new RN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(eg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class RN extends PT{data(){return super.data()}}function IN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function CN(s,t,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,a}class xl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zr extends PT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(eg("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Zr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Zr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zr._jsonSchema={type:Ue("string",Zr._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class qc extends Zr{data(t={}){return super.data(t)}}class ao{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new xl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new qc(this._firestore,this._userDataWriter,a.key,a,new xl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new xl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new xl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:NN(p.type),doc:v,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ao._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function NN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:Ue("string",ao._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};function hv(s,t,i){s=io(s,je);const a=io(s.firestore,uh),l=CN(s.converter,t,i),c=EN(a);return xN(a,[TN(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,us.none())])}function DN(s,...t){s=cn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||cv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(cv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof je)d=io(s.firestore,uh),p=Lm(s._key.path),c={next:y=>{t[a]&&t[a](ON(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=io(s,Ch);d=io(y.firestore,uh),p=y._query;const b=new UT(d);c={next:A=>{t[a]&&t[a](new ao(d,b,y,A))},error:t[a+1],complete:t[a+2]},IN(s._query)}const v=NT(d);return cN(v,p,l,c)}function xN(s,t){const i=NT(s);return hN(i,t)}function ON(s,t,i){const a=i.docs.get(t._key),l=new UT(s);return new Zr(s,l,t._key,a,new xl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){lR(po),oo(new ta("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new uh(new hR(a.getProvider("auth-internal")),new mR(d,a.getProvider("app-check-internal")),xR(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),rr(lv,uv,t),rr(lv,uv,"esm2020")})();const MN={apiKey:"AIzaSyAGLJLk3wzCmZrfQLSri0cLkZlBJnCIi-0",authDomain:"focusflow-d5411.firebaseapp.com",projectId:"focusflow-d5411",storageBucket:"focusflow-d5411.firebasestorage.app",messagingSenderId:"870983180050",appId:"1:870983180050:web:38a6ecbbd089b9d6bcddcb",measurementId:"G-E3QGBE2B1H"},zT=wv(MN),wl=aR(zT),fv=gN(zT),dv=typeof __app_id<"u"?__app_id:"default-app-id",Mc={Monday:{type:"Veg ",meals:{Breakfast:"100g paneer + 50g oats + 5 almonds + 1 fruit",Lunch:"2 rotis + dal + mixed veg + salad",Snacks:"Sprouts bowl + buttermilk",Dinner:"2 rotis + veg curry + curd"},backup:null},Tuesday:{type:"Non-Veg ",meals:{Breakfast:"3 whole eggs + 2 whites + oats",Lunch:"150g chicken + 2 rotis + veg",Snacks:"2 boiled eggs / whey",Dinner:"150g fish + stir fry veg"},backup:{Breakfast:"100g paneer + oats",Lunch:"150g paneer + 1 cup dal + 2 rotis",Snacks:"Whey / roasted chana",Dinner:"Tofu/paneer + veg + curd"}},Wednesday:{type:"Non-Veg ",meals:{Breakfast:"Eggs + oats",Lunch:"200g chicken + salad",Snacks:"Roasted chana",Dinner:"150g chicken + veg"},backup:{Breakfast:"Paneer + oats",Lunch:"Rajma + paneer + salad",Snacks:"Roasted chana",Dinner:"Soy chunks + veg"}},Thursday:{type:"Non-Veg ",meals:{Breakfast:"Eggs + oats",Lunch:"Fish + small rice + veg",Snacks:"Whey + almonds",Dinner:"Chicken + veg"},backup:{Breakfast:"Paneer + oats",Lunch:"Dal + tofu + small rice",Snacks:"Whey + almonds",Dinner:"Paneer bhurji + veg"}},Friday:{type:"Non-Veg ",meals:{Breakfast:"Eggs + oats",Lunch:"Chicken + 2 rotis + veg",Snacks:"Boiled eggs",Dinner:"Fish + veg"},backup:{Breakfast:"Paneer + oats",Lunch:"Chole + 2 rotis + paneer",Snacks:"Sprouts",Dinner:"Tofu + veg + curd"}},Saturday:{type:"Veg ",meals:{Breakfast:"Paneer + oats",Lunch:"Dal + 2 rotis + veg + curd",Snacks:"Sprouts + fruit",Dinner:"Veg soup + paneer"},backup:null},Sunday:{type:"Mix ",meals:{Breakfast:"Eggs + oats",Lunch:"Chicken + dal + 2 rotis",Snacks:"Fruit + nuts",Dinner:"Veg meal + curd"},backup:null},Notes:` Protein Target:
- Non-veg days: 140150g
- Veg fallback days: 125135g
- Veg only days: 115125g

 To Maintain Protein on Veg Days:
If needed, add 1 scoop whey (25g protein) OR 50g extra paneer.`},VN=()=>O.jsx("style",{children:`
      @keyframes pourEffect {
        0% { top: -20px; height: 0%; opacity: 0; }
        15% { top: -20px; height: 100%; opacity: 1; }
        85% { top: -20px; height: 100%; opacity: 1; }
        100% { top: 100%; height: 0%; opacity: 0; }
      }
      .animate-pour {
        animation: pourEffect 0.8s ease-in-out forwards;
      }
    `}),kN=({darkMode:s})=>{const[t,i]=Ft.useState(!1),[a,l]=Ft.useState("/background.png"),c=()=>{a==="/background.png"?l("/background.jpg"):i(!0)};return O.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden",children:[!t&&O.jsx("img",{src:a,alt:"Background",className:"w-full h-full object-cover transition-opacity duration-1000",onError:c}),O.jsx("div",{className:`absolute inset-0 transition-colors duration-500 ${s?"bg-slate-900/80":"bg-slate-50/80"}`})]})},LN=({data:s})=>{const t=s.reduce((a,l)=>a+l.value,0);let i=0;return t===0?O.jsx("div",{className:"flex items-center justify-center h-48 bg-slate-100/50 dark:bg-slate-800/50 rounded-full text-xs text-slate-400",children:"No Data "}):O.jsx("svg",{viewBox:"0 0 100 100",className:"w-48 h-48 transform -rotate-90 drop-shadow-lg",children:s.map((a,l)=>{const c=a.value/t*360,d=50+50*Math.cos(Math.PI*i/180),p=50+50*Math.sin(Math.PI*i/180),v=50+50*Math.cos(Math.PI*(i+c)/180),y=50+50*Math.sin(Math.PI*(i+c)/180),b=a.value===t?"M 50 50 m -50, 0 a 50,50 0 1,0 100,0 a 50,50 0 1,0 -100,0":`M 50 50 L ${d} ${p} A 50 50 0 ${c>180?1:0} 1 ${v} ${y} Z`,A=O.jsx("path",{d:b,fill:a.color,className:"transition-all duration-500 hover:opacity-90"},l);return i+=c,A})})};function UN(){const[s,t]=Ft.useState(!0),[i,a]=Ft.useState(null),[l,c]=Ft.useState(!1),[d,p]=Ft.useState(new Date),[v,y]=Ft.useState("planner"),[b,A]=Ft.useState(!1),[M,Y]=Ft.useState([]),[Z,nt]=Ft.useState([]),[st,mt]=Ft.useState([]),[ft,_t]=Ft.useState(Mc),[Ot,te]=Ft.useState(0),[Ht,C]=Ft.useState(null),[S,I]=Ft.useState(""),[V,N]=Ft.useState(""),[L,w]=Ft.useState(""),[ee,ye]=Ft.useState(""),[q,tt]=Ft.useState(!1),[ct,Mt]=Ft.useState(!1),[qt,x]=Ft.useState(""),[Q,et]=Ft.useState(""),[it,vt]=Ft.useState(!1),[Tt,Ct]=Ft.useState(""),be=[{id:"planner",label:"Planner ",icon:O.jsx(Fb,{size:16})},{id:"tracker",label:"Tracker ",icon:O.jsx(M_,{size:16})},{id:"diet",label:"Diet ",icon:O.jsx(V_,{size:16})},{id:"stats",label:"Stats ",icon:O.jsx(Vb,{size:16})},{id:"profile",label:"Profile ",icon:O.jsx(Pb,{size:16})}];Ft.useEffect(()=>{const G=Yw(wl,ot=>{ot?(a(ot),c(!1)):jw(wl).catch(bt=>{console.warn("Guest login unavailable:",bt.message),c(!0);const $t=localStorage.getItem("focusFlowData");if($t){const oe=JSON.parse($t);Y(oe.tasks||[]),nt(oe.habits||[]),mt(oe.dailyHistory||[]),_t(oe.dietPlan||Mc),te(oe.waterIntake||0)}})});return()=>G()},[]),Ft.useEffect(()=>{if(!i)return;const G=sv(iv(fv,"artifacts",dv,"users",i.uid,"plannerData"),"daily"),ot=DN(G,bt=>{if(bt.exists()){const $t=bt.data();Y($t.tasks||[]),nt($t.habits||[]),mt($t.dailyHistory||[]),_t($t.dietPlan||Mc),te($t.waterIntake||0),$t.savedDate&&p(new Date($t.savedDate))}else{const $t={tasks:[{id:1,text:"Welcome! Add your first task. ",completed:!1,category:"General"}],habits:[{id:1,text:"Check App ",streak:0,completedToday:!1,history:[]}],dietPlan:Mc,waterIntake:0,dailyHistory:[],savedDate:new Date().toISOString()};hv(G,$t)}});return()=>ot()},[i]);const Nt=async(G,ot,bt,$t,oe,fe)=>{const ge=G!==void 0?G:M,Ie=ot!==void 0?ot:Z,Vt=bt!==void 0?bt:st,Er=$t||d,ji=oe!==void 0?oe:ft,Tr=fe!==void 0?fe:Ot,xn={tasks:ge,habits:Ie,dailyHistory:Vt,savedDate:Er,dietPlan:ji,waterIntake:Tr};if(localStorage.setItem("focusFlowData",JSON.stringify(xn)),i){const Bi=sv(iv(fv,"artifacts",dv,"users",i.uid,"plannerData"),"daily");await hv(Bi,{tasks:ge,habits:Ie,dailyHistory:Vt,savedDate:Er.toISOString(),dietPlan:ji,waterIntake:Tr},{merge:!0})}},Pi=async G=>{G.preventDefault(),Ct("");try{it?await Fw(wl,qt,Q):await Gw(wl,qt,Q),x(""),et("")}catch(ot){Ct(ot.message.replace("Firebase: ",""))}},ps=()=>Xw(wl),ys=G=>{if(G.preventDefault(),!V.trim())return;const ot=[...M,{id:Date.now(),text:V,completed:!1,category:"General"}];Y(ot),N(""),Nt(ot)},_s=G=>{if(G.preventDefault(),!L.trim())return;const bt=L.split(`
`).filter(oe=>oe.trim()!=="").map((oe,fe)=>({id:Date.now()+fe,text:oe.trim(),completed:!1,category:"General"})),$t=[...M,...bt];Y($t),w(""),A(!1),Nt($t)},Dn=G=>{const ot=M.map(bt=>bt.id===G?{...bt,completed:!bt.completed}:bt);Y(ot),Nt(ot)},yr=G=>{const ot=M.filter(bt=>bt.id!==G);Y(ot),Nt(ot)},zi=()=>{if(confirm("Remove completed tasks? ")){const G=M.filter(ot=>!ot.completed);Y(G),Nt(G)}},_r=G=>{if(G.preventDefault(),!ee.trim())return;const ot=[...Z,{id:Date.now(),text:ee,streak:0,completedToday:!1,history:[]}];nt(ot),ye(""),Nt(void 0,ot)},vr=G=>{const ot=Z.map(bt=>{if(bt.id===G){const $t=!bt.completedToday,oe=$t?bt.streak+1:Math.max(0,bt.streak-1);return{...bt,completedToday:$t,streak:oe}}return bt});nt(ot),Nt(void 0,ot)},_e=G=>{const ot=Z.filter(bt=>bt.id!==G);nt(ot),Nt(void 0,ot)},ve=(G,ot,bt,$t)=>{_t(oe=>{const fe={...oe[G]};return ot==="backup"&&!fe.backup&&(fe.backup={Breakfast:"",Lunch:"",Snacks:"",Dinner:""}),{...oe,[G]:{...fe,[ot]:{...fe[ot],[bt]:$t}}}})},oi=()=>{tt(!1),Nt(void 0,void 0,void 0,void 0,ft,void 0)},bo=()=>{Ot>=6||ct||(Mt(!0),setTimeout(()=>{const G=Ot+1;te(G),Nt(void 0,void 0,void 0,void 0,void 0,G)},250),setTimeout(()=>{Mt(!1)},800))},la=G=>{G.stopPropagation();const ot=Math.max(0,Ot-1);te(ot),Nt(void 0,void 0,void 0,void 0,void 0,ot)},Ke=()=>{const G=M.length+Z.length,ot=M.filter(Vt=>Vt.completed).length+Z.filter(Vt=>Vt.completedToday).length,bt=G===0?0:Math.round(ot/G*100),$t={date:d.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),score:bt},oe=[...st,$t],fe=Z.map(Vt=>({...Vt,completedToday:!1,streak:Vt.completedToday?Vt.streak:0,history:[...Vt.history,Vt.completedToday?1:0]})),ge=M.filter(Vt=>!Vt.completed),Ie=new Date(d);Ie.setDate(Ie.getDate()+1),Y(ge),nt(fe),mt(oe),p(Ie),te(0),Nt(ge,fe,oe,Ie,ft,0)},li=Ft.useMemo(()=>{const G=M.length+Z.length;if(G===0)return 0;const ot=M.filter(bt=>bt.completed).length+Z.filter(bt=>bt.completedToday).length;return Math.round(ot/G*100)},[M,Z]),vs=[{name:"Tasks ",value:M.filter(G=>G.completed).length,color:"#10b981"},{name:"Habits ",value:Z.filter(G=>G.completedToday).length,color:"#6366f1"},{name:"Left ",value:M.filter(G=>!G.completed).length+Z.filter(G=>!G.completedToday).length,color:"#94a3b8"}].filter(G=>G.value>0),vn=`backdrop-blur-md border ${s?"bg-slate-800/80 border-slate-700/50 text-white":"bg-white/80 border-slate-200/50 text-slate-800"}`;return O.jsxs("div",{className:"font-sans relative min-h-screen overflow-x-hidden",children:[O.jsx(VN,{}),O.jsx(kN,{darkMode:s}),O.jsxs("div",{className:`relative z-10 flex flex-col min-h-screen transition-colors duration-300 ${s?"text-slate-100":"text-slate-800"}`,children:[O.jsx("header",{className:`sticky top-0 z-30 backdrop-blur-lg border-b ${s?"bg-slate-900/70 border-slate-700/50":"bg-white/70 border-slate-200/50"}`,children:O.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:`p-2 rounded-xl backdrop-blur-sm ${s?"bg-indigo-500/20 text-indigo-400":"bg-indigo-100/80 text-indigo-600"}`,children:O.jsx(Hb,{size:24})}),O.jsxs("div",{children:[O.jsx("h1",{className:"font-bold text-xl leading-none drop-shadow-sm tracking-tight",children:"FocusFlow "}),O.jsxs("p",{className:`text-xs mt-1 font-medium ${s?"text-slate-300":"text-slate-600"}`,children:[d.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})," "]})]})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsxs("button",{onClick:Ke,className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all hidden sm:flex backdrop-blur-sm ${s?"bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20 border border-emerald-500/20":"bg-emerald-50/80 text-emerald-700 hover:bg-emerald-100 border border-emerald-200"}`,title:"Finish today and start tomorrow",children:[O.jsx(Zb,{size:14})," End Day "]}),O.jsx("button",{onClick:()=>t(!s),className:`p-2 rounded-lg transition-colors backdrop-blur-sm ${s?"hover:bg-slate-800/50 text-slate-300":"hover:bg-white/50 text-slate-600"}`,children:s?O.jsx(nS,{size:20}):O.jsx(Yb,{size:20})})]})]})}),O.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-8 space-y-8 flex-1 w-full",children:[O.jsx("div",{className:`flex p-1 rounded-xl overflow-x-auto backdrop-blur-md shadow-sm ${s?"bg-slate-800/60 border border-slate-700/50":"bg-slate-200/60 border border-slate-200/50"}`,children:be.map(G=>O.jsxs("button",{onClick:()=>y(G.id),className:`flex-1 flex items-center justify-center gap-2 py-2.5 px-4 text-sm font-medium rounded-lg transition-all capitalize whitespace-nowrap ${v===G.id?s?"bg-slate-700/80 text-white shadow-lg shadow-black/20":"bg-white/80 text-slate-800 shadow-sm":s?"text-slate-400 hover:text-slate-200 hover:bg-white/5":"text-slate-500 hover:text-slate-700 hover:bg-black/5"}`,children:[G.icon,G.label]},G.id))}),v==="planner"&&O.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[O.jsxs("div",{className:`rounded-xl p-4 transition-all ${vn}`,children:[O.jsxs("div",{className:"flex justify-between items-center mb-4",children:[O.jsx("h3",{className:"font-medium text-sm opacity-80",children:"Daily Tasks "}),O.jsxs("div",{className:"flex gap-2",children:[M.some(G=>G.completed)&&O.jsxs("button",{onClick:zi,className:"text-xs px-2 py-1 rounded hover:bg-red-500/10 text-red-400 flex items-center gap-1 transition-colors",children:[O.jsx(Od,{size:12})," Clear Done "]}),O.jsxs("button",{onClick:()=>A(!b),className:"text-xs px-2 py-1 rounded hover:bg-indigo-100 dark:hover:bg-indigo-900/30 text-indigo-500 flex items-center gap-1",children:[O.jsx(sS,{size:12})," ",b?"Single Add ":"Bulk Add "]})]})]}),b?O.jsxs("form",{onSubmit:_s,children:[O.jsx("textarea",{value:L,onChange:G=>w(G.target.value),placeholder:"Enter multiple tasks, one per line... ",className:`w-full h-32 p-3 rounded-lg border-0 ring-1 ring-inset shadow-sm focus:ring-2 focus:ring-indigo-500 mb-3 bg-transparent ${s?"ring-slate-600 text-white placeholder:text-slate-500":"ring-slate-300 text-slate-900 placeholder:text-slate-400"}`}),O.jsx("button",{type:"submit",className:"w-full py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg transition-colors font-medium shadow-lg shadow-indigo-500/20",children:"Add All Tasks "})]}):O.jsxs("form",{onSubmit:ys,className:"relative",children:[O.jsx("input",{type:"text",value:V,onChange:G=>N(G.target.value),placeholder:"What needs to be done today? ",className:`w-full p-4 pr-12 rounded-xl border-0 ring-1 ring-inset shadow-sm focus:ring-2 focus:ring-indigo-500 bg-transparent ${s?"ring-slate-600 text-white placeholder:text-slate-500":"ring-slate-300 text-slate-900 placeholder:text-slate-400"}`}),O.jsx("button",{type:"submit",className:"absolute right-2 top-2 p-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg transition-colors shadow-lg shadow-indigo-500/20",children:O.jsx($b,{size:20})})]})]}),O.jsxs("div",{className:"space-y-3",children:[M.length===0&&O.jsx("div",{className:`text-center py-12 border-2 border-dashed rounded-xl backdrop-blur-sm ${s?"border-slate-700/50 text-slate-500 bg-slate-800/30":"border-slate-300/50 text-slate-400 bg-white/30"}`,children:O.jsx("p",{children:"No tasks yet. Start planning your day! "})}),M.map(G=>O.jsxs("div",{className:`group flex items-center justify-between p-4 rounded-xl border transition-all duration-200 backdrop-blur-sm ${G.completed?s?"bg-slate-800/40 border-slate-700/50 opacity-75":"bg-slate-50/60 border-slate-200/50 text-slate-500":s?"bg-slate-800/80 border-slate-700/80 hover:border-slate-500":"bg-white/80 border-slate-200 hover:border-indigo-200 hover:shadow-sm"}`,children:[O.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[O.jsx("button",{onClick:()=>Dn(G.id),className:`flex-shrink-0 transition-colors ${G.completed?"text-emerald-500":s?"text-slate-500 hover:text-indigo-400":"text-slate-300 hover:text-indigo-500"}`,children:G.completed?O.jsx(Lb,{size:24,className:"fill-emerald-500/10"}):O.jsx(jb,{size:24})}),O.jsx("span",{className:`text-base flex-1 break-all ${G.completed?"line-through":""}`,children:G.text})]}),O.jsx("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:O.jsx("button",{onClick:()=>yr(G.id),className:`p-2 rounded-lg transition-all ${s?"text-slate-500 hover:text-red-400 hover:bg-red-400/10":"text-slate-400 hover:text-red-500 hover:bg-red-50"}`,children:O.jsx(Od,{size:18})})})]},G.id))]})]}),v==="tracker"&&O.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[O.jsxs("div",{className:`p-8 rounded-3xl ${vn} flex flex-col items-center`,children:[O.jsxs("div",{className:"text-center mb-6",children:[O.jsx("h3",{className:"font-black text-2xl uppercase tracking-widest text-blue-500",children:"Hydration Protocol "}),O.jsx("p",{className:"text-xs font-bold uppercase tracking-widest opacity-60 mt-1",children:"Goal: 3000ml / Day"})]}),O.jsxs("div",{className:"relative w-40 h-64 sm:w-48 sm:h-72 mx-auto cursor-pointer group",onClick:bo,children:[O.jsxs("div",{className:`absolute inset-0 rounded-b-xl border-4 border-t-0 shadow-[inset_0_-10px_20px_rgba(0,0,0,0.1)] overflow-hidden ${s?"border-white/30 bg-white/5":"border-slate-300 bg-slate-200/40"}`,style:{clipPath:"polygon(10% 0%, 90% 0%, 80% 100%, 20% 100%)"},children:[O.jsxs("div",{className:"absolute inset-0 flex justify-evenly opacity-30 pointer-events-none mix-blend-overlay",children:[O.jsx("div",{className:`w-px h-full ${s?"bg-white":"bg-slate-400"}`}),O.jsx("div",{className:`w-px h-full ${s?"bg-white":"bg-slate-400"}`}),O.jsx("div",{className:`w-px h-full ${s?"bg-white":"bg-slate-400"}`})]}),O.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-blue-600/90 to-blue-400/80 transition-all duration-[800ms] ease-out shadow-[0_-5px_15px_rgba(59,130,246,0.4)]",style:{height:`${Ot/6*100}%`},children:O.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-blue-200/60 rounded-full blur-[1px]"})}),O.jsx("div",{className:"absolute inset-0 flex flex-col-reverse justify-between py-[16.66%] pointer-events-none",children:[1,2,3,4,5].map(G=>O.jsx("div",{className:"w-full h-[1px] bg-white/30 dark:bg-white/20 flex items-center px-2",children:O.jsxs("span",{className:`text-[9px] font-bold ${s?"text-white/60":"text-slate-500"}`,children:[G*500,"ml"]})},G))})]}),ct&&O.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 w-4 bg-blue-400/80 rounded-full animate-pour z-10 blur-[1px]"}),O.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-20",children:O.jsx("div",{className:"bg-black/60 text-white text-xs font-bold px-4 py-2 rounded-full backdrop-blur-sm shadow-xl",children:Ot>=6?"Fully Hydrated! ":"Click to Drink "})})]}),O.jsxs("div",{className:"mt-8 text-center relative",children:[O.jsxs("p",{className:"text-4xl font-black text-blue-500",children:[Ot*500," ",O.jsx("span",{className:"text-sm font-semibold opacity-60 text-slate-500",children:"/ 3000 ml"})]}),Ot>0&&O.jsx("button",{onClick:la,className:"absolute -right-12 top-2 text-xs font-bold opacity-40 hover:opacity-100 transition-opacity flex items-center gap-1 text-slate-500",children:"Undo "})]})]}),O.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-500/20",children:[O.jsxs("form",{onSubmit:_r,className:"flex gap-2",children:[O.jsx("input",{type:"text",value:ee,onChange:G=>ye(G.target.value),placeholder:"New habit to track... ",className:`flex-1 p-3 rounded-xl border-0 ring-1 ring-inset focus:ring-2 focus:ring-indigo-500 transition-all bg-transparent backdrop-blur-md ${s?"ring-slate-600 text-white placeholder:text-slate-500 bg-slate-800/60":"ring-slate-300 text-slate-900 placeholder:text-slate-400 bg-white/70"}`}),O.jsx("button",{type:"submit",className:"px-4 py-2 bg-slate-800 dark:bg-slate-700 text-white rounded-xl hover:bg-slate-700 font-medium shadow-lg",children:"Add "})]}),O.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:Z.map(G=>O.jsxs("div",{className:`p-5 rounded-2xl border transition-all backdrop-blur-sm ${G.completedToday?s?"bg-indigo-900/40 border-indigo-500/30":"bg-indigo-50/80 border-indigo-200":s?"bg-slate-800/80 border-slate-700/80":"bg-white/80 border-slate-200"}`,children:[O.jsxs("div",{className:"flex items-center justify-between mb-4",children:[O.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[O.jsx("div",{className:`p-2 rounded-lg ${G.completedToday?"bg-indigo-500 text-white":s?"bg-slate-700 text-slate-400":"bg-slate-100 text-slate-400"}`,children:O.jsx(M_,{size:20})}),O.jsxs("div",{className:"flex-1",children:[O.jsx("h3",{className:`font-semibold ${G.completedToday?s?"text-indigo-300":"text-indigo-900":""}`,children:G.text}),O.jsxs("p",{className:`text-xs ${s?"text-slate-400":"text-slate-500"}`,children:[G.streak," day streak "]})]})]}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("button",{onClick:()=>vr(G.id),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all ${G.completedToday?"bg-indigo-500 text-white shadow-lg shadow-indigo-500/30 hover:bg-indigo-600":s?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:G.completedToday?"Done ":"Mark "}),O.jsx("button",{onClick:()=>_e(G.id),className:`p-2 rounded-full transition-all ${s?"text-slate-600 hover:bg-red-900/20 hover:text-red-400":"text-slate-400 hover:bg-red-50 hover:text-red-500"}`,children:O.jsx(Od,{size:16})})]})]}),O.jsx("div",{className:"flex gap-1 justify-end",children:[...G.history,G.completedToday?1:0].slice(-7).map((ot,bt)=>O.jsx("div",{className:`w-2 h-6 rounded-sm ${ot?"bg-indigo-500":s?"bg-slate-700":"bg-slate-200"}`},bt))})]},G.id))})]})]}),v==="diet"&&O.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[O.jsxs("div",{className:`p-5 rounded-2xl flex justify-between items-center ${vn}`,children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:`p-2 rounded-lg ${s?"bg-emerald-500/20 text-emerald-400":"bg-emerald-100 text-emerald-600"}`,children:O.jsx(V_,{size:24})}),O.jsxs("div",{children:[O.jsx("h2",{className:"text-xl font-bold",children:"My Diet Plan "}),O.jsx("p",{className:`text-xs font-medium ${s?"text-slate-400":"text-slate-500"}`,children:"Weekly overview & protein targets "})]})]}),O.jsx("button",{onClick:()=>{q?oi():tt(!0)},className:`px-4 py-2 rounded-xl text-sm font-bold transition-all shadow-sm flex items-center gap-1 ${q?"bg-emerald-500 text-white hover:bg-emerald-600":s?"bg-slate-700 text-white hover:bg-slate-600":"bg-slate-200 text-slate-800 hover:bg-slate-300"}`,children:q?"Save Plan ":"Edit Plan "})]}),O.jsx("div",{className:"grid gap-6",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(G=>O.jsxs("div",{className:`p-5 rounded-2xl ${vn}`,children:[O.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-slate-500/20 pb-3",children:[O.jsxs("h3",{className:`font-bold text-lg ${s?"text-indigo-400":"text-indigo-600"}`,children:[G," "]}),O.jsx("span",{className:`text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider ${ft[G].type.includes("Veg")?"bg-emerald-500/10 text-emerald-500 border border-emerald-500/20":"bg-orange-500/10 text-orange-500 border border-orange-500/20"}`,children:ft[G].type})]}),O.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[O.jsxs("div",{className:"space-y-4",children:[O.jsx("h4",{className:`font-semibold text-sm ${s?"text-slate-300":"text-slate-600"} border-b border-dashed border-slate-500/30 pb-1`,children:"Main Plan "}),["Breakfast","Lunch","Snacks","Dinner"].map(ot=>O.jsxs("div",{children:[O.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider block mb-1 ${s?"text-slate-500":"text-slate-400"}`,children:ot}),q?O.jsx("input",{type:"text",value:ft[G].meals[ot],onChange:bt=>ve(G,"meals",ot,bt.target.value),className:`w-full p-2 text-sm rounded border bg-transparent ${s?"border-slate-600 focus:border-indigo-500 text-white":"border-slate-300 focus:border-indigo-500 text-black"}`}):O.jsx("p",{className:"text-sm font-medium leading-relaxed",children:ft[G].meals[ot]})]},ot))]}),(ft[G].backup||q)&&O.jsxs("div",{className:`space-y-4 p-4 rounded-xl border ${s?"bg-emerald-500/5 border-emerald-500/10":"bg-emerald-50 border-emerald-100"}`,children:[O.jsx("h4",{className:"font-semibold text-sm text-emerald-600 border-b border-dashed border-emerald-500/30 pb-1",children:"Veg Backup Option "}),["Breakfast","Lunch","Snacks","Dinner"].map(ot=>O.jsxs("div",{children:[O.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-600/60 block mb-1",children:ot}),q?O.jsx("input",{type:"text",value:ft[G].backup?.[ot]||"",onChange:bt=>ve(G,"backup",ot,bt.target.value),placeholder:"Add veg alternative...",className:`w-full p-2 text-sm rounded border bg-transparent ${s?"border-emerald-500/30 focus:border-emerald-500 text-white":"border-emerald-200 focus:border-emerald-500 text-black"}`}):O.jsx("p",{className:"text-sm font-medium leading-relaxed text-emerald-800 dark:text-emerald-200",children:ft[G].backup?.[ot]||"-"})]},ot))]})]})]},G))}),O.jsxs("div",{className:`p-6 rounded-2xl border backdrop-blur-md ${s?"bg-amber-900/10 border-amber-500/20":"bg-amber-50/80 border-amber-200/80"}`,children:[O.jsx("h3",{className:"font-bold text-lg text-amber-600 mb-4 flex items-center gap-2",children:" Important Notes"}),q?O.jsx("textarea",{value:ft.Notes,onChange:G=>_t({...ft,Notes:G.target.value}),className:`w-full h-40 p-3 text-sm rounded-xl border bg-transparent ${s?"border-amber-500/30 text-amber-100 focus:border-amber-500":"border-amber-300 text-amber-900 focus:border-amber-500"}`}):O.jsx("div",{className:`whitespace-pre-line text-sm leading-relaxed font-medium ${s?"text-amber-100/80":"text-amber-900/80"}`,children:ft.Notes})]})]}),v==="stats"&&O.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[O.jsxs("div",{className:`p-6 rounded-2xl flex flex-col items-center ${vn}`,children:[O.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Today's Breakdown "}),O.jsx(LN,{data:vs}),O.jsx("div",{className:"mt-8 flex gap-6 flex-wrap justify-center",children:vs.map((G,ot)=>O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:G.color}}),O.jsxs("span",{className:`text-sm ${s?"text-slate-300":"text-slate-600"}`,children:[G.name," (",G.value,")"]})]},ot))})]}),O.jsxs("div",{className:`p-6 rounded-2xl border ${vn}`,children:[O.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[O.jsx(Ob,{className:"text-amber-500"}),O.jsx("h2",{className:"text-lg font-semibold",children:"Consistency Score "})]}),O.jsxs("div",{className:"flex items-end gap-2",children:[O.jsxs("span",{className:"text-4xl font-bold",children:[li,"%"]}),O.jsx("span",{className:"text-slate-500 mb-1",children:"completed today "})]}),O.jsx("div",{className:`w-full h-2 mt-4 rounded-full ${s?"bg-slate-700":"bg-slate-200"}`,children:O.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all duration-1000 shadow-lg shadow-indigo-500/50",style:{width:`${li}%`}})})]})]}),v==="profile"&&O.jsx("div",{className:`max-w-md mx-auto p-6 rounded-2xl ${vn} animate-fadeIn`,children:i&&!i.isAnonymous?O.jsxs("div",{className:"text-center space-y-6",children:[O.jsxs("div",{className:"relative w-24 h-24 mx-auto",children:[O.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-3xl text-white font-bold shadow-lg shadow-indigo-500/30",children:(i.email||"U")[0].toUpperCase()}),O.jsx("div",{className:"absolute bottom-0 right-0 p-2 bg-emerald-500 rounded-full border-4 border-slate-800",children:O.jsx(tS,{size:16,className:"text-white"})})]}),O.jsxs("div",{children:[O.jsx("h2",{className:"text-xl font-bold",children:i.email}),O.jsx("p",{className:"text-slate-500 text-sm",children:"Account Verified "})]}),O.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-4",children:[O.jsxs("div",{className:"p-3 bg-indigo-500/10 rounded-lg",children:[O.jsx("p",{className:"text-lg font-bold text-indigo-500",children:M.filter(G=>G.completed).length}),O.jsx("p",{className:"text-[10px] uppercase opacity-70",children:"Tasks"})]}),O.jsxs("div",{className:"p-3 bg-emerald-500/10 rounded-lg",children:[O.jsx("p",{className:"text-lg font-bold text-emerald-500",children:Z.filter(G=>G.completedToday).length}),O.jsx("p",{className:"text-[10px] uppercase opacity-70",children:"Habits"})]}),O.jsxs("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:[O.jsxs("p",{className:"text-lg font-bold text-blue-500",children:[Ot*500,O.jsx("span",{className:"text-xs",children:"ml"})]}),O.jsx("p",{className:"text-[10px] uppercase opacity-70",children:"Water"})]})]}),O.jsxs("button",{onClick:ps,className:"flex items-center justify-center gap-2 w-full py-3 rounded-xl border border-red-200 text-red-600 hover:bg-red-50/50 transition-colors",children:[O.jsx(Kb,{size:18})," Sign Out "]})]}):O.jsxs("div",{className:"space-y-6",children:[O.jsxs("div",{className:"text-center",children:[O.jsx("h2",{className:"text-2xl font-bold mb-2",children:it?"Create Account ":"Welcome Back "}),O.jsx("p",{className:"text-slate-500 text-sm",children:it?"Start tracking your journey today. ":"Login to sync your data across devices. "}),l&&O.jsx("div",{className:"mt-2 p-2 bg-amber-500/20 text-amber-300 text-xs rounded border border-amber-500/30",children:"Note: Running in offline mode. Tasks are saved to this device only. "})]}),Tt&&O.jsx("div",{className:"p-3 bg-red-50/90 text-red-600 text-sm rounded-lg border border-red-100",children:Tt}),O.jsxs("form",{onSubmit:Pi,className:"space-y-4",children:[O.jsxs("div",{children:[O.jsx("label",{className:"block text-xs font-semibold uppercase text-slate-500 mb-1",children:"Email "}),O.jsx("input",{type:"email",required:!0,value:qt,onChange:G=>x(G.target.value),className:`w-full p-3 rounded-lg border bg-transparent ${s?"border-slate-600 text-white":"border-slate-300 text-slate-900"}`})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-xs font-semibold uppercase text-slate-500 mb-1",children:"Password "}),O.jsx("input",{type:"password",required:!0,value:Q,onChange:G=>et(G.target.value),className:`w-full p-3 rounded-lg border bg-transparent ${s?"border-slate-600 text-white":"border-slate-300 text-slate-900"}`})]}),O.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl transition-all shadow-lg shadow-indigo-600/30",children:it?"Sign Up ":"Login "})]}),O.jsx("div",{className:"text-center",children:O.jsx("button",{onClick:()=>vt(!it),className:"text-sm text-indigo-500 hover:underline",children:it?"Already have an account? Login ":"Need an account? Sign Up "})})]})})]})]})]})}wb.createRoot(document.getElementById("root")).render(O.jsx(Ft.StrictMode,{children:O.jsx(UN,{})}));
